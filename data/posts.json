[{"title":"[HTML] meta keywords の記述は SEO として不要","path":"202012301127.html","permalink":"https://b.0218.jp/202012301127.html","date":"2020-12-30T11:27:41.000Z","updated":"2020-12-30T11:27:41.000Z","thumbnail":"","content":"<p>2020 年も<code>&lt;meta name=\"keywords\"&gt;</code>を散見する 1 年であった。</p>\n<h2>meta keywords とは</h2><p>下記のような要素を<code>&lt;head&gt;</code>要素内に記述する。</p>\n<pre><code class=\"html\">&lt;meta name=\"keywords\" content=\"メタタグ, keywords, seo\" /&gt;</code></pre>\n<p><code>name</code>には<code>keywords</code>、<code>content</code>に単語（キーワード）をカンマ区切りで列挙する。</p>\n<h2>meta keywords と SEO との関係性</h2><p><strong>以前は SEO として効果があった。</strong></p>\n<p>しかしながら、ブラックハット SEO での乱用の影響で<strong>現在は Google 検索から評価されることはなくなった</strong>。2009 年 9 月には、「Google は、ウェブ検索ランキングで”keywords”メタタグを使用していません」と公式的に声明を出している。</p>\n<blockquote>\n<p>At least for Google’s web search results currently (September 2009), the answer is no. Google doesn’t use the “keywords” meta tag in our web search ranking. This video explains more, or see the questions below.</p>\n<p><a href=\"https://developers.google.com/search/blog/2009/09/google-does-not-use-keywords-meta-tag\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google does not use the keywords meta tag in web ranking\n</a></p>\n</blockquote>\n<hr>\n<p><a href=\"https://developers.google.com/search/docs/advanced/crawling/special-tags?hl=ja&amp;ref_topic=4617741&amp;visit_id=637448893659733022-2818023169&amp;rd=1\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Special tags that Google understands |&nbsp;Google 検索セントラル</a>にサポートしているメタタグの一覧があるが、「すべてではない」と但し書きがあるものの <code>&lt;meta name=\"keywords\"&gt;</code> の記載はない。</p>\n<h2>meta keywords を記述したままで良いのか</h2><p>ブラックハット SEO での乱用された背景があるが、Google は「検索ランキングで使用していない」と言っているだけなので記述していても問題ないと思われる（記述のありなしで評価が変わることはなさそう）。ただし、Google が <code>&lt;meta name=\"keywords\"&gt;</code> の記述をブラックハットの判定として使用している可能性は否定できない。そのため、意味のない記述はせず、記述しているのであれば削除しておいた方が無難だと思われる。</p>\n<h2>まとめ</h2><p>記述するのは自由。<code>&lt;meta name=\"keywords\"&gt;</code>の内容をサポートするアプリケーション、新進気鋭の検索エンジンはあるかもしれない。</p>\n<p>ただ、Google 検索における SEO としては keywords を記述するのは全くもって無意味だという事が公式で出されている。また、HTML のサイズも無駄である。SEO をしたいのであれば、<code>&lt;meta name=\"keywords\"&gt;</code>を使うのではなく heading 要素や本文中の keywords を上手く検索エンジンに拾ってもらうコンテンツ作りが必要だろう。</p>\n","excerpt":"meta keywords とは / meta keywords と SEO との関係性 / meta keywords を記述したままで良いのか / まとめ","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"},{"name":"SEO","slug":"SEO","path":"tags/SEO/"}],"prev":{},"next":{"title":"竈門炭治郎をCSSだけで再現する","path":"202012230000.html"}},{"title":"竈門炭治郎をCSSだけで再現する","path":"202012230000.html","permalink":"https://b.0218.jp/202012230000.html","date":"2020-12-23T00:00:00.000Z","updated":"2020-12-23T00:00:00.000Z","thumbnail":"https://user-images.githubusercontent.com/3617124/102875867-bbfb1480-4487-11eb-980d-865b3893e309.png","content":"<div class=\"c-alert\">\n本稿は、<a href=\"https://qiita.com/advent-calendar/2020/zozo_tech4\" target=\"_blank\">ZOZOテクノロジーズ #4 Advent Calendar 2020</a> 23日目の記事です。\n</div>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>竈門炭治郎とは</h2><p>「鬼滅の刃」という作品をご存知だろうか。単行本の累計発行部数が 1 億 2000 万部を突破し、『劇場版「鬼滅の刃」無限列車編』の興行収入は 2020 年 12 月 20 日時点で 311 億円を突破し、社会現象化している作品である。</p>\n<p>その作中でキャラクターたちが着用している羽織は、特徴のある模様が多い。作中に炭焼きをし家族の暮らしを支える「竈門炭治郎」という少年がいる。炭治郎は、いつも「<strong>緑と黒の市松模様</strong>」の羽織を着用しており、作品を知らない人でも目にしたことが多いだろう。</p>\n<p>市松模様は、古来より織模様として存在している。海外では「チェス盤柄」と呼ばれており、グラフィックを扱うソフトウェアの透明部分を表すのにも使われている。我々にとって身近な模様だろう。また、2020 年東京オリンピックでは、随所で市松模様をモチーフにしたデザインが取り入れられていることも記憶に新しい。</p>\n<p>今回は、そんな生活に溶け込んだ模様である竈門炭治郎（緑と黒の市松模様）を CSS だけで再現してみる。</p>\n<h2>完成品</h2><p>まず完成したものを始めにお見せする。</p>\n<iframe height=\"640\" style=\"width: 100%;\" scrolling=\"no\" title=\"Tanjiro Kamado\" src=\"https://codepen.io/hiro0218/embed/JjKWEjG?height=640&amp;theme-id=light&amp;default-tab=result\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href='https://codepen.io/hiro0218/pen/JjKWEjG'>Tanjiro Kamado</a> by hiro\n  (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<p>これが竈門炭治郎だ。</p>\n<h2>実装方法</h2><h3>概要</h3><p>実装仕様は下記の通り。</p>\n<ul>\n<li>CSS の定義<ul>\n<li><code>background-color</code></li>\n<li><code>background-image</code></li>\n<li><code>background-position</code></li>\n<li><code>background-size</code></li>\n</ul>\n</li>\n</ul>\n<p>緑と黒の市松模様を JavaScript を利用して動的に組み合わせたり、HTML 要素を複数組み合わせたりするわけではなく、単一の要素（body 要素）に対して背景色を実装するだけで再現をしていく。</p>\n<h3>実装内容</h3><!-- prettier-ignore -->\n<pre><code class=\"css\">body {\n  /* 変数 */\n  --color-green: #58ba97;\n  --color-black: #2c2421;\n  --square-size: 400px;\n\n  /* 実装 */\n  width: 100%;\n  height: 100%;\n  background-color: var(--color-green);\n  background-image: \n    repeating-linear-gradient(45deg, var(--color-black) 25%, transparent 25%, transparent 75%, var(--color-black) 75%, var(--color-black)),\n    repeating-linear-gradient(45deg, var(--color-black) 25%, transparent 25%, transparent 75%, var(--color-black) 75%, var(--color-black));\n  background-position: 0 0, calc(var(--square-size) / 2) calc(var(--square-size) / 2);\n  background-size: var(--square-size) var(--square-size);\n}</code></pre>\n<h2>解説</h2><p>市松模様は、大きく<code>background-color</code>と<code>background-image</code>を用いてを行う。</p>\n<p>おおまかなイメージとしては、三角形の組み合わせで市松模様の黒い四角形を表現する。</p>\n<ol>\n<li><code>◥</code>と<code>◣</code>の組み合わせ、<code>◣</code>と<code>◥</code>の組み合わせを配置する</li>\n<li>三角の位置を調整して<code>■</code>になるよう交差させて配置しなおす</li>\n</ol>\n<h3>緑色</h3><p>全体的な背景色として緑色（<code>#58ba97</code>）を指定する。</p>\n<pre><code class=\"css\">body {\n  background-color: #58ba97;\n}</code></pre>\n<p>後述になるが、黒塗り部分は<code>background-image</code>で再現するため、ここでは緑色の定義のみで完了となる。</p>\n<h3>黒色と交差</h3><h4>2 つの三角形を生成する</h4><p><code>background-image</code>にはカンマ区切りで複数指定ができる。今回は<code>repeating-linear-gradient()</code>を用いて作成した三角形を二箇所に指定する。<br>先述で定義した緑色の上に重ねる形で市松模様の黒色（<code>#2c2421</code>）部分を定義する。</p>\n<!-- prettier-ignore -->\n<pre><code class=\"css\">body {\n  background-image:\n    repeating-linear-gradient(45deg, #2c2421 25%, transparent 25%, transparent 75%, #2c2421 75%, #2c2421),\n    repeating-linear-gradient(45deg, #2c2421 25%, transparent 25%, transparent 75%, #2c2421 75%, #2c2421);\n}</code></pre>\n<p>上記の記述で、下記のような図形ができる。</p>\n<figure>\n  <img src=\"https://user-images.githubusercontent.com/3617124/102875862-ba315100-4487-11eb-819b-12d2e24055ad.png\" alt=\"repeating-linear-gradient 1\" width=\"50%\" loading=\"lazy\">\n  <figcaption><code>repeating-linear-gradient()</code>で作成した三角形</figcaption>\n</figure>\n\n<h4>交差するように配置する</h4><ol>\n<li><code>background-size</code>で背景画像の幅・高さ（400px）を指定する。<br><code>background-repeat</code>は初期値が<code>repeat</code>なので繰り返される</li>\n<li><code>background-position</code>で 2 つの三角形が交差するように配置をずらして（0 0, 200px 200px）四角形を作成する。<br><code>background-size</code>が 400px なので、その半分の 200px 位置へ配置する</li>\n</ol>\n<pre><code class=\"css\">body {\n  background-position: 0 0, 200px 200px;\n  background-size: 400px 400px;\n}</code></pre>\n<table>\n<thead>\n<tr>\n<th>パターン（1）</th>\n<th>パターン（2）</th>\n<th>合成後（1）+（2）</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><img src=\"https://user-images.githubusercontent.com/3617124/102875862-ba315100-4487-11eb-819b-12d2e24055ad.png\" alt=\"repeating-linear-gradient 1\" width=\"50%\" loading=\"lazy\"></td>\n<td><img src=\"https://user-images.githubusercontent.com/3617124/102875865-bb627e00-4487-11eb-9e75-ce9eb028ef3d.png\" alt=\"repeating-linear-gradient 2\" width=\"50%\" loading=\"lazy\"></td>\n<td><img src=\"https://user-images.githubusercontent.com/3617124/102875867-bbfb1480-4487-11eb-980d-865b3893e309.png\" alt=\"checkered pattern\" width=\"50%\" loading=\"lazy\"></td>\n</tr>\n</tbody></table>\n<p>上記のように作成した図形を背景に配置して緑と黒の市松模様する。</p>\n<h2>〆</h2><p>CSS を極めれば様々なことができるようになる。</p>\n<p>何でもできるわけではないが、昨日の自分より確実に強い自分になれる。</p>\n<hr>\n<h2>参考</h2><ul>\n<li><a href=\"https://www.google.com/search?q=%E5%B8%82%E6%9D%BE%E6%A8%A1%E6%A7%98\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">市松模様 - Google 検索</a></li>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/background-color\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">background-color - CSS: カスケーディングスタイルシート | MDN</a></li>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/background-image\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">background-image - CSS: カスケーディングスタイルシート | MDN</a></li>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/background-size\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">background-size - CSS: カスケーディングスタイルシート | MDN</a></li>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/background-position\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">background-position - CSS: カスケーディングスタイルシート | MDN</a></li>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/repeating-linear-gradient()\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">repeating-linear-gradient() - CSS: カスケーディングスタイルシート | MDN</a></li>\n</ul>\n","excerpt":"竈門炭治郎とは / 完成品 / 実装方法 / 解説 / 〆","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[HTML] meta keywords の記述は SEO として不要","path":"202012301127.html"},"next":{"title":"IEからEdgeへの強制転送設定を個人サイトに適応してもらった話","path":"202012162243.html"}},{"title":"IEからEdgeへの強制転送設定を個人サイトに適応してもらった話","path":"202012162243.html","permalink":"https://b.0218.jp/202012162243.html","date":"2020-12-16T22:43:00.000Z","updated":"2020-12-16T22:43:00.000Z","thumbnail":"","content":"<h2>ことの発端</h2><p>Microsoft 社へメール申請を経て IE 非互換サイトのリストに自社ドメインが追加されたという記事があった。</p>\n<blockquote>\n<p>必要な手続きの詳細は Moving users to Microsoft Edge from Internet Explorer - Microsoft Edge Development | Microsoft Docs にある通りです。11 月 23 日にメールで申請をしましたので、ちょうど 2 週間ほどで Microsoft 社に対応していただけたことになります。</p>\n<p><a href=\"https://www.mitsue.co.jp/knowledge/blog/qc/202012/07_1601.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://www.mitsue.co.jp/knowledge/blog/qc/202012/07_1601.html</a></p>\n</blockquote>\n<p><a href=\"https://docs.microsoft.com/en-us/microsoft-edge/web-platform/ie-to-microsoft-edge-redirection\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Moving users to Microsoft Edge from Internet Explorer - Microsoft Edge Development | Microsoft Docs</a>を確認すると申請に必要な要件についての記載はあった。ただ、企業サイトの担当者向けの要件に見えたため、個人サイトについては詳細は分からなかった。物は試しなので Microsoft 社へ個人サイトで申請が可能か問い合わせをしてみた。</p>\n<h2>IE から Edge への転送とは</h2><p>概要としては、下記のような仕様である。</p>\n<blockquote>\n<p>2020 年 11 月以降、ユーザーが IE を使って特定のウェブサイトを開こうとすると、URL の読み込みが拒否され、自動的に「Microsoft Edge」で開かれるようになる。<br><a href=\"https://japan.zdnet.com/article/35161516/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://japan.zdnet.com/article/35161516/</a></p>\n</blockquote>\n<h3>なにを基準に転送するのか</h3><p><a href=\"https://edge.microsoft.com/neededge/v1\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">IE 非互換リスト</a>が XML ファイルで存在しており、そこに記述のあるドメインを元に転送が行われるようだ。</p>\n<blockquote>\n<p>このリストは Microsoft のエンジニアによって管理されており、現在含まれているのは 1156 項目だ。リストの中には、YouTube、Instagram、Twitter、Yahoo Mail、StackOverflow、StackExchange、VK、ESPN、Chase、Hotstar、Moneygram、eharmony、GoDaddy などの有名なサイトも含まれている。<br><a href=\"https://japan.zdnet.com/article/35161516/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://japan.zdnet.com/article/35161516/</a></p>\n</blockquote>\n<p>記事の執筆時点では、MS 社のサービスや有名なサイトなど 1156 項目が対象となっていた。</p>\n<p>※ IE 互換性リストは、クローズドなサイトには対応していない模様</p>\n<h3>転送の流れ</h3><ol>\n<li>（非互換リストに掲載のある）対象のページを IE でアクセスする</li>\n<li>IE 側で<a href=\"https://support.microsoft.com/en-gb/office/the-website-you-were-trying-to-reach-doesn-t-work-with-internet-explorer-8f5fc675-cd47-414c-9535-12821ddfc554\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">このページが開く</a></li>\n<li>Edge が立ち上がり、対象のページが表示される</li>\n</ol>\n<h2>IE 非互換リストへの追加申請手順</h2><p><a href=\"https://docs.microsoft.com/en-us/microsoft-edge/web-platform/ie-to-microsoft-edge-redirection\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Moving users to Microsoft Edge from Internet Explorer - Microsoft Edge Development | Microsoft Docs</a> には、申請するために必要な情報がある。</p>\n<blockquote>\n<p>Email the following information to <code>ietoedge@microsoft.com</code> for your website to be added or removed from the IE compatibility list.</p>\n<ul>\n<li>Owner name</li>\n<li>Corporate title</li>\n<li>Email address</li>\n<li>Company name</li>\n<li>Street address</li>\n<li>Website address</li>\n</ul>\n</blockquote>\n<p><code>ietoedge@microsoft.com</code>宛に上記の情報をメールすれば、非互換リストへの追加・削除の申請が可能とのことである。</p>\n<h2>申請時の流れ</h2><ul>\n<li>個人サイトでも申請が可能なのかどうかは不明だったがリクエストをしてみた（2020/12/09 21:32）</li>\n<li>担当者から 5 時間ほどで申請を受け付ける旨の返答があった（2020/12/10 3:09）</li>\n<li>リストへの追加対応の連絡がきた（2020/12/16 3:36）<pre><code class=\"xml\">&lt;site url=\"b.0218.jp\"&gt;\n  &lt;open-in allow-redirect=\"true\"&gt;MSEdge&lt;/open-in&gt;\n&lt;/site&gt;</code></pre>\n</li>\n</ul>\n<hr>\n<p>申請してから 6 日ほどで対応された（xml の更新タイミングを見るに 5 日ほどだった）。</p>\n<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\">Microsoftに連絡して、IE非互換サイトのリストに個人サイトを追加してもらえたので、IE11からEdgeの自動転送が可能になった✨<a href=\"https://t.co/aVfWIQ9MbG\">https://t.co/aVfWIQ9MbG</a> <a href=\"https://t.co/g16qqCyy50\">pic.twitter.com/g16qqCyy50</a></p>— hiro (@hiro0218) <a href=\"https://twitter.com/hiro0218/status/1339005100652601344?ref_src=twsrc%5Etfw\">December 16, 2020</a></blockquote>\n\n<h2>まとめ</h2><p>個人サイトでも企業サイトと同様、特別な手順を踏まず、ただ申請することで無事に非互換リストへ追加できた。</p>\n<p>2020/12/16 時点（<code>version 15</code>）で、確認しうる限りでは、日本の個人サイトで初の追加事例だと思われる。</p>\n<p>また、このタイミング（<code>version 14</code> から <code>15</code> にかけて）で多くの日本サイトらしきドメインが追加されているのを確認できた。</p>\n<hr>\n<h2>参考</h2><ul>\n<li><a href=\"https://docs.microsoft.com/en-us/microsoft-edge/web-platform/ie-to-microsoft-edge-redirection\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Moving users to Microsoft Edge from Internet Explorer - Microsoft Edge Development | Microsoft Docs</a></li>\n<li><a href=\"https://www.mitsue.co.jp/knowledge/blog/qc/202012/07_1601.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">IE から Edge への転送を開始 | Web 品質 Blog | ミツエーリンクス</a></li>\n<li><a href=\"https://pcclick.seesaa.net/article/477069852.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://pcclick.seesaa.net/article/477069852.html</a></li>\n<li><a href=\"https://gist.github.com/manabuyasuda/1ea766c6751faa017436dc6aa949bf90\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">IE-redirects-to-Edge.md · GitHub</a></li>\n</ul>\n","excerpt":"ことの発端 / IE から Edge への転送とは / IE 非互換リストへの追加申請手順 / 申請時の流れ / まとめ","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Internet Explorer","slug":"Internet-Explorer","path":"tags/Internet-Explorer/"},{"name":"調査","slug":"調査","path":"tags/%E8%AA%BF%E6%9F%BB/"},{"name":"Edge","slug":"Edge","path":"tags/Edge/"}],"prev":{"title":"竈門炭治郎をCSSだけで再現する","path":"202012230000.html"},"next":{"title":"[Twitter Cards] meta name=[twitter:label1]を調べる","path":"202012132131.html"}},{"title":"[Twitter Cards] meta name=[twitter:label1]を調べる","path":"202012132131.html","permalink":"https://b.0218.jp/202012132131.html","date":"2020-12-13T21:31:19.000Z","updated":"2020-12-13T21:31:19.000Z","thumbnail":"https://user-images.githubusercontent.com/3617124/100528913-4e135280-3225-11eb-8c07-2b58c8b9cf19.png","content":"<h2>背景</h2><p>Slack で URL を貼り付けたときに下記のスクリーンショットのように「Written by」「Reading time」といった要素をプレビューに含めることができる。</p>\n<p><img src=\"https://user-images.githubusercontent.com/3617124/102013430-7f4a6180-3d93-11eb-99da-22ad8de1523e.png\" alt=\"Slackのプレビュー\" loading=\"lazy\"></p>\n<p>これは、下記のメタ要素の追加で実現ができる。</p>\n<pre><code class=\"html\">&lt;meta name=\"twitter:label1\" content=\"Written by\" /&gt;\n&lt;meta name=\"twitter:data1\" content=\"hiro\" /&gt;\n&lt;meta name=\"twitter:label2\" content=\"Reading time\" /&gt;\n&lt;meta name=\"twitter:data2\" content=\"2 minutes\" /&gt;</code></pre>\n<p>これを EC の商品詳細画面から価格などを表示するのに使えないかと考え調査してみた。</p>\n<h2><code>twitter:label1</code> や <code>twitter:data1</code> とは何か</h2><p><code>twitter:label1</code>というように Twitter 固有のタグのようだ。Slack ではプレビューできるが、Twitter のツイート上ではプレビューできない。</p>\n<h3>カードプロパティ</h3><p><code>twitter:label1</code>, <code>twitter:data1</code>, <code>twitter:label2</code>, <code>twitter:data2</code> は<a href=\"https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/markup\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">公式リファレンス</a>には載っていない。</p>\n<h3>Product Card</h3><p><a href=\"%E5%85%AC%E5%BC%8F%E3%83%9A%E3%83%BC%E3%82%B8\">https://dev.twitter.com/docs/cards/types/product-card</a>はリンク切れしているようだったので、<a href=\"https://web.archive.org/web/20140116180830/https://dev.twitter.com/docs/cards/types/product-card\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Wayback Machine</a>経由で確認ができた。</p>\n<h4>概要</h4><blockquote>\n<p><em>The Product Card is a great way to represent retail items on Twitter, and to drive sales. This Card type is designed to showcase your products via an image, a description, and allow you to highlight two other key details about your product.</em></p>\n<p><strong>[訳]: 製品カードは、Twitter で小売商品を表現し、売り上げを伸ばすための優れた方法です。このカードタイプは、画像や説明で商品を紹介し、商品に関する他の 2 つの重要な詳細を強調できるように設計されています。</strong></p>\n</blockquote>\n<h4>スクリーンショット</h4><table>\n<thead>\n<tr>\n<th>web</th>\n<th>mobile</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><img src=\"https://user-images.githubusercontent.com/3617124/100528908-3b008280-3225-11eb-8e1b-d5258c4d63a4.png\" alt=\"ogp preview web\" loading=\"lazy\"></td>\n<td><img src=\"https://user-images.githubusercontent.com/3617124/100528913-4e135280-3225-11eb-8c07-2b58c8b9cf19.png\" alt=\"ogp preview mobile\" loading=\"lazy\"></td>\n</tr>\n</tbody></table>\n<h4>コード</h4><pre><code class=\"html\">&lt;meta name=\"twitter:card\" content=\"product\" /&gt;\n&lt;meta name=\"twitter:site\" content=\"@twitter\" /&gt;\n&lt;meta name=\"twitter:creator\" content=\"@twitter\" /&gt;\n&lt;meta name=\"twitter:title\" content=\"Logo Mug\" /&gt;\n&lt;meta\n  name=\"twitter:description\"\n  content=\"The perfect pick-me-up. Enjoy your favorite blend with this coffee mug featuring the Twitter logo. Make every work day good to the last drop.\"\n/&gt;\n&lt;meta\n  name=\"twitter:image\"\n  content=\"https://twitter.siglercompanies.com/graphics/00000001/mug-new.jpg\"\n/&gt;\n&lt;meta name=\"twitter:data1\" content=\"$3\" /&gt;\n&lt;meta name=\"twitter:label1\" content=\"Price\" /&gt;\n&lt;meta name=\"twitter:data2\" content=\"Black\" /&gt;\n&lt;meta name=\"twitter:label2\" content=\"Color\" /&gt;</code></pre>\n<h4>プロパティ</h4><table>\n<thead>\n<tr>\n<th>プロパティ名</th>\n<th>概要</th>\n<th>必須</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>twitter:data1</code></td>\n<td>このフィールドには文字列が必要であり、価格、在庫のあるアイテム、サイズなどのラベルの値を指定できる。</td>\n<td>必須</td>\n</tr>\n<tr>\n<td><code>twitter:label1</code></td>\n<td>このフィールドには文字列も必要であり、提供するデータのタイプ（価格、国など）を指定できる。</td>\n<td>必須</td>\n</tr>\n<tr>\n<td><code>twitter:data2</code></td>\n<td>〃</td>\n<td>〃</td>\n</tr>\n<tr>\n<td><code>twitter:label2</code></td>\n<td>〃</td>\n<td>〃</td>\n</tr>\n</tbody></table>\n<h3><code>twitter:card</code></h3><p><a href=\"https://developer.twitter.com/ja/docs/tweets/optimize-with-cards/guides/getting-started\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">公式リファレンス</a>を参照すると<code>twitter:card</code>に指定できるタイプは以下の通り。</p>\n<table>\n<thead>\n<tr>\n<th>カードのプロパティ</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>twitter:card</code></td>\n<td>カードタイプは、<code>summary</code>、<code>summary_large_image</code>、<code>app</code>、<code>player</code>いずれかになる。</td>\n</tr>\n</tbody></table>\n<p>そもそも<code>&lt;meta name=\"twitter:card\" content=\"product\"&gt;</code>の指定が意味をなさないようになっている（なかったことになっている）。</p>\n<h2>検証</h2><p>検証用のページを用意した。<br><a href=\"https://hiro0218.github.io/twitter-label1-data1/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://hiro0218.github.io/twitter-label1-data1/</a></p>\n<p>Twitter で埋め込んだ際は特に data1 などの情報は表示されず、Slcak では表示されるといった想定の動きをしている。</p>\n<p>ソースは、<a href=\"https://github.com/hiro0218/twitter-label1-data1\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">こちら</a></p>\n<h2>まとめ</h2><p><code>twitter:label1</code>, <code>twitter:data1</code>, <code>twitter:label2</code>, <code>twitter:data2</code> は Product Card の仕様であった。</p>\n<p>本来の目的あった「価格を表示する」などは Product Card の仕様そのものではあったが、Product Card という仕様自体は Twitter Cards 上から既に消えていた。Slack などで利用できるのは、単に後方互換を保ってくれているだけのようだ。個人サイトなどで利用するには影響はなさそうだが、EC サイトなど売上に直結するようなシーンでの使用は避けたほうが良さそうだ。また使えるシーンも限られているため、利用することは現実的には難しそうだ。</p>\n","excerpt":"背景 / twitter:label1 や twitter:data1 とは何か / 検証 / まとめ","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"調査","slug":"調査","path":"tags/%E8%AA%BF%E6%9F%BB/"},{"name":"OGP","slug":"OGP","path":"tags/OGP/"}],"prev":{"title":"IEからEdgeへの強制転送設定を個人サイトに適応してもらった話","path":"202012162243.html"},"next":{"title":"huskyのフックがGit GUIクライアントで有効にならない時の対処方法","path":"202011201258.html"}},{"title":"huskyのフックがGit GUIクライアントで有効にならない時の対処方法","path":"202011201258.html","permalink":"https://b.0218.jp/202011201258.html","date":"2020-11-20T12:58:57.000Z","updated":"2020-11-20T12:58:57.000Z","thumbnail":"","content":"<h2>背景</h2><p>husky と lint-staged を利用して pre-commit を行っている。</p>\n<p>コマンドライン（CUI）でコミットをした際は問題なく pre-commit が走る。SourceTree などの Git GUI クライアントを利用してコミットを行うとフックがスキップされてしまう。（Fork という他の GUI アプリでも同様であった）</p>\n<h3>実行環境</h3><ul>\n<li><strong>macOS</strong>: Mojave, Catalina</li>\n<li><strong>husky</strong>: v4.3.0</li>\n<li><strong>SourceTree</strong>: 4.0.2</li>\n</ul>\n<h2>原因</h2><p>husky の v3 系までは問題なかった。v4 系で run-node というモジュールが削除された事が原因のようであった。</p>\n<p>v4 系からは、GUI アプリから node のパスが取れないことが問題のようだ（例えば bash の場合、SourceTree から.bash_profile を読み込まないので、node のパスを見つけられない）。</p>\n<h2>解決方法</h2><p><strong>検証した解決方法は下記の通り：</strong></p>\n<ol>\n<li>husky を v4 から v3 にダウングレードする<br>→ セキュリティの脆弱性の問題がある</li>\n<li><code>~/.huskyrc</code>&nbsp; を用意してパスを追加する<br>→ 解決が公式見解みたい</li>\n<li><code>stree</code>&nbsp; コマンド経由でのアプリを立ち上げる（SourceTree であれば）</li>\n</ol>\n<p>セキュリティ上の問題がなければダウングレードが手っ取り早い。コマンドラインがメインでたまに GUI を使う程度であれば、GUI ツールの「コマンドラインツールをインストール」して、それ経由でアプリを立ち上げると良い（例えば<code>stree</code>コマンド）。</p>\n<h3>~/.huskyrc を用意してパスを追加する</h3><p>公式リファレンスのトラブルシューティングにも記載がある手法</p>\n<p><a href=\"https://typicode.github.io/husky/#/?id=command-not-found\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://typicode.github.io/husky/#/?id=command-not-found</a></p>\n<p>何のシェルを使っているか分からない場合は<code>echo $SHELL</code>を実行する。使っているシェルによって、<code>~/.huskyrc</code>内にそれぞれ記述する（node のパスがわかれば良い）。</p>\n<pre><code># bash:\necho 'source ~/.bash_profile' &gt;&gt; ~/.huskyrc</code></pre>\n<pre><code># zsh:\necho 'source ~/.zprofile' &gt;&gt; ~/.huskyrc</code></pre>\n<h2>余談</h2><p>SourceTree でも議論があるようで将来的に設定をしなくとも解消するかもしれない。</p>\n<p><a href=\"https://jira.atlassian.com/browse/SRCTREE-7184\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://jira.atlassian.com/browse/SRCTREE-7184</a></p>\n<h2>参考</h2><ul>\n<li><a href=\"https://github.com/typicode/husky/issues/639\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Husky hooks skipped · Issue #639 · typicode/husky · GitHub</a></li>\n<li><a href=\"https://qiita.com/u4da3/items/7d2340d4f364c7f1d6e3\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Sourcetree で husky が動かない場合の備忘録 - Qiita</a></li>\n</ul>\n","excerpt":"背景 / 原因 / 解決方法 / 余談 / 参考","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"git","slug":"git","path":"tags/git/"}],"prev":{"title":"[Twitter Cards] meta name=[twitter:label1]を調べる","path":"202012132131.html"},"next":{"title":"[JavaScript] 表示しているページのURLなど特定の文字列をコピーさせる方法","path":"202011071355.html"}},{"title":"[JavaScript] 表示しているページのURLなど特定の文字列をコピーさせる方法","path":"202011071355.html","permalink":"https://b.0218.jp/202011071355.html","date":"2020-11-07T13:55:22.000Z","updated":"2020-11-07T13:55:22.000Z","thumbnail":"","content":"<h2>背景</h2><p>ブログの記事などの URL をコピーさせるための機能が欲しい。</p>\n<h2>方法</h2><p><code>textarea</code>や<code>input</code>などのテキストを入力できる要素に入力されている値を<code>document.execCommand(\"copy\")</code>を使うと、クリップボードに書き込むことができる。</p>\n<p>大まかな copy の仕方は下記の通り。</p>\n<pre><code class=\"js\">const textarea = document.querySelector(\"textarea\");\ntextarea.select();\ndocument.execCommand(\"copy\");</code></pre>\n<h3>実例</h3><pre><code class=\"js\">// クリックしたらコピーさせるボタン\nconst button = document.querySelector(\"button\");\n\nbutton.addEventListener(\"click\", (e) =&gt; {\n  e.preventDefault();\n\n  // 入力要素を作る\n  const input = document.createElement(\"input\");\n  // 入力要素に表示中のURLを挿入する\n  input.value = location.href;\n  // DOM上に入力要素を挿入する\n  document.body.appendChild(input);\n  // 入力した文字を選択する\n  input.select();\n  // クリップボードに書き込む\n  document.execCommand(\"copy\");\n  // 要素を削除する\n  input.remove();\n});</code></pre>\n<p>記事の URL なので、<code>location.href</code>を使用しているが、<code>input.value</code>に入れる値は任意のもので良い。</p>\n<h3>サンプル</h3><iframe height=\"265\" style=\"width: 100%;\" scrolling=\"no\" title=\"Copy URL To Clipboard\" src=\"https://codepen.io/hiro0218/embed/GRqqROJ?height=265&amp;theme-id=light&amp;default-tab=result\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href='https://codepen.io/hiro0218/pen/GRqqROJ'>Copy URL To Clipboard</a> by hiro\n  (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n","excerpt":"背景 / 方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"}],"prev":{"title":"huskyのフックがGit GUIクライアントで有効にならない時の対処方法","path":"202011201258.html"},"next":{"title":"[GitHub Actions] Github Pagesをcron的に定期的に自動デプロイする方法","path":"202009150847.html"}},{"title":"[GitHub Actions] Github Pagesをcron的に定期的に自動デプロイする方法","path":"202009150847.html","permalink":"https://b.0218.jp/202009150847.html","date":"2020-09-15T08:47:20.000Z","updated":"2020-09-15T08:47:20.000Z","thumbnail":"","content":"<h2>背景</h2><p>API や submodule などのリソースを含んだリポジトリがある。ソース自体には変更はないが、それらが定期的に更新される仕組みとなっているため、ホスティング先の GitHub Pages を定期的に更新したい。</p>\n<h2>環境</h2><ul>\n<li>GitHub のリポジトリ</li>\n<li>GitHub Pages（ブランチ名は gh-pages）</li>\n<li>Nuxt.js<br>今回の環境では Nuxt.js の静的ジェネレート（<code>nuxt generate</code>）を利用していた</li>\n</ul>\n<h2>方法</h2><p>自動化には GitHub Actions を利用する。</p>\n<p>具体的なワークフローは以下の通り。</p>\n<pre><code class=\"yaml\">name: github pages deploy\n\non:\n  push:\n    branches:\n      - master\n  schedule:\n    - cron: \"0 0 * * *\"\n\njobs:\n  build-deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v1\n\n      - name: Install\n        run: yarn install --frozen-lockfile\n\n        # === 中略 === \"\n      - name: Generate\n        run: yarn run generate\n\n      - name: deploy\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./dist</code></pre>\n<h3>トリガー</h3><p>トリガーイベントで<code>schedule</code>を設定する。</p>\n<pre><code class=\"yaml\">on:\n  schedule:\n    # * はYAMLに置ける特殊文字なので、この文字列は引用符で囲まなければならない\n    - cron: \"*/15 * * * *\"</code></pre>\n<p>クーロン構文で<code>cron</code>にスケジュール設定ができる。</p>\n<p><a href=\"https://docs.github.com/ja/actions/reference/events-that-trigger-workflows#scheduled-events\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://docs.github.com/ja/actions/reference/events-that-trigger-workflows#scheduled-events</a></p>\n<h3>ジョブ</h3><p><code>jobs</code>については、以下の通り。</p>\n<ol>\n<li>リポジトリのチェックアウト</li>\n<li>依存モジュールのインストール</li>\n<li>ビルド</li>\n<li>デプロイ</li>\n</ol>\n<p>GitHub Pages には <a href=\"https://github.com/peaceiris/actions-gh-pages\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">peaceiris/actions-gh-pages@v3</a> を利用してデプロイしている。</p>\n","excerpt":"背景 / 環境 / 方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"GitHub Actions","slug":"GitHub-Actions","path":"tags/GitHub-Actions/"}],"prev":{"title":"[JavaScript] 表示しているページのURLなど特定の文字列をコピーさせる方法","path":"202011071355.html"},"next":{"title":"[BBIQ光インターネット] 台風後に回線が繋がらなくなった時の対処法","path":"202009091353.html"}},{"title":"[BBIQ光インターネット] 台風後に回線が繋がらなくなった時の対処法","path":"202009091353.html","permalink":"https://b.0218.jp/202009091353.html","date":"2020-09-09T13:53:12.000Z","updated":"2020-09-09T13:53:12.000Z","thumbnail":"","content":"<h2>環境と状況</h2><ul>\n<li><strong>プロバイダー</strong>: BBIQ<ul>\n<li>BBIQ 光インターネット ギガコース</li>\n</ul>\n</li>\n<li>台風が接近しており前日から不調、翌朝通信不能に</li>\n</ul>\n<h2>モデムとルーターを確認</h2><ul>\n<li>モデムの光入力は正常に点滅</li>\n<li>ルーターの「光ネット」「電話」という項目が赤く点滅</li>\n</ul>\n<h2>確認項目</h2><p>モデムとルーターの再起動の手順として下記を行った。</p>\n<ol>\n<li>ルーターの電源を抜く</li>\n<li>モデムの電源を抜く</li>\n<li>しばらく待つ</li>\n<li>モデムの電源を入れる</li>\n<li>ルーターの電源を入れる</li>\n</ol>\n<p>ルーターは作動しておりインターネットアクセスなしでの Wi-Fi 接続は可能だった。<br>ルーター自体に問題はなく、何らかの要因で光回線の通信ができてないだけなのではないかと予想した（回線が断線した？）ため、サポートセンターへ連絡を行う。</p>\n<h2>サポートへ電話</h2><p>BBIQ なので下記に電話。</p>\n<blockquote>\n<p>QTnet お客さまセンター（0120-86-8327）</p>\n</blockquote>\n<p>音声ガイダンスを経て、担当者へつながった。状況の説明と契約者確認を行い、下記を実施するように言われた。</p>\n<ol>\n<li>先述で記載したようなモデムとルーター抜き差し</li>\n<li>モデムとルーターの状態の確認</li>\n<li>プロバイダー側から接続の確認<br>→ サポート側からの確認によると通信できていないとのこと</li>\n</ol>\n<p>機械の問題なのか配線の問題なのか不明なため翌日に業者が訪問することに。</p>\n<h2>業者訪問</h2><p>原因は不明だったが直った。<br>モデム内部の電源を刺し直しすることで改善したとのことだった（一般的に触れる電源とは別）。</p>\n<p>同様の問題が同建物の別部屋でも起きてるとのことだった。</p>\n<h2>まとめ</h2><p>ネットが使えないとスマートスピーカーすら役に立たなくなる生活状況で大変不便であった。</p>\n<p>同様の問題が発生した時は、また当然ながら「サポート → 業者」のフローを辿らなければならないようで、今後は素人の再起動だけで解決できない問題は起きないで欲しい。</p>\n<p>光回線が断線してなかったようで良かった。</p>\n","excerpt":"環境と状況 / モデムとルーターを確認 / 確認項目 / サポートへ電話 / 業者訪問","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"ネットワーク","slug":"ネットワーク","path":"tags/%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF/"},{"name":"生活","slug":"生活","path":"tags/%E7%94%9F%E6%B4%BB/"}],"prev":{"title":"[GitHub Actions] Github Pagesをcron的に定期的に自動デプロイする方法","path":"202009150847.html"},"next":{"title":"[GitHub Actions] submoduleを最新の状態にする方法","path":"202009071502.html"}},{"title":"[GitHub Actions] submoduleを最新の状態にする方法","path":"202009071502.html","permalink":"https://b.0218.jp/202009071502.html","date":"2020-09-07T15:02:31.000Z","updated":"2020-09-07T15:02:31.000Z","thumbnail":"","content":"<h2>背景</h2><p>下記のように<code>submodule</code>を指定しているリポジトリがある。</p>\n<pre><code>[submodule \"_module\"]\n    path = _module\n    url = https://github.com/example/test-module.git\n    branch = develop</code></pre>\n<p>GitHub Actions のビルドの中で上記の<code>submodule</code>の更新状況を含めてチェックアウトしたい。</p>\n<h2>方法</h2><p><code>actions/checkout</code>だと<code>submodule</code>まで最新化できなかったので、<code>steps</code>に<code>git submodule update --remote</code>を追加した。</p>\n<pre><code class=\"yaml\">jobs:\n  build-deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v2\n\n      - name: Update Submodules\n        run: git submodule update --remote</code></pre>\n<p><code>actions/checkout@v1</code>だと<code>submodule</code>のチェックアウトもできる情報があったが私の環境ではうまく動かなかった。</p>\n","excerpt":"背景 / 方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"GitHub Actions","slug":"GitHub-Actions","path":"tags/GitHub-Actions/"}],"prev":{"title":"[BBIQ光インターネット] 台風後に回線が繋がらなくなった時の対処法","path":"202009091353.html"},"next":{"title":"[Excel] コロン区切りの時間(12:34)を時間単位に変換する方法","path":"202009031542.html"}},{"title":"[Excel] コロン区切りの時間(12:34)を時間単位に変換する方法","path":"202009031542.html","permalink":"https://b.0218.jp/202009031542.html","date":"2020-09-03T15:42:01.000Z","updated":"2020-09-03T15:42:01.000Z","thumbnail":"","content":"<h2>背景</h2><ul>\n<li>勤怠管理システムでの「労働時間」は、60 分単位で「09:00」「08:30」と表示されている事が多い</li>\n<li>工数管理システムでの集計では時間単位（9h、8.5h）の入力が求められる</li>\n</ul>\n<p>→ 8:30 は 8.5 時間と変換したい</p>\n<h3>時刻のフォーマット</h3><blockquote>\n<p>時刻の表記には hh:mm:ss の形式が用いられる。hh は時で 00 から 24 の値をとる。mm は分で 00 から 59 の値をとる。ss は秒で 00 から 59 及び閏秒に 60 の値をとる。ss, mm:ss の部分は省略可能で hh:mm, hh の形式も使用可能。<br><a href=\"https://ja.wikipedia.org/wiki/ISO_8601\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://ja.wikipedia.org/wiki/ISO_8601</a></p>\n</blockquote>\n<h2>Excel / スプレッドシートで計算する</h2><h3>計算式</h3><pre><code>=($A1)/(\"1:00\")</code></pre>\n<h3>説明</h3><ul>\n<li>A 列に時間を入力</li>\n<li>B 列には先述の計算式を入力する</li>\n<li>B 列の書式設定（番号書式）は「数値」に設定する</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>A 列（労働時間）</th>\n<th>B 列（時間）</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>9:57</td>\n<td>9.95</td>\n</tr>\n<tr>\n<td>8:00</td>\n<td>8.00</td>\n</tr>\n<tr>\n<td>8:39</td>\n<td>8.65</td>\n</tr>\n<tr>\n<td>8:00</td>\n<td>8.00</td>\n</tr>\n<tr>\n<td>7:11</td>\n<td>7.18</td>\n</tr>\n<tr>\n<td>8:53</td>\n<td>8.88</td>\n</tr>\n<tr>\n<td>8:00</td>\n<td>8.00</td>\n</tr>\n<tr>\n<td>9:13</td>\n<td>9.22</td>\n</tr>\n<tr>\n<td>8:30</td>\n<td>8.50</td>\n</tr>\n<tr>\n<td>8:39</td>\n<td>8.65</td>\n</tr>\n<tr>\n<td>8:00</td>\n<td>8.00</td>\n</tr>\n<tr>\n<td>8:00</td>\n<td>8.00</td>\n</tr>\n<tr>\n<td>8:40</td>\n<td>8.67</td>\n</tr>\n<tr>\n<td>8:12</td>\n<td>8.20</td>\n</tr>\n<tr>\n<td>8:30</td>\n<td>8.50</td>\n</tr>\n</tbody></table>\n","excerpt":"背景 / Excel / スプレッドシートで計算する","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Excel","slug":"Excel","path":"tags/Excel/"},{"name":"Google スプレッドシート","slug":"Google-スプレッドシート","path":"tags/Google-%E3%82%B9%E3%83%97%E3%83%AC%E3%83%83%E3%83%89%E3%82%B7%E3%83%BC%E3%83%88/"}],"prev":{"title":"[GitHub Actions] submoduleを最新の状態にする方法","path":"202009071502.html"},"next":{"title":"[Nuxt.js] asyncDataの値をhead()から取得するとundefinedになる問題","path":"202008311417.html"}},{"title":"[Nuxt.js] asyncDataの値をhead()から取得するとundefinedになる問題","path":"202008311417.html","permalink":"https://b.0218.jp/202008311417.html","date":"2020-08-31T14:17:46.000Z","updated":"2020-08-31T14:17:46.000Z","thumbnail":"","content":"<h2>環境</h2><ul>\n<li>Nuxt.js: v2.14.4</li>\n<li><code>nuxt generate</code>で出力</li>\n<li>nuxt.config.js → <code>target: 'static'</code><br><a href=\"https://ja.nuxtjs.org/api/configuration-target/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://ja.nuxtjs.org/api/configuration-target/</a></li>\n</ul>\n<h2>状況</h2><p>こういった形で <code>head()</code> から <code>this.post.title</code> を参照する。</p>\n<pre><code class=\"js\">{\n  async asyncData() {\n    // データをAPI経由で取得する\n    const data = await fetch('https://example.com/postdata').then(response =&gt; response.json());\n\n    return {\n      post: { title: data.title },\n    };\n  },\n  head() {\n    return {\n      title: this.post.title,\n    };\n  }\n}</code></pre>\n<p><code>nuxt (yarn dev)</code> では問題ないが、<code>nuxt generate</code> で出力すると下記のようにアクセスができない。</p>\n<pre><code>this.post.title is undefined.</code></pre>\n<h2>解決方法</h2><p><code>target</code> を <code>static</code> からデフォルトの <code>server</code> へ変更した。</p>\n<pre><code class=\"js\">// nuxt.config.js\nexport default {\n  target: \"server\",\n};</code></pre>\n","excerpt":"環境 / 状況 / 解決方法","categories":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"categories/Nuxt-js/"}],"tags":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"tags/Nuxt-js/"}],"prev":{"title":"[Excel] コロン区切りの時間(12:34)を時間単位に変換する方法","path":"202009031542.html"},"next":{"title":"[HTML] メールアドレス・電話番号などの入力フォームのUXを考える","path":"202008261116.html"}},{"title":"[HTML] メールアドレス・電話番号などの入力フォームのUXを考える","path":"202008261116.html","permalink":"https://b.0218.jp/202008261116.html","date":"2020-08-26T11:16:58.000Z","updated":"2020-08-26T11:16:58.000Z","thumbnail":"","content":"<h2>背景</h2><p>会員情報などの入力フォームを実装後、コンサルサイドから EFO 対策（Entry Form Optimization）を求めらたことがあった。<br>EFO 対策のスクリプトの導入を勧められたものの他のスクリプトとの干渉が大きく標準の機能で綺麗にやっていけないか再考してみる。</p>\n<p>システムの制約上、フォームを分割したり「ハイフンを入力させない」など、UX を欠く仕様になっているケースも多い。ただ、各情報の仕様と照らし合わせると UX を下げない作りにすることは可能であるので、各仕様と機能を調べてみる。</p>\n<h2>各項目の仕様</h2><h3>メールアドレス</h3><blockquote>\n<p>ドメインの長さの最大値は 253 文字、メールアドレス全体の長さの最大値は 254 文字である。<br><a href=\"https://ja.wikipedia.org/wiki/%E3%83%A1%E3%83%BC%E3%83%AB%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://ja.wikipedia.org/wiki/メールアドレス</a></p>\n</blockquote>\n<p>最短の文字数は、たとえば <code>a@a.mw</code> の 6 文字。</p>\n<h3>電話番号</h3><blockquote>\n<p>電話番号の桁数は 10 か 11 桁。9 桁はもはや無い<br><a href=\"https://qiita.com/tukiyo3/items/b994ffafb7f01e79fe34\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://qiita.com/tukiyo3/items/b994ffafb7f01e79fe34</a></p>\n</blockquote>\n<h3>氏名</h3><blockquote>\n<p>日本では、名前は「常用平易な文字」を用いることは求められていますが、名前の字数制限についてはありません(戸籍法 50 条参照)。したがって、理論上は寿限無に出てくるような長い名前も拒否されないことになります。<br><a href=\"https://legalus.jp/family/family_register/ed-36\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://legalus.jp/family/family_register/ed-36</a></p>\n</blockquote>\n<p>氏名をフォームで縛るのは厳しそう。</p>\n<h2>フォームの機能</h2><h3>メールアドレス</h3><pre><code class=\"html\">&lt;input type=\"email\" maxlength=\"254\" minlength=\"6\" autocomplete=\"email\" /&gt;</code></pre>\n<ul>\n<li><code>type</code>: <code>email</code></li>\n<li><code>maxlength</code>: <code>254</code></li>\n<li><code>minlength</code>: <code>6</code></li>\n<li><code>autocomplete</code>: <code>email</code></li>\n</ul>\n<p><code>type: email</code>指定でバリデーションをしてくれるので、あえて<code>pattern</code>属性を指定せずとも良さそう。むしろ指定することで対応できないケースも出てきかねない。<br>また、スマホ端末ではフォーカス時に US キーボードが開く。</p>\n<p>input 要素に<code>autocomplete</code>属性を設定することで自動入力が有効になる。（メールアドレスは補完が効くようだが電話番号はなさそうである）</p>\n<p><strong>補足:</strong></p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>maxlength</code></td>\n<td>入力欄が受け付ける最大文字数</td>\n</tr>\n<tr>\n<td><code>minlength</code></td>\n<td>入力欄が取りうる、妥当と判断される最小文字列長</td>\n</tr>\n</tbody></table>\n<h3>電話番号</h3><pre><code class=\"html\">&lt;input\n  type=\"tel\"\n  pattern=\"\\d{2,4}-?\\d{2,4}-?\\d{3,4}\"\n  maxlength=\"11\"\n  minlength=\"9\"\n/&gt;</code></pre>\n<ul>\n<li><code>type</code>: <code>tel</code></li>\n<li><code>pattern</code>: <code>\\d{2,4}-?\\d{2,4}-?\\d{3,4}</code></li>\n<li><code>maxlength</code>: <code>11〜14</code>（ハイフン分考慮）</li>\n<li><code>minlength</code>: <code>9</code></li>\n</ul>\n<p><code>type: tel</code>を指定することでスマホ端末では、キーボードを切り替えなくても数字入力のキーボードを表示してくれるようになる。<code>email</code>のようにバリデーション機能はないが、UX の向上につながる。</p>\n<p>※ 国番号から始まる電話番号を入力させたい場合は別に考慮する必要がある</p>\n<p><strong>補足:</strong></p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>maxlength</code></td>\n<td>妥当な入力として受け入れるための、 UTF-16 文字単位の最大長</td>\n</tr>\n<tr>\n<td><code>minlength</code></td>\n<td>フィールドの内容が妥当と判断される最小文字列長</td>\n</tr>\n<tr>\n<td><code>pattern</code></td>\n<td>制約の検証に通るために入力された値が一致する必要がある正規表現</td>\n</tr>\n</tbody></table>\n<h2>参考</h2><ul>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/HTML/Element/Input/email\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">input type=”email” - MDN Web Docs - Mozilla</a></li>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/HTML/Element/Input/tel\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">input type=”tel” - MDN Web Docs - Mozilla</a></li>\n<li><a href=\"https://ja.wikipedia.org/wiki/%E3%83%A1%E3%83%BC%E3%83%AB%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">メールアドレス - Wikipedia</a></li>\n<li><a href=\"https://qiita.com/tukiyo3/items/b994ffafb7f01e79fe34\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">電話番号の桁数は 10 か 11 桁。9 桁はもはや無い - Qiita</a></li>\n<li><a href=\"https://legalus.jp/family/family_register/ed-36\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">名前の文字数について制限はある？ | 法律事務所・弁護士への相談なら Legalus</a></li>\n<li><a href=\"https://html.spec.whatwg.org/multipage/forms.html#autofill\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">HTML Standard</a>)</li>\n</ul>\n","excerpt":"背景 / 各項目の仕様 / フォームの機能 / 参考","categories":[{"name":"調査","slug":"調査","path":"categories/%E8%AA%BF%E6%9F%BB/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"}],"prev":{"title":"[Nuxt.js] asyncDataの値をhead()から取得するとundefinedになる問題","path":"202008311417.html"},"next":{"title":"[OGP] ブログ記事タイトルを含んだ画像を自動生成する方法","path":"202007051753.html"}},{"title":"[OGP] ブログ記事タイトルを含んだ画像を自動生成する方法","path":"202007051753.html","permalink":"https://b.0218.jp/202007051753.html","date":"2020-07-05T17:53:12.000Z","updated":"2020-07-05T17:53:12.000Z","thumbnail":"https://user-images.githubusercontent.com/3617124/86741048-10454000-c072-11ea-9655-70c38da3544e.png","content":"<h2>概要</h2><p>SNS シェア用に記事タイトルを含んだ画像を自動生成する。</p>\n<figure>\n  <img src=\"https://user-images.githubusercontent.com/3617124/86741048-10454000-c072-11ea-9655-70c38da3544e.png\">\n  <figcaption>完成イメージ</figcaption>\n</figure>\n\n<p>下記に対応する。</p>\n<pre><code class=\"html\">&lt;meta name=\"twitter:card\" content=\"summary_large_image\"&gt;&lt;/meta&gt;</code></pre>\n<h2>環境</h2><p>現在、当ブログは Hexo で記事を生成している。<br>そのため、 Hexo で記事生成と同時に Node.js を利用して、<code>summary_large_image</code>に対応する画像を生成する。</p>\n<h2>方法</h2><p><a href=\"https://www.npmjs.com/package/node-html-to-image\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">node-html-to-image</a>を利用する。このライブラリは、puppeteer を使って指定の HTML を画像に変換することができる。そうすることで直接画像を生成するための調整をしなくて良い。</p>\n<pre><code class=\"js\">const generateOgpImage = require(\"./generate-ogp-image\");\n\nhexo.extend.generator.register(\"posts\", (locals) =&gt; {\n  const posts = locals.posts;\n  const ogpImages = [];\n\n  posts.forEach((post) =&gt; {\n    ogpImages.push({\n      title: post.title,\n      output: `${ogpDirectoryPath}/${post.slug}.png`,\n    });\n  });\n\n  // OGP image を生成\n  generateOgpImage(ogpImages);\n});</code></pre>\n<pre><code class=\"js\">// generate-ogp-image.js\nconst nodeHtmlToImage = require(\"node-html-to-image\");\nconst fontData = require(\"./fontdata\"); // ファイルサイズが膨大なので分割\n\nmodule.exports = function (content) {\n  nodeHtmlToImage({\n    html: `&lt;html lang=\"ja\"&gt;\n    &lt;head&gt;\n      &lt;style&gt;\n        @font-face {\n          font-family: 'NotoSansJP';\n          src: url(\"data:font/woff;base64,${fontData}\");\n        }\n        body {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1em 2em;\n          font-family: 'NotoSansJP', sans-serif;\n        }\n        .title {\n          margin: 0;\n          color: #212529;\n          font-size: 1.85em;\n          line-height: 1.75;\n        }\n        .url {\n          position: absolute;\n          right: 1em;\n          bottom: 1em;\n          z-index: 1;\n          color: #343a40;\n          font-size: 1em;\n        }\n      &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n      &lt;h1 class=\"title\"&gt;{{title}}&lt;/h1&gt;\n      &lt;div class=\"url\"&gt;b.0218.jp&lt;/div&gt;\n    &lt;/body&gt;\n  &lt;/html&gt;\n  `,\n    content: content,\n    puppeteerArgs: {\n      defaultViewport: {\n        width: 600,\n        height: 315,\n      },\n    },\n  });\n};</code></pre>\n<h3>生成のポイント（複数枚の画像を生成する）</h3><p><code>node-html-to-image</code> は、バッチ処理を行うことができる（v3.0.0）。</p>\n<pre><code class=\"js\">nodeHtmlToImage({\n  html: \"&lt;html&gt;&lt;body&gt;Hello {{name}}!&lt;/body&gt;&lt;/html&gt;\",\n  content: [\n    { name: \"Pierre\", output: \"./image1.png\" },\n    { name: \"Paul\", output: \"./image2.png\" },\n    { name: \"Jacques\", output: \"./image3.png\" },\n  ],\n});</code></pre>\n<p><code>content</code>パラメーター内の<code>output</code>にパスを指定すると、指定したパスで画像を生成してくれる。</p>\n<p>ブログの記事数が数百件あるので、それを 1 つずつ生成していくと生成に時間がかかるどころか、実際 10 インスタンスぐらいで落ちた。</p>\n<h3>フォントの問題</h3><p>Google Fonts などから日本語ウェブフォントを読み込んでテキストに適応したかったのだが、上手く行かなかったため Base64 にしてインラインに展開した。（先述のコードだと<code>fontData.js</code>がそれにあたる）</p>\n<p><code>Noto Sans JP</code>を使用しているが、woff ファイルなどが GitHub 上で公開されているので下記のコマンドで Base64 のデータを取得した。</p>\n<pre><code class=\"bash\">curl -L 'woffのrawデータのURL' | base64 | pbcopy</code></pre>\n<h3>その他</h3><p>GitHub Actions 内での実行で画像が生成されない問題が発生したが、<code>yarn clean &amp;&amp; yarn build</code>を事前に指定することで解消した。</p>\n","excerpt":"概要 / 環境 / 方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"},{"name":"OGP","slug":"OGP","path":"tags/OGP/"},{"name":"Hexo","slug":"Hexo","path":"tags/Hexo/"},{"name":"Node.js","slug":"Node-js","path":"tags/Node-js/"}],"prev":{"title":"[HTML] メールアドレス・電話番号などの入力フォームのUXを考える","path":"202008261116.html"},"next":{"title":"[JavaScript] 1行でIE11を判定する方法","path":"202006241157.html"}},{"title":"[JavaScript] 1行でIE11を判定する方法","path":"202006241157.html","permalink":"https://b.0218.jp/202006241157.html","date":"2020-06-24T11:57:12.000Z","updated":"2020-06-24T11:57:12.000Z","thumbnail":"","content":"<h2>userAgent を利用して取得する方法</h2><p>一般的には下記のように IE の判定を行ってきた。</p>\n<pre><code class=\"js\">// userAgent を取得、小文字にする\nconst ua = window.navigator.userAgent.toLowerCase();\n\n// ユーザーエージェントから Internet Explorer であるかを判定\nconst isIE = ua.indexOf(\"msie\") &gt;= 0 || ua.indexOf(\"trident\") &gt;= 0;</code></pre>\n<p>※ IE11 からは<code>mise</code>ではなく<code>trident</code>という文字になっている</p>\n<h2>1 行で取得する方法</h2><p>userAgent を利用した取得の方法は一般的で IE 以外のブラウザの反映にも利用できるため、ブラウザの判定という一貫で合理性があった。<br>ただ近年のモダンブラウザの対応によって、ブラウザの判定理由が「IE のみを判定する」になり、userAgent を利用するのは合理的ではない場面も多くなったように思う。</p>\n<p><code>document.documentMode</code>を利用する。</p>\n<pre><code class=\"js\">document.documentMode;</code></pre>\n<p>従来、 documentMode プロパティは、現在のドキュメントをレンダリングするために IE が使用するモードを返却する（IE 専用のプロパティで、IE8 から利用可能）。<br>このプロパティは、IE 以外のブラウザでは実装されていないため、IE 以外では<code>undefined</code>が返却される。</p>\n<pre><code class=\"js\">// ユーザーエージェントから Internet Explorer であるかを判定\nconst isIE = !!document.documentMode;</code></pre>\n","excerpt":"userAgent を利用して取得する方法 / 1 行で取得する方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"}],"prev":{"title":"[OGP] ブログ記事タイトルを含んだ画像を自動生成する方法","path":"202007051753.html"},"next":{"title":"[JavaScript] 外部HTMLを読み込んでDOM上へ展開する方法","path":"202006151610.html"}},{"title":"[JavaScript] 外部HTMLを読み込んでDOM上へ展開する方法","path":"202006151610.html","permalink":"https://b.0218.jp/202006151610.html","date":"2020-06-15T16:10:12.000Z","updated":"2020-06-15T16:10:12.000Z","thumbnail":"","content":"<p>外部コンテンツを<code>iframe</code>などを使わずに HTML 上へ展開したい。</p>\n<h2>前提</h2><ol>\n<li>外部から HTML ファイルを取得する（CORS 対応済み）</li>\n<li><code>body</code>要素へ取得した HTML を追加する</li>\n</ol>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><pre><code class=\"js\">fetch(\"https://example.com/contents.html\")\n  .then((res) =&gt; res.text())\n  .then((text) =&gt; {\n    // テキストをDOMに変換する\n    return new DOMParser().parseFromString(text, \"text/html\");\n  })\n  .then((dom) =&gt; document.body.append(dom));</code></pre>\n<ol>\n<li><code>fetch</code>で対象ページを取得する</li>\n<li>取得したデータを<code>text()</code>で文字列に変換する</li>\n<li><code>DOMParser().parseFromString</code>で文字列を DOM に変換する</li>\n<li><code>body</code>へ DOM を挿入する</li>\n</ol>\n","excerpt":"前提 / 方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"}],"prev":{"title":"[JavaScript] 1行でIE11を判定する方法","path":"202006241157.html"},"next":{"title":"[Google Fonts] 読み込みのパフォーマンスを向上させる方法","path":"202005301105.html"}},{"title":"[Google Fonts] 読み込みのパフォーマンスを向上させる方法","path":"202005301105.html","permalink":"https://b.0218.jp/202005301105.html","date":"2020-05-30T11:05:55.000Z","updated":"2020-05-30T11:05:55.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>display=swap</h2><p>Google Fonts が提供するタグが<code>display=swap</code>をサポートし、デフォルトでこのパラメーターが付与されるようになった。</p>\n<pre><code>https://fonts.googleapis.com/css?family=Roboto&amp;display=swap</code></pre>\n<p>このパラメーターがあると<code>@font-face</code>に<code>font-display: swap;</code>が適応された状態の CSS が配信されるようになる。<br>FOIT 状態が続くこともなくなり、<a href=\"https://github.com/typekit/webfontloader\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">webfontloader</a>などの遅延読み込みライブラリを利用しなくて良くなった。</p>\n<h3>font-display</h3><blockquote>\n<p>font-display 記述子は、フォントがダウンロード済みで利用できるかに基づいて、どのようにフォントの種類を表示するかを定めます。<br><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/@font-face/font-display\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://developer.mozilla.org/ja/docs/Web/CSS/@font-face/font-display</a></p>\n</blockquote>\n<ul>\n<li><code>font-display: auto;</code><br>デフォルトでブラウザの挙動に準拠する</li>\n<li><code>font-display: swap;</code><br>フォントが読み込まれていない場合、そのフォントを利用しようとしている要素は代替フォントで描画される</li>\n</ul>\n<h2>読み込みスクリプト</h2><pre><code class=\"html\">&lt;link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin /&gt;\n\n&lt;link\n  rel=\"preload\"\n  href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&amp;display=swap\"\n  as=\"style\"\n/&gt;\n\n&lt;link\n  rel=\"stylesheet\"\n  href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&amp;display=swap\"\n  media=\"print\"\n  onload=\"this.media='all'\"\n/&gt;</code></pre>\n<h3>1. preconnect</h3><p>Google Fonts の CSS は<code>fonts.googleapis.com</code>にホスティングされているが、フォントファイル自体は<code>fonts.gstatic.com</code>されている。そのため、preconnect の指定を入れる場合は下記のようにする必要がある。</p>\n<pre><code class=\"html\">&lt;link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin /&gt;</code></pre>\n<h3>2. preload</h3><p><code>preload</code>を利用する。ただ、<code>preload</code> は IE と Firefox（現時点）で使えないため（参考：<a href=\"https://caniuse.com/#feat=link-rel-preload%EF%BC%89%E3%80%81%60preload%60%E3%81%AE%E8%A8%98%E8%BF%B0%E3%81%AB%E5%8A%A0%E3%81%88%E3%81%A6%E3%83%8F%E3%83%83%E3%82%AF%E3%81%8C%E4%B8%8B%E8%A8%98%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E8%A8%98%E8%BF%B0%E3%81%A7%E5%BF%85%E8%A6%81%E3%81%AB%E3%81%AA%E3%82%8B%E3%80%82\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://caniuse.com/#feat=link-rel-preload）、`preload`の記述に加えてハックが下記のような記述で必要になる。</a></p>\n<pre><code class=\"html\">&lt;link\n  rel=\"preload\"\n  href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&amp;display=swap\"\n  as=\"style\"\n/&gt;\n\n&lt;link\n  rel=\"stylesheet\"\n  href=\"https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300&amp;display=swap\"\n  media=\"print\"\n  onload=\"this.media='all'\"\n/&gt;</code></pre>\n<h4>ハック</h4><ol>\n<li>CSS を<code>media=\"print\"</code>で印刷用スタイルとして記述する。ブラウザは印刷用スタイルシートを非同期にダウンロードする</li>\n<li>読み込みが完了したら<code>media</code>属性を変更して CSS を読み込ませる</li>\n</ol>\n<h2>参考</h2><ul>\n<li><a href=\"https://csswizardry.com/2020/05/the-fastest-google-fonts/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">The Fastest Google Fonts</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32759272/how-to-load-css-asynchronously\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">How to load CSS Asynchronously</a></li>\n</ul>\n","excerpt":"display=swap / 読み込みスクリプト / 参考","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"},{"name":"Google Fonts","slug":"Google-Fonts","path":"tags/Google-Fonts/"}],"prev":{"title":"[JavaScript] 外部HTMLを読み込んでDOM上へ展開する方法","path":"202006151610.html"},"next":{"title":"WIP: [CSS設計] YUKICSS - ITCSSベースのCSSアーキテクチャ","path":"202005260924.html"}},{"title":"WIP: [CSS設計] YUKICSS - ITCSSベースのCSSアーキテクチャ","path":"202005260924.html","permalink":"https://b.0218.jp/202005260924.html","date":"2020-05-26T09:24:15.000Z","updated":"2020-05-26T09:24:15.000Z","thumbnail":"https://user-images.githubusercontent.com/33714646/46655559-ecc43b80-cbe6-11e8-9a1d-cc656e037260.png","content":"<p><strong>YUKICSS</strong>（ユキックス）は、様々な CSS 設計思想を取り入れた CSS 設計である。</p>\n<p>ブログや EC サイトなど幅広い用途で不足なく使用することができる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>主に影響を受けている CSS 設計・思想</h2><p>下記の CSS 設計に影響を受けている。</p>\n<ul>\n<li><a href=\"https://itcss.io/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ITCSS</a></li>\n<li>BEM (<a href=\"https://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">MindBEMding</a>)</li>\n</ul>\n<h3>ITCSS</h3><figure>\n  <img decoding=\"async\" lazyload=\"lazy\" width=\"535\" height=\"300\" src=\"https://user-images.githubusercontent.com/33714646/46655559-ecc43b80-cbe6-11e8-9a1d-cc656e037260.png\" alt=\"ITCSSの構造\"><figcaption>ITCSSの構造</figcaption>\n</figure>\n\n<p>ディレクトリ構造は ITCSS のレイヤーをベースに構築している。<br>ITCSS のベースでは補いきれない部分を追加レイヤーとして定義している。</p>\n<p><strong>参考:</strong></p>\n<ul>\n<li><a href=\"https://b.0218.jp/20181022173020.html\"> [CSS 設計] ITCSS をプロダクトに利用した所感 </a></li>\n</ul>\n<h3>BEM (MindBEMding)</h3><p>命名規則は MindBEMding を採用。</p>\n<p><strong>参考:</strong></p>\n<ul>\n<li><a href=\"https://b.0218.jp/20191002235110.html\"> [CSS 設計] BEM の使い方を知る </a></li>\n</ul>\n<hr>\n<h2>命名規則</h2><p>クラス名は基本的にシングルクラスで命名するために、<a href=\"https://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">MindBEMding</a>を利用した命名を行う。</p>\n<pre><code class=\"html\">&lt;!-- https://yandex.com/company/ - code --&gt;\n&lt;div class=\"widget\"&gt;\n  &lt;div class=\"widget__title\"&gt;&lt;/div&gt;\n  &lt;div class=\"widget__post\"&gt;\n    &lt;a class=\"widget__post-header\"&gt;&lt;/a&gt;\n    &lt;div class=\"widget__date\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;</code></pre>\n<p>クラス名は下記の要素で構成する。</p>\n<ul>\n<li><code>.Block</code><br>コンポーネントの親要素 / 独立した要素</li>\n<li><code>.Block__Element</code><br>Block に紐付いた要素 / Block 内でいくつも存在できる</li>\n<li><code>.Block--Modifier</code> / <code>.Block__Element--Modifier</code><br>バリエーションや状態を変化させるときに指定する</li>\n</ul>\n<p>組み合わせとしては、MindBEMding のルールに則っていれば問題ないが、<code>block__element__element</code>や<code>block__element--modifier--modifier</code>のような形になるようであれば見直した方が良い。</p>\n<h3>ステート（状態）</h3><p>MindBEMding のルールをそのまま踏襲すると、ステートを表現する際に</p>\n<pre><code class=\"html\">&lt;div class=\"c-modal\"&gt;&lt;/div&gt;\n&lt;!-- ↕ --&gt;\n&lt;div class=\"c-modal--open\"&gt;&lt;/div&gt;</code></pre>\n<p>といった命名となり、可読性や JavaScript などの切り替えに難がある。</p>\n<p>そこで本設計では、状態を表すクラスの場合において「マルチクラス」を許容し、接頭辞として<code>is-</code>を付ける。</p>\n<pre><code class=\"html\">&lt;div class=\"c-modal\"&gt;&lt;/div&gt;\n&lt;!-- ↕ --&gt;\n&lt;div class=\"c-modal is-open\"&gt;&lt;/div&gt;</code></pre>\n<h2>構成レイヤー</h2><p>下記のようなレイヤー構造になっている。基本的には ITCSS のレイヤー構造に準拠した形で付け加えている。（太字のものが既存の ITCSS から追加したレイヤー）</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>レイヤー</th>\n<th>役割</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>Settings</td>\n<td>グローバル変数や全体の設定</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Tools</td>\n<td><code>animation</code>、<code>mixin</code>、<code>function</code>など</td>\n</tr>\n<tr>\n<td>3</td>\n<td><strong>Icons</strong></td>\n<td>アイコンの定義</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Generic</td>\n<td>リセットスタイル定義</td>\n</tr>\n<tr>\n<td>5</td>\n<td>Elements</td>\n<td>素の HTML 要素（a, h1…6 など）定義</td>\n</tr>\n<tr>\n<td>6</td>\n<td><strong>Layouts</strong></td>\n<td>レイアウト定義</td>\n</tr>\n<tr>\n<td>7</td>\n<td>Objects</td>\n<td>装飾を持たないレイアウト定義（OOCSS）</td>\n</tr>\n<tr>\n<td>8</td>\n<td><strong>Vendor</strong></td>\n<td>npm などサードパーティ系ライブラリのスタイル定義</td>\n</tr>\n<tr>\n<td>9</td>\n<td>Components</td>\n<td>コンポーネント（UI パーツ）を定義</td>\n</tr>\n<tr>\n<td>10</td>\n<td><strong>Parts</strong></td>\n<td>コンポーネント同士の組み合わせなどの定義</td>\n</tr>\n<tr>\n<td>11</td>\n<td><strong>Project</strong></td>\n<td>グローバルヘッダーやグローバルフッターなど</td>\n</tr>\n<tr>\n<td>12</td>\n<td><strong>Pages</strong></td>\n<td>ページ固有の定義</td>\n</tr>\n<tr>\n<td>13</td>\n<td>Utilities (Trumps)</td>\n<td>ヘルパー・ユーティリティ系の定義</td>\n</tr>\n</tbody></table>\n<p>詳細度の広い順に定義をしていくため、下のレイヤーに行くにつれ詳細度は上がっていく。<br>上のレイヤーが下のレイヤーの定義へ影響を与えることはできない。</p>\n<h3>Settings</h3><p>プリプロセッサなどで利用するグローバル変数や全体の設定を置く。</p>\n<pre><code class=\"scss\">$font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n  \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\",\n  \"Segoe UI Symbol\", \"Noto Color Emoji\" !default;\n\n$white: #fff !default;\n$black: #000 !default;\n$gray: #f8f9fa !default;</code></pre>\n<h3>Tools</h3><p>プリプロセッサで利用する mixin や function などの定義を置く。</p>\n<pre><code class=\"scss\">@function str-replace($string, $search, $replace: \"\") {\n  $index: str-index($string, $search);\n\n  @if $index {\n    @return str-slice($string, 1, $index - 1) + $replace + str-replace(str-slice($string, $index +\n            str-length($search)), $search, $replace);\n  }\n\n  @return $string;\n}\n\n@mixin text-truncate() {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}</code></pre>\n<p>Settings, Tools までのレイヤーで CSS を記述しない。</p>\n<h3>Icons</h3><p>ITCSS には無い新規追加のレイヤー</p>\n<p>再利用可能なアイコンを定義する。<br>できるだけプレーンな状態で定義し、サイズや装飾は利用される Pages レイヤーなどで上書きをする。</p>\n<pre><code class=\"scss\">.icon-required {\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n\n  &amp;::before {\n    content: \"\";\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background: url(\"~@src/image/icon-required.svg\") no-repeat left top/contain;\n  }\n\n  // or\n  svg {\n    fill: currentColor;\n  }\n}</code></pre>\n<h3>Generic</h3><p>リセットスタイル（normalize.css など）や固有のリセットスタイル定義を置く。</p>\n<pre><code class=\"scss\">@import \"~normalize.css/normalize.css\";</code></pre>\n<pre><code class=\"scss\">*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 0;\n  margin-bottom: 0;\n}</code></pre>\n<h3>Elements</h3><p>素の HTML 要素（a, h1…6 など）のスタイルを定義する。クラスセレクターなどは使用せず、要素セレクターのみで定義する。</p>\n<pre><code class=\"scss\">a {\n  color: #333;\n  text-decoration: none;\n}\n\nh2 {\n  color: #666;\n}</code></pre>\n<h3>Layouts</h3><p>ITCSS には無い新規追加のレイヤー</p>\n<p>装飾を持たないレイアウトを定義する。<br>後述の Objects レイヤーとは異なり、大きな粒度のレイアウトを定義する。</p>\n<pre><code class=\"scss\">.l-single {\n  margin: 0 auto;\n  width: 64rem;\n}\n\n.l-multiple {\n  display: flex;\n  width: 32rem;\n}</code></pre>\n<p>プレフィックス: <code>.l-</code></p>\n<h3>Objects</h3><p>装飾を持たないレイアウトを定義する。<br>Layout レイヤーよりも小さな粒度のレイアウトを定義する。</p>\n<p>例えば、「フォームのインプット要素の組み合わせ」や「タイトルと説明の組み合わせ」のレイアウト。</p>\n<pre><code class=\"scss\">.o-form-group {\n  &amp;__title {\n    margin-bottom: 1rem;\n  }\n\n  &amp;__input {\n    margin-bottom: 2rem;\n  }\n}</code></pre>\n<pre><code class=\"scss\">.o-page-header {\n  &amp;__title {\n    margin-bottom: 1rem;\n  }\n\n  &amp;__description {\n    text-align: center;\n  }\n}</code></pre>\n<p>プレフィックス: <code>.o-</code></p>\n<h3>Vendor</h3><p>ITCSS には無い新規追加のレイヤー</p>\n<p>npm 経由で取得したサードパーティ系のスタイルの読み込みや個別スタイルを定義する。</p>\n<pre><code class=\"scss\">// Swiper\n@import \"~swiper/swiper.scss\";\n\n// override\n.swiper-button-prev {\n  &amp;:after {\n    content: \"←\";\n  }\n}\n\n.swiper-button-next {\n  &amp;:after {\n    content: \"→\";\n  }\n}</code></pre>\n<pre><code class=\"scss\">// Vue.js\n[v-cloak] {\n  display: none;\n}</code></pre>\n<p>他のレイヤーに影響を受けないように上位レイヤーで定義する。（下位のレイヤーで上書きをする）</p>\n<h3>Components</h3><p>再利用可能で機能的なモジュールを定義する。</p>\n<p>サイト内のコンポーネント（UI パーツ）を定義する。<br>さまざまな箇所で使えるようにするため、<code>margin</code>などは持たせない。</p>\n<pre><code class=\"scss\">.c-alert {\n  padding: 1rem 2rem;\n  border: 1px solid #343a40;\n  background: #e9ecef;\n}</code></pre>\n<p>プレフィックス: <code>.c-</code></p>\n<h3>Parts</h3><p>ITCSS には無い新規追加のレイヤー</p>\n<p>一部の共通ページでの利用など再利用性が少なく、機能性的ではないものを定義する。</p>\n<pre><code class=\"scss\">.pt-price {\n  display: flex;\n  line-height: 1;\n\n  &amp;__proper {\n    @include yen-sign;\n  }\n\n  &amp;__sale {\n    color: #c92a2a;\n  }\n}</code></pre>\n<pre><code class=\"scss\">.pt-confirm-content {\n  &amp;__header {\n    display: block;\n    margin-bottom: 1rem;\n    color: #343a40;\n    font-size: 1.25rem;\n    font-weight: bold;\n  }\n\n  .c-alert {\n    margin: 0 1rem;\n  }\n}</code></pre>\n<h3>Project</h3><p>ITCSS には無い新規追加のレイヤー</p>\n<pre><code class=\"scss\">.pj-header {\n  background: #fff;\n\n  @include desktop {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n}\n\n.pj-header-main {\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  padding: 0 1rem;\n  border-bottom: 1px solid #d1d1d1;\n}</code></pre>\n<p>プレフィックス: <code>.pj-</code></p>\n<h3>Pages</h3><p>ITCSS には無い新規追加のレイヤー</p>\n<pre><code class=\"scss\">.pg-login-form {\n  margin-top: 2rem;\n  padding-top: 2.5rem;\n}\n\n.pg-login-form-password {\n  &amp;__link {\n    color: #474747;\n    text-decoration: underline;\n  }\n}</code></pre>\n<p>プレフィックス: <code>.pg-</code></p>\n<h3>Utilities (Trumps)</h3><p>ヘルパー・ユーティリティ系のスタイルを定義する。</p>\n<p><code>!important</code>の利用を許可するレイヤー。</p>\n<pre><code class=\"scss\">.u-hide {\n  display: none !important;\n}</code></pre>\n<p>プレフィックス: <code>.u-</code></p>\n<h2>おわり</h2><ul>\n<li><a href=\"https://github.com/hiro0218/YUKICSS\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ディレクトリサンプル</a></li>\n</ul>\n","excerpt":"主に影響を受けている CSS 設計・思想 / 命名規則 / 構成レイヤー / おわり","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"},{"name":"設計","slug":"設計","path":"tags/%E8%A8%AD%E8%A8%88/"},{"name":"Dev","slug":"Dev","path":"tags/Dev/"},{"name":"WIP","slug":"WIP","path":"tags/WIP/"}],"prev":{"title":"[Google Fonts] 読み込みのパフォーマンスを向上させる方法","path":"202005301105.html"},"next":{"title":"[PHP] DOMDocumentでloadHTMLして文字化けする時の対処方法","path":"202003220025.html"}},{"title":"[PHP] DOMDocumentでloadHTMLして文字化けする時の対処方法","path":"202003220025.html","permalink":"https://b.0218.jp/202003220025.html","date":"2020-03-22T00:25:16.000Z","updated":"2020-03-22T00:25:16.000Z","thumbnail":"","content":"<h2>状況</h2><p>下記のコードを実行した際にマルチバイト文字が文字化けする。</p>\n<pre><code class=\"php\">// h2 要素のみ取り出し\n$content = '&lt;h2&gt;見出し&lt;/h2&gt;&lt;p&gt;文章&lt;/p&gt;';\n$headings = [];\n$dom = new DOMDocument();\n$dom-&gt;loadHTML($content);\n$nodes = $dom-&gt;getElementsByTagName('h2');\n\nforeach ($nodes as $node) {\n  $headings[] = $node-&gt;textContent;\n}</code></pre>\n<p><code>見出し</code> -&gt; <code>è¦åºã</code> となってしまう。</p>\n<h2>方法</h2><pre><code class=\"php\">// h2 要素のみ取り出し\n$content = '&lt;h2&gt;見出し&lt;/h2&gt;&lt;p&gt;文章&lt;/p&gt;';\n$headings = [];\n$dom = new DOMDocument();\n$dom-&gt;loadHTML(mb_convert_encoding($content, 'HTML-ENTITIES', 'UTF-8'));\n$nodes = $dom-&gt;getElementsByTagName('h2');\n\nforeach ($nodes as $node) {\n  $headings[] = $node-&gt;textContent;\n}</code></pre>\n<p><code>DOMDocument::loadHTML</code>は、文字列を<code>ISO-8859-1</code>として扱うため UTF-8 文字が化けてしまっている。<br>なので、<code>mb_convert_encoding</code>で UTF-8 へ変換して<code>$dom-&gt;loadHTML</code>へ文字列を渡すようにする。</p>\n<p>下記のような<code>DOCTYPE</code>の宣言が含まれている文字列だと UTF-8 として解釈してくれる。</p>\n<pre><code class=\"php\">$dom-&gt;loadHTML('&lt;?xml encoding=\"utf-8\" ?&gt;' . $content);</code></pre>\n","excerpt":"状況 / 方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","path":"tags/PHP/"}],"prev":{"title":"WIP: [CSS設計] YUKICSS - ITCSSベースのCSSアーキテクチャ","path":"202005260924.html"},"next":{"title":"[JavaScript] 指定ページのみで発火させるスクリプトの構成","path":"202003101846.html"}},{"title":"[JavaScript] 指定ページのみで発火させるスクリプトの構成","path":"202003101846.html","permalink":"https://b.0218.jp/202003101846.html","date":"2020-03-11T23:43:06.000Z","updated":"2020-03-11T23:43:06.000Z","thumbnail":"","content":"<h2>使用する想定状況</h2><p>EC サイトにおける、商品一覧・商品詳細・カートページでそれぞれ固有の処理を走らせたい。</p>\n<p>ただし、商品一覧（item-list.js）・商品詳細（item-detail.js）・カートページ（cart.js）を言ったように各ファイルを用意するのではなく、1 つの index.js に集約してページごとに実行処理を分岐させる。</p>\n<h2>準備</h2><h3>ページを特定できるよう属性を付与する</h3><p>各ページに特定できるような属性を付けてスクリプト側から区別できるようにする。（ここでは <code>data-page</code> ）</p>\n<pre><code class=\"html\">&lt;!-- 商品一覧 --&gt;\n&lt;body data-page=\"itemList\"&gt;\n  &lt;!-- イカした一覧ページ --&gt;\n&lt;/body&gt;</code></pre>\n<pre><code class=\"html\">&lt;!-- 商品詳細 --&gt;\n&lt;body data-page=\"itemDetail\"&gt;\n  &lt;!-- イカした詳細ページ --&gt;\n&lt;/body&gt;</code></pre>\n<pre><code class=\"html\">&lt;!-- カート --&gt;\n&lt;body data-page=\"cart\"&gt;\n  &lt;!-- イカしたカートページ --&gt;\n&lt;/body&gt;</code></pre>\n<h3>ハンドリングするスクリプト</h3><pre><code class=\"js\">export default eventLoader = (functions) =&gt; {\n  fire(functions, \"common\");\n\n  // ページ名を取得\n  const pageName = document.body.dataset.page;\n  if (!pageName) return;\n\n  // ページ固有のJSを実行\n  fire(functions, pageName);\n};\n\nconst fire = (functions, pageName) =&gt; {\n  // ページ名とイベントが一致しているかチェック\n  const defaultFunction = \"init\";\n  const hasFunction =\n    functions[pageName] &amp;&amp;\n    typeof functions[pageName][defaultFunction] === \"function\";\n  if (!hasFunction) return;\n\n  // 一致したdefault eventを実行\n  try {\n    functions[pageName][defaultFunction]();\n  } catch (e) {\n    console.error(e);\n  }\n};</code></pre>\n<h2>使用方法</h2><h3>eventLoader を読み込む</h3><pre><code class=\"js\">import eventLoader from \"./eventLoader\";\n\nimport common from \"./common\";\nimport itemList from \"./item-list\";\nimport itemDetail from \"./item-detail\";\nimport cartPage from \"./cart\";\n\nconst functions = {\n  // 共通\n  common,\n  // ページ\n  itemList,\n  itemDetail,\n  cart: cartPage,\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", eventLoader(functions), false);</code></pre>\n<p><code>eventLoader</code>の引数に渡す<code>Object</code> :</p>\n<table>\n<thead>\n<tr>\n<th>key</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>data-page</code>と一致する名称</td>\n<td><code>data-page</code>で実行させたいモジュール</td>\n</tr>\n</tbody></table>\n<h3>実行用モジュール</h3><pre><code class=\"js\">export default {\n  init() {\n    // SUGOI SYORI\n  },\n};</code></pre>\n<p><code>Object</code>内に<code>init</code>関数を用意する。（Facade な役割）</p>\n<p>※こちらは前述の<code>eventLoader</code>の実装仕様に依るので、そちらの処理を書き換えることで当然クラスを実行するかたちにもできる</p>\n<h2>大まかな仕様</h2><ol>\n<li><code>DOMContentLoaded</code>時に<code>eventLoader</code>を実行<ol>\n<li><code>eventLoader</code>には各種モジュールを定義した<code>Object</code>を渡す</li>\n</ol>\n</li>\n<li><code>eventLoader</code>:<ol>\n<li><code>body</code>要素の<code>data-page</code>を取得する</li>\n<li><code>data-page</code>の文字列にマッチしたモジュール内の<code>init()</code>を実行する</li>\n</ol>\n</li>\n</ol>\n","excerpt":"使用する想定状況 / 準備 / 使用方法 / 大まかな仕様","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"}],"prev":{"title":"[PHP] DOMDocumentでloadHTMLして文字化けする時の対処方法","path":"202003220025.html"},"next":{"title":"バックエンドから返却される規定画像要素に対してLazyload（遅延読み込み）をフロントエンドだけで実現させる\n","path":"202002171905.html"}},{"title":"バックエンドから返却される規定画像要素に対してLazyload（遅延読み込み）をフロントエンドだけで実現させる\n","path":"202002171905.html","permalink":"https://b.0218.jp/202002171905.html","date":"2020-02-17T19:05:01.000Z","updated":"2020-02-17T19:05:01.000Z","thumbnail":"","content":"<h2>Lazyload（遅延読み込み）とは</h2><p>例えば、大量の画像の読み込みが必要なページの場合、大量の画像の読み込みはページレンダリングのボトルネックになりやすく、ページの<strong>初期表示の遅延の原因となる</strong>ことが多い。こういったページの<strong>初期表示の高速化につなげる手法</strong>として「<strong>Lazyload</strong>（遅延読み込み）」が使用される。</p>\n<p>画像だけではなくインラインフレーム、動画やスクリプトも遅延読み込みの対象となることがあるが、一般的な遅延読み込みの対象は画像（<code>&lt;img&gt;</code>要素で使用される画像）である。<code>&lt;img&gt;</code>要素を遅延読み込みする場合、それらがビューポート内に入った際、src 属性を有効化する手法がよく取られる。</p>\n<h2>実施条件（縛り）</h2><ul>\n<li>バックエンド側からのレスポンスで<code>&lt;img&gt;要素に</code>src`属性は設定されている</li>\n<li>img 要素の出力場所はテンプレートコーディングで自由な場所に記述できる</li>\n<li>ネイティブ Lazyload（<code>loading=lazy</code>）は使用しない</li>\n</ul>\n<h3>イメージ</h3><pre><code class=\"html\">&lt;!-- テンプレート --&gt;\n&lt;body&gt;\n  &lt;%= IMG_SRC_OUTPUT %&gt;\n&lt;/body&gt;\n\n&lt;!-- ↓↓↓↓↓ --&gt;\n\n&lt;!-- 出力 --&gt;\n&lt;body&gt;\n  &lt;img src=\"./sugoi.png\" /&gt;\n&lt;/body&gt;</code></pre>\n<h2>実装</h2><p>まず、「遅延読み込み」の要である画像のリクエストが発生しないようにしなければならない。</p>\n<p>クライアントへのレスポンスの時点で<code>&lt;img src=\"〜\"&gt;</code>が返ってくることが前提であるので、下記のように<code>&lt;template&gt;</code>要素を包括させる。</p>\n<pre><code class=\"html\">&lt;!-- テンプレート --&gt;\n&lt;body&gt;\n  &lt;template&gt; &lt;%= IMG_SRC_OUTPUT %&gt; &lt;/template&gt;\n&lt;/body&gt;\n\n&lt;!-- ↓↓↓↓↓ --&gt;\n\n&lt;!-- 出力 --&gt;\n&lt;body&gt;\n  &lt;template&gt;\n    &lt;img src=\"./sugoi.png\" /&gt;\n  &lt;/template&gt;\n&lt;/body&gt;</code></pre>\n<p>こうすることで<code>&lt;img&gt;</code>要素はレンダリングされず且つ画像の読み込みが発生しないようになる。</p>\n<h3>template 要素の特徴</h3><ol>\n<li><p><code>&lt;template&gt;</code>内のコンテンツはレンダリングされない</p>\n</li>\n<li><p><code>&lt;template&gt;</code>内のコンテンツは反応しない：<br>→ 画像の読み込みは発生しない <code>&lt;img&gt;</code></p>\n</li>\n<li><p><code>&lt;template&gt;</code>内のコンテンツは DOM ツリー状に存在しないため、<code>document.getElementById()</code> や <code>querySelector()</code> で取得することが出来ない</p>\n</li>\n</ol>\n<h3>Lazyload の処理を設定する</h3><p>ここからが JavaScript（クライアントサイド）の出番。</p>\n<p>大まかに下記のような流れになる：</p>\n<ol>\n<li><code>&lt;template&gt;</code>のコンテンツから<code>&lt;img&gt;</code>要素を取り出す</li>\n<li>取り出した<code>&lt;img&gt;</code>要素の<code>src</code>を data 属性へ置き換える</li>\n<li>処理した<code>&lt;img&gt;</code>要素に対して Lazyload の処理を加える</li>\n<li><code>&lt;img&gt;</code>要素を<code>document</code>へ追加する</li>\n</ol>\n<h4>template 要素から img 要素を取り出す</h4><pre><code class=\"html\">&lt;template class=\"js-template-element\"&gt;\n  &lt;img src=\"./sugoi.png\" /&gt;\n  &lt;img src=\"./sugosugi.png\" /&gt;\n  &lt;img src=\"./super-sugoi.png\" /&gt;\n  &lt;img src=\"./sugokunai.png\" /&gt;\n&lt;/template&gt;</code></pre>\n<pre><code class=\"js\">// &lt;template&gt;要素から取得\nconst template = document.querySelector(\".js-template-element\");\nconst contents = document.importNode(template.content, true);\nconst images = contents.querySelectorAll(\"img\");</code></pre>\n<h4><code>src</code>を data 属性へ退避する</h4><p><code>&lt;template&gt;</code>要素から取り出した状態のまま<code>document</code>へ追加してしまうと画像読み込みが起きてしまうため、<code>&lt;img&gt;</code>要素の<code>src</code>を data 属性（<code>data-src</code>とする）へ退避させる。</p>\n<pre><code class=\"js\">const strData64gif =\n  \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\nconst images = contents.querySelectorAll(\"img\");\n\nfor (let i = 0; i &lt; images.length; i++) {\n  const image = images[i];\n  const src = image.getAttribute(\"src\");\n\n  image.setAttribute(\"data-src\", src);\n  image.setAttribute(\"src\", strData64gif);\n}</code></pre>\n<p><code>img</code>要素の src 属性は必須かつ空 (<code>\"\"</code>) または <code>null</code> である場合にエラーが発生してしまう。また、Firefox などでは、「壊れた画像」として扱われ、縦横サイズを指定してもサイズが保たれない。そのため、「Data URI（データ URI スキーム）」で「透過 gif」を src 属性にセットしておく。</p>\n<h4>処理した<code>&lt;img&gt;</code>要素に対して Lazyload の処理を加える</h4><p>Lazyload の手法はいくつかあるが、<code>Intersection Observer API</code>（交差監視 API）を利用する。</p>\n<pre><code class=\"js\">const lazyImages = document.querySelectorAll(\"img[data-src]\");\n\nlet lazyImageObserver = new IntersectionObserver((entries, observer) =&gt; {\n  entries.forEach((entry) =&gt; {\n    if (entry.isIntersecting) {\n      const lazyImage = entry.target;\n\n      lazyImage.src = lazyImage.dataset.src;\n      lazyImageObserver.unobserve(lazyImage);\n    }\n  });\n});\n\nfor (let i = 0; i &lt; lazyImages.length; i++) {\n  const lazyImage = lazyImages[i];\n  lazyImageObserver.observe(lazyImage);\n}</code></pre>\n<p>対象の<code>&lt;img&gt;</code>要素がビューポートに入ると<code>data-src</code>に退避した URL を<code>src</code>へ追加するため、画像の読み込みが開始される。</p>\n<h4><img>要素を doument へ追加する</h4><p>メモリ上に存在していた要素を<code>document</code>へ追加しレンダリングさせる。</p>\n<pre><code class=\"js\">document.body.appendChild(images);</code></pre>\n<hr>\n<p>快適な Lazyload ライフを。</p>\n<h2>参考</h2><ul>\n<li><a href=\"https://developers.google.com/web/fundamentals/performance/lazy-loading-guidance/images-and-video?hl=ja\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://developers.google.com/web/fundamentals/performance/lazy-loading-guidance/images-and-video?hl=ja</a></li>\n<li><a href=\"https://b.0218.jp/20200214180922.html\">template 要素について</a></li>\n</ul>\n","excerpt":"Lazyload（遅延読み込み）とは / 実施条件（縛り） / 実装 / 参考","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"},{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"},{"name":"template","slug":"template","path":"tags/template/"},{"name":"Lazyload","slug":"Lazyload","path":"tags/Lazyload/"}],"prev":{"title":"[JavaScript] 指定ページのみで発火させるスクリプトの構成","path":"202003101846.html"},"next":{"title":"[HTML] <template>要素について","path":"202002141809.html"}},{"title":"[HTML] <template>要素について","path":"202002141809.html","permalink":"https://b.0218.jp/202002141809.html","date":"2020-02-14T18:09:22.000Z","updated":"2020-02-14T18:09:22.000Z","thumbnail":"","content":"<h2>template 要素とは</h2><blockquote>\n<p><strong>HTML のコンテンツテンプレート (<code>&lt;template&gt;</code>) 要素</strong> は、すなわちページの読み込み時にすぐには描画されないものの、後で JavaScript を使用してインスタンスを生成できる <a href=\"https://developer.mozilla.org/ja/docs/Glossary/HTML\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">HTML</a> を保持するメカニズムです。</p>\n</blockquote>\n<blockquote>\n<p>テンプレートは、文書内に格納されたコンテンツの断片として考えてください。ページの読み込み時にパーサーが <strong><code>&lt;template&gt;</code></strong> 要素の内容を処理している間、その内容の有効性のみが検証されます。しかし、要素の内容は描画されません。</p>\n</blockquote>\n<p><a href=\"https://developer.mozilla.org/ja/docs/Web/HTML/Element/template\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://developer.mozilla.org/ja/docs/Web/HTML/Element/template</a></p>\n<h2>template 要素の特徴</h2><ol>\n<li>コンテンツは DOM に展開されるまで動作しない<br>→ メモリー上に存在するだけでレンダリングされない</li>\n<li><code>&lt;template&gt;</code>内のコンテンツは反応しない： <ol>\n<li><code>&lt;script&gt;</code>は動作しない </li>\n<li><code>&lt;img&gt;</code>の読み込みは発生しない </li>\n<li><code>&lt;audio&gt;</code>は再生されない<br>などなど…</li>\n</ol>\n</li>\n<li><code>&lt;template&gt;</code>内のコンテンツは DOM ツリー状に存在しないため、<code>document.getElementById()</code> や <code>querySelector()</code> で取得することが出来ない</li>\n</ol>\n<p><a href=\"https://www.html5rocks.com/ja/tutorials/webcomponents/template/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://www.html5rocks.com/ja/tutorials/webcomponents/template/</a></p>\n<h2>使い方</h2><pre><code class=\"html\">&lt;template class=\"template-element\"&gt;\n  &lt;img src=\"//example.com/image.png\" alt=\"sugoi gazou\" /&gt;\n&lt;/template&gt;</code></pre>\n<pre><code class=\"js\">// &lt;template&gt;要素から取得\nconst template = document.querySelector(\".template-element\");\nconst clone = document.importNode(template.content, true);\nconst img = clone.querySelector(\"img\");\n\n// DOMツリーへの挿入\ndocument.body.appendChild(img);</code></pre>\n<h2>その他</h2><pre><code class=\"html\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;template&gt;\n      &lt;div&gt;inner template&lt;/div&gt;\n    &lt;/template&gt;\n  &lt;/div&gt;\n&lt;/template&gt;</code></pre>\n<p>外側の<code>template</code>をアクティベートしても、内側の<code>template</code>はアクティベートされない。</p>\n","excerpt":"template 要素とは / template 要素の特徴 / 使い方 / その他","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"},{"name":"template","slug":"template","path":"tags/template/"}],"prev":{"title":"バックエンドから返却される規定画像要素に対してLazyload（遅延読み込み）をフロントエンドだけで実現させる\n","path":"202002171905.html"},"next":{"title":"ejsファイルをPrettierでフォーマット実行する際の覚書\n","path":"20191217134559.html"}},{"title":"ejsファイルをPrettierでフォーマット実行する際の覚書\n","path":"20191217134559.html","permalink":"https://b.0218.jp/20191217134559.html","date":"2019-12-17T13:46:34.000Z","updated":"2019-12-17T13:46:34.000Z","thumbnail":"","content":"<h2>前提</h2><p>ejs は、HTML と<code>&lt;% %&gt;</code>を混在させて使用する。だが、Prettier は ejs のフォーマットに対応していないため、<code>html</code>フォーマットをかける必要がある。</p>\n<pre><code class=\"bash\">prettier --parser html --write src/**/*.ejs</code></pre>\n<h2>ejs を html フォーマットする問題</h2><p>HTML のみの記述であれば全く問題ない。ただ、<code>&lt;% %&gt;</code>記法が混在する時に問題が起きるケースがある。</p>\n<p>下記のような 1 行の記述であれば問題ないのだが、</p>\n<pre><code class=\"ejs\">&lt;%- include('components/_page-title); %&gt;</code></pre>\n<p>下記のような複数行に渡る記述の場合に問題が起こる。</p>\n<pre><code class=\"ejs\">&lt;%-\n  include('components/_page-title', {\n    title: 'Multi-size item to choose by height and weight',\n    description: 'Popular brand items at your ideal size',\n    link: {\n      url: 'https://example.com/',\n      title: 'View all',\n    },\n  });\n%&gt;</code></pre>\n<p>上記を<code>--parse html</code>でフォーマットすると下記のようになってしまう。</p>\n<pre><code class=\"ejs\">&lt;%- include('components/_page-title', { title: 'Multi-size item to choose by height and weight', description: 'Popular\nbrand items at your ideal size', link: { url: 'https://example.com/', title: 'View all', }, }); %&gt;</code></pre>\n<p>記述を分断されて改行などが入ってしまうため、ejs としてビルドができなくなってしまう。</p>\n<h3>回避策</h3><p><code>&lt;!-- prettier-ignore --&gt;</code>を利用する。</p>\n<p>ignore コメントを ejs 記法の前に記述しても意味をなさない。そのため、下記のように HTML 要素をラップして記述する必要がある。</p>\n<pre><code class=\"ejs\">&lt;!-- prettier-ignore --&gt;\n&lt;div&gt;\n&lt;%-\n  include('components/_page-title', {\n    title: 'Multi-size item to choose by height and weight',\n    description: 'Popular brand items at your ideal size',\n    link: {\n      url: 'https://example.com/',\n      title: 'View all',\n    },\n  });\n%&gt;\n&lt;/div&gt;</code></pre>\n<p>こうすることで ejs の記述をフォーマットさせることなく、<code>--parse html</code>を実行することができる。</p>\n<h4>課題</h4><pre><code class=\"ejs\">&lt;%\nconst foo = 1;\nlet bar = foo;\n\nbar = 9;\n%&gt;</code></pre>\n<p>こういった HTML をラップする必要が皆無の場合、HTML を記述する箇所がほぼ皆無だったため、<code>.prettierignore</code>に記述して回避した。</p>\n","excerpt":"前提 / ejs を html フォーマットする問題","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"ejs","slug":"ejs","path":"tags/ejs/"},{"name":"Prettier","slug":"Prettier","path":"tags/Prettier/"}],"prev":{"title":"[HTML] <template>要素について","path":"202002141809.html"},"next":{"title":"[Git] masterへforce pushしてしまった状態を元に戻す方法","path":"20191209233712.html"}},{"title":"[Git] masterへforce pushしてしまった状態を元に戻す方法","path":"20191209233712.html","permalink":"https://b.0218.jp/20191209233712.html","date":"2019-12-09T23:37:12.000Z","updated":"2019-12-09T23:37:12.000Z","thumbnail":"","content":"<h2>想定状況</h2><p><code>git push origin master</code>をした後に master ブランチへ意図しない状態になっている。</p>\n<h2>方法</h2><pre><code>$ git reset --hard origin/master@{1}</code></pre>\n","excerpt":"想定状況 / 方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Git","slug":"Git","path":"tags/Git/"}],"prev":{"title":"ejsファイルをPrettierでフォーマット実行する際の覚書\n","path":"20191217134559.html"},"next":{"title":"[Git] リモートブランチや履歴を維持したまま別リポジトリへコピーする方法","path":"20191209020359.html"}},{"title":"[Git] リモートブランチや履歴を維持したまま別リポジトリへコピーする方法","path":"20191209020359.html","permalink":"https://b.0218.jp/20191209020359.html","date":"2019-12-09T02:03:59.000Z","updated":"2019-12-09T02:03:59.000Z","thumbnail":"","content":"<h2>背景</h2><p>既存リポジトリから新規リポジトリへのお引越し案件。リポジトリを複製するようなイメージ。</p>\n<h2>手順</h2><p>下記をそれぞれ作成しておくことになる。</p>\n<ul>\n<li><code>git@github.com:サンプル/既存リポジトリ.git</code></li>\n<li><code>git@github.com:サンプル/新規リポジトリ.git</code></li>\n</ul>\n<p>SSH だけじゃなく HTTPS でも同じようにコピーは可能。</p>\n<h3>引越し先のリポジトリを作成</h3><p><code>git@github.com:サンプル/新規リポジトリ.git</code>を作成。</p>\n<h3>リポジトリのクローンを作成する</h3><pre><code>$ git clone --bare git@github.com:サンプル/既存リポジトリ.git</code></pre>\n<p>ローカル環境に<code>既存リポジトリ.git</code>が作成される。</p>\n<h3>新規リポジトリをミラープッシュする</h3><p>前述で作成された<code>既存リポジトリ.git</code>へ移動し、引越し先のリポジトリに push する。</p>\n<pre><code>$ cd 既存リポジトリ.git\n$ git push --mirror git@github.com:サンプル/新規リポジトリ.git</code></pre>\n<p>これで完成。<br>最後に不要になった<code>rm -rf 既存リポジトリ.git</code>を削除する。</p>\n","excerpt":"背景 / 手順","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Git","slug":"Git","path":"tags/Git/"}],"prev":{"title":"[Git] masterへforce pushしてしまった状態を元に戻す方法","path":"20191209233712.html"},"next":{"title":"[CSS設計] BEMの使い方を知る","path":"20191002235110.html"}},{"title":"[CSS設計] BEMの使い方を知る","path":"20191002235110.html","permalink":"https://b.0218.jp/20191002235110.html","date":"2019-10-02T23:51:10.000Z","updated":"2019-10-02T23:51:10.000Z","thumbnail":"","content":"<p>CSS 設計のために、改めて BEM について考えてみた。</p>\n<p>BEM の基本的な記法に加えて、踏み込んで触ってみて実感した使い方やノウハウなどを記載する。</p>\n<h2>BEM とは</h2><p><a href=\"https://github.com/juno/bem-methodology-ja/blob/master/definitions.md\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">BEM</a>は、検索エンジンの<a href=\"https://yandex.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Yandex</a>が使っている CSS の設計方法らしい。（実際、Yandex のサイト内を見てみるとクラスの指定が BEM になっている 😳）</p>\n<pre><code class=\"html\">&lt;!-- https://yandex.com/company/ - code --&gt;\n&lt;div class=\"widget\"&gt;\n  &lt;div class=\"widget__title\"&gt;&lt;/div&gt;\n  &lt;div class=\"widget__post\"&gt;\n    &lt;a class=\"widget__post-header\"&gt;&lt;/a&gt;\n    &lt;div class=\"widget__date\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;</code></pre>\n<p>一般的に BEM を使った CSS 設計と言っても、主に <a href=\"https://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">MindBEMding</a> が使われているようである。本家の BEM とは命名規則などのルールに違いがある。本記事では MindBEMding を前提に記載をする。</p>\n<h2>BEM の基本的な使い方</h2><p>BEM は、Block（ブロック）、Element（エレメント）、Modifier（モディファイア）の頭文字を取った略語である。</p>\n<ul>\n<li><strong>B</strong>lock → 塊</li>\n<li><strong>E</strong>lement → 要素</li>\n<li><strong>M</strong>odifier → 状態</li>\n</ul>\n<p>クラスの命名規則もこれの概念に沿って付けていく。</p>\n<ul>\n<li><code>.Block</code><br>コンポーネントの親要素 / 独立した要素</li>\n<li><code>.Block__Element</code><br>Block に紐付いた要素 / Block 内でいくつも存在できる</li>\n<li><code>.Block--Modifier</code> / <code>.Block__Element--Modifier</code><br>バリエーションや状態を変化させるときに指定する</li>\n</ul>\n<p>命名規則はハイフン 2 つやアンダースコア 2 つでつなげる。親は Block であり、子に Element が続く場合は<code>__</code>で、<code>Modifier</code>が続く場合は<code>—</code>でつなげていく。</p>\n<pre><code class=\"html\">&lt;div class=\"block\"&gt;\n  &lt;div class=\"block__element\"&gt;&lt;/div&gt;\n  &lt;div class=\"block__element--modifier\"&gt;&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n<p>BEM が提唱している記法に留まらず、<code>Block—Modifier—Modifier</code>などのような命名も可能ではあるが、イレギュラーケースを作りすぎると規則性が無くなっていくので、私は基本記法に留めている。</p>\n<h3>Block</h3><p>Block は独立した存在で、大本の「構成要素」になる。競合しない名前空間を作り、外部から影響を受けないようにする。</p>\n<pre><code class=\"html\">&lt;div class=\"block\"&gt;&lt;/div&gt;</code></pre>\n<p>命名だけのルールなので、当然<code>&lt;span&gt;</code>要素も Block 足り得るのだが、意識的には所謂「ブロック要素」を Block とした方が実装はしやすいと思う。</p>\n<h3>Element</h3><p>Element は、所属する Block の一部であり、そこでのみ意味を成す（独立した存在にはなれない）。</p>\n<p>クラス名は<code>.block__element</code>のような命名になる。 Block の名前を引き継ぎつつ、 Element の前をハイフン 2 つで繋ぐ。</p>\n<pre><code class=\"html\">&lt;div class=\"block\"&gt;\n  &lt;ul class=\"block__list\"&gt;\n    &lt;li class=\"block__item\"&gt;&lt;/li&gt;\n    &lt;li class=\"block__item\"&gt;&lt;/li&gt;\n    &lt;li class=\"block__item\"&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;</code></pre>\n<pre><code class=\"scss\">.block {\n  &amp;__list {\n  }\n  &amp;__item {\n  }\n}\n\n// or\n.block {\n}\n.block__list {\n}\n.block__item {\n}</code></pre>\n<p>Block により名前空間が作られるので、Element が他への影響を与えることがない。</p>\n<h3>Modifier</h3><p>Modifier は Block と Element のバリエーションや状態の変化を表す。</p>\n<p>クラス名は<code>.block__element--modifier</code>/<code>.block--modifier</code>のような命名になる。Block・Element に続けて、Modifier をアンダースコア 2 つで繋ぐ。</p>\n<pre><code class=\"html\">&lt;div class=\"block\"&gt;\n  &lt;ul class=\"block__list--inline\"&gt;\n    &lt;li class=\"block__item\"&gt;&lt;/li&gt;\n    &lt;li class=\"block__item\"&gt;&lt;/li&gt;\n    &lt;li class=\"block__item\"&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;</code></pre>\n<pre><code class=\"scss\">.block {\n  &amp;__list {\n  }\n  &amp;__list--inline {\n  }\n}\n\n// or\n.block {\n}\n.block__list {\n}\n.block__list--inline {\n}</code></pre>\n<h3>その他</h3><p>BEM の基本的な記法は、Block・Element・Modifier 以上のものはない。ただ、BEM 記法を利用したシステムで出てくる使いづらさなどは別途回避をしていきたい。</p>\n<h4>状態の表現</h4><p><a href=\"http://smacss.com/ja\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">SMACSS</a> / <a href=\"https://github.com/hiloki/flocss\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">FLOCSS</a>などで状態を表すとき、<code>is-*</code>プレフィックスを使い<code>.is-state</code>のような命名でマルチクラスで指定する。</p>\n<p>BEM の場合は、そのまま Modifier で表現するのだが、JS で状態変化をさせるためにクラスを変える際は、元々のクラスごと差し替えないといけなくなる。</p>\n<pre><code class=\"js\">// for モダンブラウザ\nconst block = document.querySelector(\".block__list\");\nblock.classList.replace(\".block__list\", \".block__list--state\");\n\n// for レガシーブラウザ\nblock.classList.remove(\".block__list\");\nblock.classList.add(\".block__list--state\");</code></pre>\n<p>元のクラス(<code>.block</code>)を差し替えるとなると管理が厳しくなる。本来、BEM に則った場合は Modifier でクラス定義するのが正しいが、こういった JS を使った状態管理の場合は<code>is-state</code>を許容してもいいだろう。<br>ただし、このマルチクラスでは Block のスタイルを継承などはせず、状態に応じた見た目の変更のみ定義すると見通しが良くなるように思う。</p>\n<pre><code class=\"scss\">// 定義もマルチクラスとして定義\n.block__list {\n  display: block;\n  &amp;.is-state {\n    display: none;\n  }\n}\n\n// もしくは汎用的に定義する\n.is-state {\n  display: none;\n}</code></pre>\n<p>ちなみに FLOCSS の思想では、Modifier のスタイルを汚染してしまうのを防ぐため、この<code>is-state</code>自体にをスタイル定義を持たせるのを禁止している。</p>\n<h4>Element 内の Element のパターン（element_element）</h4><p>HTML 構造に寄せた命名にする必要はない。</p>\n<pre><code class=\"html\">&lt;!-- NG --&gt;\n&lt;div class=\"block\"&gt;\n  &lt;ul class=\"block__list\"&gt;\n    &lt;li class=\"block__list__item\"&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;!-- OK --&gt;\n&lt;div class=\"block\"&gt;\n  &lt;ul class=\"block__list\"&gt;\n    &lt;li class=\"block__item\"&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;</code></pre>\n<p>HTML 構造に寄せたところで Block 内のネスト構造は変わる可能性もあるため、<code>block__list__item</code>ではなく Block 内の Element という位置づけで<code>block__item</code>で良い。</p>\n<h2>おわり</h2><p>BEM 記法は、非常にみにくい。命名から構造が分かりやすいと言っても命名者次第といったところで、単純に命名で縛る（ネームスペースの担保）ものでしかない。だが、BEM 以上に理にかなった命名規則が今の所ないように思うので、現時点での最適解というのは受け入れられる。</p>\n<p>FLOCSS が MindBEMding の記法をそのまま取り入れているように、プロジェクトに適した形（他の設計思想と上手く組み合わせる）で取り入れると、より効率的な CSS 開発が出来るようになると思う。</p>\n","excerpt":"BEM とは / BEM の基本的な使い方 / おわり","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"},{"name":"設計","slug":"設計","path":"tags/%E8%A8%AD%E8%A8%88/"},{"name":"BEM","slug":"BEM","path":"tags/BEM/"}],"prev":{"title":"[Git] リモートブランチや履歴を維持したまま別リポジトリへコピーする方法","path":"20191209020359.html"},"next":{"title":"[WordPress] REST APIの投稿項目をフィルターする方法","path":"20190923162100.html"}},{"title":"[WordPress] REST APIの投稿項目をフィルターする方法","path":"20190923162100.html","permalink":"https://b.0218.jp/20190923162100.html","date":"2019-09-23T16:24:23.000Z","updated":"2019-09-23T16:24:23.000Z","thumbnail":"","content":"<p>WP REST API は、パラメータによってレスポンスを変えることができる。</p>\n<p>以前は<code>filter[key]</code>みたいなパラメータでフィルタリング出来ていたが、現状使えない模様。</p>\n<h2>環境</h2><p>確認した環境はこちら</p>\n<ul>\n<li>WordPress 5.2</li>\n</ul>\n<h2>実現方法</h2><h3>通常の取得方法</h3><p>WP REST API で記事一覧を取得する時に以下のような API を叩く。</p>\n<pre><code>https://demo.wp-api.org/wp-json/wp/v2/posts</code></pre>\n<p>そうすると下記のようなレスポンスが返却される。</p>\n<pre><code class=\"json\">[\n  {\n    \"id\": 1,\n    \"date\": \"2017-05-23T06:25:50\",\n    \"date_gmt\": \"2017-05-23T06:25:50\",\n    \"guid\": {\n      \"rendered\": \"http://demo.wp-api.org/?p=1\"\n    },\n    \"modified\": \"2017-05-23T06:25:50\",\n    \"modified_gmt\": \"2017-05-23T06:25:50\",\n    \"slug\": \"hello-world\",\n    \"status\": \"publish\",\n    \"type\": \"post\",\n    \"link\": \"https://demo.wp-api.org/2017/05/23/hello-world/\",\n    \"title\": {\n      \"rendered\": \"Hello world!\"\n    },\n    \"content\": {\n      \"rendered\": \"&lt;p&gt;Welcome to &lt;a href=\\\"http://wp-api.org/\\\"&gt;WP API Demo Sites&lt;/a&gt;. This is your first post. Edit or delete it, then start blogging!&lt;/p&gt;\\n\",\n      \"protected\": false\n    },\n    \"excerpt\": {\n      \"rendered\": \"&lt;p&gt;Welcome to WP API Demo Sites. This is your first post. Edit or delete it, then start blogging!&lt;/p&gt;\\n\",\n      \"protected\": false\n    },\n    \"author\": 1,\n    \"featured_media\": 0,\n    \"comment_status\": \"open\",\n    \"ping_status\": \"open\",\n    \"sticky\": false,\n    \"template\": \"\",\n    \"format\": \"standard\",\n    \"meta\": [],\n    \"categories\": [1],\n    \"tags\": [],\n    \"_links\": {\n      \"self\": [\n        {\n          \"href\": \"https://demo.wp-api.org/wp-json/wp/v2/posts/1\"\n        }\n      ],\n      \"collection\": [\n        {\n          \"href\": \"https://demo.wp-api.org/wp-json/wp/v2/posts\"\n        }\n      ],\n      \"about\": [\n        {\n          \"href\": \"https://demo.wp-api.org/wp-json/wp/v2/types/post\"\n        }\n      ],\n      \"author\": [\n        {\n          \"embeddable\": true,\n          \"href\": \"https://demo.wp-api.org/wp-json/wp/v2/users/1\"\n        }\n      ],\n      \"replies\": [\n        {\n          \"embeddable\": true,\n          \"href\": \"https://demo.wp-api.org/wp-json/wp/v2/comments?post=1\"\n        }\n      ],\n      \"version-history\": [\n        {\n          \"count\": 0,\n          \"href\": \"https://demo.wp-api.org/wp-json/wp/v2/posts/1/revisions\"\n        }\n      ],\n      \"wp:attachment\": [\n        {\n          \"href\": \"https://demo.wp-api.org/wp-json/wp/v2/media?parent=1\"\n        }\n      ],\n      \"wp:term\": [\n        {\n          \"taxonomy\": \"category\",\n          \"embeddable\": true,\n          \"href\": \"https://demo.wp-api.org/wp-json/wp/v2/categories?post=1\"\n        },\n        {\n          \"taxonomy\": \"post_tag\",\n          \"embeddable\": true,\n          \"href\": \"https://demo.wp-api.org/wp-json/wp/v2/tags?post=1\"\n        }\n      ],\n      \"curies\": [\n        {\n          \"name\": \"wp\",\n          \"href\": \"https://api.w.org/{rel}\",\n          \"templated\": true\n        }\n      ]\n    }\n  }\n]</code></pre>\n<h3>フィルターの取得方法</h3><p><code>_fields</code>というパラメータを使うとフィルタリングが出来る。</p>\n<pre><code>_fields={表示したいキー}</code></pre>\n<p>これを踏まえた上で下記のパラメータで API を叩く。</p>\n<pre><code>https://demo.wp-api.org/wp-json/wp/v2/posts?_fields=id,slug</code></pre>\n<p>そうすると大量の情報がフィルタリングされて、id, slug だけになる。</p>\n<pre><code class=\"json\">[\n  {\n    \"id\": 1,\n    \"slug\": \"hello-world\"\n  }\n]</code></pre>\n<h2>おわり</h2><p>クライアント側としては、<code>content</code>の内容など不要というケースは多いので、必要な情報だけ取得してレスポンスの大きさを減らしていきたい。</p>\n","excerpt":"環境 / 実現方法 / おわり","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"REST-API","slug":"REST-API","path":"tags/REST-API/"}],"prev":{"title":"[CSS設計] BEMの使い方を知る","path":"20191002235110.html"},"next":{"title":"[Vue.js] Vuexの使い方を知る","path":"20190815134715.html"}},{"title":"[Vue.js] Vuexの使い方を知る","path":"20190815134715.html","permalink":"https://b.0218.jp/20190815134715.html","date":"2019-08-15T13:47:15.000Z","updated":"2019-08-15T13:47:22.000Z","thumbnail":"https://vuex.vuejs.org/vuex.png","content":"<p>自分の理解のために再構成しつつ記載している。</p>\n<h2>Flux のアーキテクチャを知る</h2><p>Vuex は、<a href=\"https://facebook.github.io/flux/docs/overview.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Flux</a>（＋<a href=\"http://redux.js.org/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Redux</a>・<a href=\"https://guide.elm-lang.org/architecture/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">The Elm Architecture</a>）から影響を受けているため、Flux のアーキテクチャを知れば、Vuex を理解しやすくなるだろう。</p>\n<p>Flux は、2014 年に Facebook が提唱したアプリケーションのデータフローを管理するためのパターンである。（フレームワークなどではなくアプリケーションアーキテクチャ）</p>\n<p>Flux の概念として、「<strong>データの流れが単一方向にである</strong>」を念頭に入れることが重要である。</p>\n<p><a href=\"https://github.com/facebook/flux/tree/master/examples/flux-concepts\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">flux/examples/flux-concepts at master · facebook/flux · GitHub</a></p>\n<h3>Flux の構成要素とデータの流れ</h3><p>Flux において、<strong>データの流れは単一方向</strong>である。</p>\n<p>データの流れが単一方向という制約で構築することで、どこで状態の変更が起きているのか判別しやすくなり、またコンポーネント間で状態の変更を検知する必要が無くなり、状態管理が容易になる。</p>\n<p>また、Flux は下記の 4 つの要素で構成される。</p>\n<ul>\n<li><strong>Action</strong><br>実行する処理を定義する</li>\n<li><strong>Dispatcher</strong><br>Action を受け取り、自身と紐づく Store へ送る</li>\n<li><strong>Store</strong><br>状態を定義、保持し、Dispatcher からの Action に応じて状態を更新する</li>\n<li><strong>View</strong><br>Store の状況に応じて画面を表示・更新する</li>\n</ul>\n<p><img src=\"https://github.com/facebook/flux/raw/master/examples/flux-concepts/flux-simple-f8-diagram-with-client-action-1300w.png\" loading=\"lazy\"></p>\n<p>Flux において、データフローは Dispatcher に集約される。</p>\n<p>Dispatcher は、 Action を Store に送信する役割を持つ。Store は受け取った Action を基に状態を更新し、Store に紐付いた View は画面を更新するといったフローになる。</p>\n<p>データの流れは単一方向なので、View から Store へ直接変更を加えることはできないが、View から Dispatcher に対して Action を渡すことで Store に変更を加えることはできる。「View から Store へ変更を加えなければならない」ケースでも単一方向という制約を破らないようにすることでデータフローを複雑化させることを避けられる。</p>\n<hr>\n<h3>Action</h3><p>Action は、アプリケーションの内部 API を定義する。アプリケーションと相互作用する方法をキャプチャします。これらは、「タイプ」フィールドといくつかのデータを持つ単純なオブジェクトです。</p>\n<p>Action は、発生する Action を意味的に説明するものでなければならない。Action の実装の詳細を記述するべきではない。<code>delete-user-id</code>、<code>clear-user-data</code>、<code>refresh-credentials</code>に分割するのではなく、<code>delete-user</code>という単位で記述する。</p>\n<p>すべての Store が Action を受け取り、同じ<code>delete-user</code>Action を処理することで、「データをクリアする」「資格情報を更新する」必要があることが分かるようになる。</p>\n<h3>Dispatcher</h3><p>Dispatcher は、Action を受け取り、Dispatcher に登録されている Store を更新する。</p>\n<p>Dispatcher は、アプリケーション内で単一であるため、すべての Action が必ず単一 Dispatcher を経由して Store を更新する事が保証される。</p>\n<h3>Store</h3><p>Store は、アプリケーションのデータを保持するものである。</p>\n<p>Store は、Action を受信できるように Dispatcher に登録しておき、Public な Setter は持たせず、Getter のみを存在させる。Dispatcher が Action を受けて、データに変更が必要であれば、「変更」イベントを発火させる。</p>\n<h3>View</h3><p>Store のデータは View に表示させる。（View は任意のフレームワークを使用できる）</p>\n<p><strong>View が Store からのデータを使用する場合、その Store からのイベントを変更するためにも Subscribe しておく必要がある。</strong>その後、Store の変更を検知して、View は新しいデータに基づき再レンダリングする。</p>\n<h2>Vuex とは</h2><p><a href=\"https://vuex.vuejs.org/ja/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">公式によると</a></p>\n<blockquote>\n<p>Vuex は Vue.js アプリケーションのための 状態管理パターン + ライブラリです。 これは予測可能な方法によってのみ状態の変異を行うというルールを保証し、アプリケーション内の全てのコンポーネントのための集中型のストアとして機能します。</p>\n</blockquote>\n<h3>状態管理パターンとは</h3><p><a href=\"https://vuex.vuejs.org/ja/#%E7%8A%B6%E6%85%8B%E7%AE%A1%E7%90%86%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3-%E3%81%A8%E3%81%AF%E3%81%AA%E3%82%93%E3%81%A7%E3%81%99%E3%81%8B%EF%BC%9F\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Vuex 公式ページに記載</a>されているカウンターアプリのサンプル：</p>\n<pre><code class=\"javascript\">new Vue({\n  // state\n  data() {\n    return {\n      count: 0,\n    };\n  },\n  // view\n  template: `\n    &lt;div&gt;{{ count }}&lt;/div&gt;\n  `,\n  // actions\n  methods: {\n    increment() {\n      this.count++;\n    },\n  },\n});</code></pre>\n<p><img src=\"https://vuex.vuejs.org/flow.png\" loading=\"lazy\"></p>\n<ul>\n<li><strong>State</strong>(情報): アプリの情報源(the source of truth)<br><code>count: 0</code></li>\n<li><strong>View</strong>(ビュー): State(状態)を View にマッピングするための宣言<br><code>{{ count }}</code></li>\n<li><strong>Actions</strong>(アクション): View の変更に応じて、State(状態)の変更を可能にする<br><code>increment()</code></li>\n</ul>\n<h4>デメリット</h4><p>しかしながら、上記のような状態管理は<strong>複数のコンポーネントから State を共有する形</strong>になった場合に複雑さを増してしまう。</p>\n<ul>\n<li><strong>複数の View（コンポーネント）が、共通の State に依存する</strong><br>プロパティ(props)として深く入れ子になったコンポーネントに渡していくとコードの見通しが悪くなる（データをバケツリレーしていくことになるため）</li>\n<li><strong>異なる View からの Actions で、共通の State を変更する</strong><br>親子のインスタンスを直接参照したり、$emit などのイベントを介して複数の状態を変更するパターンは、メンテナンスが困難なコードに繋がる</li>\n</ul>\n<p>こういった問題を解消させるため Vuex を使用する。</p>\n<p>コンポーネントが共有している State をグローバルシングルトンで管理することで、どのコンポーネントであっても State にアクセスしたり、アクションをトリガーすることが容易にできる。また、状態管理を定義、分離し、特定のルールを敷くことで、コードの構造と保守性を向上させることができる。</p>\n<h2>Vuex の構成要素とデータの流れ</h2><p>Flux の構成要素が、「Action」「Dispatcher」「Store」「View」だったのに対して、Vuex は下記の 4 つで構成される。</p>\n<ul>\n<li><strong>Actions</strong></li>\n<li><strong>Mutations</strong></li>\n<li><strong>State</strong></li>\n<li><strong>Getter</strong></li>\n</ul>\n<h3>Vuex のデータの流れ</h3><p>データの流れとしては、 Actions → Mutations → State （→ View）のフローである。</p>\n<p><img src=\"https://vuex.vuejs.org/vuex.png\" loading=\"lazy\"></p>\n<ol>\n<li>Flux と同様に、<strong>単一方向のデータフロー</strong>になる</li>\n<li>状態(State)は Mutations からの <code>commit</code> で変更以外は変更することはできない</li>\n</ol>\n<h3>Actions</h3><ul>\n<li>Actions は、状態は変更せず、 Mutations を <code>commit</code> する<br>Mutations を <code>commit</code> することで状態(State)を更新する</li>\n<li>Actions は、非同期処理が可能</li>\n</ul>\n<p><strong>定義:</strong></p>\n<pre><code class=\"javascript\">actions: {\n  increment ({ commit }) {\n    commit('increment')\n  }\n}</code></pre>\n<p>Actions は、<code>store.dispatch</code> がトリガーとなり実行される。</p>\n<pre><code>store.dispatch('increment')</code></pre>\n<p>Actions は非同期処理ができるため、そういった処理を含む場合は Actions に記述する。例えば、非同期でバックエンドとの通信（API）を伴うような処理が必要な場合に使用されることが多いように思う。</p>\n<p>非同期な API の呼び出しと複数の Mutations の commit の<a href=\"https://vuex.vuejs.org/ja/guide/actions.html#%E3%82%A2%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E3%83%87%E3%82%A3%E3%82%B9%E3%83%91%E3%83%83%E3%83%81\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">例</a>:</p>\n<pre><code class=\"javascript\">actions: {\n  checkout ({ commit, state }, products) {\n    // 現在のカート内の商品を保存する\n    const savedCartItems = [...state.cart.added]\n    // チェックアウトのリクエストを送信し、楽観的にカート内をクリアする\n    commit(types.CHECKOUT_REQUEST)\n    // shop API は成功時のコールバックと失敗時のコールバックを受け取る\n    shop.buyProducts(\n      products,\n      // 成功時の処理\n      () =&gt; commit(types.CHECKOUT_SUCCESS),\n      // 失敗時の処理\n      () =&gt; commit(types.CHECKOUT_FAILURE, savedCartItems)\n    )\n  }\n}</code></pre>\n<h3>Mutations</h3><p>Mutations は State を更新する唯一の方法であり、<strong>同期的である必要がある。</strong><br>（Actions は非同期可能）</p>\n<p>直接、 Mutations を呼び出すことはできない。<br>タイプを指定して Mutations に登録してある関数を <code>store.commit()</code>を経由で呼び出す必要がある：</p>\n<pre><code class=\"javascript\">// 呼び出し\nstore.commit('increment')\n\n// 定義\nmutations: {\n  increment (state) {\n    state.count++\n  }\n}</code></pre>\n<h3>Actions と Mutations が分けられている理由（余談）</h3><p>どういう処理をどちらに記述すれば良いのか。<a href=\"https://vuex.vuejs.org/ja/guide/mutations.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">公式</a>によると、</p>\n<blockquote>\n<p>状態変更を非同期に組み合わせることは、プログラムの動きを予測することを非常に困難にします。例えば、状態を変更する非同期コールバックを持った 2 つのメソッドを両方呼び出すとき、それらがいつ呼び出されたか、どちらが先に呼び出されたかを、どうやって知ればよいのでしょう？これがまさに、状態変更と非同期の 2 つの概念を分離したいという理由です。Vuex では全てのミューテーションは同期的に行うという作法になっています</p>\n</blockquote>\n<p>非同期の場合、いつ実行されるかが保証されないため、（Mutations を）同期的にすることで状態の変化を予測することができるようになる。<br>こうした理由から明示的に分けるために分けて考えられている。</p>\n<ul>\n<li><strong>Actions:</strong> 非同期</li>\n<li><strong>Mutations:</strong> 同期（状態変更）</li>\n</ul>\n<p>役割に応じて明示的に記述法が変わるため、見通しが良くなるように思う。</p>\n<h3>State</h3><p>引用文の通り。</p>\n<blockquote>\n<p>Vuex は 単一ステートツリー (single state tree) を使います。つまり、この単一なオブジェクトはアプリケーションレベルの状態が全て含まれており、”信頼できる唯一の情報源 (single source of truth)” として機能します。これは、通常、アプリケーションごとに 1 つしかストアは持たないことを意味します。</p>\n</blockquote>\n<p>単一の State に全てのデータを格納していく。</p>\n<h3>Getters</h3><p>State のデータを参照するために使用する。</p>\n<p>直接、State を参照するのではなく、State のデータに加工が必要な場合（<code>filter</code>などの処理）に使用する。</p>\n<pre><code class=\"javascript\">getters: {\n  doneTodos: (state) =&gt; {\n    return state.todos.filter((todo) =&gt; todo.done);\n  };\n}</code></pre>\n<p>もし、<code>filter</code>などの処理をしたデータを複数のコンポーネントで使用したい場合、複数の各コンポーネント側に<code>filter</code>処理が必要になる（コピーもしくは Util な関数に定義してインポートする必要がある）。<br>そのような場合において、Getters 内で処理を定義する。算出プロパティと同様に、Getters の結果は、その依存関係に基づいて計算され、依存関係の一部が変更されたときにのみ再評価されるメリットがある。</p>\n<h2>Vuex 使用所管</h2><h3>いつ、Vuex を使うべきか</h3><p>公式にはこう書いてある。</p>\n<blockquote>\n<p>Vuex は、共有状態の管理に役立ちますが、さらに概念やボイラープレートのコストがかかります。これは、短期的生産性と長期的生産性のトレードオフです。</p>\n<p>もし、あなたが大規模な SPA を構築することなく、Vuex を導入した場合、冗長で恐ろしいと感じるかもしれません。そう感じることは全く普通です。あなたのアプリがシンプルであれば、Vuex なしで問題ないでしょう。</p>\n</blockquote>\n<p>アプリケーションが複雑ではない場合（コンポーネント同士の状態が影響し合わない）、Vuex が不要なケースはあるし、そういった場合は不要だと思う。</p>\n<p>ただ、アプリケーションがシンプルな状態で完成する場合は未導入でも良いが、今後も成長する可能性があるのであれば、<strong>Vuex は構築時点で導入しておく方が良い</strong>と個人的には思う。イチから導入する際のコストは、途中から導入するより遥かに少ないし、Vue.js のエコシステム（<a href=\"https://cli.vuejs.org/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Vue CLI</a> や <a href=\"https://ja.nuxtjs.org/guide/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Nuxt.js</a> など）の利用であればもっと簡単に導入が出来るため、公式の引用にあるようなコストは掛からないだろう。</p>\n<h3>Vuex の使いどころ</h3><p>すべてのデータを Vuex で管理する必要はない。</p>\n<p>データの種類によって「Vuex で管理するのか否か」を区別すれば良い。<br>例えば、1 つのコンポーネント内でしか使用しない情報は、無理に Vuex で管理せず、コンポーネント内の data での管理で十分だ。</p>\n<ul>\n<li><strong>アプリケーション全体で使用されるデータ</strong><br>→ Vuex で管理</li>\n<li><strong>コンポーネント内のみで使用されるデータ</strong><br>→ コンポーネントの data で管理</li>\n</ul>\n<p>個人的には、「すべてのデータを Vuex で管理する」ことはおすすめしない。</p>\n<p>そうした場合、規模感が大きくなるにつれ、Store の管理が複雑になってくる。コンポーネント内で <code>watch</code> や <code>commit</code> が走るとコンポーネント間の状態管理まで複雑化していく。<br>さらに複数人で開発を行っていくと「状態」以外のもの（定数など）も State に定義し始めるケースも散見された（Store をグローバル変数として扱っているケース）。適切な状態を維持するためにも、Store はシンプルな構成で定義できるように、可能な限り、「すべてのデータを Vuex で管理しないようにする」のが全体の見通しを良くできるように思う。</p>\n","excerpt":"Flux のアーキテクチャを知る / Vuex とは / Vuex の構成要素とデータの流れ / Vuex 使用所管","categories":[{"name":"Vue.js","slug":"Vue-js","path":"categories/Vue-js/"}],"tags":[{"name":"Vue.js","slug":"Vue-js","path":"tags/Vue-js/"},{"name":"Vuex","slug":"Vuex","path":"tags/Vuex/"},{"name":"設計","slug":"設計","path":"tags/%E8%A8%AD%E8%A8%88/"},{"name":"Flux","slug":"Flux","path":"tags/Flux/"}],"prev":{"title":"[WordPress] REST APIの投稿項目をフィルターする方法","path":"20190923162100.html"},"next":{"title":"[npm] 公開・更新コマンドの覚え書き","path":"20190715214734.html"}},{"title":"[npm] 公開・更新コマンドの覚え書き","path":"20190715214734.html","permalink":"https://b.0218.jp/20190715214734.html","date":"2019-07-15T21:47:34.000Z","updated":"2019-07-15T21:47:40.000Z","thumbnail":"","content":"<h2>準備</h2><h3>ユーザーの作成</h3><p>WIP</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h3>package.json の作成</h3><p><code>npm init</code>で package.json を作成する。</p>\n<p>既に存在している場合でも正しい形に直してくれるので、対話式で進めていく。</p>\n<h3>通常</h3><pre><code>npm init</code></pre>\n<h3>スコープモジュール</h3><p>名前空間を持ったモジュールを公開したいときは下記のような引数を追加して実行する。</p>\n<pre><code>npm init --scope=&lt;npmユーザ名&gt;</code></pre>\n<p>上記の例だと<code>@&lt;npmユーザ名&gt;/プロジェクト名</code>という形で作成できる。</p>\n<p><code>npm init</code>後に package.json に下記の項目を追加しておく。</p>\n<pre><code>\"publishConfig\": {\n    \"access\": \"public\"\n}</code></pre>\n<p>スコープモジュールとして公開する際に<code>npm publish --access=public</code>とする必要があるが、この記述があればその指定が不要になる。</p>\n<p><a href=\"https://docs.npmjs.com/about-scopes\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://docs.npmjs.com/about-scopes</a></p>\n<hr>\n<p>npm でのプロジェクト名は早いもの勝ちで、シンプルなものだと被ってしまいがちだが、そんなプロジェクト名でも名前空間のおかげで被ることなく設定することが出来る。</p>\n<h3>license のデフォルトを MIT に変更する</h3><p>デフォルトでは license が ISC になっているのを MIT にしておきたい。</p>\n<pre><code>npm config set init.license MIT</code></pre>\n<h2>npm 公開用のコマンド</h2><h3>npm publish</h3><pre><code>npm publish</code></pre>\n<p>これを実行すると npm にモジュールが公開される。</p>\n<h3>npm version</h3><p>それぞれのコマンドを実行すると、package.json の version に応じて上げてくれ、そのバージョン名での tag が作られる。</p>\n<pre><code>npm version patch\nv1.0.1\n\nnpm version minor\nv1.1.0\n\nnpm version major\nv2.0.0</code></pre>\n<hr>\n<p>プロジェクトによって流れは違うだろうが、こういった流れで管理と公開をするケースもある。</p>\n<pre><code># version up\nnpm version patch\nv1.0.1\n\n# master に push\ngit push origin master\n\n# tagにpush\ngit push origin v1.0.1\n\n# push終わったらnpmにpublish\nnpm publish</code></pre>\n<h3>その他</h3><p>他にもあるらしいが、自分は使ったことがないため割愛。</p>\n<ul>\n<li><code>premajor</code></li>\n<li><code>preminor</code></li>\n<li><code>prepatch</code></li>\n<li><code>prerelease</code></li>\n<li><code>from-git</code></li>\n</ul>\n","excerpt":"準備 / npm 公開用のコマンド","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"npm","slug":"npm","path":"tags/npm/"}],"prev":{"title":"[Vue.js] Vuexの使い方を知る","path":"20190815134715.html"},"next":{"title":"Babel 6からBabel 7へアップグレードした際の覚書\n","path":"20190618103802.html"}},{"title":"Babel 6からBabel 7へアップグレードした際の覚書\n","path":"20190618103802.html","permalink":"https://b.0218.jp/20190618103802.html","date":"2019-06-18T10:38:02.000Z","updated":"2019-06-18T10:38:08.000Z","thumbnail":"","content":"<h2>概要</h2><p>ややレガシー気味のプロジェクト内の Babel 6 から Babel 7 へのアップグレードした。<br>アップグレードの期待としては、処理時間の改善（最適化）や今後のアップデートへの対応が柔軟に行えるようになることである。</p>\n<h3>プロダジェクト環境の概要</h3><p>単一リポジトリ内に複数のディレクトリがあり、そこで各自 Babel を有している状態であった。これはこの機にルートディレクトリに Babel を集約した。</p>\n<h2>マイグレーション実行</h2><p>マイグレーションは、<a href=\"https://github.com/babel/babel-upgrade\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">GitHub - babel/babel-upgrade</a>を使用して、大まかな変更は解決させた。</p>\n<p>リンク先同様、下記にような形で名称の変更を実行して、あとは必要な箇所の修正を行う。</p>\n<pre><code class=\"diff\">{\n  \"devDependencies\": {\n+   \"@babel/core\": \"^7.0.0\",\n+   \"@babel/plugin-proposal-object-rest-spread\": \"^7.0.0\",\n+   \"@babel/preset-env\": \"^7.0.0\",\n+   \"babel-loader\": \"v8.0.0-beta.0\"\n-   \"babel-loader\": \"6.0.0\",\n-   \"babel-plugin-transform-object-rest-spread\": \"6.0.0\",\n-   \"babel-preset-env\": \"^1.0.0\",\n  },\n}</code></pre>\n<p><a href=\"https://www.npmjs.com/package/npm-check-updates\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">npm-check-updates - npm</a>を利用して、さらに最新のバージョンに変更した。</p>\n<h2>Babel 7 での変更点（特筆）</h2><p>いくつか変更点があるが気になった点だけ特筆しておく。</p>\n<h3>名称</h3><p>バージョンアップに伴い、Scoped module に変更になった。</p>\n<pre><code>babel-** → @babel/**</code></pre>\n<p><code>babel-upgrade</code>がやってくれたが、<code>package.json</code>と<code>babelrc</code>内の記述を変更。</p>\n<h3>@babel/core</h3><p><code>@babel/core</code> パッケージが、 <code>dependencies</code> から<code>peerDependencies</code> に変更されたため、明示的にインストールする必要が出てきた模様。</p>\n<h3>useBuiltIns: “usage”オプション</h3><p>当該プロダクトでは、<code>babel-polyfill</code>を使用していた。</p>\n<p><code>useBuiltIns: 'usage'</code>を指定すると、<code>import '@babel/polyfill'</code> を明示的に呼び出さなくても、必要に応じた内容の<code>polyfill</code>が自動で読み込むようになる。</p>\n<p>しかしながら、今回は<code>@babel/polyfill</code>の使用をやめ、polyfill.io に置き換えた。</p>\n<h2>変更点</h2><h3>設定</h3><p>プロダクトの仕様により、<code>.babelrc</code>で記述していた設定を<code>webpack.config.js</code>へ移動した。</p>\n<pre><code class=\"js\">  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        use: [\n          {\n            loader: 'babel-loader',\n            options: {\n              compact: true,\n              cacheDirectory: true,\n              presets: [\n                [\n                  '@babel/preset-env',\n                  {\n                    targets: ['ie 11', 'safari &gt;= 10', 'not dead']\n                  }\n                ]\n              ],\n              plugins: [['@babel/plugin-proposal-object-rest-spread'], ['@babel/plugin-transform-object-assign']]\n            }\n          }\n        ],\n        exclude: /node_modules/\n      }\n    ]\n  },</code></pre>\n<h3>@babel/polyfill の削除</h3><p>polyfill は polyfill.io（CDN）経由で事足りため、すべて下記に置き換え、メインの JS ファイルにはバンドルしないようにした。</p>\n<pre><code class=\"html\">&lt;script\n  crossorigin=\"anonymous\"\n  src=\"https://cdn.polyfill.io/v3/polyfill.min.js\"\n&gt;&lt;/script&gt;</code></pre>\n<p>また、Babel 7.4.0 から<code>@babel/polyfill</code>は非推奨となったようなので、もしビルド側で polyfill 対応を行いたい場合は、<code>core-js</code>と<code>regenerator-runtime</code>を利用して出力する必要があるようだ。</p>\n<blockquote>\n<p>As of Babel 7.4.0, this package has been deprecated in favor of directly including core-js/stable (to polyfill ECMAScript features) and regenerator-runtime/runtime (needed to use transpiled generator functions):</p>\n</blockquote>\n<h2>ファイルサイズ比較</h2><h3>Babel 6 -&gt; Babel 7</h3><table>\n<thead>\n<tr>\n<th></th>\n<th>main.js</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>babel 6</td>\n<td>278KB</td>\n</tr>\n<tr>\n<td>babel 7</td>\n<td>247KB</td>\n</tr>\n</tbody></table>\n<p><code>@babel/polyfill</code>分が減少している。</p>\n<h3>remove babel-polyfill</h3><table>\n<thead>\n<tr>\n<th></th>\n<th>main.js</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>babel 7</td>\n<td>247KB</td>\n</tr>\n<tr>\n<td>babel 7 (without polyfill)</td>\n<td>217KB</td>\n</tr>\n</tbody></table>\n<h2>計測</h2><h3>Scripting 時間の比較</h3><table>\n<thead>\n<tr>\n<th>before (ms)</th>\n<th>after (ms)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>335.8</td>\n</tr>\n<tr>\n<td>2</td>\n<td>465.9</td>\n</tr>\n<tr>\n<td>3</td>\n<td>336.6</td>\n</tr>\n<tr>\n<td>4</td>\n<td>479.9</td>\n</tr>\n<tr>\n<td>5</td>\n<td>409.5</td>\n</tr>\n<tr>\n<td>平均</td>\n<td>405.54</td>\n</tr>\n</tbody></table>\n<p>雑多に 5 回ずつ計測してみたが、全体的に 50ms ほど減っている。</p>\n<hr>\n<h2>おわり</h2><p>これまでいくつか Babel 6 → Babel 7 へのアップグレードは行ってきたが、今回アップグレードした環境はトリッキーな環境だったので本質じゃない部分でハマることが多かった。</p>\n","excerpt":"概要 / マイグレーション実行 / Babel 7 での変更点（特筆） / 変更点 / ファイルサイズ比較","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"Babel","slug":"Babel","path":"tags/Babel/"}],"prev":{"title":"[npm] 公開・更新コマンドの覚え書き","path":"20190715214734.html"},"next":{"title":"[JavaScript] 不正なセレクタをエスケープする際の対処法","path":"20190602224838.html"}},{"title":"[JavaScript] 不正なセレクタをエスケープする際の対処法","path":"20190602224838.html","permalink":"https://b.0218.jp/20190602224838.html","date":"2019-06-02T22:48:38.000Z","updated":"2019-06-02T22:48:43.000Z","thumbnail":"","content":"<h2>セレクタとして不正な文字</h2><p>まず数値から始まるセレクタは使用できない。<br>かつ、下記の文字列は先頭に限らず使用することは出来ない。</p>\n<pre><code>~ ! @ $ % ^ &amp; * ( ) _ + - = , . / ' ; : \" ? &gt; &lt; [ ] { } | ` #</code></pre>\n<p>これらの文字は制御コードに置き換える事で valid なセレクタとして使用することも可能だが、簡単にバックスラッシュでエスケープすることもできる。</p>\n<pre><code class=\"html\">&lt;span id=\"~\"&gt;text&lt;/span&gt;</code></pre>\n<pre><code class=\"css\">#\\~ {\n  color: red;\n}</code></pre>\n<pre><code class=\"js\">document.querySelector(\"~\");</code></pre>\n<h2>JavaScript 上での取扱</h2><p>対象のセレクタの invalid な文字をエスケープすれば良い。<br>正規表現で置き換えていくのもアリだが、正規表現の妥当性をチェックするのが大変である。</p>\n<h3>CSS.escape()</h3><p><code>CSS.escape()</code>を利用する。</p>\n<pre><code>CSS.escape(\".foo#bar\")        // \"\\.foo\\#bar\"\nCSS.escape(\"()[]{}\")          // \"\\(\\)\\[\\]\\{\\}\"\nCSS.escape('--a')             // \"--a\"\nCSS.escape(0)                 // \"\\30 \", the Unicode code point of '0' is 30\nCSS.escape('\\0')              // \"\\ufffd\", the Unicode REPLACEMENT CHARACTER</code></pre>\n<p>参考: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">CSS.escape() - Web APIs | MDN</a></p>\n<p>引数に<code>CSSOMString</code>を渡すと、エスケープ後のセレクタ文字列を返却してくれる。</p>\n<hr>\n<p>ただし<code>CSS</code>メソッドは、IE などのレガシーブラウザで使用できないので注意。<br>レガシーブラウザ対応が必要であれば、<a href=\"https://www.npmjs.com/package/css.escape\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">polyfill</a>がオープンソースで提供されているので使うと良い。</p>\n","excerpt":"セレクタとして不正な文字 / JavaScript 上での取扱","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"},{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"}],"prev":{"title":"Babel 6からBabel 7へアップグレードした際の覚書\n","path":"20190618103802.html"},"next":{"title":"[Nuxt.js] アンカーリンクの遷移が動作しない場合の対処方法","path":"20190527093011.html"}},{"title":"[Nuxt.js] アンカーリンクの遷移が動作しない場合の対処方法","path":"20190527093011.html","permalink":"https://b.0218.jp/20190527093011.html","date":"2019-05-27T09:30:11.000Z","updated":"2019-05-27T09:30:18.000Z","thumbnail":"","content":"<h2>状況</h2><ul>\n<li>ページ内アンカーリンクがある - <code>#foo</code>, <code>#bar</code> …</li>\n<li>アンカーリンクをクリックするとページ内遷移ではなく、ルートページに移動してしまう</li>\n</ul>\n<h2>原因</h2><p><code>nuxt.config.js</code>に設定されている<code>router.base</code>が原因だった（未設定でも下記のようなデフォルト値が入る）</p>\n<pre><code class=\"js\">// nuxt.config.js\nexport default {\n  router: {\n    base: \"/\",\n  },\n};</code></pre>\n<p>これにより、<code>&lt;base href=\"/\"&gt;</code>が<code>&lt;head&gt;</code>内に追加されパスが変わってしまっているようであった。</p>\n<h3>vue-meta</h3><p>Nuxt.js においては、vue-router との兼ね合いもあり、<code>head()</code>（vue-meta）経由の<code>&lt;base&gt;</code>の書き換えはできない模様。</p>\n<p>（書き換えられたとして、そちら側で問題が起きそう）</p>\n<h2>対応方法</h2><p>そのままでは、先述のように<code>&lt;base href=\"/\"&gt;</code>に引っ張られてしまうため、アンカー要素に対して処理を施した。</p>\n<p>対象のリンクに対して下記のようなイベントを付与。</p>\n<pre><code class=\"js\">element.addEventListener(\"click\", (e) =&gt; {\n  e.preventDefault();\n  e.stopPropagation();\n\n  setTimeout(() =&gt; {\n    const target = document.querySelector(element.hash);\n    if (target) {\n      window.scrollTo({ left: 0, top: target.offsetTop, behavior: \"smooth\" });\n    }\n  }, 0);\n});</code></pre>\n<p>アンカー要素のイベントを止めて、アンカー対象の要素の位置までスクロールさせるといった処理である。<br>Nuxt.js 側の処理とかち合うケースがあったため、<code>setTimeout</code>でタイミングをずらしている。</p>\n","excerpt":"状況 / 原因 / 対応方法","categories":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"categories/Nuxt-js/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"},{"name":"Vue.js","slug":"Vue-js","path":"tags/Vue-js/"}],"prev":{"title":"[JavaScript] 不正なセレクタをエスケープする際の対処法","path":"20190602224838.html"},"next":{"title":"[html-webpack-plugin] テンプレート内でifを使って出力を制御する方法","path":"20190521092804.html"}},{"title":"[html-webpack-plugin] テンプレート内でifを使って出力を制御する方法","path":"20190521092804.html","permalink":"https://b.0218.jp/20190521092804.html","date":"2019-05-21T09:28:04.000Z","updated":"2019-05-21T09:28:10.000Z","thumbnail":"","content":"<h2>背景</h2><p>webpack の plugin である<a href=\"https://github.com/jantimon/html-webpack-plugin\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">html-webpack-plugin</a>を使って、html を出力しているが、同テンプレートでも案件によって微妙に出力差が出てきたため、フラグなどで制御したい。</p>\n<p>各種モジュールの導入方法などは割愛する。</p>\n<h2>方法</h2><h3>コード</h3><p><strong>.env</strong></p>\n<pre><code class=\"env\">FLAG=true</code></pre>\n<p>（.env 経由じゃなくて、<code>HtmlWebpackPlugin</code>に直接渡しても良いが）</p>\n<p><strong>webpack.config.js</strong></p>\n<pre><code class=\"js\">new HtmlWebpackPlugin({\n  filename: \"index.html\",\n  template: \"template.html\",\n  FLAG: process.env.FLAG,\n});</code></pre>\n<p><strong>template.html</strong></p>\n<pre><code class=\"html\">&lt;% if (htmlWebpackPlugin.options.FLG === true){ %&gt;\n&lt;div&gt;FLGによって出力したい要素&lt;/div&gt;\n&lt;% } %&gt;</code></pre>\n<h3>出力</h3><pre><code class=\"html\">&lt;div&gt;FLGによって出力したい要素&lt;/div&gt;</code></pre>\n<p><code>FLG</code>が<code>true</code>であれば表示される。</p>\n<h2>余談</h2><p>基本的に ejs を同様の記法が書ける模様。</p>\n<pre><code class=\"ejs\">&lt;% var counter = 1; %&gt;\n&lt;% while (counter &lt;= 10) { %&gt;\n&lt;div&gt;this loop is &lt;%= counter %&gt; time.&lt;/p&gt;\n&lt;% counter++; %&gt;\n&lt;% } %&gt;</code></pre>\n<p>↓</p>\n<pre><code class=\"html\">&lt;div&gt;this loop is 1 time.&lt;/div&gt;\n&lt;div&gt;this loop is 2 time.&lt;/div&gt;\n&lt;div&gt;this loop is 3 time.&lt;/div&gt;\n&lt;div&gt;this loop is 4 time.&lt;/div&gt;\n&lt;div&gt;this loop is 5 time.&lt;/div&gt;\n&lt;div&gt;this loop is 6 time.&lt;/div&gt;\n&lt;div&gt;this loop is 7 time.&lt;/div&gt;\n&lt;div&gt;this loop is 8 time.&lt;/div&gt;\n&lt;div&gt;this loop is 9 time.&lt;/div&gt;\n&lt;div&gt;this loop is 10 time.&lt;/div&gt;</code></pre>\n<p>参考: <a href=\"https://qiita.com/y_hokkey/items/31f1daa6cecb5f4ea4c9\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">テンプレートエンジン EJS で使える便利な構文まとめ</a></p>\n","excerpt":"背景 / 方法 / 余談","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"webpack","slug":"webpack","path":"tags/webpack/"}],"prev":{"title":"[Nuxt.js] アンカーリンクの遷移が動作しない場合の対処方法","path":"20190527093011.html"},"next":{"title":"[JavaScript] 日付のフォーマットをyyyy/mm/ddにする方法","path":"20190520233053.html"}},{"title":"[JavaScript] 日付のフォーマットをyyyy/mm/ddにする方法","path":"20190520233053.html","permalink":"https://b.0218.jp/20190520233053.html","date":"2019-05-20T23:30:53.000Z","updated":"2019-05-20T23:32:46.000Z","thumbnail":"","content":"<h2>背景</h2><p>moment.js や date-fns を使っていたが、単純な日付のフォーマット変換に関して、巨大なライブラリを必要としないので自前で実装をする。</p>\n<p>結果として、少なくとも 10KB ほどあったサイズが数バイトで済んだ。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>実装</h2><h3>仕様</h3><ul>\n<li><code>yyyy/mm/dd</code>形式の文字列で変換する関数</li>\n<li>引数は日付相当の文字列</li>\n<li>変換できない場合は空文字を返却</li>\n</ul>\n<h3>コード</h3><pre><code class=\"js\">const formatDate = (strDate) =&gt; {\n  let date = \"\";\n\n  // convert: string -&gt; date\n  try {\n    if (typeof strDate === \"string\") {\n      date = new Date(strDate).toISOString();\n    }\n  } catch (e) {\n    console.log(e);\n  }\n\n  // format: yyy/mm/dd\n  if (date) {\n    date = date.split(\"T\")[0].replace(/-/g, \"/\");\n  }\n\n  return date;\n};</code></pre>\n","excerpt":"背景 / 実装","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[html-webpack-plugin] テンプレート内でifを使って出力を制御する方法","path":"20190521092804.html"},"next":{"title":"[Git] リポジトリのユーザを変更する方法","path":"20190410172154.html"}},{"title":"[Git] リポジトリのユーザを変更する方法","path":"20190410172154.html","permalink":"https://b.0218.jp/20190410172154.html","date":"2019-04-10T17:21:54.000Z","updated":"2019-04-10T20:22:50.000Z","thumbnail":"","content":"<h2>状況</h2><p>同一マシン内で GitHub アカウントが複数存在している状態。<br>（社用とプライベートでアカウントを分けている等）</p>\n<h2>コマンド</h2><p>対象リポジトリへ移動して下記を実行。</p>\n<pre><code>git config --local user.name 名前\ngit config --local user.email メールアドレス</code></pre>\n<p>確認</p>\n<pre><code>git config --local --list\n...\n\nuser.name=名前\nuser.email=メールアドレス</code></pre>\n","excerpt":"状況 / コマンド","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Git","slug":"Git","path":"tags/Git/"}],"prev":{"title":"[JavaScript] 日付のフォーマットをyyyy/mm/ddにする方法","path":"20190520233053.html"},"next":{"title":"Photoshopの文字設定をCSSに落とし込む手順とツール\n","path":"20190312144027.html"}},{"title":"Photoshopの文字設定をCSSに落とし込む手順とツール\n","path":"20190312144027.html","permalink":"https://b.0218.jp/20190312144027.html","date":"2019-03-12T14:40:27.000Z","updated":"2019-05-15T13:23:09.000Z","thumbnail":"","content":"<p>だいたい Photoshop のままだけれど、行送り・トラッキングはそのままではないので変換が必要になる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>相互関係</h2><table>\n<thead>\n<tr>\n<th>Photoshop</th>\n<th>CSS</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>フォントサイズ</td>\n<td><code>font-size</code></td>\n</tr>\n<tr>\n<td>行送り</td>\n<td><code>line-height</code></td>\n</tr>\n<tr>\n<td>トラッキング</td>\n<td><code>letter-spacing</code></td>\n</tr>\n</tbody></table>\n<h2>行送り</h2><pre><code>行送り / フォントサイズ</code></pre>\n<p>行送りが<code>30</code>でフォントサイズが<code>20</code>の場合、<code>30/20</code>で<code>1.5</code>となる。<br>→ <code>line-height: 1.5</code></p>\n<h2>トラッキング</h2><pre><code>トラッキング / 1000</code></pre>\n<p>トラッキングが<code>50</code>の場合、<code>50/1000</code>で<code>0.05</code>になる。<br>→ <code>letter-spacing : 0.05em</code></p>\n<h2>ツール（Photoshop Value to CSS Value）</h2><p>追記：必要な値を入力すると各情報に計算されるツールを作成しました。</p>\n<iframe height=\"600\" style=\"width: 100%;\" scrolling=\"no\" title=\"Photoshop Value to CSS Value\" src=\"//codepen.io/hiro0218/embed/pmReLQ/?height=600&amp;theme-id=0&amp;default-tab=result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href='https://codepen.io/hiro0218/pen/pmReLQ/'>Photoshop Value to CSS Value</a> by hiro\n  (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n","excerpt":"相互関係 / 行送り / トラッキング / ツール（Photoshop Value to CSS Value）","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"},{"name":"Photoshop","slug":"Photoshop","path":"tags/Photoshop/"}],"prev":{"title":"[Git] リポジトリのユーザを変更する方法","path":"20190410172154.html"},"next":{"title":"[Nuxt.js] nuxt generateのパフォーマンスを改善させる方法","path":"20190221012117.html"}},{"title":"[Nuxt.js] nuxt generateのパフォーマンスを改善させる方法","path":"20190221012117.html","permalink":"https://b.0218.jp/20190221012117.html","date":"2019-02-21T01:21:17.000Z","updated":"2019-04-22T01:07:35.000Z","thumbnail":"","content":"<h2>背景</h2><p>Netlify でのデプロイ時に<code>nuxt generate</code>でのビルド時間が 10 分かかっていた。（route 数は 475）</p>\n<p><code>nuxt generate</code>のパフォーマンスを改善させたい。</p>\n<h2>nuxt-generate-cluster</h2><p><a href=\"https://github.com/nuxt-community/nuxt-generate-cluster\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">nuxt-generate-cluster</a>を使うことでビルドの並列処理を行うことができる。</p>\n<h3>セットアップ</h3><pre><code>yarn add nuxt-generate-cluster</code></pre>\n<p>インストールしたら、<code>package.json</code>に下記の npm script を追加・修正する。（Nuxt.js のプロジェクトだと<code>nuxt generate</code>になっている部分を下記に書き換える）</p>\n<pre><code>\"generate\": \"nuxt-generate -w 4 -b\",</code></pre>\n<h3>実行</h3><p><code>yarn generate</code>を実行すると、以下のように worker の立ち上がりが分かる。</p>\n<pre><code>6:22:17 PM: ℹ worker 1 started with pid 1379\n6:22:17 PM: ℹ worker 2 started with pid 1385\n6:22:17 PM: ℹ worker 3 started with pid 1391\n6:22:17 PM: ℹ worker 4 started with pid 1397\n6:22:25 PM: ✔ generated: /category.html\n6:22:26 PM: ✔ generated: /tag.html\n6:22:27 PM: ✔ generated: /index.html\n︙\n︙</code></pre>\n<p>特に<code>nuxt.config.js</code>の設定を変更せずとも<code>nuxt-generate-cluster</code>を導入することができた。</p>\n<h2>結果</h2><p>10 分掛かっていたビルド時間が<strong>4 分まで短縮</strong>することができた。</p>\n<h2>追記</h2><p>ビルドオプションの<a href=\"https://ja.nuxtjs.org/api/configuration-build/#parallel\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">parallel</a>を有効化してみた。</p>\n<pre><code>  build: {\n    parallel: true,\n  }</code></pre>\n<p>この設定によるものか定かではないが、さらに <strong>174 秒（3 分）</strong> まで短縮できた。</p>\n","excerpt":"背景 / nuxt-generate-cluster / 結果 / 追記","categories":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"categories/Nuxt-js/"}],"tags":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"tags/Nuxt-js/"},{"name":"Vue.js","slug":"Vue-js","path":"tags/Vue-js/"}],"prev":{"title":"Photoshopの文字設定をCSSに落とし込む手順とツール\n","path":"20190312144027.html"},"next":{"title":"IE11などレガシィブラウザを意識したWebP画像の表示方法\n","path":"20190213175735.html"}},{"title":"IE11などレガシィブラウザを意識したWebP画像の表示方法\n","path":"20190213175735.html","permalink":"https://b.0218.jp/20190213175735.html","date":"2019-02-13T17:57:35.000Z","updated":"2019-03-11T10:53:50.000Z","thumbnail":"","content":"<h2>WebP とは</h2><blockquote>\n<p>WebP（ウェッピー）は、米 Google が開発しているオープンな静止画フォーマット。ファイルの拡張子は「.webp」。</p>\n<p>ウェブサイトのトラフィック量軽減と表示速度短縮を目的としており、インターネットの Web ページで広く使われている非可逆圧縮の JPEG や可逆圧縮の GIF、PNG の置き換えを意図する規格である。JPEG とは異なり、非可逆圧縮でもアルファチャンネルを扱える。<br><a href=\"https://ja.wikipedia.org/wiki/WebP\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://ja.wikipedia.org/wiki/WebP</a></p>\n</blockquote>\n<p>これらの特徴のほか、</p>\n<ul>\n<li>WebP lossy support</li>\n<li>WebP lossy, lossless &amp; alpha support</li>\n<li>WebP Animation support</li>\n</ul>\n<blockquote>\n<p>Google の示した事例では、ファイルサイズは非可逆圧縮モードで（同一画像、同等画質の）JPEG と比較して 25-34%小さくなり、可逆圧縮モードで PNG と比較して 28%小さくなるとしている。また 22%のファイルサイズ増加でアルファチャネルを追加できるとしている。</p>\n</blockquote>\n<p>圧縮率は従来のフォーマットよりも優れており、WebP を導入でページのロードタイムが 30%改善されたという事例もある。</p>\n<p>また、Google が推し進めているためか、Lighthouse では「<a href=\"https://developers.google.com/web/tools/lighthouse/audits/webp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">次世代フォーマットで画像を配信</a>」といった WebP の利用を進めるレポート結果が出る場合もある。</p>\n<h3>WebP 変換方法</h3><p><a href=\"https://developers.google.com/speed/webp/docs/cwebp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">cwebp</a>を使ってみる。</p>\n<pre><code>brew install webp</code></pre>\n<p>でインストールして、</p>\n<pre><code>cwebp -q 80 hoge.png -o hoge.webp</code></pre>\n<p>みたいな形で変換を行う。簡単。</p>\n<h2>実装方法</h2><p>WebP は、すべてのブラウザで対応されているわけではない。今現在、全体の 72%が対応している状況である。（<a href=\"https://caniuse.com/#feat=webp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">サポート状況</a>）</p>\n<p>既存のフロントエンド実装をそのまま活かしたい、もしくは未対応ブラウザでのフォールバック対応を行いたくない場合は、Accept リクエストヘッダーを利用して、サーバ側で適切な画像フォーマットをクライアントへ配信する仕組みもつくる事ができるだろう。<br>しかしながら本記事では、HTML5 の<code>&lt;picture&gt;</code>要素を使ったフロントエンドでの実装方法について記載する。</p>\n<h3><code>&lt;picture&gt;</code>要素を使う</h3><p><code>&lt;picture&gt;</code>要素を利用することで対応していないブラウザへのフォールバックが簡単に行える。</p>\n<pre><code class=\"html\">&lt;picture&gt;\n  &lt;source\n    srcset=\"https://www.gstatic.com/webp/gallery/1.webp\"\n    type=\"image/webp\"\n  /&gt;\n  &lt;source\n    srcset=\"https://www.gstatic.com/webp/gallery/1.jpg\"\n    type=\"image/jpeg\"\n  /&gt;\n  &lt;img src=\"https://www.gstatic.com/webp/gallery/1.jpg\" /&gt;\n&lt;/picture&gt;</code></pre>\n<h3><code>&lt;picture&gt;</code>要素の非対応ブラウザへの対応</h3><p>ほとんどのブラウザは対応しているが、<a href=\"https://caniuse.com/#feat=picture\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">IE11 が対応していない</a>ため、polyfill を使用する必要がある。<br>polyfill で<a href=\"https://www.google.com/search?q=picture+polyfill\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ググる</a>と色々と出てくるのだが、<code>polyfill.io</code>を利用していきたいと思う。</p>\n<pre><code class=\"html\">&lt;script\n  crossorigin=\"anonymous\"\n  src=\"https://polyfill.io/v3/polyfill.min.js?features=default%2CHTMLPictureElement\"\n&gt;&lt;/script&gt;</code></pre>\n<p><code>polyfill.io</code>経由で polyfill を取得することで、対応ブラウザへの無駄な polyfill を配信せずに済む。</p>\n<h2>デモ</h2><iframe height=\"400\" style=\"width: 100%;\" scrolling=\"no\" title=\"Cases using WebP images\" src=\"//codepen.io/hiro0218/embed/RvyELw/?height=265&amp;theme-id=light&amp;default-tab=result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href='https://codepen.io/hiro0218/pen/RvyELw/'>Cases using WebP images</a> by hiro\n  (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<h2>おわり</h2><p>WebP は画像サイズを大幅に削減だけではなく、フォーマットが統一されることでの管理コストも下げられるのではないかと思う。ただ、実際はブラウザのサポート状況を考慮する結果、フォーマットが統一されるどころか重複した管理になってしまう点は否めない。<br>非サポートブラウザの影響のない環境下であれば（たとえばモバイルサイト）、低コストで大幅なフロントエンドの改善が見込まれるのではないだろうか。</p>\n","excerpt":"WebP とは / 実装方法 / デモ / おわり","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"},{"name":"WebP","slug":"WebP","path":"tags/WebP/"}],"prev":{"title":"[Nuxt.js] nuxt generateのパフォーマンスを改善させる方法","path":"20190221012117.html"},"next":{"title":"[Google Apps Script] 指定したページのHTMLをスクレイピングする方法","path":"20190206220921.html"}},{"title":"[Google Apps Script] 指定したページのHTMLをスクレイピングする方法","path":"20190206220921.html","permalink":"https://b.0218.jp/20190206220921.html","date":"2019-02-06T22:09:21.000Z","updated":"2019-02-06T22:07:33.000Z","thumbnail":"","content":"<h2>仕様</h2><ul>\n<li>対象のページの HTML をシンプルに返すだけ</li>\n<li>HTML から JS 経由で使用する<br>→ CORS 回避のため jsonp</li>\n</ul>\n<h2>実装内容</h2><p>GAS の内容（特別エラーハンドリングなどは行っていない）</p>\n<pre><code class=\"js\">function scraping(url) {\n  if (!url) return null;\n\n  var response = UrlFetchApp.fetch(url);\n  var html = response.getContentText(\"UTF-8\");\n\n  return html;\n}\n\nfunction doGet(e) {\n  var result = {\n    data: scraping(e.parameter.url),\n  };\n\n  var responseText = e.parameter.callback + \"(\" + JSON.stringify(result) + \")\";\n\n  var out = ContentService.createTextOutput();\n  out.setMimeType(ContentService.MimeType.JAVASCRIPT);\n  out.setContent(responseText);\n\n  return out;\n}</code></pre>\n<table>\n<thead>\n<tr>\n<th>パラメータ</th>\n<th>sample</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>url</code> <br>対象とするページの URL</td>\n<td><code>https://script.google.com/HOGEHOGE/exec?url=https://example.jp/</code></td>\n</tr>\n</tbody></table>\n<h3>クライアントからの取得方法</h3><p>jsonp の扱いが面倒なので jQuery でサンプルコードを記載。</p>\n<pre><code class=\"js\">$.ajax({\n  type: \"GET\",\n  url: \"https://script.google.com/HOGEHOGE/exec\",\n  data: {\n    url: \"https://example.jp/\",\n  },\n  dataType: \"jsonp\",\n  success: function (jsonp) {\n    console.log(jsonp.data);\n  },\n});</code></pre>\n","excerpt":"仕様 / 実装内容","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Google Apps Script","slug":"Google-Apps-Script","path":"tags/Google-Apps-Script/"}],"prev":{"title":"IE11などレガシィブラウザを意識したWebP画像の表示方法\n","path":"20190213175735.html"},"next":{"title":"[Nuxt.js v2.4.0] nuxt-sass-resources-loaderのエラー対処方法","path":"20190129123644.html"}},{"title":"[Nuxt.js v2.4.0] nuxt-sass-resources-loaderのエラー対処方法","path":"20190129123644.html","permalink":"https://b.0218.jp/20190129123644.html","date":"2019-01-29T12:36:44.000Z","updated":"2019-01-29T16:41:37.000Z","thumbnail":"","content":"<h2>概要</h2><p>Nuxt.js v2.4.0 にアップデートし、<code>yarn dev</code>した際にエラーが発生。</p>\n<pre><code class=\"bash\">$ yarn dev\n\n ERROR  Failed to compile with 10 errors             friendly-errors 11:14:32\n\n\n ERROR  in ./components/PostData.vue?vue&amp;type=style&amp;index=0&amp;lang=scss&amp;\n\nModule build failed (from ./node_modules/sass-loader/lib/loader.js):\n\n      color: $oc-gray-4;\n            ^\n      Undefined variable: \"$oc-gray-4\".\n      in ./components/PostData.vue (line 179, column 14)</code></pre>\n<h2>原因</h2><p><a href=\"https://github.com/anteriovieira/nuxt-sass-resources-loader\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">nuxt-sass-resources-loader</a>の issue(<a href=\"https://github.com/anteriovieira/nuxt-sass-resources-loader/issues/25\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Package seems to be broken with nuxt 2.4.0</a>)を確認すると、<a href=\"https://github.com/nuxt-community/style-resources-module\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">@nuxtjs/style-resources</a>を使うように書いてあった。</p>\n<p>リプレースする方が手っ取り早いので変えてしまう。</p>\n<h2>解決方法</h2><pre><code class=\"bash\">$ yarn remove nuxt-sass-resources-loader\n$ yarn add -D @nuxtjs/style-resources</code></pre>\n<p><code>nuxt-sass-resources-loader</code>を使っていた際は、<code>nuxt.config.js</code>で下記のように記述していたが、</p>\n<pre><code class=\"js\">  modules: [\n    [\n      'nuxt-sass-resources-loader',\n      [\n        '~/assets/style/Settings/_colors.scss',\n        '~/assets/style/Settings/_variables.scss',\n        '~/assets/style/Tools/_mixins.scss',\n      ],\n    ],\n  ],</code></pre>\n<p>まるっと下記のように<code>@nuxtjs/style-resources</code>に置き換えてしまう。</p>\n<pre><code class=\"js\">  modules: [\n    '@nuxtjs/style-resources',\n  ],\n\n  styleResources: {\n    sass: [\n      '~/assets/style/Settings/_colors.scss',\n      '~/assets/style/Settings/_variables.scss',\n      '~/assets/style/Tools/_mixins.scss',\n    ],\n  },</code></pre>\n<hr>\n<p>以上で問題なくビルドも通った。</p>\n","excerpt":"概要 / 原因 / 解決方法","categories":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"categories/Nuxt-js/"}],"tags":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"tags/Nuxt-js/"},{"name":"Vue.js","slug":"Vue-js","path":"tags/Vue-js/"}],"prev":{"title":"[Google Apps Script] 指定したページのHTMLをスクレイピングする方法","path":"20190206220921.html"},"next":{"title":"稼働中のWordPressをGridsomeで構築してみる\n","path":"20181221173800.html"}},{"title":"稼働中のWordPressをGridsomeで構築してみる\n","path":"20181221173800.html","permalink":"https://b.0218.jp/20181221173800.html","date":"2018-12-21T17:38:00.000Z","updated":"2018-12-21T17:38:00.000Z","thumbnail":"","content":"<div class=\"c-alert\">この記事は <a href=\"https://qiita.com/advent-calendar/2018/vuejs-2\">Vue.js #2 Advent Calendar 2018 - Qiita</a> の 21日目の記事です。</div>\n\n<h2>背景</h2><p>WordPress で 10 年以上運用してるブログをどうにかしたいと思い始める。</p>\n<ul>\n<li>パーマリンクを変えたくない</li>\n<li>WordPress つらくなってきている<br>v5.0.0 の標準エディタ<a href=\"https://ja.wordpress.org/plugins/gutenberg/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Gutenberg</a>の具合がよろしくない</li>\n<li>フロント実装（WordPress テーマ）を Vue.js で構築している<br>移行先もスムーズに Vue.js が使えると良い</li>\n<li>完全に静的化する（Hugo など）すると記事データの管理が面倒そう</li>\n</ul>\n<p>上記を踏まえて、記事管理のために CMS(WordPress)は残しつつ、移行の手間を掛けずに手軽に試せそうな<a href=\"https://gridsome.org/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Gridsome</a>を試してみる。</p>\n<hr>\n<h2>Gridsome を使ってみる</h2><p>React 製の<a href=\"https://www.gatsbyjs.org/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">GatsbyJS</a>ライクな Vue.js 製の<a href=\"https://gridsome.org/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Gridsome</a>を使ってみる。</p>\n<h3>インストール</h3><p>公式のドキュメントにそって入れていく。</p>\n<p><strong>使用モジュールのバージョン:</strong></p>\n<ul>\n<li><code>@gridsome/source-wordpress</code>: v0.1.1</li>\n<li><code>gridsome</code>: v0.4.0</li>\n</ul>\n<p>まずは「グローバルにインストールしろ」というのでひとまずインストールする。</p>\n<pre><code class=\"bash\">npm install --global @gridsome/cli</code></pre>\n<p>データソースを WordPress にしたい。<code>@gridsome/source-wordpress</code>が用意されているが、同梱されてるみたいなので、下記を実行するだけで良い。</p>\n<pre><code class=\"bash\">gridsome create my-gridsome-project wordpress</code></pre>\n<p><code>gridsome create</code>が完了すると、下記のようなファイルが展開される。</p>\n<pre><code>.\n├── src\n├── gridsome.config.js\n├── node_modules\n├── package.json\n└── README.md</code></pre>\n<h3><code>gridsome.config.js</code></h3><p>まずは取得先の情報を設定する。</p>\n<pre><code class=\"js\">module.exports = {\n  plugins: [\n    {\n      use: \"@gridsome/source-wordpress\",\n      options: {\n        baseUrl: \"YOUR_WEBSITE_URL\", // required\n        typeName: \"WordPress\", // GraphQL schema name (Optional)\n        perPage: 100, // How many posts to load from server per request (Optional)\n        concurrent: 10, // How many requests to run simultaneously (Optional)\n        routes: {\n          post: \"/:year/:month/:day/:slug\", //adds route for \"post\" post type (Optional)\n          post_tag: \"/tag/:slug\", // adds route for \"post_tag\" post type (Optional)\n        },\n      },\n    },\n  ],\n};</code></pre>\n<p><code>plugins.options.baseUrl</code>の値を対象の WordPress の URL に書き換えてみる。もし、対象がない場合は、demo 用の<code>https://demo.wp-api.org/</code>を指定しても良さそう。</p>\n<h3>実行</h3><pre><code>npm run develop  // or build</code></pre>\n<pre><code>  Site running at:          http://localhost:8080/\n  Explore GraphQL data at:  http://localhost:8080/___explore</code></pre>\n<p><code>http://localhost:8080/</code>にアクセスすると Gridsome で構築したページが見れるようになる。<br>ライブリロードされるので、そのまま Vue SFC を修正して開発に取り掛かることができる。</p>\n<p><code>http://localhost:8080/___explore</code>の方は、GraphQL のクエリをテストしたいときに使えるプレイグラウンドへアクセスできる。<br>プロジェクト内で使用可能な GraphQL コレクションの一覧も見ることができる。</p>\n<h2>GraphQL</h2><h3>ページ固有のデータを取得する</h3><pre><code class=\"graphql\">query Page {\n  wordPressPage(path: \"/pages/about\") {\n    title\n    content\n  }\n}</code></pre>\n<p><code>path</code>に指定する値が、単純に<code>about</code>ではなく<code>/pages/</code>を挟むことに注意。</p>\n<h3>カテゴリーの記事一覧を取得する</h3><pre><code class=\"graphql\">query {\n  allWordPressCategory {\n    edges {\n      node {\n        count\n        title\n        slug\n      }\n    }\n  }\n}</code></pre>\n<p><code>perPage</code>のデフォルト値があるため、この指定だと全件は取得できない。</p>\n<h2>Vue SFC</h2><pre><code>&lt;template&gt;\n  &lt;Layout&gt;\n    &lt;h1 v-html=\"$page.wordPressPostTag.title\" /&gt;\n  &lt;/Layout&gt;\n&lt;/template&gt;\n\n&lt;page-query&gt;\nquery PostTag ($path: String!) {\n  wordPressPostTag (path: $path) {\n    title\n  }\n}\n&lt;/page-query&gt;</code></pre>\n<p><code>$page.クエリ名</code>でデータにアクセスができる。クエリによってデータ構造が違うので注意。</p>\n<h2>WordPress（WP-API）を調整</h2><p>私が対象としていた WordPress は下記のようなパーマリンクになっていた。</p>\n<pre><code>/%year%%monthnum%%day%%hour%%minute%%second%.html</code></pre>\n<p>また、個別記事に関しては slug 設定がない状態だった。</p>\n<p>現状、Gridsome で使用できるルートは、<code>:year</code>, <code>:month</code>,<code>:day</code>,<code>:slug</code>の組み合わせでしか設定できない。（<code>post_tag</code>も同様）</p>\n<pre><code class=\"js\">routes: {\n  post: '/:year/:month/:day/:slug', //adds route for \"post\" post type (Optional)\n  post_tag: '/tag/:slug' // adds route for \"post_tag\" post type (Optional)\n}</code></pre>\n<p>WP-API が吐き出す<code>slug</code>を調整して、既存のパーマリンクに寄せていく。</p>\n<h3>WP-API の拡張</h3><p><code>rest_prepare_post</code>という hook を使い下記のように API を書き換えてしまう。</p>\n<pre><code class=\"php\">add_filter('rest_prepare_post', 'adjusted_api_data');\n\npublic function adjusted_api_data($response, $post, $request)　{\n    $link = basename($response-&gt;data['link']);\n\n    $response-&gt;data['link'] = '/' . $link;\n    $response-&gt;data['slug'] = $link;\n\n    return $response;\n}</code></pre>\n<p><strong>補足:</strong><br>WP-API の<code>link</code>は、<code>NodeInterface</code>にある<code>path</code>になる。</p>\n<pre><code>edges {\n  node {\n    id\n    title\n    slug\n    path\n  }\n}</code></pre>\n<p>これで Gridsome が出力した個別記事にも既存パーマリンクと同じ状態でアクセスができるようになった。</p>\n<h2>最後に</h2><p>始めは「えっ、こんなに簡単に…!?」という感想だったが、開発中につき機能がまだまだ足りず、痒いところに手が届かない状態であった。<br>（GatsbyJS で当たり前にある機能が足りないため、本番稼働させるには厳しいと感じた）</p>\n<p>メジャーバージョンアップに期待。</p>\n","excerpt":"背景 / Gridsome を使ってみる / GraphQL / Vue SFC / WordPress（WP-API）を調整","categories":[{"name":"Vue.js","slug":"Vue-js","path":"categories/Vue-js/"}],"tags":[{"name":"Gridsome","slug":"Gridsome","path":"tags/Gridsome/"}],"prev":{"title":"[Nuxt.js v2.4.0] nuxt-sass-resources-loaderのエラー対処方法","path":"20190129123644.html"},"next":{"title":"Vue Fes Japan 2018 に参加してきました","path":"20181119080000.html"}},{"title":"Vue Fes Japan 2018 に参加してきました","path":"20181119080000.html","permalink":"https://b.0218.jp/20181119080000.html","date":"2018-11-19T08:00:00.000Z","updated":"2018-11-19T08:00:00.000Z","thumbnail":"https://user-images.githubusercontent.com/33714646/81382865-0a061680-914a-11ea-8626-dcdcef532389.png","content":"<p>2018 年 11 月 3 日に秋葉原 UDX で開催された日本初の Vue カンファレンス「<a href=\"https://vuefes.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Vue Fes Japan 2018</a>」に参加してきました。<br>私の参加したセッションについて、簡単に内容を紹介したいと思います。</p>\n<p><img src=\"https://user-images.githubusercontent.com/33714646/81382865-0a061680-914a-11ea-8626-dcdcef532389.png\" alt=\"開場前\" loading=\"lazy\"></p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>キーノート</h2><p>Vue.js 作者である Evan 氏によるキーノートがありました。</p>\n<p><a href=\"https://docs.google.com/presentation/d/1pbNnBhkc-CwfzSw4sW9Ai7A7uAxLuNwOd4Gd5PMjrSQ/edit\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://docs.google.com/presentation/d/1pbNnBhkc-CwfzSw4sW9Ai7A7uAxLuNwOd4Gd5PMjrSQ/edit</a></p>\n<ul>\n<li>Vue 3.0 の変更点<ul>\n<li>より早く<ul>\n<li>仮想 DOM 実装をフルスクラッチから再実装</li>\n<li>Native Proxy による高速化</li>\n<li>コンパイラの仕組みを大幅に変更</li>\n<li>Static Tree Hosting / Static Props Hoisting</li>\n</ul>\n</li>\n<li>より小さく<ul>\n<li>Tree Shaking</li>\n<li>ランタイムのサイズが 10KB 以下 (gzip)</li>\n</ul>\n</li>\n<li>よりネイティブ向けに<ul>\n<li>カスタムレンダラー API / リアクティブティ API</li>\n</ul>\n</li>\n<li>より保守しやすく<ul>\n<li>TSX による TypeScript のサポート強化</li>\n<li>警告トレースの改善</li>\n</ul>\n</li>\n<li>その他<ul>\n<li>Hooks API</li>\n<li>Time Slicing</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>など</p>\n<h3>感想</h3><p>要所要所で実演もあり、見た限りでも処理の高速化を体感できました。</p>\n<p>Vue.js 自体のパフォーマンス改善が大きくなされている印象でした。後方互換も保っているので、基本的に開発者は意識する必要がないとのこと。新規機能も魅力的で早く試してみたいと思いました。</p>\n<h2>Platinum スポンサーセッション</h2><!--\n<script async class=\"speakerdeck-embed\" data-id=\"98c6724ce2c94580aa22383431fd7ba3\" data-ratio=\"1.77777777777778\" src=\"//speakerdeck.com/assets/embed.js\"></script>\n-->\n\n<p>セッション内では詳細は触れられておりませんでしたが、膨大な量のコンポーネント（650 個）を管理しているようで、その手法など非常に興味が湧きました。</p>\n<h2>セッション</h2><p>午後からは、国内外の著名スピーカーによるセッションでした。</p>\n<p>会場 A と会場 B のどちらかのセッションを選択する方式です。</p>\n<h3>タイムテーブル</h3><table>\n<thead>\n<tr>\n<th></th>\n<th>会場 A</th>\n<th>会場 B</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td><strong>Sarah Drasner</strong> <br> <a href=\"http://slides.com/sdrasner/vuefes-japan\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Next-level Vue Animations</a></td>\n<td><strong>Takanori Oki</strong><br><a href=\"https://speakerdeck.com/takanorip/vue-fes-japan\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Vue.js と Web Components のこれから</a> ★</td>\n</tr>\n<tr>\n<td>2</td>\n<td><strong>katashin</strong><br><a href=\"https://slides.com/ktsn/vue-fes-vue-designer\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Vue Designer: デザインと実装の統合</a> ★</td>\n<td><strong>Edd Yerburgh</strong><br><a href=\"http://slides.com/eddyerburgh/testing-a-vuex-store#/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Unit testing a Vuex store</a></td>\n</tr>\n<tr>\n<td>3</td>\n<td><strong>菅原 孝則</strong><br><a href=\"https://speakerdeck.com/ts020/vuefes\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Atomic Design のデザインと実装の狭間</a> ★</td>\n<td><strong>Sébastien Chopin</strong><br>Nuxt.js 2.0</td>\n</tr>\n<tr>\n<td>4</td>\n<td><strong>Rahul Kadyan</strong><br><a href=\"https://github.com/znck/talks/tree/master/2018-11-03-deep-dive-into-sfc-compilation\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">A deep dive in SFC compilation</a></td>\n<td><strong>福井 烈</strong><br><a href=\"https://speakerdeck.com/fukuiretu/notewonuxt-dot-jsdezai-gou-zhu-sitahua\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">note のフロントエンドを Nuxt.js で再構築した話</a> ★</td>\n</tr>\n<tr>\n<td>5</td>\n<td><strong>Guillaume Chau</strong><br><a href=\"https://slides.com/akryum/vue-cli-18-3-jp#/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Vue CLI 3 and its Graphical User Interface</a></td>\n<td><strong>土屋 和良</strong><br><a href=\"https://speakerdeck.com/tsuchikazu/vue-component-test\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">1 年間単体テストを書き続けた現場から送る Vue Component のテスト</a> ★</td>\n</tr>\n</tbody></table>\n<p>※ 参加したもの「★」をつけています<br>※ スピーカーが発表スライドをアップロードしてくださっているものはリンクを貼っております</p>\n<hr>\n<p>どれも魅力的で非常に悩みましたが、実務に関連しそうな下記のセッションに参加しました。</p>\n<ul>\n<li>Vue.js と Web Components のこれから</li>\n<li>Vue Designer: デザインと実装の統合</li>\n<li>Atomic Design のデザインと実装の狭間</li>\n<li>note のフロントエンドを Nuxt.js で再構築した話</li>\n<li>1 年間単体テストを書き続けた現場から送る Vue Component のテスト</li>\n</ul>\n<h3>Vue.js と Web Components のこれから</h3><!--\n<script async class=\"speakerdeck-embed\" data-id=\"0bf75fbec2584e69a35b067b43ddee41\" data-ratio=\"1.33333333333333\" src=\"//speakerdeck.com/assets/embed.js\"></script>\n-->\n\n<ul>\n<li>Web Components はモダンブラウザで動く状態になっており、production-ready にある<br>（※ IE と Edge を除いて）</li>\n<li>Vue CLI の build で <code>-target wc</code> すると Web Components に変換してくれる<ul>\n<li>単体で WebComponents として動作する</li>\n<li>Vue.js 分、通常の WebComponents よりはサイズが大きくなってしまう</li>\n<li>Web Components への移行や部分的な導入に使える</li>\n</ul>\n</li>\n<li>Web Components を使う理由<ul>\n<li>UI フレームワークを統一できる（サービス間で使い回すことができる）</li>\n<li>UI 部分を使い回すことができる（React → Vue.js への移行）</li>\n</ul>\n</li>\n<li>Web Components のデメリット<ul>\n<li>属性が String のみしか渡せない</li>\n<li>外部からのイベントハンドリングが難しい</li>\n<li>DOM 要素の取り回しが面倒</li>\n<li>CSS 設計見直しが必要<br> → 正直、Vue.js の機能を使ってコンポーネントを作ったほうが柔軟、機能的で簡潔</li>\n</ul>\n</li>\n<li>Micro Frontends という考え方<ul>\n<li>フロントエンドを分割して、機能の集合体と捉える</li>\n<li>柔軟なウェブアプリケーションを作る<ul>\n<li>CSS・JS・ライブラリ変更、DOM 構造の変更<ul>\n<li>Web Components なら Scoped なので変更が用意<br>ボタンを変えたかっただけなのに、全体が壊れる…みたいな事は起きない</li>\n</ul>\n</li>\n<li>Framework migration<ul>\n<li>Vue などに依存した実装だとフレームワークが死ぬと負債になる（移行が大変）</li>\n<li>UI の実装を Web Components（ウェブ標準）に移行しておくことで、負債を溜めない</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Vue.js は Web Components に置き換わるのか？<ul>\n<li>NO: Vue.js は Web Components と共存していくもの<br><strong>Web Components はあくまでも HTML をカプセル化するものであって、アプリケーションを作るものではない</strong>。逆に Vue.js はウェブアプリケーションを作るものである</li>\n</ul>\n</li>\n</ul>\n<h4>感想</h4><p>Web Components を現状の製品に組み込んでいくのはまだまだ厳しいですが、遠い未来の話ではないと感じました。近い将来を見据えて、ウェブ標準の最新技術を注視はしておく必要があると思います。また、「負債を溜めない」という考え方には大変共感しました。</p>\n<h3>Vue Designer: デザインと実装の統合</h3><!--\n<iframe src=\"https://slides.com/ktsn/vue-fes-vue-designer/embed?style=light\" width=\"576\" height=\"420\" scrolling=\"no\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n-->\n\n<ul>\n<li>ウェブアプリ・サイト開発<ul>\n<li>デザイン・実装が分かれている<br>デザインはデザイナー、実装はフロントエンドエンジニアがデザインファイルを見ながら実装を進める（HTML/CSS/JS に落とし込む）<br>→ 昔はデザイナーが全部やれていたが、今は複雑化してしまっているため分かれているのではないか（デザインだけでも専門性が必要）</li>\n</ul>\n</li>\n<li>デザインと実装が分かれる問題<ul>\n<li>それはそれで専門性があるので良い<br> → 良いが、デザインで作ったものを実装する（単純に二度手間）</li>\n<li>デザインするまでもない実装はデザインせずに実装してしまう事がある<ul>\n<li>追随など単純に管理が面倒になってくる</li>\n</ul>\n</li>\n<li>デザイン上は静的・大丈夫でもウィンドウ幅が違った時の挙動<ul>\n<li>デザイナーとのコミュニケーションが発生</li>\n</ul>\n</li>\n<li>みんなが解決しようとしている<ul>\n<li>Dreamweaver のデザインビュー</li>\n<li><a href=\"https://github.com/vuegg/vuegg\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">vuegg</a></li>\n<li><a href=\"https://framer.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">FramerX</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>（katashin 氏が）欲しいツール<ul>\n<li>SFC が実装、かつ、デザイン<br>→ <strong>実装とデザインファイルが同じ</strong></li>\n<li>長期開発、運用に使える</li>\n<li>動的なデザイン</li>\n</ul>\n</li>\n<li><strong>Vue Designer</strong>を作っている（まだまだプロトタイプ）<ul>\n<li>デザインと実装の統合</li>\n<li>データは SFC だけなので余計な差分が生まれない</li>\n</ul>\n</li>\n<li>SFC の静的解析<br>それぞれを AST に変換して、WebScoket を通してクライアントに返している<ul>\n<li><code>vue-eslint-parser</code></li>\n<li><code>@babel/parser</code></li>\n<li><code>postcss</code></li>\n</ul>\n</li>\n<li>Vue レンダラーの再実装<br>描画するだけじゃなくて、任意の処理を挟めるようにしたいから再実装している。<code>vue-template-compiler</code>とほぼ同様のこと<br> → 大体の機能を実装した<ul>\n<li>エッジケースが多い</li>\n<li>レンダラーを使う方法を模索したい<br>→ Vue.js 3.0 でカスタムレンダラーが実装されるため</li>\n</ul>\n</li>\n<li>サーバ・クライアント構成 - 開発当初は VS Code の webview がリッチじゃなかったため、サーバを別に立てている。<br> 今は VS Code の webview でもできるかもしれないが、そちらに寄せる予定はない。<br> → VS Code にロックインされないように（Atom とかでも将来的には動かせるように）<br>デバッグがしやすいなど、他の利点もある。</li>\n<li>devTool on VS Code<br>DevTool 上でスタイルを当てたものをコードに戻している人が多い<br>→ エディターにあったら</li>\n<li>アイディア<ul>\n<li>デザイナーと開発者が GitHub 上で同じコードを編集</li>\n<li>コンポーネントカタログの自動生成</li>\n</ul>\n</li>\n</ul>\n<h4>感想</h4><p>Vue Designer は、まだまだプロトタイプとしながらも現時点でも実戦投入できるように見えました。</p>\n<p>デザイナーとフロントエンドのコミュニケーションコストは課題だと日々実感しています。チーム内では良くも悪くもコミュニケーションがエンジニアとデザイナー同士、活発に行われています。<br>「デザイン＝実装（デザインと実装の統合）」になれば、デザインから実装への二度手間を完全に無くすことができるようになりますし、コミュニケーションコストも完全になくなります。デザイナーの意図したデザインを表現するためにもこういった仕組みづくり（システム化）が大切だと感じました。</p>\n<h3>Atomic Design のデザインと実装の狭間</h3><!--\n<script async class=\"speakerdeck-embed\" data-id=\"6357deaee29c4b7c8c2a987d83f475d2\" data-ratio=\"1.33333333333333\" src=\"//speakerdeck.com/assets/embed.js\"></script>\n-->\n\n<ul>\n<li>やりとりで起こっている問題<ul>\n<li>コンポーネントが出揃ってさえくれば良い</li>\n<li>コンポーネントの必要性をデザイナーが理解しない</li>\n<li>エンジニアが実装側でコンポーネント化している<ul>\n<li>デザイン変更したらコンポーネントの粒度が崩れる</li>\n</ul>\n</li>\n<li>デザイナー間のやり取りが大変になってきた</li>\n<li>実装を知らないデザイナーには雲をつかむような話</li>\n</ul>\n</li>\n<li>Atomic Design でどうにかなるのでは？<br> → <strong>ならない</strong>（UI 設計は共有化できるけど）</li>\n<li><strong>コンポーネントはそもそもエンジニアリングの概念</strong><br>（デザイナーにとって今まで関心事ではなかった）<ul>\n<li>Java（オブジェクト思考の）浸透<br> → <strong>みんな慣れた</strong></li>\n<li>デザインツールにそういうことが起こっている<br> → 数年前まではあまり流行ってなかった（コンポーネント思考）<br> → 慣れてない</li>\n<li>Sketch はデザイナーにとっての Java（Sketch vs Photoshop）<br>（オブジェクト思考 vs 構造化思考）</li>\n<li>ツールのサポートがまだ足りない（デザインとコードをつなぐところが）</li>\n</ul>\n</li>\n<li>エンジニアは合理化の化身<ul>\n<li>デザイナーはエンジニアじゃない</li>\n<li>デザイナーはクリエイティブに集中したい、エンジニアは保守コストを下げたい<br> → そもそも職責が違う<br> → ただ、フロントエンドの苦しみは上流から変えていかないと改善しない</li>\n</ul>\n</li>\n<li><strong>Design Ops</strong><br> → デザインに集中できるような構成</li>\n<li>Atomic Design だけだとカバーしきれない<ul>\n<li>設計手法だけではカバーできない<br>→ 手段でカバーする</li>\n<li>デザインプロセスをカバーする組織づくり<ul>\n<li>エンジニアがデザインツールを覚え、コンポーネント化の手本を示す</li>\n<li>デザインをサポートできるエンジニアリング（Vue Designer のような）<br> 例：デザインからアイコンを自動生成できるようにするとか</li>\n</ul>\n</li>\n<li>プロトタイプを作って、客に見せながら角度を高めていく<br>→ 同時に実装コードも書いていく（置いていかれる）<br> 仮説検証も同時に</li>\n<li>仮説検証のサイクルを回していくうちにアプリケーションの実装コンポーネントが一緒にできていく（手探り）</li>\n</ul>\n</li>\n<li>デザイナーがデザインに集中できるエンジニアリングで助ける</li>\n</ul>\n<h4>感想</h4><p>現在進行中の案件に Atomic Design をデザインに組み込んでいる最中なので、非常に興味深い内容でした。コンポーネントの粒度などデザイナーとエンジニアが互いに歩み寄って精度を高めていく必要があると再認識しました。</p>\n<p>「デザイナーとエンジニアでペアプロ（デザイン）する」というのはおもしろい試みだと思いました。</p>\n<h3>note のフロントエンドを Nuxt.js で再構築した話</h3><!--\n<script async class=\"speakerdeck-embed\" data-id=\"41b20d5bd3d44bd78352f7d07a8e231e\" data-ratio=\"1.33333333333333\" src=\"//speakerdeck.com/assets/embed.js\"></script>\n-->\n\n<ul>\n<li>もともとは Rails + Angular 1<ul>\n<li>Angular, Coffee Script, HAML</li>\n</ul>\n</li>\n<li>課題<ul>\n<li>初期表示の遅さ</li>\n<li>技術的成約<br>既存技術の延長では解決が困難<ul>\n<li>Angular 1 は SSR できない</li>\n<li>Rails に乗っかっている</li>\n</ul>\n</li>\n<li>Angular と Nuxt.js で同時に開発進行している<ul>\n<li>パスで切り分ける<ul>\n<li>ドックフーディングしやすい</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Atomic Design<ul>\n<li>コンポーネントが多くなり、メンテナンスも大変になり、Storybook も挫折<br> → Nuxt.js v2 から Storybook が導入しやすくなり、コンポーネントをきちんと把握できていない不安感もあり導入</li>\n</ul>\n</li>\n<li>Lambda で配信<ul>\n<li>Node.js のバージョンが Lambda にロックインされる</li>\n<li>コールドスタートなどの問題もある</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4>感想</h4><p>まず、全面刷新に際して経営陣の判断が柔軟だったことにも驚きました。</p>\n<p>Nuxt.js を利用してシステム開発の経験もありますが、それ以上にさまざまなノウハウが得られる内容でした。また、Vuex の肥大化という課題やその他の問題点についても、どこも同じなのだと共感しました。</p>\n<h3>1 年間単体テストを書き続けた現場から送る Vue Component のテスト</h3><!--\n<script async class=\"speakerdeck-embed\" data-id=\"35bbd8b2a19645c1b2216f1d242fe691\" data-ratio=\"1.33333333333333\" src=\"//speakerdeck.com/assets/embed.js\"></script>\n-->\n\n<ul>\n<li>何をテストするか<br>「外から見た振る舞い」をテストすべき</li>\n<li>Props / Vuex State のテスト<ul>\n<li>Snapshot Testing<ul>\n<li>DOM の変更を比較</li>\n</ul>\n</li>\n<li>Visual Testing<ul>\n<li>Storybook + Reg-suit<ul>\n<li>GitHub で PR が立つと差分出力して、問題なければ Approve<br>→ レビュー負荷が下がる</li>\n</ul>\n</li>\n<li>Storybook<ul>\n<li>zisui でスクリーンショットを撮る</li>\n<li>テスト用の汎用的なモック Store を用意</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>UI Testing<ul>\n<li>簡単なテストだけ、購入フォームだけでも書く</li>\n<li>あきらめも肝心、ややこしいテストはしない</li>\n</ul>\n</li>\n<li><strong>Q.</strong> Reg-suit: コンポーネントの数が多い時、CI でイメージ作成して比較の時間は？<ul>\n<li><strong>A.</strong> 実際やってるのは 100 枚ぐらいしかやってない。すべての実行時間は 10 分ぐらい。<br>体感、スナップショット撮るだけだと早い・比較が時間掛かる</li>\n</ul>\n</li>\n<li><strong>Q.</strong> Visual Test の方法：どの部分でやるのか、E2E テストの範疇なのではないか<ul>\n<li><strong>A.</strong> E2E やるとエッヂケースの対応が大変、コンポーネント単位の方が簡単</li>\n</ul>\n</li>\n</ul>\n<h4>感想</h4><p>コンポーネントのどこまでテストをすべきなのか非常に参考になりました。</p>\n<p>Visual Testing のフローは素晴らしいです。単純なレビュー負荷軽減だけではなく、レビュアー・レビュイー双方とも心理的に安心感があると思います。<br>E2E テストだけではなく、Visual Testing はぜひ導入してみたいと思いました。</p>\n<hr>\n<h2>まとめ</h2><p>どのセッションも内容が濃く実践的な内容も多く、たいへん勉強になりました。Vue.js にかかわらず、たくさん知識を得られたと思います。<br>得られた知識を業務にも反映していきたいと思います！</p>\n<p>セッションの動画は後日 YouTube にて公開されるとのことです。ぜひチェックしてみてください。</p>\n<p>Vue Fes Japan 2019 も楽しみにしております。</p>\n","excerpt":"キーノート / Platinum スポンサーセッション / セッション / まとめ","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"イベント","slug":"イベント","path":"tags/%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88/"},{"name":"Vue.js","slug":"Vue-js","path":"tags/Vue-js/"}],"prev":{"title":"稼働中のWordPressをGridsomeで構築してみる\n","path":"20181221173800.html"},"next":{"title":"[CSS設計] ITCSSをプロダクトに利用した所感","path":"20181022173020.html"}},{"title":"[CSS設計] ITCSSをプロダクトに利用した所感","path":"20181022173020.html","permalink":"https://b.0218.jp/20181022173020.html","date":"2018-10-22T17:30:20.000Z","updated":"2018-10-22T17:30:20.000Z","thumbnail":"https://user-images.githubusercontent.com/33714646/46655559-ecc43b80-cbe6-11e8-9a1d-cc656e037260.png","content":"<p>To end the Specificity Wars.</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>CSS の問題点</h2><p>CSS は<strong>グローバルスコープ</strong>や<strong>詳細度</strong>など CSS の仕様により、スタイル定義が複雑化しやすく、ファイルサイズも肥大化しやすい。</p>\n<p>それらの問題を極力回避するため、CSS 設計が必要となってくる。</p>\n<h2>CSS 設計</h2><p>CSS には破綻しにくい設計が求められる。</p>\n<p>メジャーな CSS 設計手法としては、 <a href=\"http://getbem.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">BEM</a>・<a href=\"https://smacss.com/ja\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">SMACSS</a>・<a href=\"https://github.com/hiloki/flocss\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">FLOCSS</a> などがあるが、本記事では <strong><a href=\"https://itcss.io/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ITCSS</a> をプロダクトに利用した際の所感</strong>を含めて記載をしていく。</p>\n<h2>ITCSS とは</h2><p>ITCSS は「<strong>I</strong>nverted <strong>T</strong>riangle <strong>CSS</strong> (逆三角形の CSS)」の略称である。</p>\n<figure>\n  <img src=\"https://user-images.githubusercontent.com/33714646/46655559-ecc43b80-cbe6-11e8-9a1d-cc656e037260.png\" alt=\"ITCSSの構造\">\n  <figcaption>ITCSSの構造</figcaption>\n</figure>\n\n<p>CSS のスタイル定義を詳細度の広い順に記述（階層化）することを提唱している。その記述が<strong>逆三角形</strong>として視覚化されるため、この呼名となっている。</p>\n<h3>レイヤー</h3><p>スタイルの機能を基本的には下記のレイヤーで分類する。</p>\n<table>\n<thead>\n<tr>\n<th>順番</th>\n<th>レイヤー</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>Settings</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Tools</td>\n</tr>\n<tr>\n<td>3</td>\n<td>Generic</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Elements (Base)</td>\n</tr>\n<tr>\n<td>5</td>\n<td>Objects</td>\n</tr>\n<tr>\n<td>6</td>\n<td>Components</td>\n</tr>\n<tr>\n<td>7</td>\n<td>Trumps (Utilities)</td>\n</tr>\n</tbody></table>\n<p>詳細度の広い順に定義をしていくため、下のレイヤーに行くにつれ詳細度は上がっていく。</p>\n<h4>Settings</h4><p>プリプロセッサなどで利用するグローバル変数や全体の設定を置く。</p>\n<p>ここではプロジェクト内のグローバルな設定を記述する。（SASS 変数や CSS Variables の定義）</p>\n<pre><code class=\"scss\">$font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n  \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\",\n  \"Segoe UI Symbol\", \"Noto Color Emoji\" !default;\n\n$white: #fff !default;\n$black: #000 !default;\n$gray: #f8f9fa !default;</code></pre>\n<h4>Tools</h4><p>プリプロセッサで利用する<code>mixin</code>や<code>function</code>などの定義を置く。</p>\n<pre><code class=\"scss\">@function str-replace($string, $search, $replace: \"\") {\n  $index: str-index($string, $search);\n\n  @if $index {\n    @return str-slice($string, 1, $index - 1) + $replace + str-replace(str-slice($string, $index +\n            str-length($search)), $search, $replace);\n  }\n\n  @return $string;\n}\n\n@mixin text-truncate() {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}</code></pre>\n<p><strong>Settings, Tools までのレイヤーで CSS を記述しない。</strong></p>\n<h4>Generic</h4><p>リセットスタイル（normalize.css など）や固有のリセットスタイル定義を置く。</p>\n<p>Generic が CSS を記述する最初のレイヤーである。</p>\n<pre><code class=\"scss\">@import \"~normalize.css/normalize.css\";</code></pre>\n<pre><code class=\"scss\">*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 0;\n  margin-bottom: 0;\n}</code></pre>\n<p>印刷用 CSS(print.css)の定義ならここに置く。</p>\n<h4>Elements (Base)</h4><p>素の HTML 要素（a, h1…6 など）のスタイルを定義する。クラスセレクターなどは使用せず、要素セレクターのみで定義する。</p>\n<pre><code class=\"scss\">a {\n  color: #333;\n  text-decoration: none;\n}</code></pre>\n<p>Elements 以下のレイヤーでは、要素セレクターは使用されない。要素レベルのスタイルを超えた実装はクラスを使用して実装する必要がある。</p>\n<h4>Objects</h4><p>装飾を持たないレイアウトを定義する。(OOCSS)<br>また、プレフィックスに<code>.o-</code>が使われる。</p>\n<pre><code class=\"scss\">.o-container {\n  margin: 0 auto;\n}\n\n.o-layout {\n  display: flex;\n  align-items: center;\n}</code></pre>\n<h4>Components</h4><p>サイト内のコンポーネント(UI パーツ)を定義する。<br>プレフィックスに<code>.c-</code>が使われる。</p>\n<pre><code class=\"scss\">.c-alert {\n  padding: 1rem 2rem;\n  margin-bottom: 1rem;\n  border: 1px solid #333;\n  background: #eee;\n}</code></pre>\n<h4>Trumps (Utilities)</h4><p>ヘルパー・ユーティリティ系のスタイルを定義する。</p>\n<p>これまでのレイヤーを上書きするスタイルや明示的なスタイル定義（テキストの中央寄せ等）などスコープがもっとも狭い定義になる。</p>\n<pre><code class=\"scss\">#main {\n  margin: 1rem 1.5rem;\n}\n.text-justify {\n  text-align: justify !important;\n}\n.text-nowrap {\n  white-space: nowrap !important;\n}</code></pre>\n<p>ここでは ID セレクターや<code>!important</code>の定義がが許される。</p>\n<h3>構成</h3><p>各レイヤーの定義をフラットに配置するよう提唱されている。</p>\n<p><strong>例：</strong></p>\n<pre><code class=\"scss\">@import \"settings.global\";\n@import \"settings.colors\";\n\n@import \"tools.functions\";\n@import \"tools.mixins\";\n\n@import \"generic.box-sizing\";\n@import \"generic.normalize\";\n\n@import \"elements.headings\";\n@import \"elements.links\";\n\n@import \"objects.wrappers\";\n@import \"objects.grid\";\n\n@import \"components.site-nav\";\n@import \"components.buttons\";\n@import \"components.carousel\";\n\n@import \"trumps.clearfix\";\n@import \"trumps.utilities\";\n@import \"trumps.ie8\";</code></pre>\n<p>しかしながら、こうしたフラットな配置はファイル数が増えるにつれて見通しが悪くなる。そのため、レイヤー毎にディレクトリを切る運用が散見されているように思う。（参考：<a href=\"https://github.com/search?q=ITCSS\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">GitHub | Search - ITCSS</a>）</p>\n<hr>\n<p>私の場合は下記のような形でディレクトリを切り各ファイルを配置している。</p>\n<p><strong>例：</strong></p>\n<pre><code>style\n ├── Base\n │   ├── _global.scss\n │   └── _typography.scss\n ├── Components\n │   ├── _alert.scss\n │   ├── _breadcrumbs.scss\n │   ├── _button.scss\n │   └── _card.scss\n ├── Generic\n │   ├── _font.scss\n │   ├── _print.scss\n │   └── _reset.scss\n ├── Objects\n │   └── _layout.scss\n ├── Settings\n │   ├── _colors.scss\n │   └── _variables.scss\n ├── Tools\n │   ├── _animation.scss\n │   └── _mixins.scss\n └── Trumps\n     └── _index.scss</code></pre>\n<h2>ITCSS のメリット</h2><p>プロダクトに ITCSS を取り入れた際に実感したメリット</p>\n<h3>柔軟性</h3><p>ITCSS はフレームワークではなく、単なるガイドラインと言ってもいい。</p>\n<p>「CSS のスタイル定義を詳細度順に記述する（詳細度を管理する）」という規則から逸脱していなければ、先述のようにレイヤーを追加や不要なレイヤーを削除することができる。<br>また、命名規則は特にないため、クラス命名もプロダクトに応じて自由に決めることができる。</p>\n<hr>\n<p>たとえば、ITCSS には下記のレイヤーが欠けている。</p>\n<ul>\n<li>ページ固有のスタイル</li>\n<li>ライブラリ固有のスタイル</li>\n</ul>\n<p>私のプロダクトでは、それぞれ<code>Pages</code>と<code>Vendor</code>のレイヤーを追加して構築している。</p>\n<table>\n<thead>\n<tr>\n<th>順番</th>\n<th>レイヤー</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>Settings</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Tools</td>\n</tr>\n<tr>\n<td>3</td>\n<td>Generic</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Elements (Base)</td>\n</tr>\n<tr>\n<td>5</td>\n<td>Objects</td>\n</tr>\n<tr>\n<td>6</td>\n<td>Components</td>\n</tr>\n<tr>\n<td>7</td>\n<td><strong>Pages</strong></td>\n</tr>\n<tr>\n<td>8</td>\n<td><strong>Vendor</strong></td>\n</tr>\n<tr>\n<td>9</td>\n<td>Trumps</td>\n</tr>\n</tbody></table>\n<p>これは ITCSS をベースとした CSS フレームワークも同様の手法を取っている事が多い。</p>\n<h3>管理コスト</h3><p>「CSS のスタイル定義を詳細度順に記述する（詳細度を管理する）」というルールにより、スタイル適用状態の見通しが良くなった。</p>\n<p>スタイルを詳細度順とカスケーディング順に記述することは、CSS が詳細度順に適応され、カスケーディングによって記述の後のものから適応される仕様に合致する。そのため、スタイルが適応される状態をコード上から想像しやすくなる。</p>\n<p>「見出し（<code>heading</code>）」のスタイルを実装する場合、Elements レイヤーには<code>h1</code>〜<code>h6</code>を整えるようなスタイル定義を行い、見出し・小見出しの実装は、Component レイヤーにクラスに対して実装を行う（必要がある）。一貫してこういったスタイル定義になるため、各レイヤーには役割を果たすために必要なスタイルだけが定義される形になる。</p>\n<p>場合によっては書き分けることにより全体的なコード量は増してしまうのだが、定義自体は複雑にはならない。見通しの良いコードになるため、管理コストは非常に少なくなる。<br>実際、後からジョインしたメンバーへの教育コストは減った。また、「どこに何が定義されているのか」「どこに定義を追加すれば良いのか」など判断も容易であった（ようだ）。</p>\n<h3>パフォーマンス</h3><p>ITCSS のルールに則れば、詳細度を効率的に管理でき、不本意な競合や不要なオーバーライドを少なくすることができる。それにより、拡張性と冗長性が向上し、ファイルサイズのムダが少なくなる。</p>\n<p>実際、CSS が肥大化していた既存プロダクトの CSS を ITCSS で再構築してみると、CSS のファイルサイズを 15.5KB から 10KB まで削減することができた。元々の CSS が悪すぎたのも理由にあるが、他の非 ITCSS プロダクトでも平均で 45%程度は削減できている。</p>\n<p>CSS のファイルサイズが小さければ読み込み時間も少なくなり、不要なスタイル定義が無ければレンダリングのコストも少なくなり、パフォーマンスにも寄与する。CSS の圧縮アルゴリズムを使った最適化や単純な minify 化より、根本的なパフォーマンス最適化につながる。</p>\n<h2>おわり</h2><p>ITCSS は CSS 設計とクラスの命名規則がないため、既存プロダクトに盛り込みやすい。例えば、BEM など別の CSS 設計との組み合わせをすることも容易である。<br>単純に ITCSS の規則に則るだけで、これまで紹介したようなメリットを享受することができ、小規模・大規模問わずプロジェクトに拡張性の向上とメンテナンスしやすい CSS を構築することができると思う。</p>\n<h2>参考</h2><h3>記事</h3><ul>\n<li><a href=\"https://itcss.io/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">itcss, from CSS Wizardry</a></li>\n<li><a href=\"https://www.creativebloq.com/web-design/manage-large-css-projects-itcss-101517528\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Manage large CSS projects with ITCSS | Creative Bloq</a></li>\n</ul>\n<h3>コードサンプル</h3><ul>\n<li><a href=\"https://github.com/itcss/itcss-netmag\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">itcss-netmag</a></li>\n<li><a href=\"https://github.com/csswizardry/frcss\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">frcss</a></li>\n<li><a href=\"https://github.com/inuitcss/inuitcss\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">inuitcss</a></li>\n<li><a href=\"https://github.com/csswizardry/csswizardry.github.com/tree/master/css\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">CSS Wizardry</a></li>\n<li><a href=\"https://github.com/alphagov/govuk_frontend_alpha/tree/master/app/assets/scss\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">GOV.UK Frontend Alpha</a></li>\n<li><a href=\"https://www.iotacss.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">iotaCSS</a></li>\n<li><a href=\"https://github.com/bbc/grandstand\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">BBC Grandstand</a></li>\n</ul>\n","excerpt":"CSS の問題点 / CSS 設計 / ITCSS とは / ITCSS のメリット / おわり","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"},{"name":"設計","slug":"設計","path":"tags/%E8%A8%AD%E8%A8%88/"}],"prev":{"title":"Vue Fes Japan 2018 に参加してきました","path":"20181119080000.html"},"next":{"title":"[HTML] inputの入力候補をdatalistで実装する方法","path":"20181009114301.html"}},{"title":"[HTML] inputの入力候補をdatalistで実装する方法","path":"20181009114301.html","permalink":"https://b.0218.jp/20181009114301.html","date":"2018-10-09T11:43:01.000Z","updated":"2018-10-09T11:43:01.000Z","thumbnail":"","content":"<h2>対象仕様</h2><ul>\n<li>HTML5 に対応したモダンブラウザ</li>\n<li>ブラウザ標準の簡素な UI</li>\n</ul>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>detalist を使う</h2><p><code>&lt;datalist&gt;</code>要素を使用することで仕様から外れた DOM を実装したり、JS を走らせずに済む。</p>\n<p><code>&lt;datalist&gt;</code>は、フォームの入力欄などで入力候補となるデータリストを定義することができる。</p>\n<pre><code class=\"html\">&lt;input type=\"text\" list=\"browsers\" /&gt;\n&lt;datalist id=\"browsers\"&gt;\n  &lt;option value=\"1\"&gt;&lt;/option&gt;\n  &lt;option value=\"2\"&gt;&lt;/option&gt;\n  &lt;option value=\"3\"&gt;&lt;/option&gt;\n  &lt;option value=\"4\"&gt;&lt;/option&gt;\n  &lt;option value=\"5\"&gt;&lt;/option&gt;\n&lt;/datalist&gt;</code></pre>\n<p><code>datalist</code>と<code>input</code>は、<code>list</code>属性と<code>id</code>属性で紐づけ、対象のリスト項目は、<code>&lt;option&gt;</code>で定義する。<br><code>&lt;datalist&gt;～&lt;/datalist&gt;</code>はブラウザ上で非表示となる。</p>\n<hr>\n<p>未対応のレガシーブラウザ用に polyfill（<a href=\"https://github.com/mfranzke/datalist-polyfill\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">datalist-polyfill</a>）もある。</p>\n<h2>デモ</h2><iframe height=\"265\" scrolling=\"no\" title=\"datalist sample\" src=\"//codepen.io/hiro0218/embed/bmggab/?height=265&amp;theme-id=0&amp;default-tab=result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/bmggab/'>datalist sample</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<p>input 要素をダブルクリックすると候補が表示される。</p>\n","excerpt":"対象仕様 / detalist を使う / デモ","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"}],"prev":{"title":"[CSS設計] ITCSSをプロダクトに利用した所感","path":"20181022173020.html"},"next":{"title":"[CSS] macOS Chromeで領域外のバウンススクロールを無効化させる方法","path":"20180823124640.html"}},{"title":"[CSS] macOS Chromeで領域外のバウンススクロールを無効化させる方法","path":"20180823124640.html","permalink":"https://b.0218.jp/20180823124640.html","date":"2018-08-23T12:46:40.000Z","updated":"2018-08-23T12:46:40.000Z","thumbnail":"https://i.imgur.com/DXYBXtj.png","content":"<h2>概要</h2><p><img src=\"https://i.imgur.com/DXYBXtj.png\" loading=\"lazy\"></p>\n<p>macOS の Chrome でトラックパッドでスクロール境界を超えてスクロールを行うと領域外が見える。これは「<strong>バウンス スクロール (Bounce Scroll)</strong>」と呼ばれるらしい。</p>\n<p>システムの仕様上、バウンス スクロールが余計なケースがあるので無効化したい。</p>\n<h2>よく対処パターン</h2><p>よく「<code>overflow: hidden</code>で領域外はスクロールさせない」といった手法が紹介されている。（今は動かないかもしれない）</p>\n<pre><code class=\"css\">html,\nbody {\n  height: 100%;\n  overflow: hidden;\n}</code></pre>\n<p>だが、<code>html, body</code>に<code>overflow</code>付与したくない場合もある。<br>また、他にも<code>scroll</code>イベントを使って無効化させる方法もあるみたいだが、mac/iOS のためだけに負荷の高いイベントを実装するのは辛い。</p>\n<h2>対象外環境に影響を与えない方法</h2><p>CSS の<code>overscroll-behavior</code>プロパティを利用する。</p>\n<ul>\n<li><a href=\"https://wicg.github.io/overscroll-behavior/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">CSS Overscroll Behavior Module Level 1</a></li>\n<li><a href=\"https://caniuse.com/#feat=css-overscroll-behavior\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Can I use… ‘css-overscroll-behavior’</a></li>\n</ul>\n<p><code>overscroll-behavior</code>は、無駄な処理を実行しないので<em>ページパフォーマンスに悪影響を及ぼさない</em>利点がある。</p>\n<h3>方法</h3><p>X 軸・Y 軸すべてにスクロール バウンスを適応させないだけであれば、下記のように<code>overscroll-behavior</code>に<code>none</code>を指定すれば良い。</p>\n<pre><code class=\"css\">body {\n  overscroll-behavior: none;\n}</code></pre>\n<p>これでどの方向に対してもスクロール バウンスが発生しなくなる。</p>\n<h3>注意点</h3><p>ただし、先述のコードで X 軸方向のスクロール バウンスも無効化させると、トラックパッドの戻る/進むのジェスチャが効かなくなってしまう。</p>\n<p>このジェスチャを活かしたまま、Y 軸方向だけスクロール バウンスを無効化したい場合は、下記のように<code>overscroll-behavior-y</code>に対して<code>none</code>を追加すれば良い。</p>\n<pre><code class=\"css\">body {\n  overscroll-behavior-y: none;\n}</code></pre>\n<p><code>overscroll-behavior</code>は、それぞれ<code>overscroll-behavior-y</code>, <code>overscroll-behavior-x</code>が存在しているので、こういった場合は必要に応じて使い分けると良さそう。</p>\n<h2>参考</h2><ul>\n<li><a href=\"https://developers.google.com/web/updates/2017/11/overscroll-behavior\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Take control of your scroll: customizing pull-to-refresh and overflow effects&nbsp;|&nbsp;Google Developers</a></li>\n</ul>\n","excerpt":"概要 / よく対処パターン / 対象外環境に影響を与えない方法 / 参考","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[],"prev":{"title":"[HTML] inputの入力候補をdatalistで実装する方法","path":"20181009114301.html"},"next":{"title":"[名探偵コナン 純黒の悪夢] 皆が大変な時に安室透がやっていたこと","path":"20180814221243.html"}},{"title":"[名探偵コナン 純黒の悪夢] 皆が大変な時に安室透がやっていたこと","path":"20180814221243.html","permalink":"https://b.0218.jp/20180814221243.html","date":"2018-08-14T22:12:43.000Z","updated":"2018-08-18T23:45:23.000Z","thumbnail":"https://images-na.ssl-images-amazon.com/images/I/71Bf-2cTr6L._SL1500_CR60,90,1300,380_.jpg","content":"<p>事あるごとに「赤井ィ!!!」ばっかり言ってた印象が強いので振り返ってみる。</p>\n<img src=\"https://images-na.ssl-images-amazon.com/images/I/71Bf-2cTr6L._SL1500_CR60,90,1300,380_.jpg\">\n\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>冒頭</h2><blockquote>\n<p>ある日の夜、警察庁内に何者かが侵入し機密データを閲覧していた。これを察知した安室透や風見裕也ら公安警察は侵入した女と対峙するも、警察庁内から逃げられてしまう。車で逃走する女を追う安室、そして FBI の赤井秀一を加えた三者によるカーチェイスが繰り広げられる。女は逃げながらも「ノックはスタウト、アクアビット、リースリング。あなたが気にしていたキール、バーボン」とのメールを誰かに送信していた。赤井は女の進路を先読みして車のタイヤを撃ち抜き、橋から落下させて爆発に至らせるが、捕縛するには至らなかった。</p>\n</blockquote>\n<ul>\n<li>キュラソーにまんまと NOC リストを奪われる<br>→ 戦犯（公安が奪われなければ大事件は起きなかった）</li>\n<li>キュラソーを追跡<ul>\n<li>赤井と遭遇し一緒にドライブ<br>「誰だ！？…赤井……!」<br>「下がれ赤井！奴は公安のモノだ！」<br>「赤井、貴様」</li>\n<li>散々悪態をつくが赤井に一本取られる<br>→ 安室は完全に巻かれるが、赤井は先読みして逃げたキュラソーを足止めした</li>\n</ul>\n</li>\n</ul>\n<h2>倉庫編</h2><blockquote>\n<p>一方、組織のコルン、キャンティ、ジン、ウォッカは世界各地でスタウト、アクアビット、リースリングを次々と射殺し、その後、日本で安室と水無怜奈を処刑しようとしたが、コナンと赤井の機略により安室の逃走を許してしまう。</p>\n</blockquote>\n<ul>\n<li>キュラソーのいる東都警察病院の駐車場でベルモットに捕まってしまう<br>→ NOC の疑いをかけられている為、ベルモットに詰め寄られる<br>「何のことです？」と白々しい言い訳をして回避（連行）</li>\n<li>ジンたちによって倉庫に監禁される<br>→ 赤井の活躍で逃げ出すことに成功する</li>\n</ul>\n<h2>東都水族館編</h2><blockquote>\n<p>ラムからの命令を受けたジンたちは怜奈を放置し、組織の一員である謎の女の奪還へと向かうのだった。<br>警察病院では、謎の女の身柄を警視庁捜査一課から公安へと引き渡さざるを得ない状態となり、風見たち公安は安室の指示で謎の女と共に東都水族館へ向かう。<br>コナンは、キュラソーが東都水族館の観覧車の頂上で多色ライトを見ると記憶が戻る事に気が付き、急いで東都水族館へと向かう。</p>\n<p>東都水族館では、少年探偵団の子供たちを特別に観覧車に乗せるために、園子が鈴木財閥のコネを使って一方の観覧車を貸切にしていた。</p>\n</blockquote>\n<ul>\n<li>従業員に扮した安室がスタッフスペースへ進入</li>\n<li>「えぇ、FBI に手を引けと言いに来たんですよ。キュラソーは我々公安が貰い受けるとね」<br>→ 命の恩人の赤井に対して喧嘩をふっかける（しかも動いている観覧車の上で）</li>\n<li>「こんなことをしている間にキュラソーの記憶が戻り、奴らが仕掛けてきたらどうする」という正論を赤井に吐かれる</li>\n<li>爆弾解体という謎スキルを発揮<br>→ 松田と警察学校同期という設定（ファンサービス）を持ち出して、ポイントを稼ごうとする</li>\n<li>安室に爆弾解除を任せて去っていった赤井とコナンに対して「ったく、どいつもこいつも」と呟く<br>→ お前が言うな状態</li>\n<li>間一髪で爆弾解除に成功し、ジンにカチカチさせることにも成功させる<br>→ 本作品で安室の功績</li>\n<li>とにかく物を投げる<br>→ 爆弾を空に向かってソーイ！<br>→ コナンを赤井に向けてソーイ！</li>\n</ul>\n<h2>エンディング</h2><blockquote>\n<p>♬ 世界はあなたの色になる</p>\n</blockquote>\n<ul>\n<li>木の陰に隠れる赤井と無言で見つめ合いエンド<br>→ 赤井に少しは謝れ</li>\n</ul>\n","excerpt":"冒頭 / 倉庫編 / 東都水族館編 / エンディング","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"},{"name":"劇場版","slug":"劇場版","path":"tags/%E5%8A%87%E5%A0%B4%E7%89%88/"},{"name":"安室透","slug":"安室透","path":"tags/%E5%AE%89%E5%AE%A4%E9%80%8F/"}],"prev":{"title":"[CSS] macOS Chromeで領域外のバウンススクロールを無効化させる方法","path":"20180823124640.html"},"next":{"title":"[JavaScript] position:fixedを横スクロールで固定させない方法","path":"20180811164757.html"}},{"title":"[JavaScript] position:fixedを横スクロールで固定させない方法","path":"20180811164757.html","permalink":"https://b.0218.jp/20180811164757.html","date":"2018-08-11T16:47:57.000Z","updated":"2018-08-11T16:47:57.000Z","thumbnail":"","content":"<p><code>position: fixed</code>と絶対位置を指定すると、スクロールしても位置が固定されたままとなる。</p>\n<p>ナビゲーション用のメガメニューを<code>position: fixed</code>で固定することは多いが、レスポンシブでなかったり横幅が絶対値指定の場合に横スクロールをすると他のコンテンツとずれてしまう。<br>こういった場合では横スクロールをした場合はズレるようにしたい。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>デモ</h2><iframe height=\"360\" scrolling=\"no\" title=\"vertical fixed header\" src=\"//codepen.io/hiro0218/embed/preview/ZjweRE/?height=364&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/ZjweRE/'>vertical fixed header</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<h2>方法</h2><p>スクロールに応じて(window.scrollX)、対象の要素の位置をズラす処理を行う。</p>\n<pre><code class=\"js\">header.style.left = -window.scrollX + \"px\";</code></pre>\n<pre><code class=\"js\">const header = document.querySelector(\"header\");\nlet ticking = false;\n\ndocument.addEventListener(\n  \"scroll\",\n  () =&gt; {\n    if (!ticking) {\n      requestAnimationFrame(() =&gt; {\n        ticking = false;\n        // header position\n        header.style.left = -window.scrollX + \"px\";\n      });\n      ticking = true;\n    }\n  },\n  { passive: true }\n);</code></pre>\n<p>スクロールイベントは負荷が高いため、最適化すると良いだろう。</p>\n<h3>参考</h3><ul>\n<li><a href=\"https://b.0218.jp/20180718164756.html\">[JavaScript] スクロールイベントを最適化してパフォーマンスを向上させる方法</a></li>\n<li><a href=\"https://b.0218.jp/20180714221323.html\">[JavaScript] スクロールイベントに Passive Event Listener 指定してパフォーマンスを向上させる方法</a></li>\n</ul>\n","excerpt":"デモ / 方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[名探偵コナン 純黒の悪夢] 皆が大変な時に安室透がやっていたこと","path":"20180814221243.html"},"next":{"title":"[JavaScript] Objectのkeyに変数を使う方法","path":"20180804232310.html"}},{"title":"[JavaScript] Objectのkeyに変数を使う方法","path":"20180804232310.html","permalink":"https://b.0218.jp/20180804232310.html","date":"2018-08-04T23:23:10.000Z","updated":"2018-08-04T23:23:10.000Z","thumbnail":"","content":"<h2>環境・状況</h2><p>Electron 環境上で Windows なら「Ctrl+B」、macOS 環境なら「Cmd+B」というキー操作を同一のオブジェクトとして定義したい。</p>\n<ul>\n<li>Windows: <code>Ctrl+B</code></li>\n<li>macOS: <code>Cmd+B</code></li>\n</ul>\n<h2>方法</h2><pre><code class=\"js\">const isWindows = process.platform === \"win32\";\nconst controlKey = isWindows ? \"Ctrl\" : \"Cmd\";\n\nconst obj = {\n  [`${controlKey}-B`]: {\n    // Ctrl+B or Cmd+B\n    option: true,\n    shift: true,\n  },\n};</code></pre>\n<p><code>[</code>{${変数名}<code>]</code>とすることで<code>Object</code>の<code>key</code>名に変数を使うことができる。</p>\n<p>Electron 環境であったのは OS の切り替えという理由だけであるので、通常の JavaScript 実行環境でもモダン環境であれば同様の実装方法で実現可能である。</p>\n","excerpt":"環境・状況 / 方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"}],"prev":{"title":"[JavaScript] position:fixedを横スクロールで固定させない方法","path":"20180811164757.html"},"next":{"title":"[JavaScript] スクロールイベントを最適化してパフォーマンスを向上させる方法","path":"20180718164756.html"}},{"title":"[JavaScript] スクロールイベントを最適化してパフォーマンスを向上させる方法","path":"20180718164756.html","permalink":"https://b.0218.jp/20180718164756.html","date":"2018-07-18T16:47:56.000Z","updated":"2018-07-18T16:47:56.000Z","thumbnail":"","content":"<p>ページのスクロールの滑らかさが損なわれると UX の低下に繋がる。</p>\n<h2>スクロールイベントの最適化</h2><p>スクロールイベントは発生頻度が多いため、実装内容によっては Scroll Jank を引き起こす可能性がある。</p>\n<ul>\n<li>イベント内で<code>preventDefault()</code>が呼ばれている可能性がある（<code>{passive: false}</code>）</li>\n<li>サイズや位置を取得する処理がある（対象 DOM の位置を取得するため <code>Forced Synchronous Layout</code> が発生する可能性がある）<br><a href=\"https://gist.github.com/paulirish/5d52fb081b3570c81e3a\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">参考 - What forces layout / reflow</a></li>\n</ul>\n<p>これらの対策には、大量の処理イベントを間引く throttle が一般的である。<br>また、処理内で<code>preventDefault()</code> を呼ばないのであれば、<a href=\"https://b.0218.jp/20180714221323.html\">Passive Event Listener</a>を利用することも可能である。</p>\n<h3>60fps と端末のリフレッシュ レート</h3><p>今日の端末は、画面を 1 秒に 60 回リフレッシュする。そのため、アニメーションなどの実行中もしくはページのスクロール中は、端末のリフレッシュ レートに合わせて画面がリフレッシュ毎に 1 つの新しい画像またはフレームを表示する必要がある。</p>\n<p>これらの間隔を数値にすると約 16 ミリ秒（1000 ミリ秒 / 60 = 約 16.66 ミリ秒）になる。この間隔に合致しない場合、フレームレートが低下し、ジャンクが発生する（画面上で描画が震えて見える）。</p>\n<h3>setTimeout()</h3><p>これまで一般的に広く<code>setTimeout</code>が利用されてきた。次回の処理をスケジューリングし処理を頻繁に実行させないようにする事ができる。</p>\n<ul>\n<li>ブラウザ側の準備に関わらず必ず実行される</li>\n<li>タブが非アクティブ時でも実行される</li>\n</ul>\n<p>関数が 16ms ごとに呼び出されないようにするには、以下のようにする。</p>\n<pre><code class=\"js\">var timer = null;\n\nfunction func() {\n  clearTimeout(timer);\n  timer = setTimeout(function () {\n    // 処理\n    // do something\n  }, 16);\n}\n\ndocument.addEventListener(\"scroll\", func, { passive: true });</code></pre>\n<h3>lodash.throttle</h3><p>lodash の<code>throttle</code>を使う手法もある。<a href=\"https://www.npmjs.com/package/lodash.throttle\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">lodash.throttle - npm</a></p>\n<pre><code class=\"js\">import { throttle } from \"lodash\";\n\ndocument.addEventListener(\"scroll\", throttle(func, 16), { passive: true });</code></pre>\n<h3>requestAnimationFrame()</h3><p><code>requestAnimationFrame</code>は、処理を待つように時間指定するのではなく、次のフレームのレンダリングが準備が整った時に呼び出されるため、ほかの処理に割り込まれてフレームのレンダリングが遅延することなく適切なタイミングで呼び出される。<br><a href=\"https://developer.mozilla.org/ja/docs/Web/API/Window/requestAnimationFrame\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">window.requestAnimationFrame - Web API インターフェイス | MDN</a></p>\n<p>もちろん負荷の高い処理が重なると fps は落ちてしまう。あくまで次のフレームのレンダリング準備が整ったときに呼び出してくれるだけであり、どんな場合でも 60fps を保証する銀の弾丸ではない。</p>\n<ul>\n<li>ブラウザの画面リフレッシュと同じタイミングで呼び出される</li>\n<li>画面が非アクティブ時には実行されない</li>\n</ul>\n<p><code>requestAnimationFrame</code>を利用した throttle は、以下のようにする。</p>\n<pre><code class=\"js\">var ticking = false;\n\nfunction func() {\n  if (!ticking) {\n    requestAnimationFrame(function () {\n      ticking = false;\n      // 処理\n      // do something\n    });\n    ticking = true;\n  }\n}\n\ndocument.addEventListener(\"scroll\", func, { passive: true });</code></pre>\n<h2>デモ</h2><p>凝った実装ではないが、それぞれの処理を比較できるデモを用意した。</p>\n<iframe height=\"394\" scrolling=\"no\" title=\"requestAnimationFrame vs throttle vs setTimeout\" src=\"//codepen.io/hiro0218/embed/LBZVQv/?height=394&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/LBZVQv/'>requestAnimationFrame vs throttle vs setTimeout</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<p>scroll 量に応じて指定要素の<code>width</code>が変わる処理が走る。<code>width</code>変更関数内に<code>for</code>で負荷をかけている。</p>\n<pre><code class=\"js\">function updateWidth(element) {\n  // 負荷をかけるループ\n  for (var i = 0; i &lt; 100; i++) {\n    console.log(\"waiting...\");\n  }\n  element.style.width = window.scrollY + 1 + \"px\";\n}</code></pre>\n<p><code>setTimeout</code>は明らかに動作にもたつきが見られる。<code>requestAnimationFrame</code>と<code>_.throttle</code>(間隔 16.66 ミリ秒指定)には大きな差は見られないが、若干<code>_.throttle</code>にチラつきが見れるケースもあった。</p>\n<h2>おわり</h2><p><code>setTimeout</code>が安定しない場合は<code>requestAnimationFrame</code>を使うとほか処理の割り込みによる遅延を低減できる可能性が高まる。</p>\n","excerpt":"スクロールイベントの最適化 / デモ / おわり","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] Objectのkeyに変数を使う方法","path":"20180804232310.html"},"next":{"title":"[JavaScript] スクロールイベントにPassive Event Listener指定してパフォーマンスを向上させる方法","path":"20180714221323.html"}},{"title":"[JavaScript] スクロールイベントにPassive Event Listener指定してパフォーマンスを向上させる方法","path":"20180714221323.html","permalink":"https://b.0218.jp/20180714221323.html","date":"2018-07-14T22:13:23.000Z","updated":"2018-07-14T22:13:23.000Z","thumbnail":"","content":"<p>DOM の新仕様として、スクロールのパフォーマンスを改善するために<code>addEventListener</code>に <a href=\"https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Passive Event Listeners というオプションが追加</a>された。</p>\n<h2>Scroll Jank</h2><p>ページのスクロール時に発生する（スクロールが詰まったような）遅延を「Scroll Jank」と呼ぶ。 こういった Scroll Jank は、スクロールやタッチイベントリスナーに原因がある。</p>\n<p>イベント内で<code>preventDefault()</code>を実行した場合、デフォルトのイベントはキャンセルされる。<br>現在ブラウザは、イベント内で<code>preventDefault()</code>が実行されるか否かは、<strong>そのイベントが実行が終了するまで判定ができない</strong>ため、イベント内の処理が終了するの待つことになる。</p>\n<p>スクロールイベントも<code>preventDefault()</code>が実行された場合は、スクロールはキャンセルされるが、同様にイベント内で<code>preventDefault()</code>が実行されるか否かを判定できるまでスクロールが止まることになる（遅延が発生する）。</p>\n<p>これが Scroll Jank が発生する主な原因である。</p>\n<h2>EventListenerOptions <code>passive</code>とは</h2><p>処理実行前に「<code>preventDefault()</code>を実行していない」ことが判定できれば、Scroll Jank の問題は解決できる。こういった中で<code>addEventListener</code>に <a href=\"https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Passive Event Listeners というオプションが追加</a>された。</p>\n<p>追加されたオプションは、<code>addEventListener</code>の第三引数に<code>options</code>(<code>{passive: true}</code>)を指定する事で「処理が<code>preventDefault()</code>を実行していない」という事が明示できるようになった。<br>これより、スクロールイベントのリスナーにこのオプションを指定することで処理終了後ではなく、スクロールをすることができるようになった。</p>\n<pre><code class=\"js\">document.addEventListener(\"scroll\", func, { passive: true });</code></pre>\n<blockquote>\n<p><strong>options</strong> &gt; <strong>passive</strong>: <code>listener</code>が<code>preventDefault()</code>を呼び出さないことを表す Boolean 値です。<br><code>true</code>が指定された状態で<code>listener</code>が<code>preventDefault()</code>を呼び出すと、ユーザーエージェントはその呼び出しを無視し、コンソールに警告を出力します。</p>\n<p><a href=\"https://developer.mozilla.org/ja/docs/Web/API/EventTarget/addEventListener\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">EventTarget.addEventListener() - Web API インターフェイス | MDN</a></p>\n</blockquote>\n<p>基本的にスクロールイベントとして、<code>scroll</code>について記載をしているが、wheel、mousewheel、touchstart、touchmove も passive 指定をすると良い。</p>\n<h3>非対応ブラウザとの互換の問題</h3><p>元々<code>addEventListener</code>の第三引数には、<code>useCapture</code>が定義されていた。<code>useCapture</code>の説明は割愛するが、今後<code>useCapture</code>を指定する場合は、<code>{capture: true}</code>といった形で指定する。</p>\n<p>モダンブラウザの殆どが Passive event listener に対応しているが、<a href=\"https://caniuse.com/#search=passive\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Can I use… Support tables for HTML5, CSS3, etc</a>を見たら分かるように Internet Explorer 11 だけが未対応となっている。<br>もし、こういった非対応ブラウザの第三引数に<code>options</code>の Object を渡してしまうと、<code>useCapture</code>が<code>true</code>評価になってしまう。</p>\n<p>非対応ブラウザで<code>useCapture</code>が意図しない指定になるのはよろしくはないので、回避したい場合は Passive event listener に対応しているのか判定が必要になる。</p>\n<p>非対応ブラウザ向けに判定処理を実装する事が出来る。<a href=\"https://developer.mozilla.org/ja/docs/Web/API/EventTarget/addEventListener\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">EventTarget.addEventListener() - Web API インターフェイス | MDN</a>には、こういった判定処理が紹介されている。</p>\n<pre><code class=\"js\">/* \"passive\" が使えるかどうかを検出 */\nvar passiveSupported = false;\n\ntry {\n  window.addEventListener(\n    \"test\",\n    null,\n    Object.defineProperty({}, \"passive\", {\n      get: function () {\n        passiveSupported = true;\n      },\n    })\n  );\n} catch (err) {}\n\n/* リスナーを登録 */\nvar elem = document.getElementById(\"elem\");\n\nelem.addEventListener(\n  \"touchmove\",\n  function listener() {\n    /* do something */\n  },\n  passiveSupported ? { passive: true } : false\n);</code></pre>\n<h3>Passive event listener を jQuery で対応するには…</h3><p>現状、ない。</p>\n<h2>おわり</h2><p>要素検出や要素固定など本来スクロールに直接関係のない処理については、<code>Intersection Observer</code>や<code>position: sticky</code>の登場でスクロールイベント内で処理をせず、負荷の少ない実装をする事が可能になった。</p>\n<p>だが、それでもスクロールイベントでの処理が必要な場合は少なくない。そういう場合はこういった手法を使うのが定石となってくるだろう。</p>\n","excerpt":"Scroll Jank / EventListenerOptions passiveとは / おわり","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] スクロールイベントを最適化してパフォーマンスを向上させる方法","path":"20180718164756.html"},"next":{"title":"[PHP] json_encodeで出力するJSONを整形して綺麗に出力する方法","path":"20180706001247.html"}},{"title":"[PHP] json_encodeで出力するJSONを整形して綺麗に出力する方法","path":"20180706001247.html","permalink":"https://b.0218.jp/20180706001247.html","date":"2018-07-06T00:12:47.000Z","updated":"2018-07-06T00:12:47.000Z","thumbnail":"","content":"<h2>仕様</h2><p>PHP 側で整形した連想配列を<code>json_encode</code>を利用してフロント側へ JSON を出力する。</p>\n<h2>方法</h2><p>PHP の連想配列を JSON にしたい場合は<code>json_encode</code>を使用すれば良い。</p>\n<pre><code class=\"php\">json_encode($array, JSON_UNESCAPED_UNICODE | JSON_UNESCAPED_SLASHES);</code></pre>\n<p>上記では、エスケープに必要なビットマスクをいくつか立てている。</p>\n<p><strong>出力例：</strong></p>\n<pre><code class=\"json\">{\n  \"@context\": \"http://schema.org\",\n  \"@type\": \"WebSite\",\n  \"name\": \"test\",\n  \"url\": \"https://test.example/\",\n  \"potentialAction\": {\n    \"@type\": \"SearchAction\",\n    \"target\": \"https://test.example/search/{query}\",\n    \"query-input\": \"required name=query\"\n  }\n}</code></pre>\n<h3>コード</h3><blockquote>\n<p><code>JSON_PRETTY_PRINT</code> (integer)<br>返される結果の書式を、スペースを使って整えます。 PHP 5.4.0 以降で使用可能です。</p>\n</blockquote>\n<p><code>json_encode</code>の option に <code>JSON_PRETTY_PRINT</code>を指定する。</p>\n<pre><code class=\"php\">json_encode($array, JSON_UNESCAPED_UNICODE | JSON_UNESCAPED_SLASHES | JSON_PRETTY_PRINT )</code></pre>\n<p>こうする事で整形された形で文字列が出力されるようになる。</p>\n<p><strong>出力例：</strong></p>\n<pre><code class=\"json\">{\n  \"@context\": \"http://schema.org\",\n  \"@type\": \"WebSite\",\n  \"name\": \"test\",\n  \"url\": \"https://test.example/\",\n  \"potentialAction\": {\n    \"@type\": \"SearchAction\",\n    \"target\": \"https://test.example/search/{query}\",\n    \"query-input\": \"required name=query\"\n  }\n}</code></pre>\n","excerpt":"仕様 / 方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[JavaScript] スクロールイベントにPassive Event Listener指定してパフォーマンスを向上させる方法","path":"20180714221323.html"},"next":{"title":"[JavaScript] コロン(:)の入った属性で要素セレクタを行う方法","path":"20180615125035.html"}},{"title":"[JavaScript] コロン(:)の入った属性で要素セレクタを行う方法","path":"20180615125035.html","permalink":"https://b.0218.jp/20180615125035.html","date":"2018-06-15T12:50:35.000Z","updated":"2018-06-15T12:50:35.000Z","thumbnail":"","content":"<h2>概要</h2><p>下記のような<code>goods:id</code>属性を元に要素をセレクタで拾いたい。</p>\n<pre><code class=\"html\">&lt;div goods:id=\"12345\"&gt;&lt;/div&gt;</code></pre>\n<h2>方法</h2><p>条件としては、属性セレクタが容易な<code>querySelector()</code>または<code>querySelectorAll()</code>を使用する。</p>\n<p>単純に<code>document.querySelectorAll(\"[goods:id]\")</code>といった指定では<code>is not a valid selector</code>というエラーが発生してしまう。</p>\n<p>これを回避するには下記のようにコロンの前にエスケープ(二重バックスラッシュ)が必要になる。</p>\n<pre><code class=\"js\">document.querySelectorAll(\"[goods\\\\:id]\");</code></pre>\n","excerpt":"概要 / 方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[PHP] json_encodeで出力するJSONを整形して綺麗に出力する方法","path":"20180706001247.html"},"next":{"title":"[Prism.js] tokenizePlaceholders of undefinedエラーの対処方法","path":"20180611123456.html"}},{"title":"[Prism.js] tokenizePlaceholders of undefinedエラーの対処方法","path":"20180611123456.html","permalink":"https://b.0218.jp/20180611123456.html","date":"2018-06-11T12:34:56.000Z","updated":"2018-06-11T12:34:56.000Z","thumbnail":"","content":"<h2>概要</h2><p><a href=\"https://prismjs.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Prism.js</a>を 1.13.0 から 1.14.0 へバージョンアップした際に下記のようなエラーが発生した。</p>\n<pre><code>Uncaught (in promise) TypeError: Cannot read property 'tokenizePlaceholders' of undefined</code></pre>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>解決方法</h2><p>これまでは下記のように言語ファイルを import していた。</p>\n<pre><code class=\"js\">import \"prismjs/components/prism-markup\";\nimport \"prismjs/components/prism-css\";\nimport \"prismjs/components/prism-clike\";\nimport \"prismjs/components/prism-javascript\";</code></pre>\n<p><a href=\"https://github.com/PrismJS/prism/issues/1400\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">TypeError: Cannot read property ‘tokenizePlaceholders’ of undefined · Issue #1400 · PrismJS/prism · GitHub</a>を参考に<code>loadLanguages</code>経由で下記のように読み込むよう修正した。</p>\n<pre><code class=\"js\">import loadLanguages from \"prismjs/components/index\";\n\nloadLanguages([\"markup\", \"css\", \"clike\", \"javascript\"]);</code></pre>\n","excerpt":"概要 / 解決方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] コロン(:)の入った属性で要素セレクタを行う方法","path":"20180615125035.html"},"next":{"title":"ZOZOSUITで計測して「ZOZO」を購入した感想\n","path":"20180602210645.html"}},{"title":"ZOZOSUITで計測して「ZOZO」を購入した感想\n","path":"20180602210645.html","permalink":"https://b.0218.jp/20180602210645.html","date":"2018-06-02T21:06:45.000Z","updated":"2018-07-02T21:24:02.000Z","thumbnail":"","content":"<p>ようやく届いたので計測して服を購入してみた。</p>\n<h2>計測</h2><h3>ZOZOSUIT の使用感</h3><p>着用に際して、下に下着を付けるのか否か分からなかった（たぶん、上半身は下着を着ながらは着られない）。アプリを起動したら簡単なチュートリアルが始まったので間違いがないか確認できたが、アプリを起動して「計測開始」を初めてから着替える人は少ないだろう。きっと先に着替えてからアプリ起動だ。この説明書ぐらい同梱してくれていたらユーザに優しいのにと思った。</p>\n<p>実際、着用してみると思ったより窮屈感はなかった。センサー式の旧型は着るのが大変だったという話もネットで目にしていたので意外であった。また自身の身長体重を入力して注文しているのでもちろんだが、全体的なサイズ感も違和感なかった。<br>ZOZOSUIT のバージョン 2 が出たら、ZOZOSUIT で計測して ZOZOSUIT を注文する未来が見える。</p>\n<p>少し気になったのだが、ZOZOSUIT はスタートトゥデイの決算発表によると「洗濯可能」らしい。夏場、涼しいところでも汗ばみそうなので洗濯できるのは良さそう。</p>\n<p>あと職場で ZOZOSUIT を注文した同僚に訊いてみたが、「届いたが計測していない」という人が殆どだった。<br>確かに今の購入ページには書かれてあるが、そもそも「どうやって計測するの？」「えっ、ZOZOTOWN アプリ使うんだ」「スタンド付いてるんだ！」というような感じだった。</p>\n<blockquote>※計測にはZOZOTOWNアプリ（無料）が必要です。\n※計測用スマートフォンスタンド付\n<a href=\"http://zozo.jp/shop/zozo/goods/30242481/\">http://zozo.jp/shop/zozo/goods/30242481/</a></blockquote>\n\n<p>このあたりも分かりづらいかもしれない。</p>\n<h3>アプリの使用感</h3><p>アプリの音声案内に従って計測を行う。計測自体は、”12 時の方向から時計回りに 11 時の方向まで計測を繰り返す”。始まってしまえば何ということはないが、それまでが大変だった。</p>\n<ul>\n<li>ZOZOSUIT を着ながらスマホのセッティングは厳しい</li>\n<li>照明の関係で調整が必要<br>「上半身に光が当たりすぎている」など仕方がないが、照明の調整をすると計測場所の調整が再び必要になってしまう</li>\n<li>計測完了後に応答がなくなってしまった（→ 再計測）<br>処理が重いのかもしれない</li>\n<li>再計測しする際にチュートリアルのスキップができない</li>\n<li>計測後にしばらく黒い画面のままが続くので不安</li>\n</ul>\n<p>未使用なのでわからないが旧型のセンサー方式はセンサー方式で問題があったのかもしれない。旧型の魅力があるだけに「マーカー方式よりセンサー方式の方が簡単に測定できるのでは」という思いが拭えない。<br>ただ、頻繁に ZOZOSUIT を着て計測をすることはないので、一度の労力で得られるメリットの方が大きい。</p>\n<h2>購入</h2><p>計測が完了すると、ZOZO の服が購入できるようになる。</p>\n<p>それぞれ下記を注文した。</p>\n<ul>\n<li>クルーネック T シャツ / ¥1,200</li>\n<li>スリムテーパードデニム / ¥3,800</li>\n</ul>\n<p>既成品と比べ値段も高くはない。</p>\n<p>注文に際して、自分のサイズに合ったサイズを選ぶ事ができる。自分の好みで肩幅・身丈などを<code>-2ch / 最適 / +2cm</code>から調整できるといった具合だ。</p>\n<p>私は T シャツ・デニムともに「最適」で注文した。</p>\n<h2>「ZOZO」の着用</h2><p>自分に合ったサイズなだけあって、フィット感はすごくある（測定したというプラシーボ効果もあるのかもしれないが）。値段も既成品と変わらないし、生地も悪くはない。それであれば、自分に合ってないサイズの服を着るよりは断然フィット感のある服を選ぶほうが最善だろう。</p>\n<h2>感想・要望</h2><p>柄もなく同じ型のシャツでも、もう一度注文したいなと思わせてくれる体験をさせてくれた。</p>\n<p>計測については、部分計測ができると嬉しい。上半身のみ・下半身のみ…とか。</p>\n<p>あとは、もっとカラーバリエーションがあると嬉しい。PB の意味がなくなってくるが、T シャツにオリジナルプリントなんてできると面白そう。</p>\n","excerpt":"計測 / 購入 / 「ZOZO」の着用 / 感想・要望","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"レビュー","slug":"レビュー","path":"tags/%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC/"}],"prev":{"title":"[Prism.js] tokenizePlaceholders of undefinedエラーの対処方法","path":"20180611123456.html"},"next":{"title":"[webpack] バンドルされるLodashのサイズを減らす方法","path":"20180521003425.html"}},{"title":"[webpack] バンドルされるLodashのサイズを減らす方法","path":"20180521003425.html","permalink":"https://b.0218.jp/20180521003425.html","date":"2018-05-21T00:34:25.000Z","updated":"2018-05-21T00:34:25.000Z","thumbnail":"","content":"<h2>概要</h2><p>Lodash の一部のモジュールを使用した場合でも全てのモジュールをバンドルしてしまいファイルサイズが肥大化してしまう。</p>\n<p>私の環境下では<code>cloneDeep</code>のみを使用していたので、それだけバンドルされるようにする。</p>\n<h2>設定方法</h2><p><code>import { cloneDeep } from 'lodash';</code>と記述しても上手く Tree Shaking されないため、<a href=\"https://github.com/lodash/lodash-webpack-plugin\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">lodash-webpack-plugin</a>を利用する。</p>\n<p>設定は下記にような形で行う。</p>\n<h3>webpack.config.js</h3><pre><code class=\"js\">const LodashModuleReplacementPlugin = require(\"lodash-webpack-plugin\");\n\nmodule.exports = {\n  plugins: [new LodashModuleReplacementPlugin()],\n};</code></pre>\n<h3>.babelrc</h3><pre><code class=\"json\">{\n  \"plugins\": [[\"lodash\"]]\n}</code></pre>\n<hr>\n<p>あとはこれまで通り、下記のように特定のモジュールを読み込むだけで OK</p>\n<pre><code class=\"js\">import { cloneDeep } from \"lodash\";</code></pre>\n","excerpt":"概要 / 設定方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"webpack","slug":"webpack","path":"tags/webpack/"}],"prev":{"title":"ZOZOSUITで計測して「ZOZO」を購入した感想\n","path":"20180602210645.html"},"next":{"title":"CDATAセクションは書く必要があるのか\n","path":"20180514173729.html"}},{"title":"CDATAセクションは書く必要があるのか\n","path":"20180514173729.html","permalink":"https://b.0218.jp/20180514173729.html","date":"2018-05-14T17:37:29.000Z","updated":"2018-05-14T17:37:29.000Z","thumbnail":"","content":"<h2>背景</h2><p>レガシープロジェクトを改修中に<code>CDATA</code>に遭遇した。</p>\n<p>「<code>CDATA</code>は必要なんですか」と訊かれ、「プロダクトの仕様上は必要ない」と返答したことがあった。<br>また、別のレガシープロジェクトで<code>CDATA</code>に遭遇した際は「（プロダクトの仕様上）必要だ」と返答した。</p>\n<p>今後、モダンな開発をしていく中では<code>CDATA</code>を新規で追加することは恐らく皆無だろうが、どういったケースで必要になるのか記載をしておく。</p>\n<p>端的に述べるとケースバイケースである。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>そもそも CDATA セクションとは</h2><p>CDATA セクションは、XML 文書内で使用される。</p>\n<p>XML 内で<code>&lt;</code>, <code>&gt;</code>を文字列として表現するときは、問題なくパースできるように実体参照(<code>&gt;</code>, <code>&lt;</code>)で記述しなければならない。</p>\n<p>実体参照で記載する文字が少なければ良いが、大量だと記載の仕分けや管理が大変になってくるため、プレーンな状態で記載を行いたい場合も多い。そういった記述をする際に CDATA セクションを使用する。</p>\n<pre><code class=\"html\">&lt;document&gt; &lt;![CDATA[ 1 &lt; 10 ]]&gt; &lt;/document&gt;</code></pre>\n<p>上記のように記述することで、タグではなく文字列として扱うことができる。<br>※ ただし、CDATA セクション内でも <code>]]&gt;</code> は CDATA セクションの終了を示すものを解釈され扱うことはできない。</p>\n<h2>現代での CDATA セクションの扱い</h2><p>拡張子が<code>*.html</code>で HTML5 宣言をしているのであれば、CDATA セクションは不要である。（XHTML5 みたいな書き方の場合は必要だろうが…）</p>\n<p>大抵の場合、<code>CDATA</code>が必要なのはファイル拡張子が<code>*.xhtml</code>になっているものだろう。XHTML でも<code>&lt;script&gt;</code>,<code>&lt;style&gt;</code>をインラインで使用は可能だが、HTML との扱いとは少々異なり、CDATA セクションが必要となる。</p>\n<pre><code class=\"html\">&lt;script&gt;\n  //&lt;![CDATA[\n  alert(\"hoge\");\n  //]]&gt;\n&lt;/script&gt;</code></pre>\n<p><code>&lt;![CDATA[ 〜 ]]&gt;</code>をそのままの記述で正しく認識しないブラウザもあるため、CDATA セクションの開始・終了部分を単一行のコメントアウトするのが一般的である。<br>これらの要素については、外部ファイルとして読み込めば CDATA セクションを意識する必要もなくなる。</p>\n<h2>インラインスクリプト内の<code>&lt;!-- //--&gt;</code>とは（余談）</h2><p>下記のように CDATA とともに謎のコメント記述を見かけることがあるだろう。</p>\n<pre><code class=\"html\">&lt;script&gt;\n  &lt;!--\n  alert(\"hoge\");\n  //--&gt;\n&lt;/script&gt;</code></pre>\n<p>スクリプト内に記載された<code>&lt;!--</code>, <code>--&gt;</code>はどういう意味があるのかというと、これは JavaScript に対応していないブラウザが<code>&lt;script&gt;</code>内の記述をそのまま画面上に表示させてしまうのを防ぐための対応である。<br>JavaScript をオフにしているではなく、そもそも JavaScript に対応していないブラウザは現在では主要なブラウザにおいて存在しないので、今はあえて記載しなくて良い。</p>\n<h2>まとめ</h2><p>例えモダンなプロダクトだろうが、バックエンド側が XML をパースする必要がある場合は、この CDATA セクションが必要な場合もある。</p>\n<h2>参考</h2><ul>\n<li><a href=\"http://www.atmarkit.co.jp/aig/01xml/cdata.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">XML 用語事典 CDATA セクション</a></li>\n<li><a href=\"http://wisdom.sakura.ne.jp/web/xml/xml/xml7.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">CDATA セクション</a></li>\n<li><a href=\"http://www.techscore.com/tech/XML/Basic/Basic2/2_3-2.html/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">2. XML の構造 5 | TECHSCORE(テックスコア)</a></li>\n</ul>\n","excerpt":"背景 / そもそも CDATA セクションとは / 現代での CDATA セクションの扱い / インラインスクリプト内の<!-- //-->とは（余談） / まとめ","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"}],"prev":{"title":"[webpack] バンドルされるLodashのサイズを減らす方法","path":"20180521003425.html"},"next":{"title":"[Nuxt.js] ビルド時にelement-uiのサイズを減らす方法","path":"20180512151459.html"}},{"title":"[Nuxt.js] ビルド時にelement-uiのサイズを減らす方法","path":"20180512151459.html","permalink":"https://b.0218.jp/20180512151459.html","date":"2018-05-12T15:14:59.000Z","updated":"2018-05-12T15:14:59.000Z","thumbnail":"","content":"<h2>概要</h2><p>Nuxt.js を利用したプロジェクトで、コンポーネント部分を<a href=\"https://element.eleme.io/#/en-US\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Element</a>にて担うことにした。</p>\n<p>ただ、ビルド時に未使用のコンポーネントまでバンドルされてサイズも大きかったため、使用しているものだけバンドルさせるように調整を行った。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><p><a href=\"https://www.npmjs.com/package/babel-plugin-component\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">babel-plugin-component</a>を利用する。</p>\n<pre><code>yarn add -D babel-plugin-component\n\n// or\n\nnpm install -D babel-plugin-component</code></pre>\n<p>babel-plugin-component をインストール後、Nuxt の<code>nuxt.config.js</code>に下記の設定を加える。</p>\n<pre><code class=\"js\">build: {\n    babel: {\n      plugins: [\n        [\n          'component',\n          [\n            {\n              libraryName: 'element-ui',\n            },\n          ],\n        ],\n      ],\n    },\n}</code></pre>\n<p><code>plugins/element-ui.js</code>を置き、下記のような記述にした。</p>\n<pre><code class=\"js\">import Vue from \"vue\";\nimport {\n  Pagination,\n  Dialog,\n  Autocomplete,\n  Dropdown,\n  DropdownMenu,\n  DropdownItem,\n  Menu,\n  Submenu,\n  MenuItem,\n  MenuItemGroup,\n  Input,\n  InputNumber,\n  Radio,\n  RadioGroup,\n  RadioButton,\n  Checkbox,\n  CheckboxButton,\n  CheckboxGroup,\n  Switch,\n  Select,\n  Option,\n  OptionGroup,\n  Button,\n  ButtonGroup,\n  Table,\n  TableColumn,\n  DatePicker,\n  TimeSelect,\n  TimePicker,\n  Popover,\n  Tooltip,\n  Breadcrumb,\n  BreadcrumbItem,\n  Form,\n  FormItem,\n  Tabs,\n  TabPane,\n  Tag,\n  Tree,\n  Alert,\n  Slider,\n  Icon,\n  Row,\n  Col,\n  Upload,\n  Progress,\n  Spinner,\n  Badge,\n  Card,\n  Rate,\n  Steps,\n  Step,\n  Carousel,\n  Scrollbar,\n  CarouselItem,\n  Collapse,\n  CollapseItem,\n  Cascader,\n  ColorPicker,\n  Transfer,\n  Container,\n  Header,\n  Aside,\n  Main,\n  Footer,\n  Loading,\n  Notification,\n  Message,\n  MessageBox,\n} from \"element-ui\";\n\nimport lang from \"element-ui/lib/locale/lang/ja\";\nimport locale from \"element-ui/lib/locale\";\n\n// configure language\nlocale.use(lang);\n\n// set\nVue.use(Loading.directive);\nVue.prototype.$loading = Loading.service;\nVue.prototype.$msgbox = MessageBox;\nVue.prototype.$alert = MessageBox.alert;\nVue.prototype.$confirm = MessageBox.confirm;\nVue.prototype.$prompt = MessageBox.prompt;\nVue.prototype.$notify = Notification;\nVue.prototype.$message = Message;\n\n// import components\nVue.component(Pagination.name, Pagination);\nVue.component(Dialog.name, Dialog);\nVue.component(Autocomplete.name, Autocomplete);\nVue.component(Dropdown.name, Dropdown);\nVue.component(DropdownMenu.name, DropdownMenu);\nVue.component(DropdownItem.name, DropdownItem);\nVue.component(Menu.name, Menu);\nVue.component(Submenu.name, Submenu);\nVue.component(MenuItem.name, MenuItem);\nVue.component(MenuItemGroup.name, MenuItemGroup);\nVue.component(Input.name, Input);\nVue.component(InputNumber.name, InputNumber);\nVue.component(Radio.name, Radio);\nVue.component(RadioGroup.name, RadioGroup);\nVue.component(RadioButton.name, RadioButton);\nVue.component(Checkbox.name, Checkbox);\nVue.component(CheckboxButton.name, CheckboxButton);\nVue.component(CheckboxGroup.name, CheckboxGroup);\nVue.component(Switch.name, Switch);\nVue.component(Select.name, Select);\nVue.component(Option.name, Option);\nVue.component(OptionGroup.name, OptionGroup);\nVue.component(Button.name, Button);\nVue.component(ButtonGroup.name, ButtonGroup);\nVue.component(Table.name, Table);\nVue.component(TableColumn.name, TableColumn);\nVue.component(DatePicker.name, DatePicker);\nVue.component(TimeSelect.name, TimeSelect);\nVue.component(TimePicker.name, TimePicker);\nVue.component(Popover.name, Popover);\nVue.component(Tooltip.name, Tooltip);\nVue.component(Breadcrumb.name, Breadcrumb);\nVue.component(BreadcrumbItem.name, BreadcrumbItem);\nVue.component(Form.name, Form);\nVue.component(FormItem.name, FormItem);\nVue.component(Tabs.name, Tabs);\nVue.component(TabPane.name, TabPane);\nVue.component(Tag.name, Tag);\nVue.component(Tree.name, Tree);\nVue.component(Alert.name, Alert);\nVue.component(Slider.name, Slider);\nVue.component(Icon.name, Icon);\nVue.component(Row.name, Row);\nVue.component(Col.name, Col);\nVue.component(Upload.name, Upload);\nVue.component(Progress.name, Progress);\nVue.component(Spinner.name, Spinner);\nVue.component(Badge.name, Badge);\nVue.component(Card.name, Card);\nVue.component(Rate.name, Rate);\nVue.component(Steps.name, Steps);\nVue.component(Step.name, Step);\nVue.component(Carousel.name, Carousel);\nVue.component(Scrollbar.name, Scrollbar);\nVue.component(CarouselItem.name, CarouselItem);\nVue.component(Collapse.name, Collapse);\nVue.component(CollapseItem.name, CollapseItem);\nVue.component(Cascader.name, Cascader);\nVue.component(ColorPicker.name, ColorPicker);\nVue.component(Transfer.name, Transfer);\nVue.component(Container.name, Container);\nVue.component(Header.name, Header);\nVue.component(Aside.name, Aside);\nVue.component(Main.name, Main);\nVue.component(Footer.name, Footer);</code></pre>\n<p>使用しないコンポーネントに関しては、<code>import</code>と<code>Vue.component</code>箇所をコメントアウトすれば良い。（必要になればアンコメントすれば良い）</p>\n","excerpt":"概要 / 方法","categories":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"categories/Nuxt-js/"}],"tags":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"tags/Nuxt-js/"},{"name":"Vue.js","slug":"Vue-js","path":"tags/Vue-js/"}],"prev":{"title":"CDATAセクションは書く必要があるのか\n","path":"20180514173729.html"},"next":{"title":"[名探偵コナン] 爆破があった映画、なかった映画の一覧","path":"20180419001727.html"}},{"title":"[名探偵コナン] 爆破があった映画、なかった映画の一覧","path":"20180419001727.html","permalink":"https://b.0218.jp/20180419001727.html","date":"2018-04-19T00:17:27.000Z","updated":"2019-04-21T15:42:59.000Z","thumbnail":"","content":"<p>「劇場版 名探偵コナン」の記念すべき第一作目「時計じかけの摩天楼」が、大規模な爆破シーンが展開された為か、劇場版シリーズで爆破シーンは必要不可欠となっている。</p>\n<p>長年爆破シーンを見続けた視聴者ならば、新しい建物が登場する度に「爆破される建物だ！」という感想が頭を過るだろう。</p>\n<p>どんな爆破があったのか、これまでのシリーズを振り返りたい。</p>\n<p class=\"c-alert is-danger\">※ネタバレあり</p>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>第 1 作 時計じかけの摩天楼</h2><ul>\n<li><strong>ラジコン模型飛行機</strong></li>\n<li><strong>キャリーバッグ/自転車</strong></li>\n<li><strong>米花シティービル</strong></li>\n</ul>\n<h2>第 2 作 14 番目の標的</h2><ul>\n<li><strong>ヘリコプター</strong><br>操縦者の辻の目薬に仕掛けをしたため、結果的に墜落し爆発</li>\n<li><strong>アクアクリスタル</strong><br>ターゲットをまとめて始末するためだけに</li>\n</ul>\n<h2>第 3 作 世紀末の魔術師</h2><ul>\n<li><strong>変電所</strong><br>キッドがエッグの場所を見つけるため</li>\n<li><strong>手榴弾</strong><br>香坂邸の地下でスコーピオンが逃走中に配置</li>\n</ul>\n<h2>第 4 作 瞳の中の暗殺者</h2><ul>\n<li><strong>米花サンプラザホテルの電気系統</strong><br>停電させるため</li>\n</ul>\n<h2>第 5 作 天国へのカウントダウン</h2><ul>\n<li><strong>ツインタワービル</strong></li>\n</ul>\n<h2>第 6 作 ベイカー街の亡霊</h2><ul>\n<li><strong>オペラハウス</strong>（コクーン内）</li>\n</ul>\n<h2>第 7 作 迷宮の十字路</h2><ul>\n<li><strong>なし</strong><br>義経になりたかっただけなので爆発はない</li>\n</ul>\n<h2>第 8 作 銀翼の奇術師</h2><ul>\n<li><strong>函館空港の管制塔</strong>（飛行機との衝突により）</li>\n</ul>\n<h2>第 9 作 水平線上の陰謀</h2><ul>\n<li><strong>豪華客船「アフロディーテ号」</strong></li>\n</ul>\n<h2>第 10 作 探偵たちの鎮魂歌</h2><ul>\n<li><strong>Waku Waku Burger Humburger 店舗前の人形</strong>（馬車道）<br>「バーカ、バーカ、無能ナ警察ハ消エロ」</li>\n<li><strong>腕時計型爆弾</strong>（スーパースネーク上空）<blockquote>\n<p>哀「動くと死ぬわよ!!」<br>元太「はい……」</p>\n</blockquote>\n</li>\n</ul>\n<h2>第 11 作 紺碧の棺</h2><ul>\n<li><strong>海底遺跡</strong>（内部）<br>脱出のためメタンガスを爆発させる</li>\n</ul>\n<h2>第 12 作 戦慄の楽譜</h2><ul>\n<li><strong>堂本音楽アカデミーの練習室</strong><br>オープニング爆破</li>\n<li><strong>堂本ホール</strong></li>\n</ul>\n<h2>第 13 作 漆黒の追跡者</h2><ul>\n<li><strong>組織の軍用ヘリ</strong></li>\n</ul>\n<h2>第 14 作 天空の難破船</h2><ul>\n<li>東京都西多摩市 国立東京微生物研究所</li>\n</ul>\n<h2>第 15 作 沈黙の 15 分</h2><ul>\n<li><strong>都営地下鉄 15 号線・東都線のトンネル</strong></li>\n<li><strong>携帯基地局</strong></li>\n<li><strong>北ノ沢ダム</strong></li>\n</ul>\n<h2>第 16 作 11 人目のストライカー</h2><ul>\n<li><strong>東都スタジアム</strong></li>\n</ul>\n<h2>第 17 作 絶海の探偵</h2><ul>\n<li><strong>なし</strong><br>爆発は無かったが、コナンの不安は爆発した</li>\n</ul>\n<p>爆弾を積んだ不審船は登場するも爆発せず<br>連続出場の白鳥も登場せず</p>\n<h2>第 18 作 異次元の狙撃手</h2><ul>\n<li><strong>手榴弾</strong><br>挨拶代わりにパトカーを爆破</li>\n</ul>\n<h2>第 19 作 業火の向日葵</h2><ul>\n<li><strong>飛行機の貨物室</strong>（外側）</li>\n<li><strong>東都プラザホテル一四一二号室の窓</strong></li>\n<li><strong>レイクロック美術館の貯水タンク</strong>（崩壊）</li>\n</ul>\n<h2>第 20 作 純黒の悪夢</h2><ul>\n<li><strong>カーチェイスの末、車・橋の下の建物</strong></li>\n<li><strong>組織が仕掛けた爆弾</strong>を安室が空中にソイ！</li>\n<li><strong>組織のオスプレイ</strong>（ライフルで撃墜状態）</li>\n<li><strong>観覧車</strong>（車軸にしかけた爆弾を銃撃）</li>\n<li><strong>キュラソーの重機</strong></li>\n</ul>\n<h2>第 21 作 から紅の恋歌</h2><ul>\n<li><strong>日売テレビ</strong></li>\n<li><strong>車</strong></li>\n</ul>\n<h2>第 22 作 ゼロの執行人</h2><ul>\n<li><strong>東京サミット会場</strong><br>オープニング爆破</li>\n</ul>\n<h2>第 23 作 紺青の拳</h2><ul>\n  <li><b>地下駐車場の自動車</b><br>オープニング爆破</li>\n  <li><b style=\"font-size:1.2rem\">シンガポール</b></li>\n  <li><b style=\"font-size:1.3rem\">京極真</b></li>\n</ul>\n\n<hr>\n<section style=\"text-align: center;\">\n<span style=\"font-size: 1.5rem; font-weight: bold;\">映画の面白さと爆破率は比例しない！！</span>\n</section>\n","excerpt":"第 1 作 時計じかけの摩天楼 / 第 2 作 14 番目の標的 / 第 3 作 世紀末の魔術師 / 第 4 作 瞳の中の暗殺者 / 第 5 作 天国へのカウントダウン","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"},{"name":"劇場版","slug":"劇場版","path":"tags/%E5%8A%87%E5%A0%B4%E7%89%88/"}],"prev":{"title":"[Nuxt.js] ビルド時にelement-uiのサイズを減らす方法","path":"20180512151459.html"},"next":{"title":"[名探偵コナン] 安室透に対しての周囲からの呼称一覧","path":"20180416004324.html"}},{"title":"[名探偵コナン] 安室透に対しての周囲からの呼称一覧","path":"20180416004324.html","permalink":"https://b.0218.jp/20180416004324.html","date":"2018-04-16T00:43:24.000Z","updated":"2018-04-16T00:43:24.000Z","thumbnail":"","content":"<p>トリプルフェイスである安室透の呼称をまとめてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<table style=\"width:100%;\">\n<thead>\n <tr>\n   <th>人物</th>\n   <th>安室の呼称</th>\n </tr>\n</thead>\n<tbody>\n  <tr>\n    <td>江戸川コナン</td>\n    <td>\n安室さん<br>\nバーボン<br>\n安室透<br>\n安室って男<br>\n安室の兄ちゃん<br>\nゼロ<br>\nゼロの兄ちゃん\n    </td>\n  </tr>\n  <tr>\n    <td>毛利蘭</td>\n    <td>\n安室さん<br>\n探偵さん\n    </td>\n  </tr>\n  <tr>\n    <td>毛利小五郎</td>\n    <td>\n安室君<br>\n透\n    </td>\n  </tr>\n  <tr>\n    <td>榎本梓</td>\n    <td>\n安室さん\n    </td>\n  </tr>\n  <tr>\n    <td>鈴木園子</td>\n    <td>\n安室さん\n    </td>\n  </tr>\n  <tr>\n    <td>世良真純</td>\n    <td>\n安室さん\n    </td>\n  </tr>\n  <tr>\n    <td>赤井秀一</td>\n    <td>\n安室君<br>\nバーボン<br>\n安室透君<br>\n降谷零君<br>\nゼロ<br>\n狼\n    </td>\n  </tr>\n  <tr>\n    <td>沖矢昴</td>\n    <td>\nあの男<br>\nRX7の彼<br>\n日本屈指の捜査官<br>\n宅配業者の方\n    </td>\n  </tr>\n  <tr>\n    <td>ジョディ・スターリング</td>\n    <td>\n安室透<br>\nバーボン\n    </td>\n  </tr>\n  <tr>\n    <td>アンドレ・キャメル</td>\n    <td>\n安室透<br>\nバーボン\n    </td>\n  </tr>\n  <tr>\n    <td>ジェイムズ・ブラック</td>\n    <td>\nバーボン\n    </td>\n  </tr>\n  <tr>\n    <td>目暮十三</td>\n    <td>\n安室君<br>\n喫茶店探偵\n    </td>\n  </tr>\n  <tr>\n    <td>高木渉</td>\n    <td>\n安室さん<br>\n安室透さん\n    </td>\n  </tr>\n  <tr>\n    <td>スコッチ</td>\n    <td>\n<ruby>零<rt>ゼロ</rt></ruby> <br>\n降谷\n    </td>\n  </tr>\n  <tr>\n    <td>風見裕也</td>\n    <td>\n降谷さん\n    </td>\n  </tr>\n  <tr>\n    <td>宮野エレーナ</td>\n    <td>\n<ruby>零<rt>れい</rt></ruby>君\n    </td>\n  </tr>\n</tbody>\n</table>\n","excerpt":"","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"},{"name":"安室透","slug":"安室透","path":"tags/%E5%AE%89%E5%AE%A4%E9%80%8F/"}],"prev":{"title":"[名探偵コナン] 爆破があった映画、なかった映画の一覧","path":"20180419001727.html"},"next":{"title":"[Nuxt.js] hard-source-webpack-plugin導入時のエラー対処法","path":"20180404002932.html"}},{"title":"[Nuxt.js] hard-source-webpack-plugin導入時のエラー対処法","path":"20180404002932.html","permalink":"https://b.0218.jp/20180404002932.html","date":"2018-04-04T00:29:32.000Z","updated":"2018-04-04T00:29:32.000Z","thumbnail":"","content":"<p>Nuxt.js で構築したプロジェクトに<a href=\"https://github.com/mzgoddard/hard-source-webpack-plugin\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">HardSourceWebpackPlugin</a>を導入した。そこで上手くビルドが出来なくなってしまった。</p>\n<h2>どんな問題が起きたか</h2><p><code>npm run dev</code>の初回は問題なし。</p>\n<p>ただ、次回の<code>npm run dev</code>実行時に、下記のようなエラーが発生した。</p>\n<pre><code>  ████████████████████ 91% additional chunk assets processing/nuxt-project/node_modules/hard-source-webpack-plugin/node_modules/source-list-map/lib/fromStringWithSourceMap.js:11\n  var sources = map.sources;\n                    ^\nTypeError: Cannot read property 'sources' of undefined\n    at fromStringWithSourceMap (/nuxt-project/node_modules/hard-source-webpack-plugin/node_modules/source-list-map/lib/fromStringWithSourceMap.js:11:20)</code></pre>\n<p><code>npm run build</code>なども同様。</p>\n<h2>解決方法</h2><p><a href=\"https://github.com/mzgoddard/hard-source-webpack-plugin#hot-reloading-is-not-working\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Trouble Shooting の Hot Reloading</a> に関する注記に関連した問題だった。</p>\n<p>そもそも、Nuxt.js がここで参照すべきファイルの実体は<code>/.nuxt/dist/.cache/hard-source/〜</code>になるので、<code>nuxt.config.js</code>への指定は下記のように指定する必要がある。</p>\n<pre><code class=\"js\">new HardSourceWebpackPlugin({\n  cacheDirectory: '.cache/hard-source/[confighash]',\n}),</code></pre>\n<p>デフォルト: <code>node_module/.cache/hard-source/〜</code></p>\n<h2>まとめ</h2><p>時間の掛かっていたビルドが高速化されるようになった。（初回を除く）</p>\n","excerpt":"どんな問題が起きたか / 解決方法 / まとめ","categories":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"categories/Nuxt-js/"}],"tags":[{"name":"Nuxt.js","slug":"Nuxt-js","path":"tags/Nuxt-js/"},{"name":"Vue.js","slug":"Vue-js","path":"tags/Vue-js/"}],"prev":{"title":"[名探偵コナン] 安室透に対しての周囲からの呼称一覧","path":"20180416004324.html"},"next":{"title":"webpackのaliasをVue単一コンポーネントのstyle内で使用する方法\n","path":"20180331003845.html"}},{"title":"webpackのaliasをVue単一コンポーネントのstyle内で使用する方法\n","path":"20180331003845.html","permalink":"https://b.0218.jp/20180331003845.html","date":"2018-03-31T00:38:45.000Z","updated":"2018-03-31T00:38:45.000Z","thumbnail":"","content":"<h2>webpack の alias とは</h2><p>こういった場合、相対パスで指定がし辛い。</p>\n<pre><code class=\"js\">import { hoge } from \"../script/sugoi.js\";</code></pre>\n<p>だが、下記のように<code>webpack.config.js</code>で alias 設定ができる。</p>\n<pre><code class=\"js\">resolve: {\n  alias: {\n    '@script': path.join(__dirname, '../script/'),\n    '@images': path.resolve(__dirname, '../assets/images'),\n  }\n},</code></pre>\n<p>上記を設定すると下記のように<code>@script</code>を path の一部として書ける。</p>\n<pre><code class=\"js\">import { hoge } from \"@script/sugoi.js\";</code></pre>\n<p>指定パスを webpack 側で吸収しているため、複数同一の相対パスが並んだ記述の場合に、後々の変更がある時は特に威力を発揮するだろう。</p>\n<h2>記述方法</h2><p>先述の例だと JavaScript 上の記述だったが、Vue の単一コンポーネントの場合でも<code>&lt;script&gt;</code>内も同様に alias を使った指定が可能ではある。</p>\n<p><code>&lt;style&gt;</code>の場合はどうなのか。結論から述べると vue-loader などへの追加設定などは不要ではあるが、少し記述方法が異なる。</p>\n<h3>ダメな例</h3><pre><code class=\"html\">&lt;style&gt;\n  body {\n    background: url(\"@images/sugoi-haikei.png\");\n  }\n&lt;/style&gt;</code></pre>\n<p>上記の記述方法ではパスを解決してくれずエラーとなってしまう。</p>\n<h3>成功例</h3><p>下記のような指定でパス解決してくれ読み込みが可能となる。(<code>webpack.config.js</code>の設定は先述の<code>resolve.alias</code>の記述という前提)</p>\n<pre><code class=\"html\">&lt;style&gt;\n  body {\n    background: url(\"~@images/sugoi-haikei.png\");\n  }\n&lt;/style&gt;</code></pre>\n<p>先の alias に加えて、<b>プレフィックとして<code>~</code>を付けて記述</b>をすれば良い。</p>\n","excerpt":"webpack の alias とは / 記述方法","categories":[{"name":"Vue.js","slug":"Vue-js","path":"categories/Vue-js/"}],"tags":[{"name":"Vue.js","slug":"Vue-js","path":"tags/Vue-js/"},{"name":"webpack","slug":"webpack","path":"tags/webpack/"}],"prev":{"title":"[Nuxt.js] hard-source-webpack-plugin導入時のエラー対処法","path":"20180404002932.html"},"next":{"title":"[Vuex] ストア情報を永続化対応する方法","path":"20180216115001.html"}},{"title":"[Vuex] ストア情報を永続化対応する方法","path":"20180216115001.html","permalink":"https://b.0218.jp/20180216115001.html","date":"2018-02-16T11:50:01.000Z","updated":"2018-02-16T11:50:01.000Z","thumbnail":"","content":"<h2>概要</h2><p>ブラウザのリロード時にストアに保持していたデータは破棄されてしまう。</p>\n<p>ユーザの操作上リロードが許容すべきセッション情報や更新頻度の高くない情報は保持しておきたい場面がある。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><p><a href=\"https://www.npmjs.com/package/vuex-persistedstate\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">vuex-persistedstate</a>を利用する。(<code>localForge</code>には対応していない)</p>\n<p><code>npm install vuex-persistedstate</code> をした後、下記のように Store のプラグインとして定義する。</p>\n<pre><code class=\"js\">import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport createPersistedState from \"vuex-persistedstate\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    token: \"\",\n  },\n  mutations: {},\n  getters: {},\n  actions: {},\n  plugins: [\n    createPersistedState({\n      key: \"b0218jp\",\n      paths: [\"token\"],\n      storage: window.sessionStorage,\n    }),\n  ],\n});</code></pre>\n<p><code>storage</code>を<code>window.sessionStorage</code>としているので、ページのセッションはブラウザを開いている限り有効となる。これでページのリロードを実行されても持続する。</p>\n<p>もし、保持時間に有効期限やブラウザを閉じても有効にしたい場合は<code>storage</code>の指定を Cookie にすると良い。<code>js-cookie</code>などを利用し、下記のようにプラグイン定義を行うと実現できる。</p>\n<pre><code class=\"js\">plugins: [\n  createPersistedState({\n    storage: {\n      getItem: (key) =&gt; Cookies.get(key),\n      setItem: (key, value) =&gt;\n        Cookies.set(key, value, {\n          expires: 3,\n          secure: true,\n        }),\n      removeItem: (key) =&gt; Cookies.remove(key),\n    },\n  }),\n];</code></pre>\n<h2>関連</h2><ul>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/API/Window/sessionStorage\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Window.sessionStorage - Web API インターフェイス | MDN</a></li>\n</ul>\n","excerpt":"概要 / 方法 / 関連","categories":[{"name":"Vue.js","slug":"Vue-js","path":"categories/Vue-js/"}],"tags":[{"name":"Vue.js","slug":"Vue-js","path":"tags/Vue-js/"},{"name":"Vuex","slug":"Vuex","path":"tags/Vuex/"}],"prev":{"title":"webpackのaliasをVue単一コンポーネントのstyle内で使用する方法\n","path":"20180331003845.html"},"next":{"title":"[WordPress] ページ内の各種データを取得する方法一覧","path":"20180216104728.html"}},{"title":"[WordPress] ページ内の各種データを取得する方法一覧","path":"20180216104728.html","permalink":"https://b.0218.jp/20180216104728.html","date":"2018-02-16T10:47:28.000Z","updated":"2018-02-16T10:47:28.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>個別記事の投稿タイプを取得</h2><pre><code class=\"php\">    function get_post_type() {\n        if (!is_singular()) {\n            return null;\n        }\n\n        return get_post_type();\n    }</code></pre>\n<ul>\n<li><code>post</code>, <code>page</code>が返ってくる</li>\n<li>単一記事画面以外は<code>null</code></li>\n</ul>\n<h2>個別記事の ID を取得</h2><pre><code class=\"php\">    function get_page_id() {\n        if (!is_singular()) {\n            return null;\n        }\n        return get_the_ID();\n    }</code></pre>\n<ul>\n<li><code>記事id</code>が返ってくる</li>\n<li>単一記事画面以外は<code>null</code></li>\n</ul>\n<h2>カテゴリ ID を取得</h2><pre><code class=\"php\">    function get_category_id() {\n        if (!is_category()) {\n            return null;\n        }\n        return get_query_var('cat');\n    }</code></pre>\n<ul>\n<li><code>カテゴリid</code>が返ってくる</li>\n<li>カテゴリ画面以外は<code>null</code></li>\n</ul>\n<h2>カテゴリ名を取得</h2><pre><code class=\"php\">    function get_category_name() {\n        if (!is_category()) {\n            return null;\n        }\n        return get_query_var('category_name');\n    }</code></pre>\n<ul>\n<li><code>カテゴリ名</code>が返ってくる</li>\n<li>カテゴリ画面以外は<code>null</code></li>\n</ul>\n<h2>タグ ID を取得する</h2><pre><code class=\"php\">    function get_tag_id() {\n        if (!is_tag()) {\n            return null;\n        }\n        return get_query_var('tag_id');\n    }</code></pre>\n<ul>\n<li><code>タグid</code>が返ってくる</li>\n<li>タグ画面以外は<code>null</code></li>\n</ul>\n<h2>タグ名を取得</h2><pre><code class=\"php\">    function get_tag_name() {\n        if (!is_tag()) {\n            return null;\n        }\n        return get_query_var('tag');\n    }</code></pre>\n<ul>\n<li><code>タグ名</code>が返ってくる</li>\n<li>タグ画面以外は<code>null</code></li>\n</ul>\n<h2>検索文字（クエリ）を取得</h2><pre><code class=\"php\">    function get_search_query() {\n        if (!is_search()) {\n            return null;\n        }\n        return get_query_var('s');\n    }</code></pre>\n<ul>\n<li><code>検索文字（クエリ）</code>が返ってくる</li>\n<li>検索画面以外は<code>null</code></li>\n</ul>\n","excerpt":"個別記事の投稿タイプを取得 / 個別記事の ID を取得 / カテゴリ ID を取得 / カテゴリ名を取得 / タグ ID を取得する","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[Vuex] ストア情報を永続化対応する方法","path":"20180216115001.html"},"next":{"title":"[名探偵コナン] あの「犯罪都市 米花町」より治安の悪い「杯戸町」","path":"20180201091436.html"}},{"title":"[名探偵コナン] あの「犯罪都市 米花町」より治安の悪い「杯戸町」","path":"20180201091436.html","permalink":"https://b.0218.jp/20180201091436.html","date":"2018-02-01T09:14:36.000Z","updated":"2018-02-01T09:14:36.000Z","thumbnail":"https://images-fe.ssl-images-amazon.com/images/I/616-D531e7L._SL160_.jpg","content":"<h2>概要</h2><p>原作だけではなく、スピンオフの<strong>「犯人の犯沢さん」</strong>でも<strong>「世界トップの犯罪都市」</strong>として登場している<strong>米花町</strong>。ただ、この米花町の治安の悪さを遥かに凌ぐといっても過言ではない犯罪都市が名探偵コナンの世界には存在している――それは「<strong>杯戸町</strong>」である。</p>\n<p>この杯戸町には、<strong>杯戸</strong>と名の付く施設が多く存在しており、さまざまな事件の舞台になっている。これら杯戸町の施設と各事件を紹介していく。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>街の施設紹介</h2><h3>杯戸シティホテル</h3><p><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/4091255426/chafuso-22/ref=nosim/\" class=\"hyde-city-eyecatch\"><img src=\"https://images-fe.ssl-images-amazon.com/images/I/613E7kmXAtL._SL160_.jpg\" alt=\"名探偵コナンvs.怪盗キッド 完全版 1 (少年サンデーコミックススペシャル)\"></a></p>\n<ul>\n<li><strong>「ミステリー作家失踪事件」</strong><br>狂言誘拐であったが作家の新名任太朗が隠れていた</li>\n<li><strong>「コナン VS 怪盗キッド」</strong><br>当該屋上にて、コナンとキッドが最初に出会う</li>\n<li><strong>「黒の組織との再会」</strong><br>灰原哀が最初に元の姿に戻った場所<br>会場で<strong>銃撃</strong>、屋上でも<strong>銃撃</strong>、倉庫でも<strong>銃撃</strong>、そして<strong>火災</strong>（放火）</li>\n<li><strong>「裏切りのホワイトデー」</strong><br>ウライ製菓の社長が 8 周年記念パーティー中に<strong>殺害</strong>される</li>\n</ul>\n<p>※テキーラが爆発したホテルは米花ホテルである。</p>\n<h3>杯戸ホテル</h3><ul>\n<li><strong>「幽霊ホテルの推理対決」</strong><br>世良真純の初登場回<br>実際の現場は[杯戸ホテル別館]から<strong>転落</strong>した[駐車場]である</li>\n</ul>\n<h3>ホテル杯戸プライド</h3><ul>\n<li><strong>「太閤 恋する名人戦」</strong><br>宮本由美が監禁されていた<br>犯人がソファーに仕込んだ<strong>爆弾を爆発</strong>させると脅す（ハッタリ）</li>\n<li><strong>「真夏のプールに沈む謎」</strong><br>世良と領域外の妹が宿泊<br>わがままなお嬢様が<strong>プールに沈められた</strong></li>\n</ul>\n<h3>杯戸中央病院</h3><p><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/4091211550/chafuso-22/ref=nosim/\" class=\"hyde-city-eyecatch\"><img src=\"https://images-fe.ssl-images-amazon.com/images/I/616-D531e7L._SL160_.jpg\" alt=\"名探偵コナン 58 (少年サンデーコミックス)\"></a></p>\n<ul>\n<li><strong>「赤と黒のクラッシュ」</strong><br>重傷を負い意識不明となった水無怜奈が入院させられていた為、組織から病院にお見舞い品(<strong>爆弾</strong>が約 60 個ほど)が届く</li>\n<li><strong>「ギスギスしたお茶会」</strong><br>妃英理が入院していた<br>学生時代の同級生を病室で<strong>毒殺</strong></li>\n</ul>\n<h3>杯戸美術館</h3><ul>\n<li><strong>「本庁の刑事恋物語 2」</strong><br>佐藤刑事が被疑者･東田をトイレ内に追い込み、手錠を付け間違えて身動きが取れなくなった。<br>40 年の歴史に幕を閉じ、阿笠博士発明の<strong>爆弾</strong>「トロピカルレインボー」で<strong>爆破解体</strong>された。</li>\n</ul>\n<h3>杯戸ショッピングモール</h3><ul>\n<li><strong>「揺れる警視庁 1200 万人の人質」</strong><br>3 年前、屋上の大観覧車に仕掛けられた<strong>爆弾</strong>によって松田刑事が殉職</li>\n</ul>\n<h3>杯戸駅</h3><ul>\n<li><strong>「迷宮のフーリガン」</strong><br>フーリガンが電車内で<strong>刺殺</strong>された</li>\n</ul>\n<h3>杯戸公園</h3><ul>\n<li><strong>「ブラックインパクト！組織の手が届く瞬間」</strong><br><strong>「DJ」</strong>こと、衆院選立候補者の土門康輝を<strong>暗殺</strong>する舞台として登場した（未遂）</li>\n</ul>\n<h3>杯戸港</h3><ul>\n<li><strong>「工藤新一少年の冒険」</strong><br>10 年前、<strong>殺人事件</strong>が発生したが特に描写はない<br>（刑事時代の小五郎が呼び出された）</li>\n</ul>\n<h3>杯戸高校</h3><ul>\n<li><strong>「千葉の難事件」</strong><br>校内でコンクリートまみれの死体が発見される</li>\n</ul>\n<p>あの蹴撃の貴公子、<strong>京極真</strong>が通っている。</p>\n<h3>杯戸探偵事務所</h3><ul>\n<li><strong>「服部平次絶体絶命！」</strong><ul>\n<li><strong>脱税指南をしていた弁護士</strong>に<strong>監禁暴行</strong>される<br>被害者は、杯戸探偵事務所所属の楠川・服部平次・遠山和葉</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2>まとめ</h2><p>さすがに<strong>コナンの本拠地(ホーム)である米花町</strong>には及ばない部分もあるが、何と言っても各事件のインパクトが大きい。（黒の組織、杯戸町にある…？）</p>\n<p>杯戸高校空手部のように強者でないと生きられない治安かもしれない。</p>\n","excerpt":"概要 / 街の施設紹介 / まとめ","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[WordPress] ページ内の各種データを取得する方法一覧","path":"20180216104728.html"},"next":{"title":"[JavaScript] Object.assignでネストされたオブジェクトがコピーされない問題","path":"20180131160421.html"}},{"title":"[JavaScript] Object.assignでネストされたオブジェクトがコピーされない問題","path":"20180131160421.html","permalink":"https://b.0218.jp/20180131160421.html","date":"2018-01-31T16:04:21.000Z","updated":"2018-01-31T16:04:21.000Z","thumbnail":"","content":"<h2>理由</h2><pre><code class=\"js\">const target = Object.assign({}, obj);</code></pre>\n<p><code>Object.assign</code>は、ディープコピーではなく、シャローコピーのため下階層のオブジェクトはコピーされない。</p>\n<h2>解決方法</h2><p>汎用的な対応は自前で実装するのはコストが高いのでライブラリを使用する。（自前の実装で解決できるレベルのネストであれば、ループなどで代入していくと良いと思う）</p>\n<h3>使用ライブラリ</h3><p>ディープコピーに関するライブラリはいくつか存在する。</p>\n<ul>\n<li><a href=\"https://www.npmjs.com/package/lodash.clonedeep\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">lodash.clonedeep</a></li>\n<li><a href=\"https://www.npmjs.com/package/fast-clone\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">fast-clone</a></li>\n<li><a href=\"https://www.npmjs.com/package/fast-copy\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">fast-copy</a></li>\n</ul>\n<p>この中でも<a href=\"https://www.npmjs.com/package/fast-copy#benchmarks\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">パフォーマンスの高い</a>らしい<a href=\"https://www.npmjs.com/package/fast-copy\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">fast-copy</a>を利用する。</p>\n<hr>\n<pre><code class=\"js\">import copy from \"fast-copy\";\n\nconst obj = {\n  nested: {\n    foo: true,\n    bar: false,\n  },\n};\n\nconst target = copy(obj),</code></pre>\n","excerpt":"理由 / 解決方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"}],"prev":{"title":"[名探偵コナン] あの「犯罪都市 米花町」より治安の悪い「杯戸町」","path":"20180201091436.html"},"next":{"title":"[GTM] aタグのリクエストが二重送信される問題の対処法","path":"20180112130455.html"}},{"title":"[GTM] aタグのリクエストが二重送信される問題の対処法","path":"20180112130455.html","permalink":"https://b.0218.jp/20180112130455.html","date":"2018-01-12T13:04:55.000Z","updated":"2018-01-17T14:30:30.000Z","thumbnail":"","content":"<h2>現象</h2><p>google tag manager を導入した環境で、<code>&lt;a&gt;</code>タグのリンクが二重送信されてしまう。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>原因</h2><p>フォーラムでも指摘のある通り、gtm.js のバグである事は間違いなさそう。</p>\n<p>追ってみると、<code>google_tag_manager.autoEventSettings.clc: 2000</code>という条件によって発生している事が分かった。<br>この設定を消す方法だが、フォーラムには暫定的な回避方法があり、<mark>「リンクトリガー設定の『タグの配信を待つ』という設定(デフォルトが 2000 ミリ秒)」</mark>の設定をオフにすれば良かった。この設定オフにする事で二重送信は回避できるようになった。</p>\n<h2>参考</h2><ul>\n<li><a href=\"https://productforums.google.com/forum/#!topic/tag-manager/ws4tDK5bpq0;context-place=forum/tag-manager\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google グループ - Bug report | _triggers variable suddely blocking firing</a></li>\n<li><a href=\"https://productforums.google.com/forum/#!topic/tag-manager/QVb2sNyvp5k;context-place=forum/tag-manager\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google グループ - a Tag with Javascript firing twice</a></li>\n</ul>\n<h2>追記</h2><p>解決した模様。</p>\n<blockquote>\n<p><strong>Quick update from the Google Tag Manager team:</strong> This issue should now be resolved. Please let us know if you experience any further issues. Thank you, and apologies for any inconvenience.</p>\n</blockquote>\n<p><a href=\"https://productforums.google.com/d/msg/tag-manager/QVb2sNyvp5k/5F4Danh3AwAJ\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://productforums.google.com/d/msg/tag-manager/QVb2sNyvp5k/5F4Danh3AwAJ</a></p>\n","excerpt":"現象 / 原因 / 参考 / 追記","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Google Tag Manager","slug":"Google-Tag-Manager","path":"tags/Google-Tag-Manager/"}],"prev":{"title":"[JavaScript] Object.assignでネストされたオブジェクトがコピーされない問題","path":"20180131160421.html"},"next":{"title":"[Vuex] stateを全て破棄する方法","path":"20180110180332.html"}},{"title":"[Vuex] stateを全て破棄する方法","path":"20180110180332.html","permalink":"https://b.0218.jp/20180110180332.html","date":"2018-01-10T18:03:32.000Z","updated":"2018-01-10T18:03:32.000Z","thumbnail":"","content":"<p>ログアウト処理などで state をすべて破棄したい。</p>\n<p>Vuex に組み込みで<code>destoryState()</code>,<code>clearState()</code>的な API が生えているのを期待していたのだが、無いようなので泥臭く実装を行う。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><p>以下のような実装を行う。</p>\n<pre><code class=\"js\">const initialState = {\n  token: \"\",\n  isAuthenticated: false,\n};\n\nexport const state = () =&gt; Object.assign({}, initialState);\n\nexport const mutations = {\n  destroySession(state) {\n    for (let key in state) {\n      if (initialState.hasOwnProperty(key)) {\n        state[key] = initialState[key];\n      }\n    }\n  },\n};</code></pre>\n<p>簡単にいえば、対象の state をループで削除していく処理である。</p>\n<ol>\n<li><code>state</code>は<code>initialState</code>と別で定義</li>\n<li>mutations の<code>destroySession()</code>内で初期化</li>\n<li><code>state</code>と<code>initialState</code>で key が一致しているものだけ<code>initialState</code>で初期化する</li>\n</ol>\n","excerpt":"方法","categories":[{"name":"Vue.js","slug":"Vue-js","path":"categories/Vue-js/"}],"tags":[{"name":"Vue.js","slug":"Vue-js","path":"tags/Vue-js/"},{"name":"Vuex","slug":"Vuex","path":"tags/Vuex/"}],"prev":{"title":"[GTM] aタグのリクエストが二重送信される問題の対処法","path":"20180112130455.html"},"next":{"title":"地元のベンチャー企業に転職した\n","path":"20171223014544.html"}},{"title":"地元のベンチャー企業に転職した\n","path":"20171223014544.html","permalink":"https://b.0218.jp/20171223014544.html","date":"2017-12-23T01:45:44.000Z","updated":"2017-12-23T01:45:44.000Z","thumbnail":"","content":"<div class=\"c-alert\">この記事は、「<a href=\"https://adventar.org/calendars/2158\">退職アドベントカレンダー</a>」23日目の記事です。\n</div>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>略歴</h2><p>今回が 2 度目の転職。</p>\n<p>新卒入社で東京の SIer に長らく勤めていた。一身上の都合により地元に帰ることになり、知人の紹介で Windows 向けのソフトウェア開発会社の前職に入社。そして、今回の転職になる。</p>\n<p>2016 年に退社して、2017 年に現会社に入社した。</p>\n<p>（現職への転職前に「<a href=\"https://b.0218.jp/20161201220449.html\">転職活動をしたのでキャリアの振り返り in 2016</a>」というのを書いていた）</p>\n<h2>転職のきっかけ</h2><p>前職は、前々職の SIer 時代と比べるとやや畑が違ったのだが、技術的なところでの苦労というのは無かった。地元では給与面でかなり高待遇であったのだが、それ以上に会社の社風に合わなかったのが原因で退職を決意した。</p>\n<p>個人的に前職時代に耐えられなかったのは下記の 3 点。</p>\n<ol>\n<li><strong>レビュー制度</strong></li>\n<li><strong>労働環境</strong>（労働時間）</li>\n<li><strong>キャリアプランとの剥離</strong></li>\n</ol>\n<p><strong>レビュー制度</strong>だが、部署の部長がやる事になっていた。部長が居ないとレビューが通らないのでソースをマージする事ができない。不在時に代理で他の誰かがレビューする事も許されていなかったので、レビュー待ちが多かった。また、その部長のレビューの仕方も誰がレビュイーだろうと他の社員に見える所で罵詈雑言を浴びせられるスタイルだった為、気持ちのいいものではなかった。特に問題がなくても難癖付けられるため再レビューは必至、先述のレビュー待ちも多いため非常に効率が悪かった。</p>\n<p><strong>労働時間</strong>が非常に多かった。先のレビュー制度の非効率さもあるが、テスト仕様書の作成や製品のビルドがまた非効率的であった。テスト仕様書も都度レビューがあったので（以下略）。製品のビルドは、詳細は書けないが特殊な手順を多数踏む必要があり、半分ぐらい自動化されているが半日掛かり。夜中に帰ることも稀ではなかった。<br>労働時間の長さは家庭のある身では死活問題。妻と顔を合わせられない日もあり、心身ともに磨り減っていたように思う。家族の都合で休みをときに「君は関係ないよね」などと言ってくるのも本当に勘弁して欲しかった。</p>\n<p>職場での不満や問題を変えられないもどかしさから転職を考えるようになった（部長の言う事は”絶対”なので、基本的に意見は通らない）。他部署には、ウェブエンジニアとして働ける環境があったため、部署異動を申請したが却下された。理由としては所属部署の人員不足に尽きると思われる。<br>これまで<strong>キャリアプラン</strong>を深く考えた事はなかったのだが、こういった環境の中で転職を少しずつ意識する内に「自分は何をしたいのか」「どうあるべきか」という事を何度も考えることが増え、逆に良い機会にはなったと思う。</p>\n<h3>前職で良かったところ</h3><p>一応、良かったところも書いておく…。</p>\n<p>開発部とは別に製品検査部があり、品質に関しては気にかけているようであった。取引相手が官公庁が多かったというのもあるのだろうが、個人的に品質に対する意識や取り組みはここで再意識する事ができたように思う。</p>\n<h2>いま何してるか</h2><p>転職を意識する中でやりたい事は「フロントエンド」だと思った。これまでバックエンドからフロントエンドまでオールラウンダー的にやっていた為、フロントエンドエンジニアとして働いたことはなく、ただ単に「やってみたい」に近かったので不安も結構あった。フロントエンドでなくとも、またウェブ一辺倒でやってみようと思った。</p>\n<p>転職サイトを巡回していると気になった企業も出てきた。スキルチェックをしてみると、気になっていた企業を試験なしで面接を受けられることになった。それからトントン拍子に内定が決まってしまい、本当に転職して良いのか考える暇があまりなくて内定後に結構悩んだ。給与面で前職より下がってしまうため、この先やっていけるのかなど色々と考えたのだが、<strong>妻も「やりたい事やればいい」と言ってくれた</strong>ので入社を決意した。</p>\n<p>いまは地元のウェブ系のベンチャー企業で<strong>フロントエンド</strong>として従事している。</p>\n<h3>現職</h3><h4>良いところ?</h4><p>月並みだが<strong>風通しが良いところ</strong>が良い。特に前職は上司に意見を言えない（通じない）ところだったので、改めてそこの良さを実感している。今後の行き先について不安や不満があった時に上司に物申す事ができるというのは精神衛生上かなり違う。<br>また、エンジニアのモチベーションを考えてくれる上司（職場環境）であるため、タスクの中で<strong>エンジニアのこだわり・わがままをわりかし容認してくれる</strong>。もちろん全部が全部容認してくれるわけではないが、エンジニアとしてのこだわりを理解してくれるのとそうでないのとでは、やはりモチベーションが変わってくると今更ながら思った。</p>\n<p>不明点などあれば<strong>周りが助けてくれる</strong>のは非常に助かっている。これも前職との比較になってしまうので良くないが、基本的に情報なしで丸投げされて訊いても教えて貰えず辛い思いをしたので、凄く助かっている。</p>\n<p>前職で辛かったレビュー制度だが、現職では同じ開発部の誰でもレビューをしてもらえる（仕様を知ってる人に依頼する形）。良いところは「良い」と言ってくれるし、悪いところはきちんと悪い理由を示して指摘をくれる。もちろん、自分も仕事上でもレビューでは、きちんと理由を付けてコメントをするようになった。レビューで学びがあるのが良い。</p>\n<p><strong>職級に「マネージャーコース」と「エンジニアコース」がある</strong>。これまでの会社では階級を上げるには所謂「マネージャーコース」に進むしかなかったので、今後のキャリアを考えていく上でエンジニアとして階級を上げていく事が受け皿があるのは良いなと思った。</p>\n<p>何故か分からないが、在職するエンジニアに優秀な人が多い。技術面もそうだが、驚くような経歴を持った人も少なくない。人を集めるのが上手なのか、はたまた地元に弊社以外に無いのだろうか…。</p>\n<h4>良くないところ?</h4><p>プロダクトのライフサイクルが不透明である事が 1 つある。製品の寿命と言うのは意識しなければならないと思う。特にリリース後にどれぐらいの期間保守し続けるのかを意識すると改修内容（リファクタなど）のレベルも変わってくる。契約期間と照らし合わせた時に大規模に変えていかないと戦えない年数であればそうしないとならないし、そうでないのであれば現状維持の方がそれぞれ低コストだろう。上層部の意識はあまりそこまで向いていないのかなと感じている（上長などには提言はしているが…）。</p>\n<p>あまり品質に重きが置かれず、また「◯◯ するべき論」はよく挙がってくるのだが、実際に手を動かす人はまだまだ少ない印象がある。先日、色々と取り組みを行い品質面でかなりの成果をだす事ができた。そういうこともあってか部内の風も少し品質に比重が置かれるようになった気がしている。</p>\n<p>優秀な人材を持て余している感がある。例えるなら「優秀なバッターをピッチャーとして使ってる」感じ。滅茶苦茶もったいない…！</p>\n<h2>転職までにやっていて良かったこと</h2><p>結果論だけで言うとアウトプット（趣味でもプログラミング）をやってて良かった。</p>\n<p>面接前の技術試験などがスキルチェックでパスできたのは、アウトプットをしていたおかげだったと思う。面接も「スキルが保証されている」前提で受けられた点はかなり良かった。それに、趣味コードで好き勝手書いていたのもあったのだが、動かせるものがあったので面接時に軽く見せられたのは良かった。</p>\n<p>面接時にどういう事を質問するかまとめておくのも良い（新卒の就職活動かって感じかもしれないが）。「慎重ですね」と言われるぐらい聞いた。入社するかの判断材料を集めるために内部の事も聞けるだけ聞いた。</p>\n<h2>まとめ</h2><!-- 不満があって転職することは多いと思う。次の会社で「こうしたい、ああしたい」と願望を語っても、「うちではなくて、御社では出来ないんですか？」などという事を面接時に言われてしまうかもしれない。何もしてないと何も返す言葉が無くなってしまうので「こういう事（努力）をしたが、変えられなかった」という実績を作っておくと良いと思う。もちろん変えられれば御の字だし、自身の居心地の良い職場づくりに貢献できる。 -->\n\n<p>新卒採用とは違い、転職はこれまでやってきたことが評価されることを改めて実感した。ブログや Qiita など技術文章をたくさん書いたり、趣味のプロダクトへ投資するのも良いし、所属する会社で実績を沢山作るでもいいし、何でもアウトプットをやっていく事が重要なのだと感じた。</p>\n<p>波風を立たせたくないのであれば、退職時期も重要なので会社の期末とか意識した方がいいかもしれない。ただ「会社を辞める」時点で波風立っているので気にしてもしょうが無い。会社に義理もないのであれば気にせず転職するのをおすすめする。</p>\n","excerpt":"略歴 / 転職のきっかけ / いま何してるか / 転職までにやっていて良かったこと / まとめ","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"仕事","slug":"仕事","path":"tags/%E4%BB%95%E4%BA%8B/"},{"name":"転職","slug":"転職","path":"tags/%E8%BB%A2%E8%81%B7/"},{"name":"Advent Calendar","slug":"Advent-Calendar","path":"tags/Advent-Calendar/"}],"prev":{"title":"[Vuex] stateを全て破棄する方法","path":"20180110180332.html"},"next":{"title":"[Firefox] タブのマウスオーバー時にクローズボタンを表示する方法","path":"20171214232114.html"}},{"title":"[Firefox] タブのマウスオーバー時にクローズボタンを表示する方法","path":"20171214232114.html","permalink":"https://b.0218.jp/20171214232114.html","date":"2017-12-14T23:21:14.000Z","updated":"2017-12-14T23:21:14.000Z","thumbnail":"","content":"<h2>概要</h2><p>これまで Tab Mix Plus を利用してクローズボタンを表示させていたのだが、最新の Firefox ではサポートされなくなった為、ある一定のタブを開くとクローズボタンが見えなくなってしまった。</p>\n<h2>設定</h2><p><code>userChrome.css</code>にスタイルを定義するだけで表示可能になる。</p>\n<h3>userChrome.css を作成する</h3><p>プロファイルフォルダ内に<code>userChrome.css</code>がなければ作成する必要がある。<br>(以下は macOS でのファイルパス)</p>\n<pre><code>/Users/hiro/Library/Application Support/Firefox/Profiles/xxxx.default/chrome/userChrome.css</code></pre>\n<p>プロファイルフォルダは、トラブルシューティング情報の「プロファイルフォルダー」から開くことができる。</p>\n<ol>\n<li>Firefox のヘルプメニュー</li>\n<li>トラブルシューティング情報</li>\n<li>プロファイルフォルダー</li>\n</ol>\n<p>プロファイルフォルダーの直下に<code>chrome</code>フォルダがなければ作成し、さらに<code>userChrome.css</code>を作成する。<br>Windows/macOS ともに同じ方法で良い。</p>\n<h3>追加するスタイル</h3><p>下記のスタイルを<code>userChrome.css</code>へ追加する。</p>\n<pre><code class=\"css\">.tabbrowser-tab:not([pinned]):hover .tab-close-button {\n  display: block !important;\n}</code></pre>\n<p>これを追加することで「_タブをマウスオーバー時にクローズボタンを表示_」する事ができる。<br>Firefox を再起動して反映する。</p>\n","excerpt":"概要 / 設定","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"地元のベンチャー企業に転職した\n","path":"20171223014544.html"},"next":{"title":"[CSS] visibilityを使ったフェードインアニメーションを実装する方法","path":"20171211103651.html"}},{"title":"[CSS] visibilityを使ったフェードインアニメーションを実装する方法","path":"20171211103651.html","permalink":"https://b.0218.jp/20171211103651.html","date":"2017-12-11T10:36:51.000Z","updated":"2017-12-11T10:36:51.000Z","thumbnail":"","content":"<h2>概要</h2><p>jQuery の<code>fadeIn()</code>で使用されるようなフェードインアニメーションは、<code>display: none</code>が要素に当たるため、領域の確保（高さ・横幅が担保）がされない。そのためアニメーション時にレイアウトのガタツキが起こる可能性がある。</p>\n<p><code>display: none</code>を要素に当てると「無い状態」になってしまう為、あくまで「見えない状態」にしたい場合は<code>visibility: hidden</code>を当てるのが良い。さらに言うと、<code>visibility: hidden</code>はクリックする事ができない。そしてクリックしたり、アニメーションさせたりするのであれば<code>opacity: 0</code>が必要になる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>実装</h2><p>下記のような実装をすることでフェードインアニメーションが可能となる。</p>\n<pre><code class=\"scss\">#target {\n  visibility: hidden;\n\n  &amp;.visible {\n    visibility: visible;\n    animation-duration: 0.5s;\n    animation-name: fade-in;\n  }\n}</code></pre>\n<pre><code class=\"css\">@keyframes fade-in {\n  0% {\n    visibility: hidden;\n    opacity: 0;\n  }\n\n  50% {\n    visibility: visible;\n    opacity: 0.5;\n  }\n\n  100% {\n    visibility: visible;\n    opacity: 1;\n  }\n}</code></pre>\n<p>何らかの方法で<code>visibility: hidden</code>が当たっている<code>#target</code>に<code>.visible</code>クラスをセットすることでフェードインしながら表示が可能になる。<br>Intersection Observer を使った要素検出と併用しても良いかもしれない。</p>\n<p>単純に<code>opacity</code>だけでアニメーションするのも可能だが、<code>hover</code>時に要素ないにマウスポインターが変わる要素があったりすると格好が悪いし、<code>visibility</code>だけではアニメーションできないため併用している。</p>\n","excerpt":"概要 / 実装","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[Firefox] タブのマウスオーバー時にクローズボタンを表示する方法","path":"20171214232114.html"},"next":{"title":"[jQuery] 非同期通信後に別のスクリプトを実行する方法","path":"20171209162350.html"}},{"title":"[jQuery] 非同期通信後に別のスクリプトを実行する方法","path":"20171209162350.html","permalink":"https://b.0218.jp/20171209162350.html","date":"2017-12-09T16:23:50.000Z","updated":"2017-12-09T16:23:50.000Z","thumbnail":"","content":"<h2>背景</h2><p>既存のレガシープロダクトにて、「エンドポイントの異なる複数の XHR 通信をした結果を元にスクリプトを実行したい」という要件があった。</p>\n<p>具体的に云うと以下のような流れ。</p>\n<ol>\n<li>記事データを n 件取得</li>\n<li>取得した記事データ群からカルーセルを作成</li>\n</ol>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><pre><code class=\"javascript\">var results = [];\n\n// 1. 複数のXHR通信を行う処理\nfunction summarize() {\n  var ids = [1, 2, 3, 4, 5];\n  var promises = [];\n\n  $.each(ids, function (i, value) {\n    var deferred = $.Deferred();\n    promises.push(\n      $.ajax({\n        method: \"GET\",\n        url: \"https://jsonplaceholder.typicode.com/posts/\" + value,\n        success: function (data) {\n          results.push(data);\n        },\n        complete: function () {\n          deferred.resolve();\n        },\n      })\n    );\n  });\n\n  return promises;\n}\n\n$.when.apply($, summarize()).then(function () {\n  // 2. XHR通信後に実行したい処理\n  console.log(results);\n});</code></pre>\n<p>既に jQuery で組まれたサイトであった為、そのまま jQuery の<code>$.Deferred()</code>,<code>$.when</code>を使用した。</p>\n<h2>参考</h2><ul>\n<li><a href=\"https://qiita.com/hththt/items/9f193fc10b79cdeea903\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">jQuery Deferred まとめ</a></li>\n<li><a href=\"https://qiita.com/YusukeHirao/items/bca14c5f2fe4026fd4d7\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">結果の順番を保証して、且つ『並列』で Ajax 通信を行う方法</a></li>\n</ul>\n","excerpt":"背景 / 方法 / 参考","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[CSS] visibilityを使ったフェードインアニメーションを実装する方法","path":"20171211103651.html"},"next":{"title":"阿部寛のホームページをモダン化する\n","path":"20171204012101.html"}},{"title":"阿部寛のホームページをモダン化する\n","path":"20171204012101.html","permalink":"https://b.0218.jp/20171204012101.html","date":"2017-12-04T01:21:01.000Z","updated":"2017-12-04T01:21:01.000Z","thumbnail":"","content":"<div class=\"c-alert\">本記事は <a href=\"https://qiita.com/advent-calendar/2017/abehiroshi\"> 阿部寛 Advent Calendar 2017</a>の4日目の記事です。</div>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>謝辞</h2><p>まず、「<a href=\"http://abehiroshi.la.coocan.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">阿部寛のホームページ</a>」関係者の皆様に敬意を評したいと思う。</p>\n<p>更新を続ける労力、いち非公認ファンサイトが事務所の承認を得て公式サイトになるという快挙を成し遂げるまでの労力は並大抵のものではなかっただろう。また、今もなお変わらず更新を続けられている運営者に敬意を評したい。<br>そして、氏の事務所も”今風の格好いいサイト”にリニューアルするでもなく、これまでの”ホームページ”を尊重して、そのまま運用していることにも改めて敬意を評したい。</p>\n<h2>コンセプト</h2><p>レガシーサイトのお手本と言える作りなので、ざっくりイマドキの作りにしていきたい。<br>ここ最近、dev.to と比較して高速化するコンセプトの記事をよく見かけたが、まずは超レガシーなサイト構成をどげんかしていこうと思う。</p>\n<p>※ 「阿部寛のホームページ」は、<a href=\"https://web.archive.org/web/20040507022130/http://homepage3.nifty.com/abe-hiroshi/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">移転前の@nifty 時代 - Wayback Machine</a>からその様相は変わっていない。</p>\n<h3>関連</h3><ul>\n<li><a href=\"https://qiita.com/search?q=%E9%98%BF%E9%83%A8%E5%AF%9B&amp;sort=created\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">「阿部寛」の検索結果 - Qiita</a></li>\n</ul>\n<h2>手法</h2><h3>文字コード</h3><pre><code class=\"html\">&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=Shift_JIS\" /&gt;</code></pre>\n<p><code>SJIS</code>だったので<code>UTF-8</code>に変更。<code>SJIS</code>が悪というわけじゃないが、新しい仕様としては<code>UTF-8</code>を指定した方が良いのでこのタイミングで変更する。</p>\n<blockquote>Encoding標準は、UTF-8文字エンコーディングの使用を要求し、それを識別するために\"utf-8\"エンコーディングラベルの使用を要求する。これらの要件は、文書の文字エンコーディング宣言が存在する場合、\"utf-8\"に対してASCII大文字・小文字不区別での一致を使用してエンコーディングラベルを指定する必要がある。<b>文字エンコーディング宣言が存在するかどうかにかかわらず、文書のエンコードに使用される実際の文字エンコーディングはUTF-8でなければならない。</b><small><a href=\"https://momdo.github.io/html/semantics.html#charset\">4.2.5.5 文書の文字エンコーディングを指定する - HTML Standard 日本語訳</a></small></blockquote>\n\n<h3>HTML5 化</h3><p>何のバージョンで書かれたか分からない HTML を「HTML5」にする。</p>\n<h4>DOCTYPE タイプ</h4><p>既存コードには、DOCTYPE タイプの宣言がなかった。（<code>&lt;html&gt;</code>タグから開始されていた）<br>以下の DOC 宣言を追加。ちなみに、きちんと宣言をする事で、逆に既存のレイアウトが一気に崩れてしまった。</p>\n<pre><code class=\"html\">&lt;!DOCTYPE html&gt;</code></pre>\n<h4>フレーム</h4><p>HTML5 では廃止されたフレームで構成されている。</p>\n<pre><code>frameset / frame / noframes</code></pre>\n<p>フレームを使用している<code>abehiroshi.la.coocan.jp</code>の読み込み時には、以下のファイルが必ず読み込まれることになる。</p>\n<ul>\n<li><code>index.htm</code><ul>\n<li><code>menu.htm</code></li>\n<li><code>top.htm</code></li>\n</ul>\n</li>\n</ul>\n<p>1 ページを構成するのに 3 ファイル必要になるのは、やはりパフォーマンス的に宜しくはない。</p>\n<p>フレームタグを使わずに HTML5 に則ってフレームを再現するには、<strong>インラインフレーム</strong>もしくは<strong>動的な DOM 書き換え</strong>を使用することになる。（後述）</p>\n<h4>テーブルレイアウト</h4><p><code>&lt;table&gt;</code>タグで実装して良い箇所（出演リストなど）はそのままに、枠を消してレイアウトに特化した箇所については<code>&lt;div&gt;</code>タグや<code>display: flex;</code>などでレイアウトし直した。</p>\n<h4>インラインスタイル</h4><p>基本的に外部 CSS ファイルへ移譲した。</p>\n<pre><code class=\"html\">&lt;style type=\"text/css\"&gt;\n  &lt;!--\n  .style1 {color: #FF0000}\n  --&gt;\n&lt;/style&gt;</code></pre>\n<h4>その他</h4><ul>\n<li>HTML5 で廃止された属性を削除</li>\n<li>不要なメタタグ(generator)などを削除</li>\n<li><code>&lt;br&gt;</code>や<code>&lt;center&gt;&lt;/center&gt;</code>などの空タグによるレイアウトを排除</li>\n</ul>\n<h3>画像最適化</h3><p>画像最適化の手段として、WebP の採用を考えた。<br>だが、WebP のサポート状況（<a href=\"https://caniuse.com/#feat=webp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">WebP image format - Can I use…</a>）を鑑みると、単純な導入は厳しい。</p>\n<p>導入するのであれば以下のように指定することで、WebP 未対応ブラウザは<code>&lt;img&gt;</code>へフォールバックが可能になる。</p>\n<pre><code class=\"html\">&lt;picture&gt;\n  &lt;source srcset=\"img/abehiroshi.webp\" type=\"image/webp\" /&gt;\n  &lt;source srcset=\"img/abehiroshi.jpg\" type=\"image/jpeg\" /&gt;\n  &lt;img src=\"img/abehiroshi.jpg\" /&gt;\n&lt;/picture&gt;</code></pre>\n<p>ただ、<code>&lt;picture&gt;</code>に対応していない<mark>IE という謎のブラウザ</mark>が存在している。IE に対応するとなると polyfill（<a href=\"https://github.com/scottjehl/picturefill\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">scottjehl/picturefill</a>）を使用するしかないのだが、阿部寛のホームページは画像も少なく、導入コストのほうが大きすぎるため、今回は導入を見送った。</p>\n<hr>\n<p>今回は、単純に jpg を最適化するに留まった。</p>\n<h3>Vue.js (Nuxt.js)</h3><p>先述のフレーム問題を解決するには、SPA 化するのが手っ取り早いと考え、使用実績のあった Vue.js を採用した。さらに個人的に Nuxt.js を触ってみたいという事もあり、Nuxt.js で全体的な構築を開始した。</p>\n<p>基本的には Nuxt.js に乗っかっている。</p>\n<ul>\n<li><a href=\"https://jp.vuejs.org/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Vue.js</a></li>\n<li><a href=\"https://ja.nuxtjs.org/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Nuxt.js</a></li>\n</ul>\n<h4>フレーム</h4><p>フレームは無くし、1 つの html 内で DOM を動的に書き換えるようにした。ファイルを 1 ファイルにすることでリクエスト数も節約できたが、コード数が増えたので高速化には寄与しなかった。</p>\n<h2>完成</h2><!--\n<figure>\n<img src=\"https://i.imgur.com/GH5CjIX.png\" width=\"50%\">\n<figcaption>モダン化した阿部寛のホームページ</figcaption>\n</figure>\n-->\n\n<p><strike>これらの修正を<a href=\"#\">abehiroshi-homepage</a>で公開している。</strike><br>(アドベントカレンダーの公開日を過ぎたので、参考ページはクローズしました)</p>\n<p>なるべくレイアウトは本家を近い形で再現しているが、DOC 宣言を指定したり、空要素で奇跡的にレイアウトされていた部分を CSS に落とし込んだため、ブラウザによってはズレが生じている。ここのレイアウトの再現はモダン化にあたって 1 番難しかった箇所である。（現代の技術でこれを正確に再現するのは非常に困難）</p>\n<p>余談だが、ソースを見ていて、ホームページ・ビルダーに「どこでも配置モード」「標準モード」があるのを思い出した（今もあるのだろうか…）。「どこでも配置モード」だとソースがハチャメチャになるが、阿部寛のホームページではそこまで破天荒なソースにはなっていなかった為、「標準モード」なのかなと推察した。</p>\n<hr>\n<p>それにしても、「阿部寛のホームページ」は当時のウェブ事情を改めて考える良い資産であると感じた。</p>\n","excerpt":"謝辞 / コンセプト / 手法 / 完成","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"},{"name":"Advent Calendar","slug":"Advent-Calendar","path":"tags/Advent-Calendar/"}],"prev":{"title":"[jQuery] 非同期通信後に別のスクリプトを実行する方法","path":"20171209162350.html"},"next":{"title":"[JavaScript] Cache Busting用に一定時間で更新されるクエリを作成する方法","path":"20171126184041.html"}},{"title":"[JavaScript] Cache Busting用に一定時間で更新されるクエリを作成する方法","path":"20171126184041.html","permalink":"https://b.0218.jp/20171126184041.html","date":"2017-11-26T18:40:41.000Z","updated":"2017-11-26T18:40:41.000Z","thumbnail":"","content":"<h2>Cache Busting とは</h2><p>下記のように URL に意味のないクエリを付与して、キャッシュコントロール行うことを「Cache Busting」と呼ぶ。</p>\n<pre><code class=\"html\">&lt;link href=\"style.css?20171221\" rel=\"stylesheet\" /&gt;\n&lt;script src=\"script.js?20171221\"&gt;&lt;/script&gt;</code></pre>\n<hr>\n<h2>方法</h2><p>HTML 上でクエリを付与するのであれば、バックエンドの処理で付与したり、アセットパイプライン、タスクランナーなどで付与すれば良い。<br>ただ、JS 内の処理だと何らかの方法でクエリを付与する必用がある。</p>\n<h3>必須ライブラリ</h3><ul>\n<li><a href=\"https://momentjs.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Moment.js | Home</a></li>\n</ul>\n<p>ライブラリを使用せずピュアな JS だけで実装は可能だが、日付を操作するのは大変なので今回は Moment.js を使用する。</p>\n<h3>コード</h3><pre><code class=\"js\">function createCacheBusting(thresholdMinutes) {\n  var minutes = thresholdMinutes || 15;\n  var start = moment();\n  var remainder = minutes - (start.minute() % minutes);\n\n  return moment(start).add(\"minutes\", remainder).format(\"YYYYMMDDHHmm\");\n}\n\n//////\n\nvar cacheQuery = createCacheControl();\n\nfetch(`${url}?${cacheQuery}`).then(function (data) {\n  // process data\n});</code></pre>\n<p>引数なしだと「<code>201712211715</code>」みたいな感じで 15 分毎にクエリが更新される。<br>引数の<code>thresholdMinutes</code>に<code>30</code>や<code>60</code>を渡すことで 30 分毎・60 分毎にクエリが更新されるようになる。</p>\n","excerpt":"Cache Busting とは / 方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"阿部寛のホームページをモダン化する\n","path":"20171204012101.html"},"next":{"title":"[Git] 指定コミット間の差分ファイルを抽出する方法","path":"20171126134334.html"}},{"title":"[Git] 指定コミット間の差分ファイルを抽出する方法","path":"20171126134334.html","permalink":"https://b.0218.jp/20171126134334.html","date":"2017-11-26T13:43:34.000Z","updated":"2017-11-26T13:43:34.000Z","thumbnail":"","content":"<p>特定コミット間の差分ファイルを抽出したい。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><pre><code class=\"bash\">git archive --format=zip --prefix=archive/ HEAD `git diff --name-only 46de570575bba37b9395f15fdac92d839d218bb0 8cac3d13feebe15f771e218054f8c71391006f2f` -o archive.zip</code></pre>\n<p>ディレクトリ階層を維持してファイルを抽出できる。</p>\n","excerpt":"方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Git","slug":"Git","path":"tags/Git/"}],"prev":{"title":"[JavaScript] Cache Busting用に一定時間で更新されるクエリを作成する方法","path":"20171126184041.html"},"next":{"title":"[JavaScript] CSS(スタイルシート)内の値を取得する方法","path":"20171120093453.html"}},{"title":"[JavaScript] CSS(スタイルシート)内の値を取得する方法","path":"20171120093453.html","permalink":"https://b.0218.jp/20171120093453.html","date":"2017-11-20T09:34:53.000Z","updated":"2017-11-20T09:34:53.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>概要</h2><p>CSS ファイルで要素に設定されたスタイルを JS で動的に読込を行いたい。</p>\n<h2>方法</h2><p>まず以下のような CSS を定義したスタイルシートを読み込んだページを用意する。</p>\n<pre><code class=\"css\">.container {\n  margin-top: 50px;\n}</code></pre>\n<p>このページ内で以下のようなスクリプトを記述する。</p>\n<pre><code class=\"js\">var container = document.querySelector(\".container\");\nvar marginTop = getStyleSheetValue(container, \"margin-top\");\n\n///\n\nfunction getStyleSheetValue(element, property) {\n  if (!element || !property) {\n    return null;\n  }\n\n  var style = window.getComputedStyle(element);\n  var value = style.getPropertyValue(property);\n\n  return value;\n}</code></pre>\n<p>上記の処理で <code>50px</code> が取得できる。</p>\n<p>作成した<code>getStyleSheetValue</code>関数に「要素」と「プロパティ名」を渡すことで、その指定プロパティの値が取得できる。</p>\n<h3>window.getComputedStyle</h3><blockquote>\n<pre>var style = window.getComputedStyle(element,pseudoElt);\n</pre>\n<ul>\n <li><code>element</code>は、計算されたスタイルを取得するelement オブジェクトです。\n </li><li><code>pseudoElt</code>は、マッチさせたい疑似要素を指定する文字列です。通常要素には空文字列を指定してください。\n </li><li><code>style</code>は、CSSStyleDeclaration オブジェクトです。\n</li></ul>\n</blockquote>\n\n<h2>関連</h2><ul>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/API/Window/getComputedStyle\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">window.getComputedStyle - Web API インターフェイス | MDN&lt;</a></li>\n</ul>\n","excerpt":"概要 / 方法 / 関連","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[Git] 指定コミット間の差分ファイルを抽出する方法","path":"20171126134334.html"},"next":{"title":"[Node.js] node-fetchでBASIC認証をしつつPUTする方法","path":"20171031222235.html"}},{"title":"[Node.js] node-fetchでBASIC認証をしつつPUTする方法","path":"20171031222235.html","permalink":"https://b.0218.jp/20171031222235.html","date":"2017-10-31T22:22:35.000Z","updated":"2017-10-31T22:22:35.000Z","thumbnail":"","content":"<h2>概要</h2><p>Node.js を使って、BASIC 認証をしつつファイルを PUT する必要に迫られた。</p>\n<h2>環境</h2><ul>\n<li>Node.js v8.4.0</li>\n<li><a href=\"https://www.npmjs.com/package/node-fetch\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">node-fetch</a> v1.7.3</li>\n</ul>\n<h2>コード</h2><pre><code class=\"js\">let uploadPath = \"distribute/json/\";\nlet filename = \"test.json\";\nlet readStream = fs.createReadStream(\"./hogehoge.json\");\n\nreadStream.on(\"open\", function () {\n  fetch(uploadPath + filename, {\n    method: \"PUT\",\n    headers: {\n      Authorization:\n        \"Basic \" + new Buffer(`${userID}:${password}`).toString(\"base64\"),\n    },\n    body: readStream,\n  }).then(function (res) {\n    console.log(\"status: \", res.status);\n    console.log(\"statusText: \", res.statusText);\n  });\n});</code></pre>\n<p><code>fs.createReadStream</code>でストリームを open し、fetch の body に渡す。BASIC 認証については、Authorization で下記のように指定する。</p>\n<pre><code class=\"js\">\"Basic \" + new Buffer(`${userID}:${password}`).toString(\"base64\");</code></pre>\n<p><code>.catch()</code>でエラーを拾うことができるが、HTTP 通信に関するエラーは<code>then(function(res){});</code>内で確認できる（404 なども）。</p>\n<p>また、<code>fs.createReadStream</code>の close は自動的にしてくれるようだ。</p>\n<h3>留意点</h3><p>HTTP Status で <code>409</code> が返ってくる事があった。</p>\n<blockquote>\n<p><a href=\"https://developer.mozilla.org/ja/docs/Web/HTTP/Status/409\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">409 Conflict - HTTP | MDN</a><br>HTTP 409 Conflict はリクエストが現在のサーバーの状態と競合したことを示すステータスコード。</p>\n<p>競合は PUT メソッドを使用したリクエストのレスポンスで最も発生しやすい。例えば、サーバーにすでに存在しているファイルよりも古いバージョンのファイルをアップロードした際に 409 の応答が返され、バージョン管理システムの競合が発生する可能性がある。</p>\n</blockquote>\n<p>私の環境では、<code>uploadPath</code>として指定したディレクトリが存在しておらず、発生していた。（<code>distribute/json/</code>と指定していた場合、<code>json</code>のディレクトリが存在していなかった）</p>\n","excerpt":"概要 / 環境 / コード","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] CSS(スタイルシート)内の値を取得する方法","path":"20171120093453.html"},"next":{"title":"[WordPress] WP-APIの不要な項目を削除する","path":"20171014002220.html"}},{"title":"[WordPress] WP-APIの不要な項目を削除する","path":"20171014002220.html","permalink":"https://b.0218.jp/20171014002220.html","date":"2017-10-14T00:22:20.000Z","updated":"2017-10-14T00:22:20.000Z","thumbnail":"","content":"<h2>概要</h2><p>WP-API の<code>wp-json/wp/v2/posts/%post_id%</code>を叩くと以下のような JSON データが返ってくる（一部抜粋）</p>\n<pre><code class=\"js\">{\n  \"id\": 843,\n  \"date\": \"2017-10-05T19:47:33\",\n  \"date_gmt\": \"2017-10-05T10:47:33\",\n  \"guid\": {\n    \"rendered\": \"https://b.0218.jp/?p=3343\"\n  },\n  \"modified\": \"2017-10-06T16:40:09\",\n  \"modified_gmt\": \"2017-10-06T07:40:09\",\n  \"slug\": \"wordpress-wp-api-hoge\",\n  \"status\": \"publish\",\n  \"type\": \"post\",\n  \"link\": \"https://b.0218.jp/wordpress-wp-api-hoge.html\",\n  \"title\": {\n    \"rendered\": \"hoge hoge\"\n  },\n  \"content\": {\n    \"rendered\": \"hoge hoge\"\n  },\n  \"author\": 2,\n  \"featured_media\": 157,\n  \"comment_status\": \"open\",\n  \"ping_status\": \"open\",\n  \"sticky\": false,\n  \"template\": \"\",\n  \"format\": \"standard\",\n  \"meta\": []\n  ...\n}</code></pre>\n<p>個人的に<code>author</code>や<code>featured_media</code>の項目は不要だったし、データサイズが少しでも減るのであれば嬉しいのでバックエンド側で握りつぶすことにした。</p>\n<h2>対応方法</h2><p>フィルターフック(<code>rest_prepare_post</code>)を使用する。</p>\n<pre><code class=\"php\">add_filter('rest_prepare_post', function($response, $post, $request) {\n    unset($response-&gt;data['author']);\n    unset($response-&gt;data['featured_media']);\n\n    return $response;\n}, 10, 3);</code></pre>\n<p>引数に<code>$response</code>というオブジェクトが渡される。削除したい項目が<code>$response-data</code>にあるので上記のように<code>unset()</code>して、return してやれば良い。</p>\n","excerpt":"概要 / 対応方法","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[Node.js] node-fetchでBASIC認証をしつつPUTする方法","path":"20171031222235.html"},"next":{"title":"[JavaScript] ウェブシステムのランタイムエラーを集積する仕組み作り","path":"20171011000736.html"}},{"title":"[JavaScript] ウェブシステムのランタイムエラーを集積する仕組み作り","path":"20171011000736.html","permalink":"https://b.0218.jp/20171011000736.html","date":"2017-10-11T00:07:36.000Z","updated":"2017-10-11T13:16:23.000Z","thumbnail":"","content":"<h2>概要</h2><p>大まかにやる事は以下の通り。</p>\n<ol>\n<li>集積用のデータベースを用意する</li>\n<li>共通ページにエラー集積スクリプトを仕込む</li>\n<li>訪問者の操作でエラーが発生するのを待つ</li>\n</ol>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>集積用データベースを用意する</h2><p>このあたりは環境に依ると思う。単なるランタイムエラーと言えど外部にデータを投げられない制約があれば自前のサーバに蓄積すれば良いし、今は有償・無償どれでも選択肢はあるので、制約や利便性を考えて組み合わせると良い。</p>\n<p>個人的に JavaScript でそのままデータを DB に投げたかったので（JS から情報を受け取るバックエンドを実装するのは不毛だと感じた）、情報や運用実績のあったスプレッドシートかトレジャーデータが選択肢に挙がった。</p>\n<p><strong>思いついた選択肢：</strong></p>\n<ul>\n<li>自前のサーバ</li>\n<li>Heroku</li>\n<li>Google スプレッドシート</li>\n<li>Firebase</li>\n<li>トレジャーデータ（有償）</li>\n</ul>\n<p>元々、別の情報集積にトレジャーデータを使用していた事もあり、トレジャーデータに情報を蓄積して、そこからスプレッドシートに可視化する方が良さそうだったので、トレジャーデータに情報を蓄積する方法を選択した。（可視化については、また別の機会で）</p>\n<h3>トレジャーデータを JS だけで利用する</h3><p>トレジャーデータは、リファレンスの更新頻度も高く、SDK のソースなども GitHub に公開しているので、開発者には使い勝手が良いように感じた。<br><a href=\"https://docs.treasuredata.com/articles/javascript-sdk\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Treasure Data JavaScript SDK | Treasure Data</a></p>\n<p>使い方もシンプルで以下のようにインスタンスを作って<code>trackEvent</code>を実行するだけで OK だった。</p>\n<pre><code class=\"js\">var td = new Treasure({\n  host: \"in.treasuredata.com\",\n  writeKey: \"YOUR_WRITE_ONLY_APIKEY_IS_HERE\",\n  database: \"DATABASE_NAME\",\n});\nvar data = \"送信するデータ\";\n\ntd.trackEvent(\"hogehoge\", data);</code></pre>\n<h2>エラー集積スクリプトを仕込む</h2><p>JS のランタイムエラーは、<code>window</code>の<code>error</code>イベントをハンドリングすればいい。</p>\n<p>大まかな実装は以下の通り。</p>\n<pre><code class=\"js\">window.addEventListener(\"error\", function (e) {\n  // エラー内容を処理\n  // ...\n  // データを送信する処理\n  // ...\n});</code></pre>\n<p>参考: <a href=\"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Error\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Error - JavaScript | MDN</a></p>\n<hr>\n<h3>仕様と実装</h3><p>大まかには先述の実装で良い。</p>\n<p>システム要件として IE 対応は IE11 だけだったので、レガシー IE は除外したい（そもそもレガシー IE だとエラー出る）。また、bot が発するエラーを集積してもあまり旨味はなさそうなので出来る限り排除したい。</p>\n<pre><code class=\"js\">window.addEventListener(\"error\", function (e) {\n  var message = e.message;\n  var fileName = e.filename;\n  var lineNumber = e.lineno;\n  var url = location.href;\n  var userAgent = navigator.userAgent;\n\n  // 特定のブラウザはさよなら\n  if (is_bot(userAgent.toLowerCase()) || is_legacyIE(userAgent.toLowerCase())) {\n    return;\n  }\n\n  // データ送信処理\n  treasure_data.trackEvent(\"runtime_error\", {\n    message: message,\n    fileName: fileName,\n    lineNumber: lineNumber,\n    url: url,\n    userAgent: userAgent,\n  });\n});\n\nfunction is_bot(userAgent) {\n  var botPattern =\n    \"(googlebot/|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)\";\n  var reg = new RegExp(botPattern, \"i\");\n  return reg.test(userAgent);\n}\n\nfunction is_legacyIE(userAgent) {\n  return userAgent.indexOf(\"msie\") &gt;= 0;\n}</code></pre>\n<ol>\n<li>エラーをキャッチ</li>\n<li>送信するデータを処理</li>\n<li>DB へ送信</li>\n</ol>\n<hr>\n<p>実際の運用コードは少し違うが、これで運用は回せていけている。</p>\n<h3>Google Tag Manager を使って配信</h3><p>前述の集積用コードの配信は、<a href=\"https://www.google.com/analytics/tag-manager/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google Tag Manager</a>を利用した。</p>\n<p>採用理由は、単純に Google Tag Manager でタグ配信を既に行っていた為、合わせてしまうのが得策だったからである。発火トリガーや配信開始・停止が通常のリリースと比べて柔軟に行える点はかなり利点であった。</p>\n<h2>しばらく運用してみて…</h2><p>フロントエンド関連のエラーは検知が難しいケースが多い。単純な実装ミスであれば、静的解析・レビュー・テストなどで表面化させる事ができる。ただ、エンドユーザの特異な環境や操作で発生するエラーを検知するに対しては、こうした仕組みづくりが必要不可欠となってくる。</p>\n<p>今回の施策によって、単純なエラー集積だけではなく、UI 面やバックエンド側の問題も浮き彫りにする事が出来た。また、<strong>エンドユーザの環境で発生するエラーを事前に検知する事で、顧客への問い合わせを未然に防ぐ事ができた</strong>ことは運用面でも精神衛生上でも効果をもたらした。<mark>品質向上にも繋がる</mark>ので大きなウェブシステムを運用している場合はエラー集積は入れておくと良い。</p>\n","excerpt":"概要 / 集積用データベースを用意する / エラー集積スクリプトを仕込む / しばらく運用してみて…","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Google Tag Manager","slug":"Google-Tag-Manager","path":"tags/Google-Tag-Manager/"}],"prev":{"title":"[WordPress] WP-APIの不要な項目を削除する","path":"20171014002220.html"},"next":{"title":"各政党のfont-familyを調べた in 2017","path":"20171009203443.html"}},{"title":"各政党のfont-familyを調べた in 2017","path":"20171009203443.html","permalink":"https://b.0218.jp/20171009203443.html","date":"2017-10-09T20:34:43.000Z","updated":"2017-10-09T20:34:43.000Z","thumbnail":"","content":"<h2>触発されたツイート</h2><blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">ホームページで使っている jQuery のバージョン (高い順)<br><br>希望の党(2.2.4)<br>民進党(1.12.2)<br>公明党(1.11.3)<br>大阪維新の会(1.9.0)<br>共産党(1.8.3)<br>自由党(1.7.2)<br>自民党(1.4.4)<br><br>社民党(jquery不使用)</p>— Yoshiya Hinosawa (@kt3k) <a href=\"https://twitter.com/kt3k/status/917040600288968705?ref_src=twsrc%5Etfw\">2017年10月8日</a></blockquote>\n<script async=\"\" src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>政党</h2><p>順番は順不同、単純に元ネタ(jQuery のバージョンの高い)順。</p>\n<h3>希望の党</h3><p><a href=\"https://kibounotou.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">希望の党</a></p>\n<pre><code class=\"css\">font-family: \"游ゴシック\", \"Yu Gothic\", YuGothic, \"Hiragino Kaku Gothic ProN\",\n  \"Hiragino Kaku Gothic Pro\", \"メイリオ\", Meiryo, \"ＭＳ ゴシック\", sans-serif;</code></pre>\n<h3>民進党</h3><p><a href=\"https://www.minshin.or.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">民進党 | 国民とともに進む。</a></p>\n<pre><code class=\"css\">font-family: sans-serif;</code></pre>\n<h3>公明党</h3><p><a href=\"https://www.komei.or.jp/campaign/shuin2017/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">公明党 | 衆院選 2017 特設サイト</a></p>\n<pre><code class=\"css\">font-family: Avenir, \"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, Verdana,\n  Roboto, \"游ゴシック\", \"Yu Gothic\", \"游ゴシック体\", \"YuGothic\",\n  \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", \"Meiryo UI\", \"メイリオ\",\n  Meiryo, \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;</code></pre>\n<h3>大阪維新の会</h3><p><a href=\"http://oneosaka.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">大阪維新の会</a></p>\n<pre><code class=\"css\">font: 13px/1 \"メイリオ\", \"Meiryo\", \"ＭＳ Ｐゴシック\", \"Hiragino Kaku Gothic Pro\",\n  \"ヒラギノ角ゴ Pro W3\", sans-serif;</code></pre>\n<h3>共産党</h3><p><a href=\"http://www.jcp.or.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">日本共産党中央委員会</a></p>\n<pre><code>親要素への指定なし</code></pre>\n<h3>自由党</h3><p><a href=\"http://www.seikatsu1.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">自由党</a></p>\n<pre><code class=\"css\">font-family: \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", \"メイリオ\",\n  Meiryo, Osaka, \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;</code></pre>\n<h3>自民党</h3><p><a href=\"https://www.jimin.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">自由民主党</a></p>\n<pre><code class=\"css\">font: 13px \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", \"ＭＳ Ｐゴシック\",\n  arial, helvetica, clean, sans-serif;</code></pre>\n<h3>社民党</h3><p><a href=\"http://www5.sdp.or.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">社民党 OfficialWeb</a></p>\n<pre><code>親要素への指定なし</code></pre>\n<hr>\n<h3>日本維新の会</h3><p><a href=\"https://o-ishin.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">日本維新の会｜身を切る改革、維新だからできる。</a></p>\n<pre><code class=\"css\">font-family: \"Helvetica Neue\", Helvetica, Arial, Verdana, Roboto, \"メイリオ\",\n  Meiryo, \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", \"Meiryo UI\",\n  \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;</code></pre>\n<h3>立憲民主党</h3><p><a href=\"http://cdp-japan.jp/teaser/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">立憲民主党 | 特設サイト</a></p>\n<pre><code>親要素への指定なし</code></pre>\n<h3>日本のこころ</h3><p><a href=\"https://nippon-kokoro.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">日本のこころ</a></p>\n<pre><code class=\"css\">font-family: \"roundedRegular\", YuGothic, \"游ゴシック\", sans-serif,\n  \"Hiragino Kaku Gothic ProN\", \"ヒラギノ角ゴ ProN W3\", \"HGP創英角ｺﾞｼｯｸUB\",\n  \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;\n\n/*\nfont-family: 'UtsukushiMinchotai', \"游明朝\", YuMincho, \"ヒラギノ明朝 ProN W3\", \"Hiragino Mincho ProN\",  \"HG明朝E\", \"ＭＳ Ｐ明朝\", \"ＭＳ 明朝\" , serif,Roboto,\"Droid Sans\";\nfont-family : 'SmartFontUI', YuGothic, '游ゴシック', sans-serif,'Hiragino Kaku Gothic ProN', 'ヒラギノ角ゴ ProN W3','HGP創英角ｺﾞｼｯｸUB', \"ＭＳ Ｐゴシック\",\"MS PGothic\", sans-serif;\nfont-family: 'Hiragino Kaku Gothic ProN', 'ヒラギノ角ゴ ProN W3', sans-serif;\nfont-family: \"秀英角ゴシック銀 L\", YuGothic, \"Hiragino Kaku Gothic ProN\", Meiryo, sans-serif;\nfont-family:  \"游明朝\", YuMincho, \"Hiragino Mincho ProN\", Meiryo, serif;\n*/</code></pre>\n<h2>おわり</h2><p>やはりレガシーな作りのサイトが多かった。殆どのサイトが HTML5, HTML4 で作られていたが、社民党だけは XHTML だった。</p>\n<p>レガシーとモダンの差は結果的に元ネタの jQuery のバージョン順に沿っていると感じた。例えば、作成された時期が新しければ jQuery のバージョンも新しいし、HTML5 で作られている。デザインもわりとモダン。当たり前といえば当たり前だが…。</p>\n<p>ちなみに、今話題の文字コードは全て<code>UTF-8</code>だった。</p>\n","excerpt":"触発されたツイート / 政党 / おわり","categories":[{"name":"調査","slug":"調査","path":"categories/%E8%AA%BF%E6%9F%BB/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[JavaScript] ウェブシステムのランタイムエラーを集積する仕組み作り","path":"20171011000736.html"},"next":{"title":"[Local by Flywheel] Add New Siteが終わらない時の対処法","path":"20171005212146.html"}},{"title":"[Local by Flywheel] Add New Siteが終わらない時の対処法","path":"20171005212146.html","permalink":"https://b.0218.jp/20171005212146.html","date":"2017-10-05T21:21:46.000Z","updated":"2017-10-05T21:21:46.000Z","thumbnail":"","content":"<h2>状況</h2><p><code>nginx provisioning</code> が終わらない</p>\n<h3>試した方法</h3><ol>\n<li>やり直す</li>\n</ol>\n<ul>\n<li>途中まで作成された Site をコンテキストメニューから Delete</li>\n<li>アプリ再起動</li>\n<li>VirtualBox 内の local-by-flywheel を削除</li>\n<li>Add New Site をする → ダメ?</li>\n</ul>\n<ol start=\"2\">\n<li>再インストール</li>\n</ol>\n<ul>\n<li>VirtualBox 内の local-by-flywheel を削除</li>\n<li>Local by Flywheel をインストールし直す</li>\n<li>Add New Site をする → ダメ?</li>\n</ul>\n<p>→ いずれも<strong>解決しなかった</strong></p>\n<h2>解決策</h2><p>問題は VirtualBox と Local by Flywheel のバージョンが不一致だったのが問題だった模様。VirtualBox のバージョンを上げてやると問題なく処理が通るようになった。</p>\n","excerpt":"状況 / 解決策","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"Local by Flywheel","slug":"Local-by-Flywheel","path":"tags/Local-by-Flywheel/"}],"prev":{"title":"各政党のfont-familyを調べた in 2017","path":"20171009203443.html"},"next":{"title":"Googleが配信している日本語ウェブフォント一覧","path":"20171003234050.html"}},{"title":"Googleが配信している日本語ウェブフォント一覧","path":"20171003234050.html","permalink":"https://b.0218.jp/20171003234050.html","date":"2017-10-03T23:40:50.000Z","updated":"2017-10-03T23:40:50.000Z","thumbnail":"","content":"<h2>はじめに（結論）</h2><p>色々と調べて書いていたが、途中で<a href=\"https://googlefonts.github.io/japanese/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google Fonts + 日本語 早期アクセス • Google Fonts + Japanese Early Access</a>を見つけて、一覧があった。</p>\n<ul>\n<li><a href=\"https://fonts.google.com/earlyaccess\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Early Access - Google Fonts</a></li>\n<li><a href=\"https://googlefonts.github.io/japanese/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google Fonts + 日本語 早期アクセス • Google Fonts + Japanese Early Access</a></li>\n</ul>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>M+ 1p</h2><h3>サンプル</h3><div class=\"sandbox wf-mplus1p\">\n<span class=\"font-weight-900\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-800\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-700\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-600\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-500\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-400\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-300\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-200\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-100\">すると、夜空に最初の流れ星が現れた。</span>\n</div>\n\n<pre><code class=\"html\">&lt;link\n  href=\"https://fonts.googleapis.com/earlyaccess/mplus1p.css\"\n  rel=\"stylesheet\"\n/&gt;</code></pre>\n<pre><code class=\"css\">.wf-mplus1p {\n  font-family: \"Mplus 1p\";\n}</code></pre>\n<h3>作者サイト</h3><p><a href=\"http://mplus-fonts.osdn.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">M+ FONTS</a></p>\n<hr>\n<h2>Rounded M+ 1c</h2><h3>サンプル</h3><div class=\"sandbox wf-roundedmplus1c\">\n<span class=\"font-weight-900\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-800\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-700\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-600\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-500\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-400\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-300\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-200\">すると、夜空に最初の流れ星が現れた。</span>\n<span class=\"font-weight-100\">すると、夜空に最初の流れ星が現れた。</span>\n</div>\n\n<pre><code class=\"html\">&lt;link\n  href=\"https://fonts.googleapis.com/earlyaccess/roundedmplus1c.css\"\n  rel=\"stylesheet\"\n/&gt;</code></pre>\n<pre><code class=\"css\">.wf-roundedmplus1c {\n  font-family: \"Rounded Mplus 1c\";\n}</code></pre>\n<h3>作者サイト</h3><p><a href=\"http://jikasei.me/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">自家製フォント工房</a></p>\n<hr>\n<h2>はんなり明朝</h2><h3>サンプル</h3><div class=\"sandbox wf-hannari\">\nあかるく、\nやさしく、\nふんわり。\n</div>\n\n<pre><code class=\"html\">&lt;link\n  href=\"https://fonts.googleapis.com/earlyaccess/hannari.css\"\n  rel=\"stylesheet\"\n/&gt;</code></pre>\n<pre><code class=\"css\">.wf-hannari {\n  font-family: \"Hannari\";\n}</code></pre>\n<h3>作者サイト</h3><p><a href=\"http://typingart.net/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">フォント無料ダウンロード｜ Typing Art</a></p>\n<hr>\n<h2>こころ明朝</h2><h3>サンプル</h3><div class=\"sandbox wf-kokoro\">\nわたしのふたつのじんかくにはきょうつうのきおくがある。\n</div>\n\n<pre><code class=\"html\">&lt;link\n  href=\"https://fonts.googleapis.com/earlyaccess/kokoro.css\"\n  rel=\"stylesheet\"\n/&gt;</code></pre>\n<pre><code class=\"css\">.wf-kokoro {\n  font-family: \"Kokoro\";\n}</code></pre>\n<h3>作者サイト</h3><p><a href=\"http://typingart.net/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">フォント無料ダウンロード｜ Typing Art</a></p>\n<hr>\n<h2>さわらび明朝</h2><h3>サンプル</h3><div class=\"sandbox wf-sawarabimincho\">\nどうやらアトモスフェアの高い位置まで到達したようだった。空は真っ暗で、星の瞬きもなくなっていた。丘の上では彼方に広がる水平線が同じ高さに見えるのと同じ錯覚によって、眼下に真っ暗な雲が広がり、車は巨大な暗い空間の真ん中に浮いているように見えた。その空間の上半分は銀色にきらめいていた。\n</div>\n\n<pre><code class=\"html\">&lt;link\n  href=\"https://fonts.googleapis.com/earlyaccess/sawarabimincho.css\"\n  rel=\"stylesheet\"\n/&gt;</code></pre>\n<pre><code class=\"css\">.wf-sawarabimincho {\n  font-family: \"Sawarabi Mincho\";\n}</code></pre>\n<h3>作者サイト</h3><p><a href=\"http://fontopo.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">fontopo | 日本語フォント無料ダウンロード</a></p>\n<hr>\n<h2>さわらびゴシック</h2><h3>サンプル</h3><div class=\"sandbox wf-sawarabigothic\">\n依然として速度を増しながら進むにつれて、夜と日中の切り替わりが曖昧になり、一続きの灰色になった。空は深い青色で夕暮れ時のような明るい光で照らされている。急に現れる太陽はきらめく円弧の形をした光の筋となった。月はおぼろげに揺らぐ帯となり、星は見えなかった。ただ、時折青い空に明るく瞬く円が見えた。\n</div>\n\n<pre><code class=\"html\">&lt;link\n  href=\"https://fonts.googleapis.com/earlyaccess/sawarabigothic.css\"\n  rel=\"stylesheet\"\n/&gt;</code></pre>\n<pre><code class=\"css\">.wf-sawarabigothic {\n  font-family: \"Sawarabi Gothic\";\n}</code></pre>\n<h3>作者サイト</h3><p><a href=\"http://nicofont.pupu.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">丸文字フォント（ニコ文字）配布所 - 無料ダウンロード可</a></p>\n<hr>\n<h2>ニクキュウ</h2><h3>サンプル</h3><div class=\"sandbox wf-nikukyu\">\nトントン\n　\nピョンピョン\nモタ　モタ\nスタ</div>\n```html\n<link href=\"https://fonts.googleapis.com/earlyaccess/nikukyu.css\" rel=\"stylesheet\">\n```\n\n<pre><code class=\"css\">.wf-nikukyu {\n  font-family: \"Nikukyu\";\n}</code></pre>\n<h3>作者サイト</h3><p><a href=\"http://mshio.b.osdn.me/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">mshio’s blog</a></p>\n<hr>\n<h2>ニコモジ</h2><h3>サンプル</h3><div class=\"sandbox wf-nicomoji\">\nいらっしゃいませ\n</div>\n\n<pre><code class=\"html\">&lt;link\n  href=\"https://fonts.googleapis.com/earlyaccess/nicomoji.css\"\n  rel=\"stylesheet\"\n/&gt;</code></pre>\n<pre><code class=\"css\">.wf-nicomoji {\n  font-family: \"Nico Moji\";\n}</code></pre>\n<h3>作者サイト</h3><p><a href=\"http://mshio.b.osdn.me/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">mshio’s blog</a></p>\n<hr>\n<h2>Noto Sans Japanese</h2><h3>サンプル</h3><div class=\"sandbox wf-notosansjapanese\">\n<span class=\"font-weight-900\">本当にすばらしい旅だった。</span><span class=\"font-weight-700\">多くの愛すべき人々と出会ったが、</span><span class=\"font-weight-500\">彼らと再び会うことはないだろう。</span><span class=\"font-weight-400\">一生は短く、誰もがリダウトの安全と繁栄のために尽力しなければならない。</span><span class=\"font-weight-300\">それでも、訪れたすべての都市でたくさん旅をした。</span><span class=\"font-weight-200\">多くの人々がいたが、時間が足りなかった。</span>\n</div>\n\n<pre><code class=\"html\">&lt;link\n  href=\"https://fonts.googleapis.com/earlyaccess/notosansjapanese.css\"\n  rel=\"stylesheet\"\n/&gt;</code></pre>\n<pre><code class=\"css\">.wf-notosansjapanese {\n  font-family: \"Noto Sans Japanese\";\n}</code></pre>\n<h3>作者サイト</h3><p><a href=\"https://www.google.com/get/noto/#sans-jpan\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google Noto Fonts</a></p>\n<hr>\n<h2>まとめ</h2><p>この記事には、<code>fonts.googleapis.com</code>から 9 つの CSS を読み込んでいる。確認すると、各フォントのウェイトを合計するとフォントファイルが 27 個ほど読み込まれていた。Google の配信の仕方やブラウザの進歩のおかげで（適当）、思ったほど表示に負荷はかかっていないように感じた。もちろん環境によっては見られたものではないかもしれないが、一般的な家庭の回線で難なく読み込みが出来ている事が確認できたのは収穫だ。</p>\n","excerpt":"はじめに（結論） / M+ 1p / Rounded M+ 1c / はんなり明朝 / こころ明朝","categories":[{"name":"調査","slug":"調査","path":"categories/%E8%AA%BF%E6%9F%BB/"}],"tags":[{"name":"Google","slug":"Google","path":"tags/Google/"},{"name":"フォント","slug":"フォント","path":"tags/%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88/"}],"prev":{"title":"[Local by Flywheel] Add New Siteが終わらない時の対処法","path":"20171005212146.html"},"next":{"title":"jQueryの$.wrap()をJavaScriptで実装する方法","path":"20171002235932.html"}},{"title":"jQueryの$.wrap()をJavaScriptで実装する方法","path":"20171002235932.html","permalink":"https://b.0218.jp/20171002235932.html","date":"2017-10-02T23:59:32.000Z","updated":"2017-10-02T23:59:32.000Z","thumbnail":"","content":"<h2>前提</h2><pre><code class=\"html\">&lt;div class=\"piyo\"&gt;こんにちは&lt;/div&gt;</code></pre>\n<p>↑ これを<code>&lt;div&gt;</code>でラップして、↓ みたいにしたい。</p>\n<pre><code class=\"html\">&lt;div&gt;\n  &lt;div class=\"piyo\"&gt;こんにちは&lt;/div&gt;\n&lt;/div&gt;</code></pre>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>jQuery</h2><p>jQuery での実装方法を振り返り。</p>\n<h3>$.wrap()を使う</h3><pre><code class=\"js\">$(\".piyo\").wrap(\"&lt;div /&gt;\");</code></pre>\n<p><code>$.wrap</code>に文字列を渡す。</p>\n<h2>JavaScript</h2><h3>jQueryと同じ方法</h3><pre><code class=\"js\">var piyo = document.querySelector(\".piyo\");\npiyo = \"&lt;div&gt;\" + piyo.outerHTML + \"&lt;/div&gt;\";</code></pre>\n<h3>要素ノードを作成する</h3><pre><code class=\"js\">var piyo = document.querySelector(\".piyo\");\nvar div = document.createElement(\"div\");\n\n// IEの場合\nif (isIE) {\n  piyo.parentNode.insertBefore(div, piyo);\n  div.appendChild(piyo);\n} else {\n  piyo.before(div);\n  div.append(piyo);\n}</code></pre>\n<p>モダンブラウザであれば、<code>before()</code>が使えるため挿入は容易い。<br>ただ、<code>before()</code>は IE で未実装であるため考慮する必要がある。</p>\n<h2>関連</h2><ul>\n<li><a href=\"http://caniuse.com/#feat=dom-manip-convenience\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Can I use… Support tables for HTML5, CSS3, etc</a></li>\n</ul>\n","excerpt":"前提 / jQuery / JavaScript / 関連","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"},{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"}],"prev":{"title":"Googleが配信している日本語ウェブフォント一覧","path":"20171003234050.html"},"next":{"title":"PHPのバージョンをダウングレードする方法\n","path":"20171002020523.html"}},{"title":"PHPのバージョンをダウングレードする方法\n","path":"20171002020523.html","permalink":"https://b.0218.jp/20171002020523.html","date":"2017-10-02T02:05:23.000Z","updated":"2017-10-02T02:05:23.000Z","thumbnail":"","content":"<h2>概要</h2><p>うっかり PHP 7.2 をインストールしてしまった為、PHP 7.1 にダウングレードしたい。</p>\n<h2>環境</h2><ul>\n<li>CentOS 7</li>\n<li>PHP 7.2 がインストールされている</li>\n</ul>\n<h2>手順</h2><h3>確認</h3><p>まず、インストールされている PHP を確認する。</p>\n<pre><code>yum list installed | grep php</code></pre>\n<p>下記のような一覧が表示されるので、メモしておく。</p>\n<pre><code>php.x86_64              7.2.el7.remi     @remi-php72\nphp-cli.x86_64          7.2.el7.remi     @remi-php72\nphp-common.x86_64       7.2.el7.remi     @remi-php72\nphp-devel.x86_64        7.2.el7.remi     @remi-php72\nphp-fpm.x86_64          7.2.el7.remi     @remi-php72\nphp-gd.x86_64           7.2.el7.remi     @remi-php72\nphp-gmp.x86_64          7.2.el7.remi     @remi-php72\nphp-json.x86_64         7.2.el7.remi     @remi-php72\nphp-mbstring.x86_64     7.2.el7.remi     @remi-php72\nphp-mcrypt.x86_64       7.2.el7.remi     @remi-php72\nphp-mysqlnd.x86_64      7.2.el7.remi     @remi-php72\nphp-opcache.x86_64      7.2.el7.remi     @remi-php72\nphp-pdo.x86_64          7.2.el7.remi     @remi-php72\nphp-xml.x86_64          7.2.el7.remi     @remi-php72</code></pre>\n<h3>リポジトリを変更</h3><p>向き先が remi-php72 になっているはずなので、編集する。</p>\n<pre><code>vi /etc/yum.repos.d/remi-php72.repo</code></pre>\n<p><code>enabled</code>が<code>1</code>だと、デフォルトのレポジトリになるので、<code>0</code>にしておく。<br>私は remi-php71 の方をデフォルトに変更しておいた。</p>\n<pre><code>vi /etc/yum.repos.d/remi-php71.repo</code></pre>\n<h3>PHP を入れ直す（remove/install）</h3><p>まずは、インストール済みの PHP をアンインストールする。</p>\n<p>先程メモしておいたインストールされている PHP 一覧を使う。<br>下記のように指定して一括で remove する。</p>\n<pre><code>yum remove -y php php-cli php-common php-fpm php-gd php-gmp php-json php-mbstring php-mysqlnd php-opcache php-pdo php-pear php-pecl-igbinary php-pecl-mcrypt php-pecl-memcached php-pecl-msgpack php-process php-xml</code></pre>\n<p>アンインストールが終わったところで、次は同じ指定で install を行う。</p>\n<pre><code>yum install -y php php-cli php-common php-fpm php-gd php-gmp php-json php-mbstring php-mysqlnd php-opcache php-pdo php-pear php-pecl-igbinary php-pecl-mcrypt php-pecl-memcached php-pecl-msgpack php-process php-xml</code></pre>\n<p>レポジトリの指定を remi-php71 にしているので PHP 7.1 系がインストールされる。<code>*.repo</code>ファイルを修正せずとも<code>--enablerepo=remi-php71</code>などと指定してインストールする事も可能。</p>\n","excerpt":"概要 / 環境 / 手順","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"CentOS","slug":"CentOS","path":"tags/CentOS/"}],"prev":{"title":"jQueryの$.wrap()をJavaScriptで実装する方法","path":"20171002235932.html"},"next":{"title":"SASSファイルをSCSSファイルに一括変換する方法\n","path":"20170924163248.html"}},{"title":"SASSファイルをSCSSファイルに一括変換する方法\n","path":"20170924163248.html","permalink":"https://b.0218.jp/20170924163248.html","date":"2017-09-24T16:32:48.000Z","updated":"2017-09-24T16:32:48.000Z","thumbnail":"","content":"<h2>概要</h2><p>元々プロジェクトでは SASS 記法で書かれていたが、新卒の新規メンバーへの学習コストを抑える為に SCSS に変更することにした。</p>\n<h3>環境</h3><p>多重階層に配置された SASS ファイルが 50 ファイルほどあった。</p>\n<h2>手順</h2><h3>sass-convert を確認</h3><p>変換には<code>sass-convert</code>が必用になる。<br><code>which</code>で確認してインストール済みなら問題ない。</p>\n<pre><code class=\"bash\">which sass-convert\n/usr/local/bin/sass-convert</code></pre>\n<p>インストールされていない場合は、下記コマンドで sass をインストールする。</p>\n<pre><code class=\"bash\">gem install sass</code></pre>\n<h3>コンバートする</h3><p><code>sass-convert</code>には以下のようなオプションがある。</p>\n<table>\n<thead>\n<tr>\n<th>オプション</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>--from FORMAT</code></td>\n<td>変換元: css, scss, sass</td>\n</tr>\n<tr>\n<td><code>--to FORMAT</code></td>\n<td>変換先: scss, sass</td>\n</tr>\n<tr>\n<td><code>-R</code></td>\n<td>再帰的に処理</td>\n</tr>\n<tr>\n<td><code>--indent NUM</code></td>\n<td>インデントの space の数<br>ハードタブ指定は<code>t</code></td>\n</tr>\n</tbody></table>\n<hr>\n<p>以下のように実行し、対象のフォルダ名を指定して SASS から SCSS に変換した。</p>\n<pre><code class=\"bash\">sass-convert -R --from sass --to scss 対象フォルダ名</code></pre>\n<p>上記の指定だと直接対象フォルダに変換後のファイルが作成される為、比較して問題ないことを確認したあとは下記コマンドで変換前の SASS ファイルは削除した。</p>\n<pre><code class=\"bash\">find -L 対象フォルダ名 -name \"*.sass\" | xargs rm</code></pre>\n<h2>関連</h2><ul>\n<li><a href=\"https://b.0218.jp/20140720164610.html\">指定の名称のファイルを再帰的に削除する方法</a></li>\n</ul>\n","excerpt":"概要 / 手順 / 関連","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"PHPのバージョンをダウングレードする方法\n","path":"20171002020523.html"},"next":{"title":"さすがに`jQuery.noConflict()`は、もう止めよう\n","path":"20170919172842.html"}},{"title":"さすがに`jQuery.noConflict()`は、もう止めよう\n","path":"20170919172842.html","permalink":"https://b.0218.jp/20170919172842.html","date":"2017-09-19T17:28:42.000Z","updated":"2017-09-19T17:28:42.000Z","thumbnail":"","content":"<h2>概要</h2><p>レガシーなコードを受け継いできたプロジェクトに散見される <code>jQuery.noConflict</code> 。今現在これを使用するメリットは全くなく、もはやデメリットすらあるこの 1 行を駆逐していきたいと思っている。(jQuery 本体の不要論は置いといて)</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>使われていた理由</h2><p>jQuery は他ライブラリ（主に prototype.js）と競合する。<code>$</code>が競合してしまうのだが、これを回避する為に使われるのが<code>jQuery.noConflict</code>だった。jQuery 自身の<code>$</code>を使用する事を回避し競合を避けていた。</p>\n<p>prototype.js や jQuery が使われ始めた当初、併用されるのが珍しくなかった為、こういった対応が必要であったのだが、それから prototype.js が完全に死に使われなくなった事で<code>jQuery.noConflict</code>は不要となっていった。</p>\n<h3>使われ方</h3><p>色々と使い方はあるが、だいたい以下のような形で使われている。</p>\n<pre><code class=\"js\">jQuery.noConflict();\n\n(function ($) {\n  console.log(\"Hello\");\n})(jQuery);</code></pre>\n<p>一度、変数に入れて使われていたりもする。</p>\n<pre><code class=\"js\">var $j = jQuery.noConflict();\n$j(\"#hoge\").fadeIn();</code></pre>\n<h2>やめる</h2><p>先述の通り、 prototype.js を使っていない（<code>$</code>に依存したライブラリを使用していない）場合は、完全にこの<code>jQuery.noConflict();</code>は不要である。<br>オマジナイ的に使用しているのであれば消したほうが良い。少量ながらコード量は減るし、DevTools から<code>$</code>を使った jQuery の実行も出来るようになる。</p>\n<h3>方法</h3><p>対応として基本的には、<code>jQuery.noConflict();</code>の 1 行を消すだけで問題ないが、別の変数に格納している場合は、加えて変数の置換作業が必要となる。</p>\n","excerpt":"概要 / 使われていた理由 / やめる","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"SASSファイルをSCSSファイルに一括変換する方法\n","path":"20170924163248.html"},"next":{"title":"[JavaScript] 入力欄にDrag&Dropで文字を入力できないようにする方法","path":"20170910163651.html"}},{"title":"[JavaScript] 入力欄にDrag&Dropで文字を入力できないようにする方法","path":"20170910163651.html","permalink":"https://b.0218.jp/20170910163651.html","date":"2017-09-10T16:36:51.000Z","updated":"2017-09-10T16:36:51.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>実装・サンプル</h2><iframe height=\"265\" scrolling=\"no\" title=\"Input that prohibited D&amp;D\" src=\"//codepen.io/hiro0218/embed/xmWjwr/?height=265&amp;theme-id=light&amp;default-tab=result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/xmWjwr/'>Input that prohibited D&D</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<pre><code class=\"javascript\">var input = document.querySelector(\".input-prohibit-drop\");\ninput.addEventListener(\n  \"drop\",\n  function (e) {\n    e.preventDefault();\n  },\n  true\n);</code></pre>\n","excerpt":"実装・サンプル","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"さすがに`jQuery.noConflict()`は、もう止めよう\n","path":"20170919172842.html"},"next":{"title":"[WordPress] 検索結果で検索文字をハイライトする方法","path":"20170908225013.html"}},{"title":"[WordPress] 検索結果で検索文字をハイライトする方法","path":"20170908225013.html","permalink":"https://b.0218.jp/20170908225013.html","date":"2017-09-08T22:50:13.000Z","updated":"2017-09-08T22:50:13.000Z","thumbnail":"","content":"<p>検索結果に表示された文字列をハイライト表示させる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>コード</h2><pre><code class=\"php\">function highlight_search_results($content) {\n    if (!is_admin() &amp;&amp; is_search() &amp;&amp; is_main_query()) {\n        $keys = implode('|', explode(' ', get_search_query()));\n        $content = preg_replace('/'. $keys .'/iu', '&lt;mark&gt;$0&lt;/mark&gt;', $content);\n    }\n\n    return $content;\n}\n\nadd_filter('the_title', 'highlight_search_results');\nadd_filter('the_excerpt', 'highlight_search_results');</code></pre>\n<p><code>the_title</code>(記事タイトル)、<code>the_excerpt</code>(記事内容)、<code>the_excerpt</code>(記事抜粋)などにも<code>add_filter</code>でハイライトを付与する事が可能だが、記事抜粋など<code>$content</code>内に検索文字列がないとハイライトできない。</p>\n","excerpt":"コード","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[JavaScript] 入力欄にDrag&Dropで文字を入力できないようにする方法","path":"20170910163651.html"},"next":{"title":"[WordPress] WP-CLIでテストデータをインポートする方法","path":"20170904235255.html"}},{"title":"[WordPress] WP-CLIでテストデータをインポートする方法","path":"20170904235255.html","permalink":"https://b.0218.jp/20170904235255.html","date":"2017-09-04T23:52:55.000Z","updated":"2017-09-04T23:52:55.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><p>wget で GitHub 上のデータを取得して、<code>wp import</code>(WP-CLI)で対象の WordPress へインポートする。</p>\n<h3>英語データ</h3><p><a href=\"https://github.com/WPTRT/theme-unit-test\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">WPTRT/theme-unit-test: Theme Unit Test</a>を使う。</p>\n<pre><code class=\"bash\">wget https://raw.githubusercontent.com/WPTRT/theme-unit-test/master/themeunittestdata.wordpress.xml --no-check-certificate  &amp;&amp; wp plugin install wordpress-importer --activate &amp;&amp; wp import themeunittestdata.wordpress.xml --authors=create &amp;&amp; rm themeunittestdata.wordpress.xml</code></pre>\n<h3>日本語データ</h3><p><a href=\"https://github.com/jawordpressorg/theme-test-data-ja\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">jawordpressorg/theme-test-data-ja: Japanese test data for WordPress</a>で先述の日本語版が公開されている。</p>\n<pre><code class=\"bash\">wget https://raw.githubusercontent.com/jawordpressorg/theme-test-data-ja/master/wordpress-theme-test-date-ja.xml --no-check-certificate  &amp;&amp; wp plugin install wordpress-importer --activate &amp;&amp; wp import wordpress-theme-test-date-ja.xml --authors=create &amp;&amp; rm wordpress-theme-test-date-ja.xml</code></pre>\n<h2>参考</h2><ul>\n<li><a href=\"https://gist.github.com/zchee/689114a048e7aeeb2728\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">WP-CLI が入ってる環境でテストデータをインポートする 1 行シェルスクリプト · GitHub</a></li>\n</ul>\n","excerpt":"方法 / 参考","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"WP-CLI","slug":"WP-CLI","path":"tags/WP-CLI/"}],"prev":{"title":"[WordPress] 検索結果で検索文字をハイライトする方法","path":"20170908225013.html"},"next":{"title":"[JavaScript] XMLHttpRequestを同期処理にするとエラーになる場合の対処法","path":"20170903185959.html"}},{"title":"[JavaScript] XMLHttpRequestを同期処理にするとエラーになる場合の対処法","path":"20170903185959.html","permalink":"https://b.0218.jp/20170903185959.html","date":"2017-09-03T18:59:59.000Z","updated":"2017-09-03T18:59:59.000Z","thumbnail":"","content":"<h2>問題</h2><p>以下のように<code>open()</code>の第 3 引数を<code>false</code>にし、非同期処理から同期処理へ変更した。</p>\n<pre><code class=\"javascript\">xhr.open(\"GET\", \"https://example.jp/rest-api/posts.json\", false);\nxhr.responseType = \"json\";\nxhr.send();</code></pre>\n<p>すると実行時に以下のようなエラーが発生してしまった。</p>\n<pre><code>Uncaught DOMException: Failed to set the 'responseType' property on 'XMLHttpRequest': The response type cannot be changed for synchronous requests made from a document.</code></pre>\n<h2>解決方法</h2><p>エラーにある通り、<code>responseType</code>を指定している事が原因。</p>\n<blockquote>\n<p>同期リクエストの実行時における、XMLHttpRequest responseType および withCredentials 属性の使用のサポートを削除しました。属性の使用を試みると、NS_ERROR_DOM_INVALID_ACCESS_ERR 例外が発生します。この変更は、W3C へ標準化の提案が行われました。<br><a href=\"https://developer.mozilla.org/ja/Firefox/Releases/11\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://developer.mozilla.org/ja/Firefox/Releases/11</a></p>\n</blockquote>\n<p>仕様上できないようなので、同期処理が必要な場合は<code>responseType</code>への指定を外し、<code>response</code>に対して型変換など行う必要がある。<br>例えば json を取得したい場合、responseType 未設定だと string で返ってくるので JSON.parse する。</p>\n<pre><code class=\"javascript\">xhr.onreadystatechange = function () {\n  if (this.readyState === 4 &amp;&amp; this.status === 200) {\n    var response = this.response;\n    if (typeof response === \"string\") {\n      resoinse = JSON.parse(response);\n    }\n    // ...\n  }\n};</code></pre>\n","excerpt":"問題 / 解決方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[WordPress] WP-CLIでテストデータをインポートする方法","path":"20170904235255.html"},"next":{"title":"[JavaScript] IE11でXHR時にInvalidStateErrorが発生する問題の対処法","path":"20170903185953.html"}},{"title":"[JavaScript] IE11でXHR時にInvalidStateErrorが発生する問題の対処法","path":"20170903185953.html","permalink":"https://b.0218.jp/20170903185953.html","date":"2017-09-03T18:59:53.000Z","updated":"2017-09-03T18:59:53.000Z","thumbnail":"","content":"<p>IE11 で<code>XMLHttpRequest()</code>を使った JSON 取得ができなかった。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>問題点</h2><h3>responseType を指定する順番</h3><pre><code class=\"javascript\">xhr.open(\"GET\", \"https://example.jp/rest-api/posts.json\", true);\nxhr.responseType = \"json\";\nxhr.send();</code></pre>\n<p>responseType の設定は、<code>open()</code>の後に記述する。<br>モダンブラウザでは問題ないが、IE11 などではエラーとなる。</p>\n<h3>IE11 では responseType に JSON が指定できない</h3><p><a href=\"https://developer.mozilla.org/ja/docs/Web/API/XMLHttpRequest\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">XMLHttpRequest - Web API インターフェイス | MDN</a>を確認すると、IE11 では<code>responseType = 'json'</code>が未対応である事がわかる。</p>\n<table>\n<thead>\n<tr>\n<th>機能</th>\n<th>Chrome</th>\n<th>Firefox (Gecko)</th>\n<th>Internet Explorer</th>\n<th>Opera</th>\n<th>Safari (WebKit)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>responseType = ‘arraybuffer’</td>\n<td>10</td>\n<td>6.0</td>\n<td>10</td>\n<td>11.6</td>\n<td>(有)</td>\n</tr>\n<tr>\n<td>responseType = ‘blob’</td>\n<td>19</td>\n<td>6.0</td>\n<td>10</td>\n<td>12</td>\n<td>(有)</td>\n</tr>\n<tr>\n<td>responseType = ‘document’</td>\n<td>18</td>\n<td>11.0</td>\n<td>10</td>\n<td>未サポート</td>\n<td>6.1</td>\n</tr>\n<tr>\n<td>responseType = ‘json’</td>\n<td>31</td>\n<td>10.0</td>\n<td>未サポート</td>\n<td>12 <br>未サポート 16<br>17</td>\n<td>(有)</td>\n</tr>\n</tbody></table>\n<p><code>responseType = 'json'</code>を指定しても、IE11 では response は、<code>string</code>型になっている。<br>解決方法としては、JSON 形式にパースしてやれば良いので、以下のように型をチェックして、パースすればモダンブラウザと同じ振る舞いが可能となる。</p>\n<pre><code class=\"javascript\">xhr.onreadystatechange = function () {\n  if (this.readyState === 4 &amp;&amp; this.status === 200) {\n    var response = this.response;\n    if (typeof response === \"string\") {\n      resoinse = JSON.parse(response);\n    }\n    // ...\n  }\n};</code></pre>\n<p>条件は、IE11 を判定(<code>navigator.userAgent.indexOf('Trident') !== -1</code>)しても良いし、responseType を始めから text にしておいて response を問答無用で parse しても良い。</p>\n","excerpt":"問題点","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] XMLHttpRequestを同期処理にするとエラーになる場合の対処法","path":"20170903185959.html"},"next":{"title":"[JavaScript] スクロールで要素が表示された状態をチェックする方法","path":"20170903165538.html"}},{"title":"[JavaScript] スクロールで要素が表示された状態をチェックする方法","path":"20170903165538.html","permalink":"https://b.0218.jp/20170903165538.html","date":"2017-09-03T16:55:38.000Z","updated":"2017-09-03T16:55:38.000Z","thumbnail":"","content":"<h2>概要</h2><p>ある指定の要素が、スクロールで表示された場合にイベントを発生させる。<br>(ロード時に表示されていた場合は、スクロールイベントが発生しないとイベントが発生しないので注意)</p>\n<p>モダンブラウザであれば、Intersection Observer を用いる方法がベストだと思うが、IE11 などでも動作させる必要がある場合は以下の方法が有効である。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>コード</h2><pre><code class=\"javascript\">var target = document.getElementById(\"hoge\");\nscrollInViewElement(target);\n\nfunction scrollInViewElement(target) {\n  var scrollIn = function (event) {\n    var targetTop = target.getBoundingClientRect().top;\n    var targetBottom = target.getBoundingClientRect().bottom;\n    if (0 &lt; targetTop &amp;&amp; targetBottom &lt;= window.innerHeight) {\n      console.log(\"表示された！\"); // 実行したいイベント\n      window.removeEventListener(\"scroll\", scrollIn, false);\n    }\n  };\n  window.addEventListener(\"scroll\", scrollIn, false);\n}</code></pre>\n<ul>\n<li><code>#hoge</code>を監視する</li>\n<li><code>removeEventListener</code>をして過度なイベント発生を防いでいるが、逆に何度もイベントを発生させる必要があれば<code>removeEventListener</code>を記述しなければ良い</li>\n</ul>\n","excerpt":"概要 / コード","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] IE11でXHR時にInvalidStateErrorが発生する問題の対処法","path":"20170903185953.html"},"next":{"title":"[modern.IE] 仮想環境のユーザーパスワードについてのメモ","path":"20170901131045.html"}},{"title":"[modern.IE] 仮想環境のユーザーパスワードについてのメモ","path":"20170901131045.html","permalink":"https://b.0218.jp/20170901131045.html","date":"2017-09-01T13:10:45.000Z","updated":"2017-09-01T13:10:45.000Z","thumbnail":"https://i.imgur.com/UH41tmkl.png","content":"<p>正確には modern.IE では無いかもしれないが、<a href=\"https://developer.microsoft.com/en-us/microsoft-edge/tools/vms/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Free Virtual Machines from IE8 to MS Edge - Microsoft Edge Development</a>を利用してテスト用の仮想環境を作成した。</p>\n<p><img src=\"https://i.imgur.com/UH41tmkl.png\" alt=\"modern.IE Login\" loading=\"lazy\"></p>\n<h2>環境</h2><p>ダウンロードした VM の要件は以下。</p>\n<ul>\n<li>MSEdge on Win10 (x64) Preview (16.16257)</li>\n</ul>\n<h2>ユーザー／パスワード</h2><ul>\n<li>ユーザ： <code>IE User</code></li>\n<li>パスワード： <code>Passw0rd!</code></li>\n</ul>\n","excerpt":"環境 / ユーザー／パスワード","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows","slug":"Windows","path":"tags/Windows/"}],"prev":{"title":"[JavaScript] スクロールで要素が表示された状態をチェックする方法","path":"20170903165538.html"},"next":{"title":"[OGP] 重複したタグはTwitter Cardsで併記しなくても良い","path":"20170815140344.html"}},{"title":"[OGP] 重複したタグはTwitter Cardsで併記しなくても良い","path":"20170815140344.html","permalink":"https://b.0218.jp/20170815140344.html","date":"2017-08-15T14:03:44.000Z","updated":"2019-02-11T13:56:26.000Z","thumbnail":"","content":"<h2>概要</h2><p>Twitter Cards タグは、Open Graph プロトコルと同じ規則に基づいているため、Open Graph を使用している場合は、Twitter Cards タグを重複させなくても良い。</p>\n<p>Twitter Cards プロセッサは、ページ上のタグを探す際、まず Twitter Cards のプロパティをチェックし、存在しなければ対応している Open Graph プロパティをチェックする。これにより重複したマークアップを最小限に抑えることができる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>書き方</h2><p>公式リファレンスによると、下記のような形で書いても問題ない。</p>\n<pre><code class=\"html\">&lt;meta name=\"twitter:card\" content=\"summary\" /&gt;\n&lt;meta name=\"twitter:site\" content=\"@nytimesbits\" /&gt;\n&lt;meta name=\"twitter:creator\" content=\"@nickbilton\" /&gt;\n&lt;meta\n  property=\"og:url\"\n  content=\"http://bits.blogs.nytimes.com/2011/12/08/a-twitter-for-my-sister/\"\n/&gt;\n&lt;meta property=\"og:title\" content=\"A Twitter for My Sister\" /&gt;\n&lt;meta\n  property=\"og:description\"\n  content=\"In the early days, Twitter grew so quickly that it was almost impossible to add new features because engineers spent their time trying to keep the rocket ship from stalling.\"\n/&gt;\n&lt;meta\n  property=\"og:image\"\n  content=\"http://graphics8.nytimes.com/images/2011/12/08/technology/bits-newtwitter/bits-newtwitter-tmagArticle.jpg\"\n/&gt;</code></pre>\n<h3>対応表</h3><table>\n<thead>\n<tr>\n<th>Twitter Cards</th>\n<th>OpenGraph</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>twitter:description</code></td>\n<td><code>og:description</code></td>\n</tr>\n<tr>\n<td><code>twitter:title</code></td>\n<td><code>og:title</code></td>\n</tr>\n<tr>\n<td><code>twitter:image</code></td>\n<td><code>og:image</code></td>\n</tr>\n</tbody></table>\n<h2>参考</h2><ul>\n<li><a href=\"https://dev.twitter.com/cards/getting-started#opengraph\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Getting Started Guide</a></li>\n<li><a href=\"https://dev.twitter.com/cards/markup.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Cards Markup Tag Reference</a></li>\n</ul>\n","excerpt":"概要 / 書き方 / 参考","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"SEO","slug":"SEO","path":"tags/SEO/"},{"name":"OGP","slug":"OGP","path":"tags/OGP/"}],"prev":{"title":"[modern.IE] 仮想環境のユーザーパスワードについてのメモ","path":"20170901131045.html"},"next":{"title":"Local by Flywheelが起動しない時の対処法\n","path":"20170814102444.html"}},{"title":"Local by Flywheelが起動しない時の対処法\n","path":"20170814102444.html","permalink":"https://b.0218.jp/20170814102444.html","date":"2017-08-14T10:24:44.000Z","updated":"2017-08-14T10:24:44.000Z","thumbnail":"","content":"<h2>状況</h2><ul>\n<li><p>version: 2.0.6</p>\n</li>\n<li><p>Local by Flywheel アプリを起動しても「”Starting Local Machine.”」のメッセージのまま画面が表示されない</p>\n</li>\n<li><p>Local by Flywheel アプリを開き直したり、プロセスを再起動しても変わらず</p>\n</li>\n<li><p>VirtualBox 内で VM は起動しているのを確認</p>\n</li>\n</ul>\n<h2>対処方法</h2><ol>\n <li>Local by Flywheelアプリを起動していたらアプリを終了する</li>\n <li>Terminal上で下記を順に実行\n<pre>\"/Applications/Local by Flywheel.app/Contents/Resources/extraResources/virtual-machine/vendor/docker/osx/docker-machine\" kill local-by-flywheel</pre>\n<pre>\"/Applications/Local by Flywheel.app/Contents/Resources/extraResources/virtual-machine/vendor/docker/osx/docker-machine\" restart local-by-flywheel</pre>\n<pre>\"/Applications/Local by Flywheel.app/Contents/Resources/extraResources/virtual-machine/vendor/docker/osx/docker-machine\" env local-by-flywheel</pre>\n</li>\n</ol>\n\n<h2>参考</h2><ul>\n<li><a href=\"http://local.getflywheel.com/community/t/cant-start-after-update/2238/2\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Can’t start after update - Support - Local by Flywheel</a></li>\n</ul>\n","excerpt":"状況 / 対処方法 / 参考","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"Local by Flywheel","slug":"Local-by-Flywheel","path":"tags/Local-by-Flywheel/"}],"prev":{"title":"[OGP] 重複したタグはTwitter Cardsで併記しなくても良い","path":"20170815140344.html"},"next":{"title":"[WordPress] プレビュー時のみテンプレートを切り替える方法","path":"20170730083952.html"}},{"title":"[WordPress] プレビュー時のみテンプレートを切り替える方法","path":"20170730083952.html","permalink":"https://b.0218.jp/20170730083952.html","date":"2017-07-30T08:39:52.000Z","updated":"2017-07-30T08:39:52.000Z","thumbnail":"","content":"<h2>概要</h2><p>諸事情でプレビュー時に情報を取得できない問題があった為、プレビュー時はテンプレートをそれ用にする必要がでてきた。</p>\n<h2>方法</h2><p>テンプレートを読み込む箇所で、下記のように分岐を行う。</p>\n<pre><code class=\"php\">&lt;?php\nif (is_preview()) {\n  // プレビュー時に使用するテンプレートを指定\n  get_template_part('partials/preview/content', 'single');\n} else {\n  // 通常時\n  get_template_part('partials/content', 'single');\n}</code></pre>\n<p>GET パラメータでチェックしようかと思ったが、<code>is_preview()</code>という関数が既に用意されていた為、それを利用した。</p>\n","excerpt":"概要 / 方法","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"Local by Flywheelが起動しない時の対処法\n","path":"20170814102444.html"},"next":{"title":"[macOS] iPhoneシミュレーターをインストールする方法","path":"20170729165445.html"}},{"title":"[macOS] iPhoneシミュレーターをインストールする方法","path":"20170729165445.html","permalink":"https://b.0218.jp/20170729165445.html","date":"2017-07-29T16:54:45.000Z","updated":"2020-11-03T23:38:45.000Z","thumbnail":"https://user-images.githubusercontent.com/3617124/97997291-27cbe400-1e2c-11eb-89a2-993b0ed387a5.png","content":"<h2>状況</h2><p>手元に iPhone などの iOS 端末がなく、iOS 特有のバグ確認ができなかった為、シミュレータで検証を行うことにした。</p>\n<h2>確認した環境</h2><ul>\n<li>macOS Sierra</li>\n<li>macOS Catalina</li>\n</ul>\n<h2>方法</h2><p>残念ながら Xcode のインストールをする必要がある。</p>\n<ol>\n<li>Xcode をインストール<br>初回起動をしていない場合は起動しておく<br>その時に<code>Installing components...</code>が走るが、それがないとシミュレーターが起動しない</li>\n<li>Xcode.app を右クリック<br>→ パッケージの内容を表示  <img width=\"384\" alt=\"Finder\" src=\"https://user-images.githubusercontent.com/3617124/97997291-27cbe400-1e2c-11eb-89a2-993b0ed387a5.png\"></li>\n<li>以下のパスにあるので実行する<br><code>/Applications/Xcode.app/Contents/Developer/Applications/Simulator.app</code>  </li>\n</ol>\n<p>エイリアスを作って、「アプリケーション」ディレクトリに入れておくと Lanchpad からもアクセスできて便利。</p>\n","excerpt":"状況 / 確認した環境 / 方法","categories":[{"name":"macOS","slug":"macOS","path":"categories/macOS/"}],"tags":[{"name":"Xcode","slug":"Xcode","path":"tags/Xcode/"},{"name":"macOS","slug":"macOS","path":"tags/macOS/"}],"prev":{"title":"[WordPress] プレビュー時のみテンプレートを切り替える方法","path":"20170730083952.html"},"next":{"title":"[Amazonビデオ] 視聴中にレンタル期間が終了するとどうなるのか","path":"20170719124526.html"}},{"title":"[Amazonビデオ] 視聴中にレンタル期間が終了するとどうなるのか","path":"20170719124526.html","permalink":"https://b.0218.jp/20170719124526.html","date":"2017-07-19T12:45:26.000Z","updated":"2017-07-19T12:45:26.000Z","thumbnail":"","content":"<h2>状況</h2><ul>\n<li>レンタル映画 HD(高画質) ¥199</li>\n<li>48 時間中、残り 30 分で視聴を開始</li>\n</ul>\n<p>「怪盗グルーのミニオン危機一発」を視聴中に検証</p>\n<h2>結果</h2><p>視聴時間内であればどこにシークしても観ることが可能である。</p>\n<p>単純に有効期限が切れた時間に映像の配信が止まる。停止すると再生やこれまで再生した箇所や未再生の箇所を含めてシーク移動は不可となる。</p>\n","excerpt":"状況 / 結果","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"調査","slug":"調査","path":"tags/%E8%AA%BF%E6%9F%BB/"},{"name":"Webサービス","slug":"Webサービス","path":"tags/Web%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9/"}],"prev":{"title":"[macOS] iPhoneシミュレーターをインストールする方法","path":"20170729165445.html"},"next":{"title":"[Windows10] スタートアップのフォルダを表示する方法","path":"20170713215749.html"}},{"title":"[Windows10] スタートアップのフォルダを表示する方法","path":"20170713215749.html","permalink":"https://b.0218.jp/20170713215749.html","date":"2017-07-13T21:57:49.000Z","updated":"2017-07-13T21:57:49.000Z","thumbnail":"","content":"<h2>状況</h2><ul>\n<li>Windows 10</li>\n</ul>\n<p>スタートアップへショートカットを配置する必要があった。</p>\n<h2>方法</h2><ol>\n<li>Windows ＋ R キーで「ファイル名を指定して実行」を開く<br>（もしくは、スタートボタン上で右クリックして「ファイル名を指定して実行」を開く）</li>\n<li>「ファイル名を指定して実行」のダイアログへ<code>shell:startup</code>を入力して「OK」</li>\n<li>スタートアップのフォルダが開く</li>\n<li>開いたフォルダにショートカットを配置する</li>\n</ol>\n<h3>ショートカットのフルパス</h3><pre><code>C:\\Users\\ユーザ名\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup</code></pre>\n","excerpt":"状況 / 方法","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows 10","slug":"Windows-10","path":"tags/Windows-10/"}],"prev":{"title":"[Amazonビデオ] 視聴中にレンタル期間が終了するとどうなるのか","path":"20170719124526.html"},"next":{"title":"[Movable Type] プライマリーカテゴリのみを表示する方法","path":"20170704233516.html"}},{"title":"[Movable Type] プライマリーカテゴリのみを表示する方法","path":"20170704233516.html","permalink":"https://b.0218.jp/20170704233516.html","date":"2017-07-04T23:35:16.000Z","updated":"2017-07-04T23:35:16.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>状況</h2><p>カテゴリが複数設定された記事でプライマーカテゴリのみを表示させたい</p>\n<h2>方法</h2><p><code>&lt;mt:entryprimarycategory&gt;</code> で囲うことでプライマーカテゴリのみを表示させる事ができる。</p>\n<pre><code>&lt;mt:if tag=\"EntryCategories\"&gt;\n  &lt;mt:entryprimarycategory&gt;\n    &lt;$mt:CategoryLabel$&gt;\n  &lt;/mt:entryprimarycategory&gt;\n&lt;/mt:if&gt;</code></pre>\n","excerpt":"状況 / 方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Movable Type","slug":"Movable-Type","path":"tags/Movable-Type/"}],"prev":{"title":"[Windows10] スタートアップのフォルダを表示する方法","path":"20170713215749.html"},"next":{"title":"[Firefox] imgの縦横サイズが保たれない場合の対処法","path":"20170607153858.html"}},{"title":"[Firefox] imgの縦横サイズが保たれない場合の対処法","path":"20170607153858.html","permalink":"https://b.0218.jp/20170607153858.html","date":"2017-06-07T15:38:58.000Z","updated":"2017-06-07T15:38:58.000Z","thumbnail":"","content":"<h2>状況</h2><p>画像の遅延読み込みの為、<code>src</code>に直接 URL を指定せずに data 属性に指定して、JavaScript で置き換える処理を行っていた。</p>\n<pre><code class=\"html\">&lt;img data-src=\"https://example.jp/super.png\" /&gt;</code></pre>\n<p>この img 要素には<code>height / width</code>が指定されているが、Firefox においては縦横サイズが保たれずに、JS による src 置き換え後の画像ロード後に縦横サイズが決まるような動きであった。<br>Chrome や Safari では問題なし。</p>\n<h2>対処法</h2><h3>そもそもの原因</h3><p>Firefox だと、img 要素に src が無い場合に「壊れた画像」として扱われ、縦横サイズを指定してもサイズが保たれないようである。（<code>alt</code>の内容だけを表示される）</p>\n<h3>コード</h3><p><code>src</code>にダミー画像をセットしておけば解決するが、下記のような CSS を指定する事でも解決する。</p>\n<pre><code class=\"css\">img {\n  -moz-force-broken-image-icon: 1;\n}</code></pre>\n<h2>参考</h2><p><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/-moz-force-broken-image-icon\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">-moz-force-broken-image-icon - CSS | MDN</a></p>\n","excerpt":"状況 / 対処法 / 参考","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"[Movable Type] プライマリーカテゴリのみを表示する方法","path":"20170704233516.html"},"next":{"title":"[macOS] スクリーンショットの出力場所を変更する","path":"20170527142153.html"}},{"title":"[macOS] スクリーンショットの出力場所を変更する","path":"20170527142153.html","permalink":"https://b.0218.jp/20170527142153.html","date":"2017-05-27T14:21:53.000Z","updated":"2017-05-27T14:21:53.000Z","thumbnail":"","content":"<h2>背景</h2><p>デスクトップに「スクリーンショット」が散在し始めて辛いので、出力先を変えてまとめたい。</p>\n<h2>方法</h2><h3>反映</h3><pre><code class=\"bash\">defaults write com.apple.screencapture location ~/Desktop/スクリーンショット</code></pre>\n<p>デスクトップに作成した「スクリーンショット」ディレクトリに出力をまとめたいので、<code>~/Desktop/スクリーンショット</code>とした。</p>\n<p>上記の後に、下記を実行して設定を反映する。</p>\n<pre><code class=\"bash\">killall SystemUIServer</code></pre>\n<h3>元に戻す</h3><pre><code class=\"bash\">defaults delete com.apple.screencapture location</code></pre>\n<p>上記を実行後、<code>killall SystemUIServer</code>で設定を反映すればデフォルトの設定に戻る。</p>\n","excerpt":"背景 / 方法","categories":[{"name":"macOS","slug":"macOS","path":"categories/macOS/"}],"tags":[{"name":"macOS","slug":"macOS","path":"tags/macOS/"}],"prev":{"title":"[Firefox] imgの縦横サイズが保たれない場合の対処法","path":"20170607153858.html"},"next":{"title":"[Slick.js] 実行完了後にautoplayなどのオプションを有効にする方法","path":"20170517164208.html"}},{"title":"[Slick.js] 実行完了後にautoplayなどのオプションを有効にする方法","path":"20170517164208.html","permalink":"https://b.0218.jp/20170517164208.html","date":"2017-05-17T16:42:08.000Z","updated":"2017-05-17T16:42:08.000Z","thumbnail":"","content":"<h2>状況</h2><p>slick の実行完了のタイミングで<code>autoplay</code>を有効にしたい。</p>\n<h3>環境</h3><ul>\n<li>Slick.js - Version: 1.6.0</li>\n</ul>\n<h3>slickSetOption を使う</h3><p>後付でオプションを設定する場合は、<code>slickSetOption</code>を実行すれば良い。</p>\n<pre><code class=\"javascript\">$(\".js-slick\").slick(\"slickSetOption\", \"autoplay\", true, true);</code></pre>\n<h2>問題</h2><p>タイミングとして、<code>init</code>のタイミングでオプションを指定したかった為、以下のような実装を行った。</p>\n<pre><code class=\"javascript\">$(\".js-slick\").on(\"init\", function (event, slick) {\n  $(this).slick(\"slickSetOption\", \"autoplay\", true, true);\n});</code></pre>\n<p>だが、このタイミングで<code>slickSetOption</code>を実行しても、<code>slickSetOption</code>が <code>undefined</code> となり処理できなかった。</p>\n<h2>解決</h2><blockquote>\n<p>anyone still dealing with this: I seemed to have some success with wrapping my API call in a setTimeout(method, 0). Bummer of a bug.<br><a href=\"https://github.com/kenwheeler/slick/issues/1802\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Calling a method right after the “init” event causes an error · Issue #1802 · kenwheeler/slick · GitHub</a></p>\n</blockquote>\n<p>参考に以下のような処理を行った。</p>\n<pre><code class=\"javascript\">$(\".js-slick\").on(\"init\", function (event, slick) {\n  var $self = $(this);\n  setTimeout(function () {\n    $self.slick(\"slickSetOption\", \"autoplay\", true, true);\n  }, 0);\n});</code></pre>\n","excerpt":"状況 / 問題 / 解決","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[macOS] スクリーンショットの出力場所を変更する","path":"20170527142153.html"},"next":{"title":"Google Chromeが起動しない時の対処方法\n","path":"20170509213912.html"}},{"title":"Google Chromeが起動しない時の対処方法\n","path":"20170509213912.html","permalink":"https://b.0218.jp/20170509213912.html","date":"2017-05-09T21:39:12.000Z","updated":"2017-05-09T21:39:12.000Z","thumbnail":"https://i.imgur.com/EtFmBdc.png","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>状況</h2><p><img src=\"https://i.imgur.com/EtFmBdc.png\" loading=\"lazy\"></p>\n<blockquote>\n<p><em>Google Chrome が予期しない理由で終了しました</em><br>アプリケーションを再度開く場合は、”再度開く”をクリックしてくだ<br>さい。詳細を確認して Apple にレポートを送信する場合は、”レポー<br>ト”をクリックしてください。</p>\n</blockquote>\n<p>Chrome をクリックすると上記のエラーが発生するようになった。</p>\n<p>「無視」「レポート…」「再度開く」のいずれを選択しても Chrome は起動しなかった。</p>\n<h3>環境</h3><ul>\n<li>macOS Sierra</li>\n</ul>\n<h3>試したが効果がなかった方法</h3><ul>\n<li>mac の再起動</li>\n<li>mac を終了して起動</li>\n<li>Google Chrome の再インストール</li>\n</ul>\n<h2>対処法</h2><p><code>~/Library/Application Support/Google/Chrome/</code>を削除した後に再インストールを行った結果、Chrome が起動するようになった。</p>\n<p>上記のディレクトリを削除する前に Chrome をアンインストールしてしまっていた為、上記のディレクトリ削除のみで起動可能かは不明。</p>\n","excerpt":"状況 / 対処法","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"},{"name":"Chrome","slug":"Chrome","path":"tags/Chrome/"}],"prev":{"title":"[Slick.js] 実行完了後にautoplayなどのオプションを有効にする方法","path":"20170517164208.html"},"next":{"title":"[名探偵コナン] 沖矢昴という人物について","path":"20170503032607.html"}},{"title":"[名探偵コナン] 沖矢昴という人物について","path":"20170503032607.html","permalink":"https://b.0218.jp/20170503032607.html","date":"2017-05-03T03:26:07.000Z","updated":"2017-05-03T03:26:07.000Z","thumbnail":"","content":"<h2>概要</h2><p>沖矢 昴 (おきや すばる) は、東都大学大学院工学部博士課程に在籍する眼鏡の 27 歳男性。シャーロキアンで、卓越した推理力を誇る細目の左利きである。</p>\n<p>その正体は、組織の『あの方』にも警戒されている「<ruby><rb>銀の弾丸</rb><rt>シルバーブレット</rt></ruby>」こと、FBI 捜査官の <strong>赤井秀一</strong> である。</p>\n<h2>登場時</h2><p>「赤白黄色と探偵団」事件で初登場。</p>\n<p>住んでいたアパートでは、管理人の息子から「赤い人」と呼ばれていたため、初登場にして正体がバレバレであった。(あだ名の理由は、毎朝水撒きをしている姿と消防車と引っ掛けて”赤い人”)</p>\n<p>その事件で住んでいたアパートが放火で焼けてしまい宿無しになってしまったため、哀れに思った<sup>[要出典]</sup>コナンの提案で「留守をしっかり守ること」を条件として、沖矢は工藤邸の自宅警備員に就職した。その後の事件で蘭たちや少年探偵団らとも親しくなる。</p>\n<p>ちなみに大学へ通っている描写は全くない。</p>\n<p class=\"text-muted\">工藤優作「妻の有希子に息子の新一、それに居候の沖矢昴です」</p>\n\n<h2>正体</h2><p>沖矢昴は、赤井秀一が身を隠すための変装であり、「沖矢昴」という人間は存在しない。<br>“顔”は有希子の特殊メイク、”声”は阿笠博士が開発したチョーカー型変声機で変えている。チョーカー型変声機の存在を隠すため、ファッションはハイネックやスカーフなど常に襟の詰まった服装を強いられている。変装用のカツラとフェイスマスク、襟の詰まった服装であるため、夏は地獄であることが想像に難くないが、工藤邸に一人で居る際も沖矢昴姿で酒を飲んでいる描写があるため、少なくとも苦ではないように見える。流石、シルバーブレットである。(夏にハイネック着ているので、灰原に「何なの あの人」と言われるぐらいには違和感がある)</p>\n<p>また、有希子には料理も教わっている。「料理は不得手」と言いながら、子どもたちに料理を作る約束をしたり、作りすぎたカレーやシチューを阿笠博士に半ば強引にお裾分けをすることもあるため、上達した料理の腕前を見せたいのだろう。クリームシチューの野菜が煮込みが全然足りていないと灰原からクレームを受けたこともある。</p>\n<p>正体を当初知っていたのは、潜伏を手引きしたコナン、彼から事情を聞かされて手助けをしている工藤夫妻と阿笠博士、そして赤井本人から事前に打ち明けられていた FBI のジェイムズ・ブラックの 5 人。また、後に FBI のジョディとキャメルも正体を知ることになる。<br>安室透は、組織を利用した独自の調査で感づいたものの、赤井とコナンによる替え玉作戦で有耶無耶にされた。</p>\n<h2>特徴</h2><p>毛利蘭の蹴りを食らって倒れたふりをして左手で受け止めたり、犯人の所持していたナイフをあっさり払い除けるなど身体能力が高いことを示す場面も見られる。あえて”蹴りを食らって倒れたふり”をしたりする事で身体能力の高さをより演出することに成功している。</p>\n<p>バーボンを飲んだり、正体は赤井秀一なのに、黒の組織のバーボンを連想させる描写が多く見られる。灰原哀には、黒の組織関連で疑われるような恐怖（プレッシャー）を無駄に与えている。</p>\n<h2>その他</h2><ul>\n<li><a href=\"https://b.0218.jp/20140607013751.html\">名探偵コナン 赤井秀一(沖矢昴)が死んでる間にやってたこと</a></li>\n</ul>\n<!--推理力、利き腕(左利き)、バーボン好き、口癖(「なるほど」「ホー」)、組織の人間を「狼」、コナンの事を「ボウヤ」と表現するなど、正体(赤井)がバレバレである。-->\n","excerpt":"概要 / 登場時 / 正体 / 特徴 / その他","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"},{"name":"沖矢昴","slug":"沖矢昴","path":"tags/%E6%B2%96%E7%9F%A2%E6%98%B4/"}],"prev":{"title":"Google Chromeが起動しない時の対処方法\n","path":"20170509213912.html"},"next":{"title":"[名探偵コナン] 江戸川コナンに対しての周囲からの呼称一覧","path":"20170430221334.html"}},{"title":"[名探偵コナン] 江戸川コナンに対しての周囲からの呼称一覧","path":"20170430221334.html","permalink":"https://b.0218.jp/20170430221334.html","date":"2017-04-30T22:13:34.000Z","updated":"2017-04-30T22:13:34.000Z","thumbnail":"","content":"<p>江戸川コナンとしての周囲からの呼称は基本的に「コナン君」であるが、多くの呼び方をされている様に思う。分かる範囲で調べてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>主要人物</h2><h3>工藤 新一</h3><ul>\n<li>コナン君</li>\n<li>眼鏡のボウズ</li>\n</ul>\n<h3>毛利 蘭</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>毛利 小五郎</h3><ul>\n<li>ボウズ</li>\n<li>眼鏡のボウズ</li>\n<li>小僧</li>\n<li>ガキ</li>\n<li>コナン<br>他者に家族紹介をする時に「”居候の”コナン」といった表現もある。</li>\n</ul>\n<h2>協力者</h2><h3>阿笠博士</h3><ul>\n<li>コナン君</li>\n</ul>\n<p>周囲が関係者のみの場合:</p>\n<ul>\n<li>新一君</li>\n<li>新一</li>\n</ul>\n<h3>灰原 哀</h3><ul>\n<li>江戸川君</li>\n</ul>\n<p>周囲が関係者のみの場合:</p>\n<ul>\n<li>工藤君</li>\n</ul>\n<h3>服部 平次</h3><ul>\n<li>工藤</li>\n<li>ボウズ</li>\n<li>コナン君</li>\n</ul>\n<h3>工藤 優作</h3><ul>\n<li>新一<br>(秘密を知る関係者以外と一緒に居ることがないため、「新一」呼び)</li>\n</ul>\n<h3>工藤 有希子</h3><ul>\n<li>コナンちゃん</li>\n<li>コナン君</li>\n</ul>\n<p>周囲が関係者のみの場合:</p>\n<ul>\n<li>新ちゃん</li>\n</ul>\n<p>間違えて「新…コナン君」と言ってしまった事もある。</p>\n<h3>沖矢 昴</h3><ul>\n<li>坊や</li>\n</ul>\n<h2>小学校</h2><h3>小嶋 元太</h3><ul>\n<li>コナン</li>\n</ul>\n<h3>円谷 光彦</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>吉田 歩美</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>小林 澄子</h3><ul>\n<li>コナン君</li>\n</ul>\n<h2>高校</h2><h3>鈴木園子</h3><ul>\n<li>（メガネの）ガキンチョ</li>\n<li>コナン君</li>\n</ul>\n<h3>新出 智明</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>本堂 瑛祐</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>世良 真純</h3><ul>\n<li>コナン君</li>\n</ul>\n<h2>警察</h2><h3>目暮 十三</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>白鳥 任三郎</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>佐藤 美和子</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>高木 渉</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>千葉 和伸</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>黒田 兵衛</h3><ul>\n<li>江戸川コナン君</li>\n<li>眠りの小五郎の知恵袋</li>\n<li>ボウズ</li>\n</ul>\n<hr>\n<h3>横溝 参悟</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>横溝 重悟</h3><ul>\n<li>小僧</li>\n</ul>\n<h3>山村 ミサオ</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>大和 敢助</h3><ul>\n<li>小僧</li>\n</ul>\n<h3>上原 由衣</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>諸伏 高明</h3><ul>\n<li>白眉の少年</li>\n<li>少年</li>\n</ul>\n<h2>公安</h2><h3>降谷 零 / 安室 透</h3><ul>\n<li>コナン君</li>\n</ul>\n<h2>FBI</h2><h3>赤井秀一</h3><ul>\n<li>坊や</li>\n</ul>\n<h3>ジェイムズ・ブラック (James Black)</h3><ul>\n<li>クールガイ</li>\n<li>コナン君</li>\n</ul>\n<h3>ジョディ・スターリング (Jodie Starling)</h3><ul>\n<li>クールキッド</li>\n<li>コナン君</li>\n</ul>\n<h3>アンドレ・キャメル (Andre Camel)</h3><ul>\n<li>コナン君</li>\n</ul>\n<!--\n## CIA\n### 本堂 瑛海 / 水無 怜奈\n-->\n\n<h2>黒の組織</h2><h3>ベルモット (Vermouth) / シャロン・ヴィンヤード (Sharon Vineyard)</h3><ul>\n<li>クールガイ</li>\n<li>シルバーブレット</li>\n<li>探偵ボウヤ</li>\n</ul>\n<h2>主要キャラクターの関係者</h2><h3>妃 英理</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>遠山 和葉</h3><ul>\n<li>コナン君</li>\n</ul>\n<h3>鈴木 次郎吉</h3><ul>\n<li>小童</li>\n</ul>\n<h2>その他</h2><h3>怪盗キッド / 黒羽 快斗</h3><ul>\n<li>名探偵</li>\n<li>探偵君</li>\n<li>ボウズ</li>\n</ul>\n","excerpt":"主要人物 / 協力者 / 小学校 / 高校 / 警察","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[名探偵コナン] 沖矢昴という人物について","path":"20170503032607.html"},"next":{"title":"[Movable Type] 記事のプレビューで作成される一時ファイルの出力先を変更する方法","path":"20170422174552.html"}},{"title":"[Movable Type] 記事のプレビューで作成される一時ファイルの出力先を変更する方法","path":"20170422174552.html","permalink":"https://b.0218.jp/20170422174552.html","date":"2017-04-22T17:45:52.000Z","updated":"2017-04-22T17:45:52.000Z","thumbnail":"","content":"<h2>概要</h2><p>アーカイブテンプレートとして設定されている記事のプレビューの出力先を動的に変更する<br>※ インデックステンプレートではない</p>\n<h2>設定方法</h2><p>記事のテンプレートのアーカイブパスを以下のように変更する。</p>\n<pre><code>&lt;mt:if name=\"request.__mode\" eq=\"preview_entry\"&gt;tmp/&lt;mt:else&gt;blog/&lt;/mt:if&gt;%y/%m/%-f</code></pre>\n<p><code>%y/%m/%-f</code>らへんは任意。要は、<code>&lt;mt:if&gt;</code>で出力するディレクトリを出し分けする。</p>\n<h3>出力結果</h3><p>前述の設定した場合、プレビュー時の一時ファイルは以下になり、</p>\n<pre><code>tmp/2017/04/mt-preview***.html</code></pre>\n<p>公開時は以下に保存される。</p>\n<pre><code>blog/2017/04/blog-title.html</code></pre>\n","excerpt":"概要 / 設定方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Movable Type","slug":"Movable-Type","path":"tags/Movable-Type/"}],"prev":{"title":"[名探偵コナン] 江戸川コナンに対しての周囲からの呼称一覧","path":"20170430221334.html"},"next":{"title":"ECサイトのfont-familyを調べた in 2017","path":"20170420164222.html"}},{"title":"ECサイトのfont-familyを調べた in 2017","path":"20170420164222.html","permalink":"https://b.0218.jp/20170420164222.html","date":"2017-04-20T16:42:22.000Z","updated":"2017-04-20T16:42:22.000Z","thumbnail":"","content":"<h2>概要</h2><p>EC サイトに触れる機会が多くなり、フォントの指定について気になり始めた。業種やターゲットによって、フォントの指定は変わってくるのだろうか。以下の”EC サイトランキング”を指標に各サイトの<code>font-family</code>を確認してみた。</p>\n<ul>\n<li><a href=\"https://netshop.impress.co.jp/node/3532\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">【最新】EC 売上ランキングまとめ 2016 年版~300 社の合計売上は約 3.2 兆円 | 通販新聞ダイジェスト | ネットショップ担当者フォーラム</a></li>\n<li><a href=\"https://netshop.impress.co.jp/node/3792\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ネット通販 TOP200 社で国内 EC 市場の約 42%を占める。合計 EC 売上高は約 3 兆円 | ネットショップ担当者フォーラム</a></li>\n<li>LINE ポイント - ショッピング</li>\n</ul>\n<p>サイトによって、<code>font-family</code>の指定が<code>html</code>だったり<code>body</code>だったりするが、有効になっているセレクタを記載する。</p>\n<h2>業種別</h2><p>カテゴライズできないサイトもあるが、大まかに業種別に分けている。</p>\n<h3>総合・日用品</h3><h4>ASKUL</h4><p><a href=\"http://www.askul.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">【ASKUL】オフィス用品／現場用品の通販 アスクル</a></p>\n<pre><code class=\"css\">font-family: Verdana, \"メイリオ\", Meiryo, \"Hiragino Kaku Gothic Pro\",\n  \"ヒラギノ角ゴ Pro W3\", \"ＭＳ Ｐゴシック\", sans-serif;</code></pre>\n<h4>ベルメゾンネット</h4><p><a href=\"http://www.bellemaison.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">(通販（通信販売）｜ベルメゾンネット</a></p>\n<pre><code class=\"css\">font-family: \"メイリオ\", Meiryo, Arial, \"ＭＳ Ｐゴシック\", sans-serif;</code></pre>\n<h4>LOHACO</h4><p><a href=\"https://lohaco.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">LOHACO by ASKUL - 個人向け通販【最短当日お届け】</a></p>\n<pre><code class=\"css\">font-family: \"Hiragino Kaku Gothic ProN\", \"Hiragino Kaku Gothic Pro\",\n  \"游ゴシック\", \"Yu Gothic\", YuGothic, \"メイリオ\", Meiryo, \"MS PGothic\",\n  sans-serif;</code></pre>\n<h3>衣料品</h3><h4>ZOZOTOWN</h4><p><a href=\"http://zozo.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ファッション通販 ZOZOTOWN</a></p>\n<pre><code class=\"css\">font-family: \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", \"メイリオ\",\n  \"Lucida Grande\", Verdana, \"ＭＳ Ｐゴシック\", sans-serif;</code></pre>\n<h4>ユニクロ</h4><p><a href=\"https://www.uniqlo.com/jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">UNIQLO ｜ユニクロ公式サイト</a></p>\n<pre><code class=\"css\">font: 13px \"ヒラギノ角ゴPro W3\", \"Hiragino Kaku Gothic Pro\", \"游ゴシック\", \"Yu Gothic\",\n  \"游ゴシック体\", \"YuGothic\", メイリオ, Meiryo, sans-serif;</code></pre>\n<h4>BEAMS</h4><p><a href=\"http://www.beams.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">BEAMS（ビームス）公式サイト</a></p>\n<pre><code class=\"css\">font-family: \"Hiragino Kaku Gothic Pro\", \"メイリオ\", \"ＭＳ Ｐゴシック\",\n  sans-serif;</code></pre>\n<h4>ユナイテッドアローズ</h4><p><a href=\"http://store.united-arrows.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ユナイテッドアローズ公式通販 -UNITED ARROWS LTD.-</a></p>\n<pre><code class=\"css\">font-family: Avenir, \"Helvetica Neue\", Verdana, Helvetica, Arial, Roboto,\n  YuGothic, \"Meiryo UI\", メイリオ, Meiryo, \"ヒラギノ角ゴ Pro W3\",\n  \"Hiragino Kaku Gothic Pro\", \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;</code></pre>\n<h4>マルイウェブチャネル</h4><p><a href=\"http://voi.0101.co.jp/voi/index.jsp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">マルイのネット通販 マルイウェブチャネル</a></p>\n<pre><code class=\"css\">font-family: “ＭＳ Ｐゴシック”, Osaka, sans-serif;</code></pre>\n<h4>ドットエスティ</h4><p><a href=\"http://www.dot-st.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">.st（ドットエスティ）| 18 ブランドの公式 WEB ストア</a></p>\n<pre><code class=\"css\">font-family: “ヒラギノ角ゴ Pro W3”, “Hiragino Kaku Gothic Pro”, “メイリオ”,\n  Meiryo, Osaka, “ＭＳ Ｐゴシック”, “MS PGothic”, sans-serif;</code></pre>\n<h4>セシール</h4><p><a href=\"http://www.cecile.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">カタログ通販のセシール(cecile)</a></p>\n<pre><code class=\"css\">font-family: “ＭＳ Ｐゴシック”, “MS PGothic”, ”メイリオ”, Meiryo,\n  “ヒラギノ角ゴ Pro W3”, “Hiragino Kaku Gothic Pro”, Osaka, sans-serif;</code></pre>\n<h4>ニッセン</h4><p><a href=\"http://www.nissen.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ニッセン</a></p>\n<pre><code class=\"css\">font-family: “メイリオ”, Meiryo, ”ヒラギノ角ゴ Pro W3”, ”Hiragino Kaku Gothic\n    Pro”, Osaka, ”ＭＳ Ｐゴシック”, ”MS PGothic”, sans-serif;</code></pre>\n<h4>fifth</h4><p><a href=\"http://5-fifth.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ファッション通販 fifth(フィフス)</a></p>\n<pre><code class=\"css\">font-family: ‘メイリオ’, Meiryo, ‘ＭＳ Ｐゴシック’, Osaka, ‘ヒラギノ角ゴ Pro W3’,\n  Sans-serif;</code></pre>\n<h4>GAP</h4><p><a href=\"http://www.gap.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">GAP Japan Official Online Store ｜公式ギャップ通販サイト | Gap</a></p>\n<pre><code class=\"css\">font-family: Helvetica, Arial, sans-serif;</code></pre>\n<h4>オンワード・クローゼット</h4><p><a href=\"https://crosset.onward.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ONWARD CROSSET</a></p>\n<pre><code class=\"css\">font-family: “Noto Sans Japanese”, “ヒラギノ角ゴ Pro W6”,\n  “Hiragino Kaku Gothic Pro”, “メイリオ”, Meiryo, “ＭＳ Ｐゴシック”, MS PGothic,\n  sans-serif;</code></pre>\n<h4>SHEL’TTER</h4><p><a href=\"http://www.ec-store.net/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">SHEL’TTER WEB STORE</a></p>\n<pre><code class=\"css\">font-family: “ＭＳ Ｐゴシック”, Osaka, “ヒラギノ角ゴ Pro W3”;</code></pre>\n<h4>GILT</h4><p><a href=\"https://www.gilt.jp/stores/women\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ギルト</a></p>\n<pre><code class=\"css\">font-family: “Helvetica Neue”, Helvetica, Arial, sans-serif;</code></pre>\n<h4>Zoff</h4><p><a href=\"http://www.zoff.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">メガネ通販の Zoff ゾフオンラインストア【眼鏡・めがねブランド】</a></p>\n<pre><code class=\"css\">font-family: Helvetica, “ヒラギノ角ゴ Pro W3”, “Hiragino Kaku Gothic Pro W3”,\n  “メイリオ”, Meiryo, sans-serif;</code></pre>\n<h4>フォーエバー 21</h4><p><a href=\"http://www.forever21.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">フォーエバー 21 オンラインショップ</a></p>\n<pre><code class=\"css\">font-family: “メイリオ”, Meiryo, “ヒラギノ角ゴ Pro W3”, “Hiragino Kaku Gothic\n    Pro”, Osaka, “ＭＳ Ｐゴシック”, “MS PGothic”, Arial, sans-serif;</code></pre>\n<h4>PLST</h4><p><a href=\"https://www.plst.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">PLST オンラインストア | プラステ公式ファッション通販サイト</a></p>\n<pre><code class=\"css\">font-family: AXIS Std R, “ヒラギノ角ゴ Pro W3”, “Hiragino Kaku Gothic Pro”, “メイリオ”,\n  Meiryo, Osaka, “ＭＳ Ｐゴシック”, “MS PGothic”, sans-serif;</code></pre>\n<h4>ELLE</h4><p><a href=\"http://elleshop.jp/web/contents/top/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">【ELLE SHOP】雑誌『エル(ELLE)』公式ファッション通販｜エル・ショップ</a></p>\n<pre><code class=\"css\">font-family: ‘ゴシックMB101’, ’游ゴシック’, “Yu Gothic”, YuGothic, ’ヒラギノ角ゴ\n    Pro W3’, ’Hiragino Kaku Gothic Pro’, ’メイリオ’, Meiryo, ’ＭＳ Ｐゴシック’,\n  sans-serif;</code></pre>\n<h4>ロコンド</h4><p><a href=\"https://www.locondo.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">靴とファッションの通販サイト ロコンド</a></p>\n<pre><code class=\"css\">font-family: Lato, “ヒラギノ角ゴ Pro W3”, “Hiragino Kaku Gothic Pro”, メイリオ,\n  Meiryo, “ＭＳ Ｐゴシック”, arial, helvetica, sans-serif, clean;</code></pre>\n<h4>COACH</h4><p><a href=\"http://japan.coach.com/top/CSfTop.jsp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">【COACH】コーチ公式オンラインストア</a></p>\n<pre><code class=\"css\">font-family: “Hiragino Kaku Gothic Pro”, “ヒラギノ角ゴ Pro”, Osaka, “メイリオ”,\n  Meiryo, “ＭＳ Ｐゴシック”, “MS PGothic”, ‘Lato’, Verdana, Arial, Helvetica,\n  sans-serif;</code></pre>\n<h4>ラコステ</h4><p><a href=\"http://www.lacoste.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ラコステ - 公式通販サイト - - LACOSTE（ラコステ) オンラインショップ</a></p>\n<pre><code class=\"css\">font-family: “LacosteSans”, ’ヒラギノ角ゴ Pro W3’, ’Hiragino Kaku Gothic Pro’,\n  ’メイリオ’, Helvetica, Arial, sans-serif;</code></pre>\n<h4>アメリカンイーグル</h4><p><a href=\"http://www.aeo.jp/top/CSfTop.jsp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">アメリカンイーグル オンラインストア | American Eagle Outfitters</a></p>\n<pre><code class=\"css\">font-family: “Gotham Book”, ”Helvetica Neue”, Helvetica, Arial,\n  ”Hiragino Kaku Gothic ProN”, ”Hiragino Kaku Gothic Pro”, ”Meiryo”, ”メイリオ”,\n  ”ＭＳ ゴシック”, sans-serif;</code></pre>\n<h4>クロックス</h4><p><a href=\"http://www.crocs.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">クロックス 公式オンラインショップ</a></p>\n<pre><code class=\"css\">font-family: Arial, sans-serif;</code></pre>\n<h3>化粧品</h3><h4>オルビス</h4><p><a href=\"https://www.orbis.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">オルビスのスキンケア・化粧品、ダイエット、美容サプリメント・健康食品、ボディウェア</a></p>\n<pre><code class=\"css\">font-family: \"Hiragino Kaku Gothic Pro\", Meiryo, \"MS PGothic\", sans-serif;</code></pre>\n<h3>家電量販</h3><h4>ヨドバシ.com</h4><p><a href=\"http://www.yodobashi.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ヨドバシ.com - ヨドバシカメラの公式通販サイト【全品無料配達】</a></p>\n<pre><code class=\"css\">font-family: \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", \"メイリオ\",\n  Meiryo, \"ＭＳ Ｐゴシック\", Osaka, sans-serif, arial, verdana, Helvetica,\n  Verdana, \"Droid Sans\", Arial;</code></pre>\n<h4>ビックカメラ</h4><p><a href=\"http://www.biccamera.com/bc/top/CSfTop.jsp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">ビックカメラ： 全品 日本全国 送料無料！</a></p>\n<pre><code class=\"css\">font-family: \"Lucida Grande\", \"Hiragino Kaku Gothic ProN\",\n  \"ヒラギノ角ゴ ProN W3\", Meiryo, メイリオ, sans-serif;</code></pre>\n<h3>食品</h3><h4>アイワイネット</h4><p><a href=\"https://www.iy-net.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">イトーヨーカドーのネットスーパー　アイワイネット</a></p>\n<pre><code class=\"css\">font-family: \"ヒラギノ角ゴ ProN W3\", \"Hiragino Kaku Gothic ProN\", \"メイリオ\",\n  Meiryo, \"ＭＳ Ｐゴシック\", sans-serif;</code></pre>\n<h3>健康食品</h3><h4>ファンケル</h4><p><a href=\"http://www.fancl.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">無添加化粧品、健康食品/サプリメントの通販 │ ファンケルオンライン</a></p>\n<pre><code class=\"css\">font-family: \"Hiragino Kaku Gothic Pro\", \"ヒラギノ角ゴ Pro W3\", \"メイリオ\",\n  \"Meiryo\", \"ＭＳ Ｐゴシック\", \"MS PGothic\", \"Arial \", sans-serif;</code></pre>\n<h3>書籍・DVD</h3><h4>Amazon</h4><p><a href=\"https://www.amazon.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Amazon | 本, ファッション, 家電から食品まで | アマゾン</a></p>\n<pre><code class=\"css\">font-family: \"Hiragino Kaku Gothic Pro W3\", \"Hiragino Kaku Gothic ProN\", Meiryo,\n  sans-serif;</code></pre>\n<h4>honto</h4><p><a href=\"https://honto.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">honto：書店、通販、電子書籍のハイブリッド総合書店【共通 honto ポイント貯まる】</a></p>\n<pre><code class=\"css\">font-family: \"ヒラギノ角ゴ ProN W3\", \"Hiragino Kaku Gothic ProN\", \"Meiryo UI\",\n  \"游ゴシック\", \"Yu Gothic\", \"メイリオ\", \"Meiryo\", \"游ゴシック体\", \"YuGothic\",\n  \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;</code></pre>\n<h3>その他</h3><h4>楽天市場</h4><p><a href=\"http://www.rakuten.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">【楽天市場】Shopping is Entertainment! ： インターネット最大級の通信販売、通販オンラインショッピングコミュニティ</a></p>\n<pre><code class=\"css\">font-family: \"Meiryo\", \"Hiragino Kaku Gothic ProN\", \"MS PGothic\", sans-serif;</code></pre>\n<h4>Yahoo!ショッピング</h4><p><a href=\"http://shopping.yahoo.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Yahoo!ショッピング - Ｔポイントが貯まる！使える！ネット通販</a></p>\n<pre><code class=\"css\">font-family: “Hiragino Kaku Gothic ProN”, Meiryo, sans-serif;</code></pre>\n<h4>伊勢丹</h4><p><a href=\"http://isetan.mistore.jp/onlinestore/index.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">伊勢丹オンラインストアトップ</a></p>\n<pre><code class=\"css\">font-family: “メイリオ”, ”ヒラギノ角ゴ Pro W3”, “HiraKakuProN-W3”, ”ＭＳ\n    Ｐゴシック”, Osaka, sans-serif;</code></pre>\n<h4>三越</h4><p><a href=\"http://mitsukoshi.mistore.jp/onlinestore/index.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">三越オンラインストアトップ</a></p>\n<pre><code class=\"css\">font-family: “メイリオ”, ”ヒラギノ角ゴ Pro W3”, “HiraKakuProN-W3”, ”ＭＳ\n    Ｐゴシック”, Osaka, sans-serif;</code></pre>\n<h4>ディノス</h4><p><a href=\"https://www.dinos.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">通販のディノス オンラインショップ</a></p>\n<pre><code class=\"css\">font-family: “ヒラギノ角ゴ Pro”, “Hiragino Kaku Gothic Pro”, “メイリオ”,\n  “Meiryo”, sans-serif;</code></pre>\n<h4>ショップジャパン</h4><p><a href=\"http://www.shopjapan.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">http://www.shopjapan.co.jp/</a></p>\n<pre><code class=\"css\">font-family: “ヒラギノ角ゴ Pro W3”, ”Hiragino Kaku Gothic Pro”, ”メイリオ”,\n  ”ＭＳ Ｐゴシック”, Arial, sans-serif;</code></pre>\n<h2>おわりに</h2><p>やはり、Windows ユーザー向けのサイトだと<code>メイリオ</code>や<code>MS ゴシック</code>が優先していされているし、Mac ユーザーもターゲットなサイトは<code>ヒラギノ</code>優先指定だったりしていた。</p>\n<p>同じ「ASKUL」でも、LOHACO と ASKUL でフォントの指定が違うのは面白かった。制作会社やデザイナーが違うのはあるかもしれないが、一般企業向けの ASKUL は Windows ユーザーが多そうなので<code>メイリオ</code>優先指定なのかもしれない。</p>\n<p>海外ブランドは<code>Arial, sans-serif</code>指定だけとか、日本企業は<code>MSゴシック, Osaka</code>指定だけ、とか特色がでて面白い。<br>海外ブランドは、GAP やクロックスがそうだったのだが、あくまで日本向けのサイト。本家のサイトを見てもフォント指定は同じだったので、単純に移植しただけかもしれない。</p>\n<p>調べた結果では、<code>明朝体</code>の指定がなかった。</p>\n<h3>違和感</h3><p><code>*</code>, <code>html</code>, <code>body</code>への<code>font-family</code>指定があった。<code>*</code>指定はやり過ぎだと思うが、すべての要素にフォントを指定したかったのだろう…。</p>\n<p>また、「プロポーショナルフォント」「等幅フォント」が混ざっている指定のサイトがあり、個人的には違和感がある。単一環境だけで見ればレイアウト上問題ないかもしれないが、他の環境と比べた時に明らかにレイアウトに差がでるだろう。<br>経験上、「フォント」は顧客やデザイナーが指定してくる事が主だ。極端な例だが、いくら希望だと言っても、EC サイトに「創英角ポップ体」や「Comic Sans」は指定しないだろう。デザイナーなら尚の事、適切なフォント選択を出来るような知識を身に着けていく必要がある。エンジニアとしても、デザイナーと密に連携を取って謎のフォント指定を未然に防止していかねばならないと思った。</p>\n<hr>\n<p>内容は別にしても各 EC サイトを今後また調べる時に”リンク集”としても役に立ちそう。</p>\n","excerpt":"概要 / 業種別 / おわりに","categories":[{"name":"調査","slug":"調査","path":"categories/%E8%AA%BF%E6%9F%BB/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[Movable Type] 記事のプレビューで作成される一時ファイルの出力先を変更する方法","path":"20170422174552.html"},"next":{"title":"[JavaScript] 空のGETパラメータを送信しない方法","path":"20170409220848.html"}},{"title":"[JavaScript] 空のGETパラメータを送信しない方法","path":"20170409220848.html","permalink":"https://b.0218.jp/20170409220848.html","date":"2017-04-09T22:08:48.000Z","updated":"2017-04-09T22:08:48.000Z","thumbnail":"","content":"<p><a href=\"https://b.0218.jp/20141007135727.html\">以前投稿した方法</a>は、jQuery に依存していたので、Vanilla で実装し直してみた。</p>\n<h2>方法</h2><h3>前提</h3><p>こんな感じのフォームがある。</p>\n<pre><code class=\"html\">&lt;form name=\"form1\"&gt;\n  &lt;input name=\"hoge1\" type=\"text\" /&gt;\n  &lt;input name=\"hoge2\" type=\"text\" /&gt;\n  &lt;input name=\"hoge3\" type=\"text\" /&gt;\n  &lt;input name=\"hoge4\" type=\"text\" /&gt;\n  &lt;input type=\"submit\" /&gt;\n&lt;/form&gt;</code></pre>\n<p>このフォームの<code>hoge1</code>だけ入力してサブミットするとパラメータが以下のようになる。</p>\n<pre><code>?hoge1=a&amp;hoge2=&amp;hoge3=&amp;hoge4=</code></pre>\n<p>未入力のパラメータは以下のように消したい。</p>\n<pre><code>?hoge1=a</code></pre>\n<h3>コード</h3><pre><code class=\"javascript\">document.forms.form1.addEventListener(\"submit\", clean_query);\n\nfunction clean_query(e) {\n  e.preventDefault();\n  this.removeEventListener(\"submit\", clean_query);\n  var query = serialize(this);\n  location.href =\n    this.action +\n    \"?\" +\n    (function () {\n      var arr = [];\n      [].forEach.call(query.split(\"&amp;\"), function (item) {\n        if (item.split(\"=\")[1]) {\n          arr.push(item);\n        }\n      });\n      return arr.join(\"&amp;\");\n    })();\n}\n\nfunction serialize(form) {\n  var s = [];\n  if (typeof form !== \"object\" &amp;&amp; form.nodeName.toUpperCase() !== \"FORM\") {\n    return s;\n  }\n\n  var length = form.elements.length;\n  for (var i = 0; i &lt; length; i++) {\n    var field = form.elements[i];\n    if (\n      field.name &amp;&amp;\n      !field.disabled &amp;&amp;\n      field.type != \"file\" &amp;&amp;\n      field.type != \"reset\" &amp;&amp;\n      field.type != \"submit\" &amp;&amp;\n      field.type != \"button\"\n    ) {\n      if (field.type == \"select-multiple\") {\n        var l = form.elements[i].options.length;\n        for (var j = 0; j &lt; l; j++) {\n          if (field.options[j].selected) {\n            s[s.length] =\n              encodeURIComponent(field.name) +\n              \"=\" +\n              encodeURIComponent(field.options[j].value);\n          }\n        }\n      } else if (\n        (field.type != \"checkbox\" &amp;&amp; field.type != \"radio\") ||\n        field.checked\n      ) {\n        s[s.length] =\n          encodeURIComponent(field.name) +\n          \"=\" +\n          encodeURIComponent(field.value);\n      }\n    }\n  }\n  return s.join(\"&amp;\").replace(/%20/g, \"+\");\n}</code></pre>\n","excerpt":"方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"ECサイトのfont-familyを調べた in 2017","path":"20170420164222.html"},"next":{"title":"文字化けしないように文字コードの違うページへフォームをPOST/GETする方法\n","path":"20170407124324.html"}},{"title":"文字化けしないように文字コードの違うページへフォームをPOST/GETする方法\n","path":"20170407124324.html","permalink":"https://b.0218.jp/20170407124324.html","date":"2017-04-07T12:43:24.000Z","updated":"2017-04-07T12:43:24.000Z","thumbnail":"","content":"<p><code>UTF-8</code>から<code>Shift_JIS</code>のページへ POST する場合の方法。（GET でも同じ方法で OK）</p>\n<p>POST 先の文字コードは、以下で<code>SHIT_JIS</code>となっている箇所を変えれば対応できる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><h3>IE 以外（Chrome / Firefox）</h3><pre><code class=\"html\">&lt;form name=\"form1\" method=\"POST\" accept-charset=\"Shift_JIS\"&gt;&lt;/form&gt;</code></pre>\n<p><code>accept-charset</code>を指定する。</p>\n<h3>IE 用</h3><p>IE は <code>accept-charset</code> が効かないので、以下のような JS が必要になる。</p>\n<pre><code class=\"javascript\">document.forms.form1.addEventListener(\"submit\", set_sjis_charset);\n\nfunction set_sjis_charset(e) {\n  var ua = window.navigator.userAgent.toLowerCase();\n  var isIE =\n    ua.indexOf(\"msie\") &gt; -1 ||\n    ua.indexOf(\"trident/7.0\") &gt; -1 ||\n    ua.indexOf(\"edge\") &gt; -1;\n  if (isIE) {\n    e.preventDefault();\n    this.removeEventListener(\"submit\", set_sjis_charset);\n    var tmp = document.charset;\n    document.charset = \"Shift_JIS\";\n    this.submit();\n    document.charset = tmp;\n  }\n}</code></pre>\n<p>キャラセットを変更するのは IE だけで良いので IE チェックをしている。</p>\n","excerpt":"方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"},{"name":"Internet Explorer","slug":"Internet-Explorer","path":"tags/Internet-Explorer/"}],"prev":{"title":"[JavaScript] 空のGETパラメータを送信しない方法","path":"20170409220848.html"},"next":{"title":"[IE] InPrivateでアドオンを有効にする方法","path":"20170406160540.html"}},{"title":"[IE] InPrivateでアドオンを有効にする方法","path":"20170406160540.html","permalink":"https://b.0218.jp/20170406160540.html","date":"2017-04-06T16:05:40.000Z","updated":"2017-04-06T16:05:40.000Z","thumbnail":"https://i.imgur.com/aqOAK8k.png","content":"<p>Internet Explorer の InPrivate でアドオンが有効になっていない場合は、以下の手順で有効にする必要がある。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>手順</h2><p>Internet Explorer 11 での手順は以下の通り。</p>\n<ol>\n<li>IE のメニューから [ツール] をクリック、 [インターネットオプション] を開く</li>\n<li>[プライバシー] タブをクリック</li>\n<li>[InPrivate] グループの「InPrivate ブラウズの開始時に、ツールバーと拡張機能を無効にする」のチェックを外し、[適用] ボタン、[OK] ボタンをクリック<br><img src=\"https://i.imgur.com/aqOAK8k.png\" loading=\"lazy\"></li>\n<li>Internet Explorer を再起動</li>\n</ol>\n","excerpt":"手順","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Internet Explorer","slug":"Internet-Explorer","path":"tags/Internet-Explorer/"}],"prev":{"title":"文字化けしないように文字コードの違うページへフォームをPOST/GETする方法\n","path":"20170407124324.html"},"next":{"title":"[macOS] スクリーンショットを撮るショートカット","path":"20170402153823.html"}},{"title":"[macOS] スクリーンショットを撮るショートカット","path":"20170402153823.html","permalink":"https://b.0218.jp/20170402153823.html","date":"2017-04-02T15:38:23.000Z","updated":"2017-04-02T15:38:23.000Z","thumbnail":"","content":"<h2>各シチュエーションでのスクリーンショット方法</h2><p>※ ショートカットキーに<code>control</code>を足すことで、デスクトップへの出力ではなくクリップボードへのコピーに変わる</p>\n<h3>画面全体のスクリーンショットを撮る方法</h3><ol>\n<li>「shift + command (⌘) + 3」キーを押す</li>\n<li>スクリーンショットがデスクトップに作成される</li>\n</ol>\n<h3>画面の選択した部分のスクリーンショットを撮る方法</h3><ol>\n<li>「shift + command + 4」キーを押す（カーソルが十字に変わる）</li>\n<li>スクリーンショットを撮りたい範囲をドラッグして選択する</li>\n<li>スクリーンショットがデスクトップに作成される</li>\n</ol>\n<h3>ウインドウのスクリーンショットを撮る方法</h3><ol>\n<li>「shift + command + 4」キーを押す（カーソルが十字に変わる）</li>\n<li>スペースキーを押す（カーソルがカメラに変わる）</li>\n<li>カメラになったカーソルをスクリーンショットを撮りたいウインドウに移動して、そのウインドウをハイライトします。</li>\n</ol>\n<p class=\"text-info\">※ この方法で、大半のウインドウは撮影できる</p>\n\n<h2>参考</h2><ul>\n<li><a href=\"https://support.apple.com/ja-jp/HT201361\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Mac でスクリーンショットを撮る方法 - Apple サポート</a></li>\n</ul>\n","excerpt":"各シチュエーションでのスクリーンショット方法 / 参考","categories":[{"name":"macOS","slug":"macOS","path":"categories/macOS/"}],"tags":[{"name":"macOS","slug":"macOS","path":"tags/macOS/"}],"prev":{"title":"[IE] InPrivateでアドオンを有効にする方法","path":"20170406160540.html"},"next":{"title":"[macOS] 復帰時にログインパスワードが入力できない場合の対処法","path":"20170331122838.html"}},{"title":"[macOS] 復帰時にログインパスワードが入力できない場合の対処法","path":"20170331122838.html","permalink":"https://b.0218.jp/20170331122838.html","date":"2017-03-31T12:28:38.000Z","updated":"2017-04-02T15:03:37.000Z","thumbnail":"https://i.imgur.com/QsCG7so.png","content":"<h2>状況</h2><ul>\n<li>スリープ復帰後にログインパスワードが入力できない<ul>\n<li>→ キーボードからの文字入力を受け付けない</li>\n<li>→ ただしファンクションキーや caps キーは効く</li>\n</ul>\n</li>\n</ul>\n<h2>対処法</h2><p>再起動したら治るのだが、再起動後にスリープすると再現するので意味がなかった。</p>\n<p>解決方法としては、<strong>ログイン画面の右上にある入力ソースを変更する</strong>事で文字入力する事ができるようになった。</p>\n<p><img src=\"https://i.imgur.com/QsCG7so.png\" loading=\"lazy\"><br>「U.S」を、「英字」もしくは「ABC」に変更して入力できるようにした。</p>\n","excerpt":"状況 / 対処法","categories":[{"name":"macOS","slug":"macOS","path":"categories/macOS/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"},{"name":"macOS","slug":"macOS","path":"tags/macOS/"}],"prev":{"title":"[macOS] スクリーンショットを撮るショートカット","path":"20170402153823.html"},"next":{"title":"[名探偵コナン] 青山剛昌先生と話そうDAY!!に参加する方法","path":"20170326235153.html"}},{"title":"[名探偵コナン] 青山剛昌先生と話そうDAY!!に参加する方法","path":"20170326235153.html","permalink":"https://b.0218.jp/20170326235153.html","date":"2017-03-26T23:51:53.000Z","updated":"2017-03-26T23:51:53.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><p>まず、<strong>入場整理券</strong>を手に入れる。</p>\n<p>整理券を入手するには、以下の方法がある。</p>\n<ul>\n<li>往復ハガキで申し込む</li>\n<li>青山剛昌ふるさと館で事前に配布されてる分をもらう</li>\n<li>当日配布される券をもらう</li>\n</ul>\n<p>ハガキの申込期間、ふるさと館での配布期間は、<a href=\"http://www.gamf.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">青山剛昌ふるさと館</a>に載っている。</p>\n<h3>関連</h3><ul>\n<li><a href=\"http://www.gamf.jp/2050.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">青山剛昌先生と話そう DAY ～ 2016 ～　名探偵コナンに会えるまち　鳥取県北栄町　青山剛昌ふるさと館　オフィシャルサイト</a></li>\n</ul>\n<hr>\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">青山剛昌ふるさと館は2007年3月18日にオープンしました！今日でぴったり開館10周年！末永く当館をよろしくお願い致します。画像は青山先生に頂いたお祝いイラストです♪(*^^)　<a href=\"https://twitter.com/hashtag/%E9%9D%92%E5%B1%B1%E5%89%9B%E6%98%8C%E3%81%B5%E3%82%8B%E3%81%95%E3%81%A8%E9%A4%A8%E9%96%8B%E9%A4%A810%E5%91%A8%E5%B9%B4?src=hash\">#青山剛昌ふるさと館開館10周年</a> <a href=\"https://t.co/i8F9nmec5P\">pic.twitter.com/i8F9nmec5P</a></p>— 青山剛昌ふるさと館 (@gamf_staff) <a href=\"https://twitter.com/gamf_staff/status/842908596081852417\">2017年3月18日</a></blockquote>\n<script async=\"\" src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n","excerpt":"方法","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[macOS] 復帰時にログインパスワードが入力できない場合の対処法","path":"20170331122838.html"},"next":{"title":"[Sass] Vertical Rhythm と Modular Scale を使ってタイポグラフィを考え直した","path":"20170326001009.html"}},{"title":"[Sass] Vertical Rhythm と Modular Scale を使ってタイポグラフィを考え直した","path":"20170326001009.html","permalink":"https://b.0218.jp/20170326001009.html","date":"2017-03-26T00:10:09.000Z","updated":"2017-03-26T00:28:06.000Z","thumbnail":"https://i.imgur.com/LbErA6bh.png","content":"<p><img src=\"https://i.imgur.com/LbErA6bh.png\" loading=\"lazy\"></p>\n<h2>概要</h2><p>これまで目測で文字サイズや余白を決めていたが、<strong>Vertical Rhythm</strong> と <strong>Modular Scale</strong> を使って、それなりにいい感じでタイポグラフィを調整する。<br>色々と試してみた結果だが、完璧なもの・それに近いものを今の環境で作るのは無理だと思う。フォントの問題もあるが、特に日本語のデザインだとデザインの調和が難しい。今回は、<strong>それなり</strong>のタイポグラフィを目指す。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>Vertical Rhythm とは</h2><p><a href=\"http://postd.cc/why-vertical-rhythms/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">なぜタイポグラフィにおいて Vertical Rhythm（バーティカルリズム）は重要な手法なのか？ | デザイン | POSTD</a>に記載があった。（以下、引用）</p>\n<blockquote>\n<p>Vertical Rhythm は印刷のタイポグラフィに起源を持つ概念です（多分）。Vertical Rhythm とは、ページの要素間の縦のスペースを揃えるようにすることを言います。</p>\n<p>ベースラインは本文のプロパティ line-height によって決定されます。例えば本文の line-height の値が 24px だとすると、ベースラインは 24px となります。</p>\n</blockquote>\n<blockquote>\n<ol>\n<li>要素間の縦の空白を 24px の倍数にセットする。</li>\n<li>全てのテキスト要素の line-height を 24px の倍数にセットする。</li>\n</ol>\n</blockquote>\n<blockquote><pre class=\"css\"><code>\n   h1 {\n     line-height: 48px;\n     margin: 24px 0;\n   }\n\n</code><p><code>   p {<br>     line-height: 24px;<br>     margin: 24px 0;<br>   }<br></code></p></pre></blockquote><p></p>\n<h3>要は</h3><ul>\n<li><code>line-height</code> と <code>margin</code> のサイズを統一した値で設定していく事でスタイルのバランスを整える<ul>\n<li>それに合わせて <code>font-size</code> も変えていく</li>\n</ul>\n</li>\n</ul>\n<p>（だと解釈している）</p>\n<h3>Vertical Rhythm を決めるためには…</h3><p>ブラウザのベースフォントサイズは、 16px なので<code>line-height</code>は 32px になるように設定した。（実際には<code>font-size</code>が 1rem なので、<code>line-height</code>には 2rem を設定）</p>\n<p>ちなみに、<a href=\"https://www.gridlover.net/try\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Gridlover</a>というアプリでだいたいのイメージを付けられるように思う。ただ、ビルドシステムが構築された環境でこれをそのまま使うのは格好良くないので、Modular Scale を使っていい感じにしたい。</p>\n<h2>Modular Scale とは</h2><p>私は Sass を含んだプロジェクトには Bourbon を使用している為、 Bourbon の Modular Scale をそのまま使用した。<br><a href=\"https://github.com/modularscale/modularscale-sass\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">GitHub - modularscale/modularscale-sass: Modular scale calculator built into your Sass</a> を見ると、Compass や Bower などインストール方法が色々とあるみたい。</p>\n<h3>設定値</h3><p>Bourbon の Modular Scale は、デフォルト値は以下のようになっている。</p>\n<pre><code class=\"scss\">$modular-scale-base: 1em;\n$modular-scale-ratio: $golden;</code></pre>\n<p>また、スケール率には、以下の定数が定義されているので、その中から変数を使用すると良い。 <a href=\"https://github.com/thoughtbot/bourbon/blob/7a5531088e1649e2b5fb225d749f899b62a78107/core/bourbon/helpers/_scales.scss\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">bourbon/helpers/_scales.scss</a></p>\n<pre><code class=\"scss\">$minor-second: 1.067;\n$major-second: 1.125;\n$minor-third: 1.2;\n$major-third: 1.25;\n$perfect-fourth: 1.333;\n$augmented-fourth: 1.414;\n$perfect-fifth: 1.5;\n$minor-sixth: 1.6;\n$golden: 1.618;\n$major-sixth: 1.667;\n$minor-seventh: 1.778;\n$major-seventh: 1.875;\n$octave: 2;\n$major-tenth: 2.5;\n$major-eleventh: 2.667;\n$major-twelfth: 3;\n$double-octave: 4;</code></pre>\n<hr>\n<p>私は、各設定値を以下のように変更した。</p>\n<pre><code class=\"scss\">$modular-scale-base: 1rem;\n$modular-scale-ratio: $augmented-fourth;</code></pre>\n<p><code>scale-ratio</code> には、”黄金比”が設定されていた物を”白銀比”に変更した。白銀比に変更したのは、黄金比よりも白銀比が日本で古くから美しい比として馴染みのある比率という理由が主だ（Wikipedia より）。</p>\n<h3>modular-scale 関数</h3><p>基本的には、<code>modular-scale(1)</code>、<code>modular-scale(2)</code>のように第 1 引数に数値を入れて使用する。<br>デフォルト以外の比率を使用したい場合は、第 2・3 引数を <code>modular-scale(1, 2rem, $major-third)</code> のように指定して使用する。</p>\n<p>スケールの値を<code>modular-scale(0)</code>、<code>modular-scale(1)</code>、<code>modular-scale(2)</code>…という単純な指定だけで綺麗に指定ができれば良いのだが、サイズが大きすぎる場合がある。</p>\n<div class=\"sandbox\" style=\"overflow:scroll\">\n  <p style=\"font-size:2rem;margin-top:.5rem;white-space:nowrap;\">scale(2): The quick brown fox jumps over the lazy dog</p>\n  <p style=\"font-size:2.8125rem;white-space:nowrap;\">scale(3): The quick brown fox jumps over the lazy dog</p>\n  <p style=\"font-size:4rem;margin-bottom:.5rem;white-space:nowrap;\">scale(4): The quick brown fox jumps over the lazy dog</p>\n</div>\n\n<pre><code class=\"scss\">modular-scale(0) -&gt; 1rem\nmodular-scale(1) -&gt; 1.4375rem\nmodular-scale(2) -&gt; 2rem\nmodular-scale(3) -&gt; 2.8125rem\nmodular-scale(4) -&gt; 4rem\nmodular-scale(5) -&gt; 5.625rem</code></pre>\n<p>そういう場合は以下のように、第 2 引数のベースサイズを変えて調整する事も可能。</p>\n<pre><code class=\"scss\">modular-scale(2);\nmodular-scale(1, 1.2rem);\nmodular-scale(1, 1.1rem);\nmodular-scale(1);\nmodular-scale(0);\nmodular-scale(-1);</code></pre>\n<p><code>&lt;h1&gt;</code>、<code>&lt;h2&gt;</code>、<code>&lt;h3&gt;</code>に順番に指定していくと、バランスが悪くなる場合があるので、そういう場合は上記のように指定する。</p>\n<h2>まとめ</h2><p><code>modular-scale</code> を使ってサイズや余白などを指定しても、ブログのように記事内容によって（画像があったり）は、Vertical Rhythm がズレる事は必至なので、ある程度の体裁を整える基準とするのが良いかもしれない。（ボーダーや画像のサイズは諦める）</p>\n<p>完璧なものを作るのは難しい。（日本語の文字やフォントの問題も大いに影響があると思う）<br>ただ、何の根拠もない値でサイズを決めてしまうよりは、こういう理屈に則った形で実装していくことで全体的な調和や保守性も高める事ができるかもしれない。</p>\n<hr>\n<h2>その他</h2><p>タイポグラフィとは関係ないが、今回の見直しで合わせて見直しをしてみたものについて記載する。</p>\n<h3>font-smoothing プロパティ</h3><p><code>font-smoothing</code>は、フォントのアンチエイリアスを調整する CSS のプロパティである。独自実装であり、macOS の Chrome(webkit)/Firefox のみで使用できる。</p>\n<ul>\n<li><code>-webkit-font-smoothing</code></li>\n<li><code>-moz-osx-font-smoothing</code></li>\n</ul>\n<hr>\n<p>使う場合は以下のような感じ。</p>\n<div class=\"sandbox\" style=\"color: #666;\">\n  <div style=\"-webkit-font-smoothing: subpixel-antialiased; -moz-osx-font-smoothing: auto;\">\n    <p><b>subpixel-antialiased/auto: (default)</b></p>\n    <p>The quick brown fox jumps over the lazy dog</p>\n    <p>すばしっこい茶色の狐はのろまな犬を飛び越える</p>\n  </div>\n  <hr>\n  <div style=\"-webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;\">\n    <p><b>antialiased/grayscale:</b></p>\n    <p>The quick brown fox jumps over the lazy dog</p>\n    <p>すばしっこい茶色の狐はのろまな犬を飛び越える</p>\n  </div>\n</div>\n\n<pre><code class=\"css\">body {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}</code></pre>\n<p><code>-webkit</code>と<code>-moz-osx</code>は、それぞれプロパティの設定値(名)が違うのだが、上記の設定で同じような設定になる。<code>antialiased / grayscale</code>適応後の見た目としては、フォントが細くなるイメージなので、全体的なスタイルを見て適応すべき。（ちなみにデフォルトは、それぞれ<code>subpixel-antialiased / auto</code>）</p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/font-smooth\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">font-smooth - CSS | MDN</a></li>\n<li><a href=\"http://caniuse.com/#feat=font-smooth\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">CSS font-smooth - Can I Use</a></li>\n</ul>\n<h2>参考</h2><ul>\n<li><a href=\"https://whiskers.nukos.kitchen/2015/05/10/modular-scale-mixin.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Sass Design Modular Scale を使ったフォントサイズの指定 | UI/UX Design、フロントエンド系の技術に関する備忘録 | whiskers</a></li>\n<li><a href=\"https://rythgs.co/archives/2015/10/17/vertical-rhythm/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Vertical Rhythm と Modular Scale | rythgs.co</a></li>\n<li><a href=\"http://qiita.com/htomine/items/3086f30ca09adea2f8e0\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">font-smoothing で OS X でのフォントのレンダリング方法を調整する - Qiita</a></li>\n<li><a href=\"https://www.gridlover.net/try\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Gridlover</a></li>\n</ul>\n","excerpt":"概要 / Vertical Rhythm とは / Modular Scale とは / まとめ / その他","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[名探偵コナン] 青山剛昌先生と話そうDAY!!に参加する方法","path":"20170326235153.html"},"next":{"title":"[Wine] macOSでWinMergeを動かす方法","path":"20170321224857.html"}},{"title":"[Wine] macOSでWinMergeを動かす方法","path":"20170321224857.html","permalink":"https://b.0218.jp/20170321224857.html","date":"2017-03-21T22:48:57.000Z","updated":"2017-03-21T22:48:57.000Z","thumbnail":"https://i.imgur.com/mth29Km.png","content":"<h2>概要</h2><p>macOS で Wine を使って、Windows アプリケーションの WinMerge を起動させる。</p>\n<h3>環境</h3><ul>\n<li>macOS Sierra 10.12.3</li>\n</ul>\n<h2>Wine とは</h2><blockquote>\n<p>Wine （ワイン）は、オープンソースの Windows API 実装を通じて、主として x86 アーキテクチャ上の Unix 系オペレーティングシステム (OS) において Windows 用アプリケーションをネイティブ動作させることを目標とするプログラム群である。<br><a href=\"https://ja.wikipedia.org/wiki/Wine\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Wine - Wikipedia</a></p>\n</blockquote>\n<h2>Wine をインストールする</h2><pre><code class=\"bash\">brew install wine</code></pre>\n<p>上記のコマンドで Wine をインストールする。</p>\n<pre><code class=\"bash\">==&gt; Downloading https://homebrew.bintray.com/bottles/wine-2.0.sierra.bottle.1.ta\n######################################################################## 100.0%\n==&gt; Pouring wine-2.0.sierra.bottle.1.tar.gz\n==&gt; Using the sandbox\n==&gt; Regenerating font cache, this may take a while\n==&gt; /usr/local/Cellar/wine/2.0/libexec/bin/fc-cache -frv\n==&gt; Caveats\nYou may want to get winetricks:\n  brew install winetricks\n\nBy default Wine uses a native Mac driver. To switch to the X11 driver, use\nregedit to set the \"graphics\" key under \"HKCUSoftwareWineDrivers\" to\n\"x11\" (or use winetricks).\n\nFor best results with X11, install the latest version of XQuartz:\n  https://xquartz.macosforge.org/\n==&gt; Summary\n?  /usr/local/Cellar/wine/2.0: 8,227 files, 580.1MB\n~$ wine --version\nwine-2.0</code></pre>\n<p>これで Wine が使える状態になった。</p>\n<h2>WinMerge を実行する</h2><h3>WinMerge をダウンロードする</h3><p><a href=\"http://www.geocities.co.jp/SiliconValley-SanJose/8165/winmerge.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">WinMerge 日本語版</a> から zip 版をダウンロードする。</p>\n<h2>Wine で起動する</h2><pre><code class=\"bash\">wine WinMergeU.exe</code></pre>\n<p>これで macOS 上で Windows アプリケーションの WinMerge が実行する事ができる。</p>\n<p><img src=\"https://i.imgur.com/mth29Km.png\" alt=\"macOSで起動したWinMerge\" loading=\"lazy\"></p>\n<p>マシンのスペックにもよると思うが、思ったよりももたつきなどは無く、ドラッグアンドドロップでファイルを開いたり、遜色なく使う事ができた。</p>\n<h2>日本語フォントが文字化けする場合（□ 豆腐になる）</h2><h3>winetricks を使う</h3><p>winetricks をインストールする。</p>\n<pre><code class=\"bash\">brew install winetricks</code></pre>\n<p>winetricks コマンドでフォントを入れる。</p>\n<pre><code class=\"bash\">winetricks allfonts</code></pre>\n","excerpt":"概要 / Wine とは / Wine をインストールする / WinMerge を実行する / Wine で起動する","categories":[{"name":"macOS","slug":"macOS","path":"categories/macOS/"}],"tags":[{"name":"macOS","slug":"macOS","path":"tags/macOS/"}],"prev":{"title":"[Sass] Vertical Rhythm と Modular Scale を使ってタイポグラフィを考え直した","path":"20170326001009.html"},"next":{"title":"[Genymotion] Android内のhostsを修正する方法","path":"20170320022803.html"}},{"title":"[Genymotion] Android内のhostsを修正する方法","path":"20170320022803.html","permalink":"https://b.0218.jp/20170320022803.html","date":"2017-03-20T02:28:03.000Z","updated":"2017-03-20T02:28:03.000Z","thumbnail":"","content":"<h2>環境</h2><ul>\n<li>macOS Sierra 10.12.3</li>\n</ul>\n<h2>方法</h2><pre><code>adb root\nadb remount\nadb push /etc/hosts /system/etc</code></pre>\n<h3>参考</h3><ul>\n<li><a href=\"qiita.com/deconcepter/items/c54c50f9287b730b58db\">Genymotion に Mac 側の hosts の設定を反映させる方法</a></li>\n</ul>\n<h2>adb が実行できない場合</h2><p>→ 「Android SDK がマシンに入っていない」ため。</p>\n<h3>SDK をインストールする</h3><p><a href=\"https://developer.android.com/studio/index.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Android Studio</a>から Android SDK もしくは Android Studio をダウンロードする事ができる。インストーラに従ってインストールを行う。</p>\n<h3>adb をコマンドラインで実行できるようにする</h3><p>SDK がインストールされているだけでは、コマンドライン上で<code>adb</code>を実行する事ができない。</p>\n<p>以下のように、<code>.bash_profile</code>に adb のパスを追加する。</p>\n<pre><code>export PATH=$PATH:/Users/ユーザ名/Library/Android/sdk/platform-tools</code></pre>\n<p>ターミナルを再起動するか<code>source ~/.bash_profile</code>を実行して反映を確認する。</p>\n","excerpt":"環境 / 方法 / adb が実行できない場合","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Android","slug":"Android","path":"tags/Android/"}],"prev":{"title":"[Wine] macOSでWinMergeを動かす方法","path":"20170321224857.html"},"next":{"title":"[Electron] 試験運用版のウェブプラットフォームの機能を有効にする方法","path":"20170316221713.html"}},{"title":"[Electron] 試験運用版のウェブプラットフォームの機能を有効にする方法","path":"20170316221713.html","permalink":"https://b.0218.jp/20170316221713.html","date":"2017-03-16T22:17:13.000Z","updated":"2017-03-16T22:17:13.000Z","thumbnail":"","content":"<h2>概要</h2><ul>\n<li>Electron で<code>backdrop-filter</code> を使いたい<ul>\n<li>通常の Chrome で使用する場合は<code>chrome://flags</code>で有効にする必要があるが、Electron では…？</li>\n</ul>\n</li>\n</ul>\n<h3>backdrop-filter とは</h3><p><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/backdrop-filter\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">backdrop-filter - CSS | MDN - Mozilla Developer Network</a></p>\n<pre><code class=\"css\">backdrop-filter: &lt;filter-function&gt; [&lt;filter-function&gt;] * | none;</code></pre>\n<h2>有効にする方法</h2><h3>Google Chrome の場合</h3><p>Chrome で有効にする場合は、 <code>chrome://flags/#enable-experimental-web-platform-features</code> にアクセスして有効化すれば良い。</p>\n<blockquote>\n<p>試験運用版のウェブ プラットフォームの機能 Mac, Windows, Linux, Chrome OS, Android<br>開発中の試験運用版ウェブ プラットフォームの機能を有効にします。 #enable-experimental-web-platform-features</p>\n</blockquote>\n<h3>Electron の場合</h3><p>Electron の場合、<code>chrome://flags</code>を設定する画面はない。</p>\n<p>有効化するためには<code>BrowserWindow</code>インスタンスを作成する際に、以下のように<code>webPreferences{ experimentalFeatures: true }</code>を追加し、開発中の試験運用版プラットフォームを有効化することで使用する事が可能になる。</p>\n<pre><code class=\"javascript\">mainWindow = new BrowserWindow({\n  webPreferences: {\n    experimentalFeatures: true,\n  },\n});</code></pre>\n","excerpt":"概要 / 有効にする方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Electron","slug":"Electron","path":"tags/Electron/"}],"prev":{"title":"[Genymotion] Android内のhostsを修正する方法","path":"20170320022803.html"},"next":{"title":"[jQuery] アコーディオンメニューを実装する方法","path":"20170312192502.html"}},{"title":"[jQuery] アコーディオンメニューを実装する方法","path":"20170312192502.html","permalink":"https://b.0218.jp/20170312192502.html","date":"2017-03-12T19:25:02.000Z","updated":"2017-03-12T19:26:28.000Z","thumbnail":"","content":"<p>久々にアコーディオンメニューを実装する機会があったのでメモ。</p>\n<h2>実装</h2><h3>HTML</h3><pre><code class=\"html\">&lt;div class=\"accordion-container\"&gt;\n  &lt;dt class=\"title\"&gt;タイトル1&lt;/dt&gt;\n  &lt;dd class=\"contents\"&gt;コンテンツ1&lt;/dd&gt;\n  &lt;dt class=\"title\"&gt;タイトル2&lt;/dt&gt;\n  &lt;dd class=\"contents\"&gt;コンテンツ2&lt;/dd&gt;\n  &lt;dt class=\"title\"&gt;タイトル3&lt;/dt&gt;\n  &lt;dd class=\"contents\"&gt;コンテンツ3&lt;/dd&gt;\n  &lt;dt class=\"title\"&gt;タイトル4&lt;/dt&gt;\n  &lt;dd class=\"contents\"&gt;コンテンツ4&lt;/dd&gt;\n&lt;/div&gt;</code></pre>\n<p>定義リスト（<code>&lt;dl&gt;</code>,<code>&lt;dt&gt;</code>,<code>&lt;dd&gt;</code>）で実装を行う。</p>\n<h3>CSS</h3><pre><code class=\"css\">.accordion-container .contents {\n  display: none;\n}</code></pre>\n<ul>\n<li>初期状態では<code>display:none</code>で非表示にしておく<br><code>.slideToggle()</code>で<code>display:block</code>で表示状態になる</li>\n</ul>\n<h3>jQuery</h3><pre><code class=\"javascript\">$(\".accordion-container\")\n  .find(\"dt\")\n  .on(\"click\", function () {\n    var $self = $(this);\n\n    $self.toggleClass(\"active\");\n    $self.next(\"dd\").stop(true, false).slideToggle();\n  });</code></pre>\n<ul>\n<li><p><code>togleClass('active')</code>で<code>.active</code>クラスを追加し、”開いている状態”を表す<br>開いている場合に矢印の状態を変える… などのスタイル定義があれば使う</p>\n</li>\n<li><p><code>next('dd')</code>は「次の要素である<code></code></p><dd>」に対して<code>.slideToggle()</code>する<p></p>\n</dd></li>\n<li><p><code>stop(true, false)</code>で連続クリックされても、開き閉じをクリック回数分させないようにする</p>\n</li>\n<li><p>連動してクリックした以外を連動して閉じる場合は、<code>siblings('dd').slideDown()</code>を使う</p>\n</li>\n</ul>\n","excerpt":"実装","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[Electron] 試験運用版のウェブプラットフォームの機能を有効にする方法","path":"20170316221713.html"},"next":{"title":"[レビュー] iSlice Air 13 の使用所感","path":"20170312172130.html"}},{"title":"[レビュー] iSlice Air 13 の使用所感","path":"20170312172130.html","permalink":"https://b.0218.jp/20170312172130.html","date":"2017-03-12T17:21:30.000Z","updated":"2017-03-12T17:21:30.000Z","thumbnail":"https://i.imgur.com/C7Vm3Nh.jpg","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>概要</h2><p>音楽ファイルを別ストレージで管理する為に、SDXC メモリーカードを使用していた。</p>\n<p>持ち運ばない想定だったので邪魔にならなかったが、やはり持ち出す際は SD スロットのはみ出しが気になって仕方がなかったため、<a href=\"https://www.amazon.co.jp/exec/obidos/ASIN/B00TTFOFEO/chafuso-22/ref=nosim/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">iSlice Air 13</a>を購入した。</p>\n<h2>使用環境</h2><ul>\n<li>MacBook Air (13-inch, Early 2015)</li>\n<li>SDXC メモリーカード 64GB</li>\n</ul>\n<h2>感想</h2><ul>\n<li>思ったよりすっぽり綺麗にはまる</li>\n<li>作りはちょっとチープ</li>\n<li>SD を読み込まないという不具合は今のところない</li>\n</ul>\n<h3>装着感</h3><p>色も機体に合わせてあるので、装着している感じがなくて自然。</p>\n<img alt=\"iSlice Air 13\" src=\"https://i.imgur.com/C7Vm3Nh.jpg\" width=\"50%\">\n","excerpt":"概要 / 使用環境 / 感想","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"レビュー","slug":"レビュー","path":"tags/%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC/"}],"prev":{"title":"[jQuery] アコーディオンメニューを実装する方法","path":"20170312192502.html"},"next":{"title":"[レビュー] MacBook Pro (2016) の使用所感","path":"20170310124905.html"}},{"title":"[レビュー] MacBook Pro (2016) の使用所感","path":"20170310124905.html","permalink":"https://b.0218.jp/20170310124905.html","date":"2017-03-10T12:49:05.000Z","updated":"2017-03-10T13:32:51.000Z","thumbnail":"https://i.imgur.com/FL6x2Rk.jpg","content":"<p>2016 年に発売されたモデルの「MacBook Pro (13-inch, 2016, Two Thunderbolt 3 ports)」について</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>はじめに</h2><p><img src=\"https://i.imgur.com/MOylDJs.png\" loading=\"lazy\"></p>\n<p>2016 年に発売された”新しい MacBook Pro”だが、最近会社で使用することになったので、せっかくだし使用感などを書いておこうと思う。</p>\n<h2>特徴</h2><blockquote>\n<p>2016 年に発売されたモデルの MacBook Pro は Thunderbolt 3 (USB-C) ポートを搭載しています。このポートを使えば、デバイスやディスプレイを接続し、コンピュータを充電し、接続したデバイスに電力を供給するなど、すべてシンプルでコンパクトな USB-C コネクタ 1 つだけで賄うことができます。</p>\n</blockquote>\n<h3>なくなったものたち</h3><p>変化はあれど、完全になくなってしまったのが以下。</p>\n<ul>\n<li>MagSafe がなくなった</li>\n<li>USB-A がなくなった</li>\n<li>SD スロットがなくなった</li>\n<li>リンゴが光らなくなった</li>\n</ul>\n<hr>\n<p>USB-A や HDMI などを使用したい場合は、USB-C の変換アダプタが必要になる。</p>\n<p>これは、パラダイムシフト（USB-C への統一）だと考えれば、納得のしようも無くもないが、やはりプライベートで USB-A が普通に使えないのは不便だ。SD スロットがないのも困る。</p>\n<p>また、個人的に MagSafe は、革新的だったので無くなってしまうのは非常に寂しい。コードを引っ掛けてもマシンごと引っ張られずに、 MagSafe だけ抜けるのは安心だった。（USB-C だとそうもいかない）<br>USB-C を MagSafe 化させるアダプタも非公式で出てるようだし、今後必要な人はそういう選択になってきそう。</p>\n<p>リンゴが光らなくなったのは別に良いです…。</p>\n<h3>Thunderbolt 3 (USB-C) ポート</h3><p>USB-C になったのは良いとして、ポート数が足りない。「USB-C コネクタ 1 つだけで賄うことができます！」って謳い文句があったが、完全にアダプタありきだ。<br>ポートは 2 つしかなく、1 つは確実に充電で埋まってしまう。現状、USB-A や HDMI を使う場合、いずれにしてもアダプタが必要ではあるが、それで補うというのは不便に感じるし、格好が悪い。</p>\n<h3>キーボード</h3><p><img src=\"https://i.imgur.com/FL6x2Rk.jpg\" loading=\"lazy\"></p>\n<p>身近な使用者に訊いてみるとあまり評判が良くない。私も触った当初は違和感があって打ちづらかったが、慣れてくると独特なタッチ感が癖になる。いわゆる打鍵感がないため、それを重視している人には向かないと思う。押し込み感がボタンのようだ。</p>\n<p>左と右の矢印キーのサイズが変わっているため、わりと操作ミスをしてしまう。いままであった余白が大事だったのだと気付かされた。</p>\n<p>一度、M のキーがめり込んだ事があった。その時は横からカリカリと引っ張ったら元に戻ったが、軽快に叩くのはちょっと怖い。</p>\n","excerpt":"はじめに / 特徴","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"レビュー","slug":"レビュー","path":"tags/%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC/"},{"name":"Mac","slug":"Mac","path":"tags/Mac/"}],"prev":{"title":"[レビュー] iSlice Air 13 の使用所感","path":"20170312172130.html"},"next":{"title":"[Git] コミットメッセージのフォーマット","path":"20170223002406.html"}},{"title":"[Git] コミットメッセージのフォーマット","path":"20170223002406.html","permalink":"https://b.0218.jp/20170223002406.html","date":"2017-02-23T00:24:06.000Z","updated":"2017-02-23T00:24:06.000Z","thumbnail":"","content":"<p>プレフィックスを付けるようにしているが、<code>fix:〜</code>とか<code>add:〜</code>としているものの、なかなか定まらない。（調べてみたが、綺麗な書き方が定まらない…）</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>通常版</h2><ul>\n<li>fix：バグ修正</li>\n<li>hotfix：クリティカルなバグ修正</li>\n<li>add：新規（ファイル）機能追加</li>\n<li>update：機能修正（バグではない）</li>\n<li>change：仕様変更</li>\n<li>clean：整理（リファクタリング等）</li>\n<li>disable：無効化（コメントアウト等）</li>\n<li>remove：削除（ファイル）</li>\n<li>upgrade：バージョンアップ</li>\n<li>revert：変更取り消し</li>\n</ul>\n<h2>ライト版</h2><ul>\n<li>fix：バグ修正</li>\n<li>add：新規（ファイル）機能追加</li>\n<li>update：機能修正（バグではない）</li>\n<li>remove：削除（ファイル）</li>\n</ul>\n<h2>Emoji (Emoji)</h2><blockquote>\n<p>🎨 ：コードのフォーマットや構造を改善した<br>🐎 ：パフォーマンスを改善した<br>🚱 ：メモリリークを修正した<br>📝 ：ドキュメントを書いた<br>🐧 ：Linux 環境固有の問題を修正? (fix something on Linux)<br>🍎 ：Mac 環境固有の問題を修正?<br>🏁 ：Windows 環境固有の問題を修正?<br>🐛 ：バグを修正した<br>🔥 ：コードやファイルを削除した<br>💚 ：CI に関する修正<br>✅ ：テストを書いた<br>🔒 ：セキュリティ関連<br>⬆️ ：dependencies (依存ライブラリ?) をアップグレードした<br>⬇️ ：dependencies をダウングレードした<br>👕 ：lint の警告を remove した （lint で警告されていたところを修正した、の意?)</p>\n</blockquote>\n<h2>参考</h2><ul>\n<li><a href=\"http://qiita.com/itosho/items/9565c6ad2ffc24c09364\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Git のコミットメッセージの書き方</a></li>\n<li><a href=\"http://dackdive.hateblo.jp/entry/2016/07/06/093000\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Emoji Prefix に学ぶ git のコミットの分け方</a></li>\n</ul>\n","excerpt":"通常版 / ライト版 / Emoji (Emoji) / 参考","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Git","slug":"Git","path":"tags/Git/"}],"prev":{"title":"[レビュー] MacBook Pro (2016) の使用所感","path":"20170310124905.html"},"next":{"title":"[Git] やらかした時にやるコマンド一覧","path":"20170218235722.html"}},{"title":"[Git] やらかした時にやるコマンド一覧","path":"20170218235722.html","permalink":"https://b.0218.jp/20170218235722.html","date":"2017-02-18T23:57:22.000Z","updated":"2017-02-18T23:57:22.000Z","thumbnail":"","content":"<p>普段あまり使わないけど、ちょっとイレギュラーなケースの時に実行するコマンドをメモしておく</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>リモートブランチを削除する</h2><h3>ローカル</h3><pre><code class=\"bash\">$ git branch -a\n$ git branch -d 20160229</code></pre>\n<h3>リモート</h3><pre><code class=\"bash\">git push origin :release/20160229</code></pre>\n<h2>コミットを戻す</h2><pre><code class=\"bash\">git reset --hard HEAD^</code></pre>\n<p>直前のコミットをなかったことにする</p>\n<h2>直前のコミットメッセージを修正する</h2><pre><code class=\"bash\">git commit --amend -m \"fix: hoge is hoge\"\ngit commit --amend</code></pre>\n<h2>特定のファイルを特定のコミット時に戻す</h2><pre><code class=\"bash\">git checkout [コミット番号] [ファイルパス]</code></pre>\n<p>色々と commit した後で、特定のファイルの作業状態を元に戻したい場合</p>\n<h2>マージ状態を解消する</h2><pre><code class=\"bash\">git reset --hard ORIG_HEAD</code></pre>\n<p><code>git merge</code>して、コンフリクトを解消中に「やっぱりマージをやめた」となった場合など</p>\n","excerpt":"リモートブランチを削除する / コミットを戻す / 直前のコミットメッセージを修正する / 特定のファイルを特定のコミット時に戻す / マージ状態を解消する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Git","slug":"Git","path":"tags/Git/"}],"prev":{"title":"[Git] コミットメッセージのフォーマット","path":"20170223002406.html"},"next":{"title":"[LINE] `line.me/R/msg/text/`が機能しない時の対処方法","path":"20170206233004.html"}},{"title":"[LINE] `line.me/R/msg/text/`が機能しない時の対処方法","path":"20170206233004.html","permalink":"https://b.0218.jp/20170206233004.html","date":"2017-02-06T23:30:04.000Z","updated":"2017-02-06T23:30:04.000Z","thumbnail":"","content":"<p>LINE ボタンは、自前で実装しているので自サイトでは気付かなかったが、至るところで機能していないのを散見するのでメモ。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>事象</h2><p><code>line.me/R/msg/text/</code>を使ったシェアボタンをクリックしても、LINE トップページに遷移してしまう。</p>\n<h2>解決方法</h2><h3>原因</h3><p>API が変更になっている模様</p>\n<hr>\n<p>指定を以下のように変更する</p>\n<pre><code>https://lineit.line.me/share/ui?url={シェアしたいURL}</code></pre>\n<p>内容などは指定ページの OGP タグなどからよしなに取得してくれるみたい。</p>\n","excerpt":"事象 / 解決方法","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"Web","slug":"Web","path":"tags/Web/"},{"name":"LINE","slug":"LINE","path":"tags/LINE/"}],"prev":{"title":"[Git] やらかした時にやるコマンド一覧","path":"20170218235722.html"},"next":{"title":"[macOS] コマンドからクリップボードにコピー","path":"20170206232619.html"}},{"title":"[macOS] コマンドからクリップボードにコピー","path":"20170206232619.html","permalink":"https://b.0218.jp/20170206232619.html","date":"2017-02-06T23:26:19.000Z","updated":"2017-02-06T23:26:19.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>背景</h2><p>テキストファイルの中身など(主に公開鍵)をコピーしたい時、terminal からコピーするのは非常に面倒。</p>\n<h2>方法</h2><pre><code class=\"bash\">$ cat foo.txt | pbcopy</code></pre>\n","excerpt":"背景 / 方法","categories":[{"name":"macOS","slug":"macOS","path":"categories/macOS/"}],"tags":[{"name":"macOS","slug":"macOS","path":"tags/macOS/"}],"prev":{"title":"[LINE] `line.me/R/msg/text/`が機能しない時の対処方法","path":"20170206233004.html"},"next":{"title":"[bash] プロセスを殺す方法","path":"20170206231540.html"}},{"title":"[bash] プロセスを殺す方法","path":"20170206231540.html","permalink":"https://b.0218.jp/20170206231540.html","date":"2017-02-06T23:15:40.000Z","updated":"2020-06-22T09:58:40.000Z","thumbnail":"","content":"<ol>\n<li><code>pgrep</code>でプロセス番号を取得</li>\n<li><code>pkill</code>プロセス番号で終了</li>\n</ol>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>探す</h2><pre><code class=\"bash\">pgrep プロセス名</code></pre>\n<p>例: <code>pgrep node</code></p>\n<h2>終了</h2><pre><code class=\"bash\">sudo pkill -f プロセス名</code></pre>\n<p>例: <code>pkill node</code></p>\n","excerpt":"探す / 終了","categories":[{"name":"macOS","slug":"macOS","path":"categories/macOS/"}],"tags":[{"name":"macOS","slug":"macOS","path":"tags/macOS/"},{"name":"bash","slug":"bash","path":"tags/bash/"}],"prev":{"title":"[macOS] コマンドからクリップボードにコピー","path":"20170206232619.html"},"next":{"title":"[WordPress] 開発環境を見直して最小構成を目指す","path":"20170116004221.html"}},{"title":"[WordPress] 開発環境を見直して最小構成を目指す","path":"20170116004221.html","permalink":"https://b.0218.jp/20170116004221.html","date":"2017-01-16T00:42:21.000Z","updated":"2017-01-16T00:42:21.000Z","thumbnail":"","content":"<p>正解はないので、覚書みたいな形でメモしておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>これまでの構成</h2><ul>\n<li>VirtualBox + Vagrant</li>\n<li>CentOS 7</li>\n<li>PHP 5.x/7 + Nginx + MariaDB …</li>\n</ul>\n<p>※ そもそも WordPress の動作をメインとして構築した環境ではなく、Windows/Mac で環境差をなくすために作成したもの</p>\n<h3>問題点</h3><p>問題というほどではないが、例えば WordPress の作業だけの為にこの VM を起動するは、時間とリソースの無駄な気がしていた。（手間）<br>最小構成ないし、WordPress に特化した開発環境で十分であるため、そういう目線で環境を用意したい。</p>\n<h2>今後の構成</h2><ul>\n<li>Local by Flywheel （VirtualBox など）</li>\n</ul>\n<h3>SSH が使える</h3><p>Local は作成した VM へ SSH 接続が可能。(<code>WP-CLI</code>もインストール済み)</p>\n<p>バージョン確認:（Debian みたい）</p>\n<pre><code class=\"bash\">cat /proc/version</code></pre>\n<pre><code class=\"bash\">cat /etc/debian_version</code></pre>\n<ul>\n<li><code>/app/public</code><br>WordPress 本体はここに置いてある</li>\n</ul>\n<h3>ゲストとホストで共通のファイルを操作する（シンボリックリンクを貼る）</h3><ul>\n<li><a href=\"https://b.0218.jp/20170111005914.html\">[WordPress] ”Local by Flywheel”でシンボリックリンクを作成する方法</a></li>\n</ul>\n","excerpt":"これまでの構成 / 今後の構成","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[bash] プロセスを殺す方法","path":"20170206231540.html"},"next":{"title":"[WordPress] ”Local by Flywheel”でシンボリックリンクを作成する方法","path":"20170111005914.html"}},{"title":"[WordPress] ”Local by Flywheel”でシンボリックリンクを作成する方法","path":"20170111005914.html","permalink":"https://b.0218.jp/20170111005914.html","date":"2017-01-11T00:59:14.000Z","updated":"2020-02-21T15:59:24.000Z","thumbnail":"","content":"<h2>状況</h2><ul>\n<li>ローカルの作業フォルダを、VM 上の<code>wp-content/themes/hoge</code>とリンクさせたい</li>\n</ul>\n<h2>シンボリックリンクを使用する</h2><p><strong>過去の Local では、シンボリックリンクが使用できずアドオンを利用する必要があったが、現在はシンボリックリンクに対応し、逆にアドオンが利用できなくなっている。</strong></p>\n<p>シンボリックリンクが使用できるようになっているので、「Open Site Shell」で ssh ログインして、下記のようなコマンドを実行する。</p>\n<pre><code class=\"bash\">$ ln -s ~/Workspace/original-theme/ wp-content/themes/original-theme</code></pre>\n<p>参考: <a href=\"https://localwp.com/help-docs/how-to-use-volumes-with-local/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://localwp.com/help-docs/how-to-use-volumes-with-local/</a></p>\n<h2>アドオン（local-addon-volumes）※旧版</h2><p><strong>⚠️ 最新版の Local ではこのアドオンは廃止され、シンボリックリンクが使用可能になりました</strong></p>\n<p>残念ながら、デフォルトでシンボリックリンクを設定できるような機能はないが、これを実現するアドオンは、<a href=\"https://github.com/getflywheel/local-addon-volumes\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">getflywheel/local-addon-volumes</a>にある。<code>ln</code>コマンドをする必要もなかった。</p>\n<p>→ 最新のリンク: <a href=\"https://localwp.com/add-ons/volumes\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://localwp.com/add-ons/volumes</a></p>\n<h3>アドオンのインストール</h3><p>アプリの Settings より以下を辿る。</p>\n<ul>\n<li>Settings -&gt; Add-ons -&gt; [Install Add-on]</li>\n</ul>\n<p>ここで、GitHub のレポジトリからダウンロードした zip ファイルを指定するだけで良い。</p>\n<h3>設定値</h3><ol>\n<li>アプリの Sites から設定を行うサイトを開く</li>\n<li>More -&gt; Volumes からシンボリックリンクの設定を行う</li>\n</ol>\n<p>確認できるようになった Volumes では、既存のシンボリックリンクの一覧も合わせて確認できる。</p>\n<p>こちらに以下のような項目を追加する。</p>\n<table>\n<thead>\n<tr>\n<th>Host Source</th>\n<th>Container Destination</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>/Users/hiro/Workspace/original-theme</code></td>\n<td><code>/app/public/wp-content/themes/orginal-theme</code></td>\n</tr>\n</tbody></table>\n<p>右下部の[Remap Volumes]ボタンをクリックして反映すれば完了。<br>管理画面からテーマが選択できるようになっているはず。</p>\n","excerpt":"状況 / シンボリックリンクを使用する / アドオン（local-addon-volumes）※旧版","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"Local by Flywheel","slug":"Local-by-Flywheel","path":"tags/Local-by-Flywheel/"}],"prev":{"title":"[WordPress] 開発環境を見直して最小構成を目指す","path":"20170116004221.html"},"next":{"title":"退職時に有給消化を拒否された話\n","path":"20161223000004.html"}},{"title":"退職時に有給消化を拒否された話\n","path":"20161223000004.html","permalink":"https://b.0218.jp/20161223000004.html","date":"2016-12-23T00:00:04.000Z","updated":"2016-12-23T13:36:42.000Z","thumbnail":"https://i.imgur.com/o7VfWiS.png","content":"<p class=\"c-alert\">この記事は、<a href=\"http://qiita.com/advent-calendar/2016/job2\">転職（その２） Advent Calendar 2016 - Qiita</a>の23日目です。</p>\n\n<p>内容としては「転職」というより、「転職するにあたって退職した」の時の出来事。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>経緯</h2><ol>\n<li>退職届を提出</li>\n<li>退職受理</li>\n<li>有給休暇の申請<br>→ 上司「辞めるのに何で有給取るの？（以下略）」</li>\n</ol>\n<hr>\n<p>仕事の状況としては、引き継ぎは完了している状態（引き続き資料などを作る暇は与えられず昼休みなどにこさえた）。上司としては「辞める人間が有給を使うことはありえない」という認識で、私を別の部署への応援要員としてアサインしていたようだった。これらのスケジュールは知らされていないし、退職交渉時・退職届の提出時・有給申請を行うまでに、上司からは有給休暇についての確認は一切なかった。</p>\n<p>上司へ有給を申請後、呼び出しがあり、そこで心無い言葉を浴びせかけられた。使用者と労働者の双方が納得いく折衷案が提示されれば、私も譲歩する余地があったのだが、ここで有給を使わずに出社するのは我慢ならない状況になってしまった。</p>\n<h2>労働基準法違反</h2><img src=\"https://i.imgur.com/o7VfWiS.png\" style=\"width:30%\">\n\n<p>有給申請の拒否は、<mark>労働基準法第 39 条に違反</mark>する。</p>\n<p>中小企業労働相談所へ電話相談をしたが（後述）、その時の見解は次の通りだった。<br>「時季変更権は退職予定日を超えては行使できない。退職が決定している段階では、他の時季に有給休暇を与えることができないので、時季変更権を行使することはできず、有給申請者の請求が通ることになる。つまり、有給申請を拒否することはできない」</p>\n<p>そもそも、有給休暇は労働者の権利なので、却下する権限など会社には一切ない。</p>\n<h2>労働相談窓口へ相談</h2><p>有給申請が拒否された場合、いきなり労働基準監督署へ行くのではなく、まずは最寄りの中小企業労働相談所へ電話相談してみると良い。相談所への連絡先は、「労働相談所 都道府県名」などで検索するとヒットすると思う。基本的にどこも平日の 8 時 30 分～ 17 時 15 分 などの時間しかやってないと思うが、私は昼休みなど都合の良い時間で連絡をしてみた。（相談した時点では、はっきりと「拒否」を明言したわけではなく、「厳しい、無理だ」というような曖昧な表現だったが、最終的に拒否される可能性も多いにあったため相談を行うことにした）</p>\n<p>まず、「退職日は決定しているが、有給消化を拒否された」事を経緯などを交えて話し、「法律上、この場合の有給申請の拒否はできないという認識である」事を伝えた。そうすると、「相談所の見解としても”拒否はできない”（前述）」という事で一致し、自分の主張が間違っていないという一定の安心感は得られた。<br>その際に訊かれたのが、「”有給申請をした”という証拠」だった。私の職場は、有給申請用の書類はなくメールで行う形式だったのだが、メールでも問題ないとの事だった。（やはり口頭だけだとマズいのかもしれない）</p>\n<p>仮に労働基準監督署へ通告せざるを得ない場合、その時にどういうアクションを起こせば良いのか相談することもできるだろう。</p>\n<p>また、匿名で構わないとの事で、「企業の業種」や「年齢」を訊かれた。</p>\n<h2>結果</h2><p>所属部署で「拒否」されたので、確認の意味も込めて、総務に有給申請が認められるのか確認をした。詳細は省くが、結果として、有給を取得することができた。</p>\n<p>もし、総務で有給休暇を認めない方針であれば、前述の”違法である”旨も合わせて問い合わせると良いかもしれない。</p>\n<h2>〆</h2><p>前提として、有給消化は、きちんと引き継ぎなど完了している状態でしよう。法律上、有給消化は可能だが、責任は果たそう。</p>\n<p>残念なことに、世間では有給消化できない事が当たり前だと思っている会社も少なくないと思われる。労働基準法を把握した上で「有給消化は認めない」と言ってくる場合もあれば、全くの無知でそう言ってくる場合もあるだろう。こちらに落ち度が全く無い場合、有給申請は絶対に通した方が良いと個人的に思う。「（同じ業界で悪評が流れないよう）残った有給を消滅させてでも、波風を立てずに穏便に退職したほうがいい」という意見もあるが、泣き寝入りをする事は自分自身だけではなく、<b>残っている社員にも良くない</b>と思うからだ。</p>\n","excerpt":"経緯 / 労働基準法違反 / 労働相談窓口へ相談 / 結果 / 〆","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"仕事","slug":"仕事","path":"tags/%E4%BB%95%E4%BA%8B/"},{"name":"転職","slug":"転職","path":"tags/%E8%BB%A2%E8%81%B7/"}],"prev":{"title":"[WordPress] ”Local by Flywheel”でシンボリックリンクを作成する方法","path":"20170111005914.html"},"next":{"title":"転職活動をしたのでキャリアの振り返り in 2016\n","path":"20161201220449.html"}},{"title":"転職活動をしたのでキャリアの振り返り in 2016\n","path":"20161201220449.html","permalink":"https://b.0218.jp/20161201220449.html","date":"2016-12-01T22:04:49.000Z","updated":"2016-12-02T00:04:25.000Z","thumbnail":"","content":"<p class=\"c-alert\">この記事は <a href=\"http://qiita.com/advent-calendar/2016/job2\">転職（その２） Advent Calendar 2016</a> の1日目です。</p>\n\n<p>2016 年に転職活動を行ったので、これまでのキャリアを簡単に振り返ってみる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>自己紹介</h2><ul>\n<li>大学(経済学部)卒業後、未経験で IT 業界へ</li>\n<li>既婚/もうアラサー</li>\n</ul>\n<h2>1 社目</h2><p>新卒では、都内の SIer にシステムエンジニアとして入社。</p>\n<p>業務内容は、基本的には要件定義・設計・開発・環境構築、テストなどを担当（案件によっては、外注に投げることも）。業務向けウェブアプリケーションの開発が主だった。<br>配属部署が社内でも色濃くて、元々は買収した子会社の社員所属している部署だった為、独自の文化や特殊な手持ちの案件があった。勤怠関連の融通もかなり効いた。</p>\n<p>顧客との打ち合わせで外出も多かったが刺激になった。振り返ると、自分の得意とする仕事を見つける事ができ、それを評価して貰えていたように思える。</p>\n<h3>身についたスキル</h3><ul>\n<li>Java</li>\n<li>PHP</li>\n<li>VBA</li>\n<li>SQL</li>\n<li>JavaScript</li>\n<li>ShellScript</li>\n<li>C#</li>\n</ul>\n<p>HTML とちょっとした JS しか知らない状態だったので色々と学べた。</p>\n<h3>退職理由</h3><p>結婚で地元に帰郷せざるを得なかった為。</p>\n<p>退職においては、上司や先輩方は嫌な顔せずに祝福してくれたので助かった。</p>\n<h3>良かった点?</h3><ul>\n<li>案件の多種多様さ</li>\n<li>人（先輩方）</li>\n</ul>\n<p>様々な業種の案件に携わることが出来たため視野が広がったように思う。<br>諸先輩方にはお世話になったし、大変な時は上司も面倒見てくれた。</p>\n<h3>悪かった点?</h3><ul>\n<li>新入社員研修が薄かった</li>\n<li>炎上案件が多かった?</li>\n</ul>\n<p>私の世代まではプログラミング研修なるものは無く、OJT や自己学習で学んでいく形であった。未経験だった為、「研修があれば…」という思いが当時強くあったが、今思えば新入社員向けのプログラミング研修があったからと言って、何か大きく変わったかと考えてみると微妙な気もする。下の世代からは、徐々に研修内容も充実し、社内でも新入社員向けに勉強会が行われるようにはなっていた。?<br>また、所属部署は他部署で扱い切れなかった案件が投げられて来ることがしばしばあった。社内でも優秀な技術者が多数いた事も要因だとは思う。彼らに教わる事が出来たのは「良かった点」ではある。</p>\n<h2>2 社目</h2><p>紹介で、地元のパッケージソフトベンターにプログラマとして入社。誰でも知っているような類のソフトだが、全国的に作っている会社が少なくてニッチらしい。</p>\n<p>業務は、設計・開発・テスト、出荷用のインストーラー作成などなど。Windows アプリや iOS アプリへの機能追加、保守を担当。</p>\n<p>配属は、キャリアは全く考慮されず、「（前職で）未経験でもできたんだから」と言われて、人手不足な部署へ配属された。なお、これまでのキャリアに合致するような Web アプリを開発している部署は別にある。</p>\n<h3>身についたスキル</h3><ul>\n<li>C++</li>\n<li>Objective-C</li>\n<li>Swift</li>\n</ul>\n<p>経験してなかった Windows アプリや iOS アプリの開発手法は身についた。</p>\n<h3>良かった点?</h3><ul>\n<li>給料が高い（地元比）</li>\n<li>安定性（親会社が上場企業）</li>\n<li>関東 IT ソフトウェア健康保険組合</li>\n</ul>\n<p>東京の本社に近い給与水準にしてあったため、地元にしては給料は良かった。<br>(ITS の恩恵は特に享受できなかった)</p>\n<h3>悪かった点?</h3><ul>\n<li>説明をしてもらえない</li>\n<li>仕様書がない</li>\n<li>残業時間が多い</li>\n</ul>\n<p>指示も曖昧な上に仕様書もなく、またレポジトリの場所すら教えて貰えない事が多いので、同僚に聞いて回るしかなかった（指示出した上司が知らない）。また、1 の指示で 1 以上は返す必要がありキツかった（「指示された事に答えるだけなら自分で調べるのと分からない」らしい）。<br>各仕様書に関しては、これまで作ってこなかったため「改善していこう」という流れであった。ただ、会社として仕様書がどうあるべきか、また元々の仕様が曖昧だったりして作成には非常に苦労した。<br>スケジュールは、上が決めた日にちまでに作業を完了させるしかなく（もちろん人員のスキルに見合ってなく、人員の追加もない）、残業時間が増え続けていた。行政の指摘があり、少しだけ緩和されたが、それでも多かった。</p>\n<h3>退職理由</h3><p>残業時間も然ることながら、やはり業務が「やりたいこと」と剥離しすぎていた為（やりがい）。</p>\n<p>退職願を出しても、きちんと取り合って貰えなかったのはキツかった。</p>\n<h2>3 社目（今後）</h2><p>来年から Web 関連の会社へフロントエンドエンジニアとして入社する予定。</p>\n<p>これまでのキャリアを高く評価して貰えたし、エンジニアの働きやすい環境が整っているように感じたため、入社することにした。残念ながら給与は今より下がってしまうが、その分スキルアップやプライベートの時間を確保できればと思っている。</p>\n<h2>〆</h2><p>今は転職回数が多い事が転職が不利になることはないと言われている。もちろん、稚拙な理由で辞めて続けていれば問題だが、キャリアアップなどポジティブな理由での転職であれば回数は問題ではないと思う。<br>“これまで何をしてきたか”を評価されると思うので、前職での仕事にしろ自己学習にしろ、きちんとインプットとアウトプットを習慣づけると良いと思う。</p>\n<p>今回、転職するにあたり「やりがい」や「働きやすさ」、「プライベート時間の確保」に重きを置いて色々と考えることができた（自分が出来ること、やりたいこと…など）。なかなか自分の理想とする会社を見つける自体が難しいが、今回は現職よりは理想に近い会社へ転職できることになった。<br>ただ、働いていく中で重要な人間関係は蓋を開けてみないと分からないのが非常にもどかしいと改めて思った。そこを就活時に見極めるのは不可能なので、部署間の異動などが柔軟にできる風土のある会社が良いかもしれない…。</p>\n<p>まだ就職していないので、自分自身今後どうなるか分からないが、キャリアアップをして次につなげていきたいと思う。</p>\n","excerpt":"自己紹介 / 1 社目 / 2 社目 / 3 社目（今後） / 〆","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"仕事","slug":"仕事","path":"tags/%E4%BB%95%E4%BA%8B/"},{"name":"転職","slug":"転職","path":"tags/%E8%BB%A2%E8%81%B7/"},{"name":"Advent Calendar","slug":"Advent-Calendar","path":"tags/Advent-Calendar/"}],"prev":{"title":"退職時に有給消化を拒否された話\n","path":"20161223000004.html"},"next":{"title":"[WordPress] β版を簡単にインストールする方法","path":"20161129205257.html"}},{"title":"[WordPress] β版を簡単にインストールする方法","path":"20161129205257.html","permalink":"https://b.0218.jp/20161129205257.html","date":"2016-11-29T20:52:57.000Z","updated":"2016-11-29T20:52:57.000Z","thumbnail":"","content":"<p>WordPress 4.7 のリリース候補版が出たのでインストールしてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>手動でインストールする場合</h2><p>単純に「<a href=\"https://wordpress.org/wordpress-4.7-RC1.zip\">リリース候補のパッケージ (zip)</a>」をダウンロードして、上書きしてやる。<br>以上。</p>\n<h2>コマンドラインでインストールする場合</h2><h3>準備するもの</h3><ul>\n<li>WP-CLI</li>\n<li><a href=\"https://wordpress.org/plugins/wordpress-beta-tester/\">WordPress Beta Tester</a> (プラグイン)<br>WP-CLI からインストールしても良い</li>\n</ul>\n<pre><code class=\"bash\">wp plugin install wordpress-beta-tester --activate</code></pre>\n<hr>\n<h3>設定を変更</h3><pre><code class=\"bash\">wp option set wp_beta_tester_stream unstable</code></pre>\n<p>リリース候補のパッケージを利用するには、<code>unstable</code>をセットしてやる。</p>\n<h3>アップデート実行</h3><pre><code class=\"bash\">wp core update</code></pre>\n<p><code>core update</code>を実行するとリリース候補のパッケージのダウンロードが始まる。しばらくするとアップデートが完了するので、きちんとバージョンが行われたか確認を行う。</p>\n<h3>バージョンの確認</h3><pre><code class=\"bash\">wp core version --extra --allow-root\nWordPress version: 4.7-RC1-39355\nDatabase revision: 38590\nTinyMCE version:   4.403 (4403-20160901)\nPackage language:  en_US</code></pre>\n<p>4.7-RC1 になっている事が確認できた。</p>\n<hr>\n<p>テスト環境でない場合は、バックアップを取っておくこと。</p>\n","excerpt":"手動でインストールする場合 / コマンドラインでインストールする場合","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"転職活動をしたのでキャリアの振り返り in 2016\n","path":"20161201220449.html"},"next":{"title":"これまで仕事で使ってきたメールの署名一覧\n","path":"20161121182840.html"}},{"title":"これまで仕事で使ってきたメールの署名一覧\n","path":"20161121182840.html","permalink":"https://b.0218.jp/20161121182840.html","date":"2016-11-21T18:28:40.000Z","updated":"2016-11-21T18:28:40.000Z","thumbnail":"","content":"<p>メールのフッターに記載する署名を振り返る。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>ポリシー</h2><ul>\n<li>どこの会社のどの所属の誰か分かる内容</li>\n<li>アスキーアート使ったり、派手にしない</li>\n</ul>\n<h2>署名</h2><h3>1 番目の会社</h3><pre><code>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n{会社名}\n{部署}　{氏名}\n東京本社：〒{郵便番号}\n          {住所}\nTel：{電話番号}(直通)　{電話番号}(代表)\nFax：{FAX番号}\nE-mail：{会社個人メールアドレス}\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</code></pre>\n<p>在職中に部署編成が何度もあり、何度か変えたが最終的には上記に落ち着いた。</p>\n<h3>2 番目の会社</h3><pre><code>━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n{会社名}\n{部署}　{氏名}\n〒{郵便番号}\n{住所}\nTEL: {電話番号}　FAX: {FAX番号}\nE-mail：{会社個人メールアドレス}\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</code></pre>\n<h3>3 社目</h3><pre><code>━━━━━━━━━━━━━━━━━━━━━━━\n{会社名}\n{氏名}  {会社個人メールアドレス}\n\n{所在地（本社）}\n〒{郵便番号}\n{住所}\nTEL: {電話番号}　FAX: {FAX番号}\n{ウェブサイトURL}\n━━━━━━━━━━━━━━━━━━━━━━━</code></pre>\n<p>会社柄、客向けにメールを出すことも無かった為、前職の署名を丸ごと流用した。</p>\n","excerpt":"ポリシー / 署名","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"仕事","slug":"仕事","path":"tags/%E4%BB%95%E4%BA%8B/"}],"prev":{"title":"[WordPress] β版を簡単にインストールする方法","path":"20161129205257.html"},"next":{"title":"[Windows 10] 環境で綺麗なフォントレンダリングを目指す","path":"20161117095502.html"}},{"title":"[Windows 10] 環境で綺麗なフォントレンダリングを目指す","path":"20161117095502.html","permalink":"https://b.0218.jp/20161117095502.html","date":"2016-11-17T09:55:02.000Z","updated":"2016-11-29T09:55:43.000Z","thumbnail":"","content":"<p>Windows 10 環境で綺麗なフォントレンダリングを目指す</p>\n<h2>はじめに</h2><p>サードパーティーツールに頼るのは、そろそろ辞めよう。</p>\n<p>例えば、この手のツールでは MacType がよく使われている。だが、この手のツールの開発が停止され、Windows のアップデートによって、また使えなくなるかもしれない（最近、MacType は更新が再開されたようだが）。それに他のソフトウェアへの影響も大きいし、多い。（有効時に VirtualBox が起動しないなど）</p>\n<p>出来る限り見やすいフォントの設定をしておく事で他のソフトウェアに影響しない快適な Windows ライフを送ることが目的である。</p>\n<h2>ClearType</h2><ol>\n<li>設定 &gt; ディスプレイ &gt; ディスプレイの詳細設定</li>\n<li>関連設定 &gt; ClearType テキスト</li>\n</ol>\n<p>ClearType テキストチューナーから有効化と設定の調整を行う。</p>\n<h2>Firefox</h2><h3>フォントの設定</h3><ol>\n<li>[ツール] &gt; [オプション] &gt; [コンテンツ] &gt; [フォントと配色] &gt; [詳細設定]</li>\n<li>ゴシック体を「游ゴシック」に変更して OK</li>\n</ol>\n<h3>DirectWrite を有効にする</h3><p>Firefox のアップデートで DirectWrite が無効になってしまう場合がある。有効にしておく。</p>\n<ol>\n<li><code>about:config</code>を開く</li>\n<li><code>gfx.font_rendering.directwrite.force-enabled</code>の値を<code>true</code>に変更</li>\n<li>Firefox 再起動</li>\n</ol>\n<hr>\n","excerpt":"はじめに / ClearType / Firefox","categories":[{"name":"Windows 10","slug":"Windows-10","path":"categories/Windows-10/"}],"tags":[{"name":"フォント","slug":"フォント","path":"tags/%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88/"}],"prev":{"title":"これまで仕事で使ってきたメールの署名一覧\n","path":"20161121182840.html"},"next":{"title":"国内主要サイトのfont-familyを調べた in 2016\n","path":"20161112185002.html"}},{"title":"国内主要サイトのfont-familyを調べた in 2016\n","path":"20161112185002.html","permalink":"https://b.0218.jp/20161112185002.html","date":"2016-11-12T18:50:02.000Z","updated":"2016-11-12T18:50:02.000Z","thumbnail":"","content":"<p>以前、国内の主要サイトの<code>font-family</code>を調べたが、今年はどうなっているのか。昨今の<code>font-family</code>事情を考えるとどうなっているのか気になり再び調べてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>条件</h2><h3>国内サイトの条件</h3><ul>\n<li><a href=\"http://www.alexa.com/topsites/countries/JP\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Top Sites in Japan - Alexa</a>に記載されているサイトから調べる</li>\n<li>他言語のサービスの場合は、日本語のページを対象とする</li>\n<li>リダイレクトされるページの場合は、リダイレクト先を対象とする</li>\n</ul>\n<h3>どこの font-family をみるか</h3><p>基本的には、<code>html</code>や <code>body</code> に設定されている<code>font-family</code>を調べる。</p>\n<h2>サイト一覧</h2><p>今回の主要サイトは以下の通り。</p>\n<ol>\n<li><a href=\"//Google.co.jp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google.co.jp</a></li>\n<li><a href=\"http://yahoo.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Yahoo.co.jp</a></li>\n<li><a href=\"//Youtube.com\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Youtube.com</a></li>\n<li><a href=\"//Amazon.co.jp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Amazon.co.jp</a></li>\n<li><a href=\"http://fc2.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Fc2.com</a></li>\n<li><a href=\"//Facebook.com\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Facebook.com</a></li>\n<li><a href=\"//Twitter.com\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Twitter.com</a></li>\n<li><a href=\"//Wikipedia.org\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Wikipedia.org</a></li>\n<li><a href=\"http://rakuten.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Rakuten.co.jp</a></li>\n<li><a href=\"http://nicovideo.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Nicovideo.jp</a></li>\n<li><a href=\"http://livedoor.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Livedoor.jp</a></li>\n<li><a href=\"http://ameblo.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Ameblo.jp</a></li>\n<li><a href=\"http://naver.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Naver.jp</a></li>\n<li><a href=\"http://goo.ne.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Goo.ne.jp</a></li>\n<li><a href=\"http://dmm.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Dmm.co.jp</a></li>\n<li><a href=\"http://kakaku.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Kakaku.com</a></li>\n<li><a href=\"http://hatenablog.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Hatenablog.com</a></li>\n<li><a href=\"//Hatena.ne.jp\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Hatena.ne.jp</a></li>\n<li><a href=\"http://2ch.net/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">2ch.net</a></li>\n<li><a href=\"//Qiita.com\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Qiita.com</a></li>\n</ol>\n<p>このドメイン配下のサービス、例えばブログなどもまとめて集計されている上に各ブログで<code>font-family</code>が異なっているはずなので、正確な情報は取れない。ひとまず、”主要サイト”のトップページの<code>font-family</code>を調べることにする。</p>\n<h2>font-family の結果</h2><h3>Google.co.jp</h3><pre><code class=\"css\">body,\ntd,\na,\np,\n.h {\n  font-family: arial, sans-serif;\n}</code></pre>\n<h3>Yahoo.co.jp</h3><pre><code class=\"css\">body {\n  font-family: \"MS PGothic\", Arial, \"Hiragino Kaku Gothic ProN\", \"Osaka\",\n    sans-serif;\n}</code></pre>\n<h3>Youtube.com</h3><pre><code class=\"css\">body,\ninput,\nbutton,\ntextarea,\nselect {\n  font-family: Roboto, arial, sans-serif;\n}</code></pre>\n<h3>Amazon.co.jp</h3><pre><code class=\"css\">body {\n  font-family: \"Hiragino Kaku Gothic Pro W3\", \"Hiragino Kaku Gothic ProN\",\n    Meiryo, sans-serif;\n}</code></pre>\n<h3>Fc2.com</h3><pre><code class=\"css\">body {\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}</code></pre>\n<h3>Facebook.com</h3><pre><code class=\"css\">body,\nbutton,\ninput,\nlabel,\nselect,\ntd,\ntextarea {\n  font-family: Lucida Grande, Tahoma, Verdana, Arial, \"hiragino kaku gothic pro\",\n    meiryo, \"ms pgothic\", sans-serif;\n}</code></pre>\n<h3>Twitter.com</h3><pre><code class=\"css\">body {\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n}\n\nbody.ja {\n  font-family: Arial, \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", Osaka,\n    \"メイリオ\", Meiryo, \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;\n}</code></pre>\n<h3>Wikipedia.org</h3><pre><code class=\"css\">html,\nbody {\n  font-family: sans-serif;\n}</code></pre>\n<h3>Rakuten.co.jp</h3><pre><code class=\"css\">body {\n  font-family: Meiryo, \"Hiragino Kaku Gothic ProN\", \"MS PGothic\", sans-serif;\n}</code></pre>\n<h3>Nicovideo.jp</h3><pre><code class=\"css\">body {\n  font-family: \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", \"メイリオ\",\n    Meiryo, Osaka, \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;\n}</code></pre>\n<h3>Livedoor.jp</h3><pre><code class=\"css\">* {\n  font-family: \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", \"Meiryo UI\",\n    \"メイリオ\", Meiryo, \"ＭＳ Ｐゴシック\", Arial, sans-serif;\n}</code></pre>\n<h3>Ameblo.jp</h3><pre><code class=\"css\">body {\n  font-family: \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", \"メイリオ\",\n    Meiryo, \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;\n}</code></pre>\n<h3>Naver.jp</h3><pre><code class=\"css\">body.ExOsWin {\n  font-family: Meiryo, \"MS PGothic\", arial, sans-serif;\n}\nbody.ExOsMac {\n  font-family: arial, sans-serif;\n}</code></pre>\n<h3>Goo.ne.jp</h3><pre><code class=\"css\">body {\n  font-family: Meiryo, \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\",\n    \"ＭＳ Ｐゴシック\", Arial, Sans-serif;\n}</code></pre>\n<h3>Dmm.co.jp</h3><pre><code class=\"css\">body {\n  font-family: \"Hiragino Kaku Gothic Pro\", \"¥Ò¥é¥®¥Î³Ñ¥´ Pro W3\", \"¥á¥¤¥ê¥ª\",\n    Meiryo, \"£Í£Ó £Ð¥´¥·¥Ã¥¯\", sans-serif;\n}</code></pre>\n<h3>Kakaku.com</h3><pre><code class=\"css\">body {\n  font-family: \"メイリオ\", Meiryo, \"ヒラギノ角ゴ Pro W3\",\n    \"Hiragino Kaku Gothic Pro\", \"ＭＳ Ｐゴシック\", Osaka, arial, verdana,\n    sans-serif;\n}</code></pre>\n<h3>Hatenablog.com</h3><pre><code class=\"css\">body {\n  font-family: Open Sans, Helvetica Neue, Helvetica, Arial, ヒラギノ角ゴ Pro W3,\n    Hiragino Kaku Gothic Pro, メイリオ, Meiryo, ＭＳ Ｐゴシック, MS PGothic,\n    sans-serif;\n}</code></pre>\n<h3>Hatena.ne.jp</h3><pre><code class=\"css\">html {\n  font-family: sans-serif;\n}\n.is-pc {\n  font-family: Arial, Helvetica, sans-serif;\n}\n.is-touch {\n  font-family: Arial, Helvetica, sans-serif;\n}</code></pre>\n<h3>2ch.net</h3><pre><code class=\"css\">body {\n  font-family: Arial, Helvetica, San-serif;\n}</code></pre>\n<h3>Qiita.com</h3><pre><code class=\"css\">body {\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica Neue,\n    Hiragino Kaku Gothic ProN, \"メイリオ\", meiryo, sans-serif;\n}</code></pre>\n","excerpt":"条件 / サイト一覧 / font-family の結果","categories":[{"name":"調査","slug":"調査","path":"categories/%E8%AA%BF%E6%9F%BB/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[Windows 10] 環境で綺麗なフォントレンダリングを目指す","path":"20161117095502.html"},"next":{"title":"[Firefox] マルチプロセスウィンドウを有効化する方法","path":"20161105154755.html"}},{"title":"[Firefox] マルチプロセスウィンドウを有効化する方法","path":"20161105154755.html","permalink":"https://b.0218.jp/20161105154755.html","date":"2016-11-05T15:47:55.000Z","updated":"2016-11-05T15:47:55.000Z","thumbnail":"","content":"<p>現在(Firefox49)、マルチプロセスは一部ユーザにのみ提供となっている。これを強制的に有効化させる事ができるらしい。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>手順</h2><ol>\n<li><code>about:config</code>を開く</li>\n<li><code>browser.tabs.remote.force-enable</code>を真偽値で新規作成して<code>true</code>を設定</li>\n<li><code>extensions.e10sBlocksEnabling</code>と<code>extensions.e10sBlockedByAddons</code>を<code>false</code>に設定</li>\n</ol>\n<p>そもそもこれで有効化して問題ないかは不明。</p>\n","excerpt":"手順","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"国内主要サイトのfont-familyを調べた in 2016\n","path":"20161112185002.html"},"next":{"title":"[フォント] OSごとの游ゴシック体に関する覚書","path":"20161103142808.html"}},{"title":"[フォント] OSごとの游ゴシック体に関する覚書","path":"20161103142808.html","permalink":"https://b.0218.jp/20161103142808.html","date":"2016-11-03T14:28:08.000Z","updated":"2016-11-03T14:28:08.000Z","thumbnail":"https://i.imgur.com/jkDDNE4m.gif","content":"<p><img src=\"https://i.imgur.com/jkDDNE4m.gif\" loading=\"lazy\"></p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>OS にあるフォントファミリー</h2><blockquote>\n<p><strong>OS 搭載の游書体について</strong><br>Windows や Macintosh の OS に搭載されている游書体フォントは弊社製品版とは一部異なります。</p>\n<p>搭載フォント名や文字セット、製品版との互換性につきましては以下をご確認ください。<br><a href=\"http://www.jiyu-kobo.co.jp/wp@test/wp-content/uploads/2016/10/compatibility_1610.pdf\" target=\"_blank\">OS 搭載の游書体一覧 PDF</a> &gt; <small><a href=\"http://www.jiyu-kobo.co.jp/os-installed-y/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">字游工房｜ JIYUKOBO | OS 搭載の游書体について:</a></small></p>\n</blockquote>\n<h3>Windows</h3><h4>Windows 8.1</h4><ul>\n<li>游ゴシック Light / Regular / Bold</li>\n</ul>\n<h4>Windows 10</h4><ul>\n<li>游ゴシック Medium</li>\n<li>Yu Gothic UI</li>\n</ul>\n<h4>その他</h4><p>Windows 7 ～ 8.1 においても、フォントパックで Windows 10 と同様の游ゴシックは使用可能</p>\n<ul>\n<li><a href=\"https://www.microsoft.com/ja-jp/download/details.aspx?id=49116\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Download 游ゴシック 游明朝フォントパック from Official Microsoft Download Center:</a></li>\n</ul>\n<hr>\n<h3>macOS</h3><h4>OS X 10.9 (Mavericks)</h4><ul>\n<li>游ゴシック Medium / Bold</li>\n</ul>\n<h2>OS にインストールされているウェイト</h2><p>各 OS にインストールされている游ゴシックのウェイト</p>\n<table>\n<thead>\n<tr>\n<th>ウェイト</th>\n<th align=\"center\">Windows 8.1</th>\n<th align=\"center\">Windows 10</th>\n<th align=\"center\">macOS</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Light</td>\n<td align=\"center\">○</td>\n<td align=\"center\">○</td>\n<td align=\"center\">-</td>\n</tr>\n<tr>\n<td>Regular</td>\n<td align=\"center\">○</td>\n<td align=\"center\">○</td>\n<td align=\"center\">-</td>\n</tr>\n<tr>\n<td>Medium</td>\n<td align=\"center\">-</td>\n<td align=\"center\">○</td>\n<td align=\"center\">-</td>\n</tr>\n<tr>\n<td>Bold</td>\n<td align=\"center\">○</td>\n<td align=\"center\">○</td>\n<td align=\"center\">○</td>\n</tr>\n</tbody></table>\n<h2>CSS の font-weight と対応するウェイト</h2><table>\n<thead>\n<tr>\n<th>font-weight</th>\n<th>游ゴシックのウェイト</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>300 / light</td>\n<td>Light</td>\n</tr>\n<tr>\n<td>400 / normal</td>\n<td>Regular</td>\n</tr>\n<tr>\n<td>500 / medium</td>\n<td>Medium</td>\n</tr>\n<tr>\n<td>700 / bold</td>\n<td>Bold</td>\n</tr>\n</tbody></table>\n<h2>Windows で游ゴシックが細くなる問題</h2><pre><code class=\"css\">font-family: \"Yu Gothic\", YuGothic, sans-serif; /* Windows, macOS */</code></pre>\n<p>上記のようにフォントを指定すると、Windows は Regular、macOS は Medium が適応される。(<code>font-weight:normal</code>)</p>\n<h2>独自のフォントファミリーを定義する</h2><p><code>@font-face</code>で環境依存を考慮したフォントファミリーを定義する。</p>\n<pre><code class=\"css\">@font-face {\n  font-family: \"YuGoMedium\";\n  font-weight: normal;\n  src: local(\"YuGothic-Medium\"), local(\"Yu Gothic Medium\");\n}\n\n@font-face {\n  font-family: \"YuGoMedium\";\n  font-weight: bold;\n  src: local(\"YuGothic-Bold\"), local(\"Yu Gothic\");\n}\n\nhtml {\n  font-family: YuGoMedium, YuGothic, sans-serif;\n}</code></pre>\n<p>Medium がない環境の場合は綺麗に表示ができないので、<code>local(\"YuGothic-Regular\")</code>を追加する必要がある。</p>\n","excerpt":"OS にあるフォントファミリー / OS にインストールされているウェイト / CSS の font-weight と対応するウェイト / Windows で游ゴシックが細くなる問題 / 独自のフォントファミリーを定義する","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"フォント","slug":"フォント","path":"tags/%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88/"}],"prev":{"title":"[Firefox] マルチプロセスウィンドウを有効化する方法","path":"20161105154755.html"},"next":{"title":"[Windows 10] 作業中にアップデートで再起動させない方法","path":"20161022115045.html"}},{"title":"[Windows 10] 作業中にアップデートで再起動させない方法","path":"20161022115045.html","permalink":"https://b.0218.jp/20161022115045.html","date":"2016-10-22T11:50:45.000Z","updated":"2016-11-01T17:55:24.000Z","thumbnail":"https://i.imgur.com/vyalay3.png","content":"<p>作業中に Windows Update が問答無用で走って、作業内容がパーになる事があるらしい。個人的には、以下の設定を予めしていたせいか特にそういう自体に陥ったことはない。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>それぞれの方法で変更が可能。</p>\n<h2>設定画面から変更する方法</h2><ol>\n<li>[設定] を開く</li>\n<li>[更新とセキュリティ] をクリック</li>\n<li>[Windows Update] をクリック（初期表示）</li>\n<li>[更新プログラムの設定] の [アクティブ時間の変更] をクリック</li>\n<li>[アクティブ時間] 設定が表示される<br><img src=\"https://i.imgur.com/FbBYjdP.png\" alt=\"アクティブ時間の設定\" loading=\"lazy\"></li>\n<li>開始時刻と終了時刻を設定する<br>※ 時刻差は 12 時間以上開けられない</li>\n</ol>\n<h2>ポリシーを変更する方法</h2><ol>\n<li>ローカルグループポリシーエディターを起動 (gpedit.msc)</li>\n<li>左ペインの「コンピュータの構成」→「管理用テンプレート」→「Windows コンポーネント」→「Windows Update」<br><img src=\"https://i.imgur.com/vyalay3.png\" alt=\"ローカルグループポリシーエディター\" loading=\"lazy\"></li>\n<li>右ペインの「スケジュールされた自動更新のインストールで、ログオンしているユーザーがいる場合には自動的に再起動しない」項目をクリック</li>\n<li>表示されたダイアログの「有効」を選択して「OK」ボタンをクリック</li>\n<li>Windows 10 を再起動</li>\n</ol>\n<h2>レジストリを変更する方法</h2><ol>\n<li>レジストリエディタを起動 (regedit)</li>\n<li>それぞれ以下に移動<br>32bit: <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\WindowsUpdate\\AU</code><br>64bit: <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\Policies\\Microsoft\\Windows\\WindowsUpdate\\AU</code></li>\n<li>REG_DWORD 値で<code>NoAutoRebootWithLoggedOnUsers</code>キーを作成<br>値には「1」を設定</li>\n</ol>\n","excerpt":"設定画面から変更する方法 / ポリシーを変更する方法 / レジストリを変更する方法","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows","slug":"Windows","path":"tags/Windows/"},{"name":"Windows 10","slug":"Windows-10","path":"tags/Windows-10/"}],"prev":{"title":"[フォント] OSごとの游ゴシック体に関する覚書","path":"20161103142808.html"},"next":{"title":"玉名 ビジネスホテル鈴鹿に泊まった時のメモ\n","path":"20161007011533.html"}},{"title":"玉名 ビジネスホテル鈴鹿に泊まった時のメモ\n","path":"20161007011533.html","permalink":"https://b.0218.jp/20161007011533.html","date":"2016-10-07T01:15:33.000Z","updated":"2016-10-07T01:15:33.000Z","thumbnail":"","content":"<h2>場所</h2><div class=\"gmap\">\n<iframe src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3348.9050540981734!2d130.54753811518586!3d32.92710668092704!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x35405a2895adbd9d%3A0xe4ce36ed9874ce6c!2z44CSODY1LTAwNjQg54aK5pys55yM546J5ZCN5biC5Lit77yR77yX77yU77yT4oiS77yT!5e0!3m2!1sja!2sjp!4v1475770690373\" width=\"400\" height=\"300\" frameborder=\"0\" style=\"border:0\" allowfullscreen=\"\"></iframe>\n</div>\n\n<ul>\n<li>熊本県玉名市</li>\n<li>駅近（目と鼻の先）・徒歩 1 分</li>\n<li>駐車場は建物前なので大きくはない</li>\n</ul>\n<h2>内容</h2><p>急遽泊まることになり、ギリギリに予約の電話を入れた。</p>\n<ul>\n<li>部屋: 洋室 素泊りプラン（6 畳）</li>\n<li>バス・トイレ別</li>\n<li>値段: 5,350 円<br>(値段は失念したが、楽天トラベル経由より直接電話の方が安かった)</li>\n</ul>\n<h2>部屋</h2><p>建物や部屋は古いが、不潔感は<strong>全く無く</strong>、清掃も行き届いている印象。</p>\n<h2>総評</h2><p>家族経営らしく、受付なども良い意味でアットホームな感じ。素泊まりだったが、今度は食事もお願いしたい。</p>\n<p>室内の写真を予約サイトで見た時は、古い感じがして期待していなかったが、前述の通り不潔感も無く、気持ちよく宿泊ができた。</p>\n<p>門限が 23 時と決められている為注意。（家族経営からか?）</p>\n","excerpt":"場所 / 内容 / 部屋 / 総評","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"レビュー","slug":"レビュー","path":"tags/%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC/"}],"prev":{"title":"[Windows 10] 作業中にアップデートで再起動させない方法","path":"20161022115045.html"},"next":{"title":"[名探偵コナン] ジンの最強ポエム列伝","path":"20160925172934.html"}},{"title":"[名探偵コナン] ジンの最強ポエム列伝","path":"20160925172934.html","permalink":"https://b.0218.jp/20160925172934.html","date":"2016-09-25T17:29:34.000Z","updated":"2016-11-21T15:15:08.000Z","thumbnail":"https://i.imgur.com/yFONz6Z.png","content":"<p>ジンの兄貴の名言の中でも特にポエムっぽいものを集めてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>詩人編</h2><h3>黒い大砲</h3><blockquote>\n<p>「ああ…あの方が奴の何を恐れているかは知らねぇが…所詮は 1 匹…銀の弾 1 発だけじゃ、黒い大砲には勝てねぇよ…」</p>\n</blockquote>\n<p>「銀の弾丸(シルバーブレット)」に対して、黒の組織を「黒い大砲」と表現。なお、その黒の組織の幹部の殆どがスパイの模様。</p>\n<h3>探偵</h3><blockquote>\n<p>「お前の言う通り…小説の中だけにして欲しいもんだぜ…シャーロック・ホームズのような探偵はな…」</p>\n</blockquote>\n<p>探偵、ホームズ以外知らないのかな。</p>\n<h3>ポエム</h3><blockquote>\n<p>「戯言は終わりだ…さぁ夢から醒めて…お前の好きな緋色で…再会を祝おうじゃないか…なぁ…シェリー…」</p>\n<p>「綺麗じゃねーか…闇に舞い散る白い雪…それを染める緋色の鮮血…組織（われわれ）の目を欺くためのその眼鏡とツナギは、死に装束にしては無様だが…ここは裏切り者の死に場所には上等だ…そうだろ？シェリー…」</p>\n</blockquote>\n<p>即興ポエムバトル開幕である。</p>\n<h3>サイコ</h3><blockquote>\n<p>「ああ…嬉しくてゾクゾクするぜ…奴が生きていたとしたら…もう一度殺れるんだからな…」</p>\n</blockquote>\n<p>ジンの狂気性が表れている発言。<br>なお、「あの赤井を”また”殺れる」と言っているが、手を下したのはキールでジンではない模様。</p>\n<h2>動物さん編</h2><h3>キツネさん</h3><blockquote>\n<p>「見ろ！ケースの内側に発信機だ…こいつはとんだキツネだぜ…」</p>\n<p>「どうやら組織（われわれ）のことを嗅ぎ回っている野郎がいるようだ…キツネのような探偵がな… 」</p>\n</blockquote>\n<p><img src=\"https://i.imgur.com/yFONz6Z.png\" alt=\"Imgur\" loading=\"lazy\"></p>\n<h3>ヒツジさん?</h3><blockquote>\n<p>「まだだコルン…邪魔な羊が多すぎる…DJ がベンチに腰を降ろすまで待て 」</p>\n<p>「退屈しのぎに関係ねぇ羊を狩るんじゃねーぜ…」</p>\n</blockquote>\n<p>罪のない一般市民はヒツジさん。超ファンシー。</p>\n<h3>カエルさん?</h3><blockquote>\n<p>「フン…ドイツの雨ガエルも…偉くなったもんだ…」</p>\n</blockquote>\n<p>ウォッカに褒められて、照れながら愛車を雨蛙と表現。</p>\n<h3>ハエさん</h3><blockquote>\n<p>「キールの檻の場所なんざ最初から眼中に無ぇよ…要は、その場所を我々に知られたと覚らせ、FBI（やつら）の脳天に恐怖の楔を打ち込む事だ…後は急いた FBI（ハエども）が…どう飛ぶか…」</p>\n</blockquote>\n<p>FBI はハエ。キツネ探偵よりも酷い表現。<br>ハエが群がる黒の組織は何だっていう話だ。?</p>\n<h3>ネズミさん?</h3><blockquote>\n<p>「歯だ…キールは唯一残ったその武器で、鼠の手首を骨が見える程噛み砕いて銃を奪い…戦意を無くした鼠の顎の下から僅かに動くその指で引き金（トリガー）を絞り、頭を吹っ飛ばした…キレた獣にしか出来ねぇ芸当だ… 」</p>\n<p>「ああ…聞こえもしねぇ鼠の耳元で奴の仲間が念仏のように唱えてたぜ…本堂本堂――ってなァ… 」</p>\n</blockquote>\n<p>スパイは可愛くネズミと表現。<br>殺してない奴の名前はしっかりと覚えている模様。</p>\n<h3>ヘビさん?</h3><blockquote>\n<p>「蛇に飲み込まれているのならシェリー…この名古屋がお前の終着駅だ… 」</p>\n</blockquote>\n<p>子供みたいに列車をヘビと表現。</p>\n<h2>誤魔化し</h2><h3>♡♡♡</h3><blockquote>\n<p>「フン…黒と黒が混ざっても…黒にしかならねぇよ…」</p>\n</blockquote>\n<p>照れ隠しかな？</p>\n<h3>覚えられない</h3><blockquote>\n<p>「悪いなウォッカ…殺（バラ）した奴の顔と名前は…忘れることにしているんだ…」</p>\n<p>「いけねぇな…あの世（あっち）に逝っちまった奴の顔と名前はどうにも忘れちまう…」</p>\n</blockquote>\n<p>そういう制約なのに、殺せてない人間(工藤新一)も覚えてない模様。<br>殺したと思い込んでいる赤井は覚えている模様。</p>\n<h2>まぬけ編</h2><h3>読めていない</h3><blockquote>\n<p>「今頃助けに来た男と、どこか遠くの街にしけこんでるところだろーよ… オレ達に顔を見られた街(杯戸町)に、のん気に留まるようなバカな女じゃねぇからなァ… 」</p>\n</blockquote>\n<p>そもそも杯戸町に居なかった模様。しかも近くの街にいる。</p>\n<h3>黒歴史</h3><blockquote>\n<p>「動くなよ… お前の背中は完全に取った…その背広に風穴を開ける前に聞きたいことがある」</p>\n</blockquote>\n<p>向かいのビルの屋上に上がっただけでこの発言。なお、毛利小五郎には聞こえていない模様。</p>\n<h3>驕り</h3><blockquote>\n<p>「フン… 成功しても失敗しても世間に知られることは無い… それが組織（われわれ）のやり方だ…」</p>\n</blockquote>\n<p>FBI、CIA、公安、高校生探偵、発明家、小説家、女優など…世間にも広く知られている模様。</p>\n<h3>逆ギレ</h3><blockquote>\n<p>「俺の頬骨を鉛の弾で抉ったあの FBI なら… この件に乗じて処理する算段だ…」</p>\n</blockquote>\n<p>頬骨を抉られたのは、不用意にスコープで赤井を覗いたため。</p>\n<h3>裏切り者のにおい</h3><blockquote>\n<p>「裏切り者はにおいを消せねぇからな…」</p>\n</blockquote>\n<p>なお、周りにいる沢山のスパイの”におい”には全く気付かない模様。</p>\n","excerpt":"詩人編 / 動物さん編 / 誤魔化し / まぬけ編","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"玉名 ビジネスホテル鈴鹿に泊まった時のメモ\n","path":"20161007011533.html"},"next":{"title":"業務でマイナンバーカードを他人に貸出すことについて\n","path":"20160921144629.html"}},{"title":"業務でマイナンバーカードを他人に貸出すことについて\n","path":"20160921144629.html","permalink":"https://b.0218.jp/20160921144629.html","date":"2016-09-21T14:46:29.000Z","updated":"2016-09-28T19:32:41.000Z","thumbnail":"","content":"<p>マイナンバーカードの相談窓口に電話をした。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>状況</h2><p>社内でマイナンバーカードを利用した試験について通達があった。</p>\n<blockquote>\n<p>マイナンバーカードを未所持の者については、既に所持している者からマイナンバーカードを借り、試験を行うこと</p>\n</blockquote>\n<p>マイナンバーカードを貸し出すとは言え、顔見知りの人間に対してなので、それを悪用されるとは思っていない。ただ、それをさも当然のように貸し出す旨を通達される事について憤りを感じた為、それが問題ないのかについて問い合わせを行った。</p>\n<h3>マイナンバーの提供を求められる主なケース</h3><p>総務省のウェブサイトには以下のような記述がある。</p>\n<table>\n<thead>\n<tr>\n<th>提供を求める者</th>\n<th>提供する必要のある者</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>勤務先</td>\n<td>・給与、退職金などを受け取る方<br>・厚生年金、健康保険及び雇用保険の資格を取得される方<br>・国民年金の第三号被保険者（従業員の配偶者）など</td>\n</tr>\n</tbody></table>\n<p>つまり、勤務先が従業員に対して、マイナンバーカードの提供を求められるのは、上記のように社会保障や税に関するものだけである。</p>\n<h2>マイナンバーカードの貸し借り</h2><p>窓口によると、「<strong>法律上の罰則規定はない</strong>」との事。<br>ただし、「非常に重要な番号なので、むやみに貸し出しなどは行わないように」とは言われた。</p>\n<h2>回答に近い公式 Q&amp;A</h2><p>注意喚起をするにあたり、公式のウェブサイトにそれに近い回答が無いか窓口の方へ確認を行った。<br>案内されたものは以下である。</p>\n<blockquote>\n<p><strong>Q3-5 マイナンバーを取り扱う場合に何に注意すればいいですか。</strong><br>A.マイナンバーは生涯にわたって利用する番号なので、通知カードやマイナンバーカードをなくしたり、マイナンバーをむやみに提供したりしないようにしてください。<br>マイナンバーの通知や利用、マイナンバーカードの交付などの手続で、行政機関などが口座番号や口座の暗証番号、所得や資産の情報、家族構成や年金・保険の情報などを聞いたり、お金やキャッシュカードを要求したりすることは一切ありません。銀行の ATM の操作をお願いすることもありません。<br>こうした内容の電話、手紙、メール、訪問などには絶対に応じないよう、注意してください。</p>\n</blockquote>\n<p>あれだけ注意喚起をしておきながら、これでは拘束力が弱いと個人的に思う。</p>\n<h2>むやみに他人に提供することはできない</h2><blockquote>\n<p>マイナンバーは、社会保障、税、災害対策の手続のために、国や地方公共団体、勤務先、金融機関、年金・医療保険者などに提供するものです。こうした法律で定められた目的以外にむやみに他人にマイナンバーを提供することはできません。<br><small><a href=\"http://www.cas.go.jp/jp/seisaku/bangoseido/gaiyou.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">マイナンバー社会保障・税番号制度</a>より</small></p>\n</blockquote>\n<h2>参考</h2><ul>\n<li><a href=\"http://www.soumu.go.jp/kojinbango_card/12.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">マイナンバー制度に便乗した不正な勧誘や個人情報の取得にご注意ください！</a></li>\n<li><a href=\"http://www.cas.go.jp/jp/seisaku/bangoseido/pdf/qa_case.pdf\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">http://www.cas.go.jp/jp/seisaku/bangoseido/pdf/qa_case.pdf</a></li>\n<li><a href=\"http://www.gov-online.go.jp/tokusyu/mynumber/faq/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">マイナンバー Q&amp;A</a></li>\n</ul>\n","excerpt":"状況 / マイナンバーカードの貸し借り / 回答に近い公式 Q&A / むやみに他人に提供することはできない / 参考","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"調査","slug":"調査","path":"tags/%E8%AA%BF%E6%9F%BB/"}],"prev":{"title":"[名探偵コナン] ジンの最強ポエム列伝","path":"20160925172934.html"},"next":{"title":"[Let's Encrypt] AndroidのGoogle Chromeでエラーになる場合の対処法","path":"20160919114012.html"}},{"title":"[Let's Encrypt] AndroidのGoogle Chromeでエラーになる場合の対処法","path":"20160919114012.html","permalink":"https://b.0218.jp/20160919114012.html","date":"2016-09-19T11:40:12.000Z","updated":"2016-09-19T11:40:12.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>環境</h2><ul>\n<li>Nginx + Let’s Encrypt</li>\n<li>Android 6.0 + Google Chrome</li>\n</ul>\n<h2>状況</h2><p>Android + Google Chrome でアクセスすると、「この接続ではプライバシーが保護されていません」と表示される（赤色の鍵アイコン）。<br>Android + Google Chrome 以外の環境では問題なく動作している。</p>\n<h2>解決方法</h2><p>nginx の<code>.conf</code>の設定を変えた。cert.pem を指定していたところを fullchain.pem へ変更。</p>\n<pre><code>ssl_certificate    /etc/letsencrypt/live/0218.jp/fullchain.pem;</code></pre>\n\n<h2>参考</h2><ul>\n<li><a href=\"https://community.letsencrypt.org/t/lets-encrypt-certificate-not-working-for-andriods-google-chrome/7184\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Let’s encrypt certificate not working for Andriod’s Google Chrome</a></li>\n</ul>\n","excerpt":"環境 / 状況 / 解決方法 / 参考","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Android","slug":"Android","path":"tags/Android/"}],"prev":{"title":"業務でマイナンバーカードを他人に貸出すことについて\n","path":"20160921144629.html"},"next":{"title":"[CSS] :not()セレクタを複数指定する方法","path":"20160918155218.html"}},{"title":"[CSS] :not()セレクタを複数指定する方法","path":"20160918155218.html","permalink":"https://b.0218.jp/20160918155218.html","date":"2016-09-18T15:52:18.000Z","updated":"2020-10-20T11:20:18.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>状況</h2><p>以下のようなページネーションがある。</p>\n<pre><code class=\"html\">&lt;ul class=\"pagination\"&gt;\n  &lt;li class=\"frist\"&gt;&lt;/li&gt;\n  &lt;li class=\"previous\"&gt;&lt;/li&gt;\n  &lt;li&gt;01&lt;/li&gt;\n  &lt;li&gt;02&lt;/li&gt;\n  &lt;li&gt;03&lt;/li&gt;\n  &lt;li class=\"active\"&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;/li&gt;\n  &lt;li class=\"last\"&gt;&lt;/li&gt;\n&lt;/ul&gt;</code></pre>\n<p><code>frist</code> <code>previous</code> <code>active</code> <code>last</code>以外の要素にスタイルを適応したい。こういう場合、<code>:not()</code>セレクタを使って指定を除外するが、複数指定する場合も同様に<code>:not()</code>セレクタを使う。</p>\n<h2>使用方法</h2><p>Selectors Level 3 では、<code>:not(.frist, previous)</code>ように続けて指定できない。<br>以下のように<code>:not()</code>を繋げて指定する必要がある。</p>\n<pre><code class=\"css\">&amp;:not(.frist):not(.next):not(.previous):not(.last):not(.active) {\n  /* style */\n}</code></pre>\n<p>Selectors Level 4 では、リスト形式を入れ込むことが出来る。</p>\n<pre><code class=\"css\">&amp;:not(.frist, .next, .previous, .last, .active) {\n  /* style */\n}</code></pre>\n<p><a href=\"https://drafts.csswg.org/selectors/#negation\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://drafts.csswg.org/selectors/#negation</a></p>\n","excerpt":"状況 / 使用方法","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[Let's Encrypt] AndroidのGoogle Chromeでエラーになる場合の対処法","path":"20160919114012.html"},"next":{"title":"[iOS] Appストアに公開したアプリの証明書の有効期限が切れたらどうなるか","path":"20160905143643.html"}},{"title":"[iOS] Appストアに公開したアプリの証明書の有効期限が切れたらどうなるか","path":"20160905143643.html","permalink":"https://b.0218.jp/20160905143643.html","date":"2016-09-05T14:36:43.000Z","updated":"2016-09-05T14:36:43.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>状況</h2><p>社内用アプリの証明書の有効期限が切れた場合、アプリを起動することができなくなる。（この場合、新しい証明書で署名したアプリを配布し直す必要がある）<br>それを踏まえた時に、App ストアに公開したアプリの署名の有効期限が切れた場合、どういう動きをするのか不明だったので調べてみた。</p>\n<h2>結論</h2><blockquote><b>iOS 配布用証明書 (App Store)</b>\nApple Developer Program のメンバーシップが有効な場合は、App Store で公開されている既存のアプリケーションに影響が及ぶことはありません。ただし、新しいアプリケーションやアップデート版を App Store に提出することはできなくなります。\n<footer><a href=\"https://developer.apple.com/support/certificates/jp/\">https://developer.apple.com/support/certificates/jp/</a></footer></blockquote>\n\n<p>ユーザ側では何も気にする必要は無さそう。ただ、開発者としては次回のアップデート時に合わせて証明書を発行し直す必要がある、という事だろうか。</p>\n","excerpt":"状況 / 結論","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"iOS","slug":"iOS","path":"tags/iOS/"}],"prev":{"title":"[CSS] :not()セレクタを複数指定する方法","path":"20160918155218.html"},"next":{"title":"[Windows] 破損・不足したシステムファイルを修復する方法","path":"20160901012722.html"}},{"title":"[Windows] 破損・不足したシステムファイルを修復する方法","path":"20160901012722.html","permalink":"https://b.0218.jp/20160901012722.html","date":"2016-09-01T01:27:22.000Z","updated":"2016-09-01T01:27:22.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><p>システム ファイル チェッカー ツール (SFC.exe) を実行する。</p>\n<p>実行すると以下のような表示になる。</p>\n<pre><code>Microsoft Windows [Version 6.3.9600]\n(c) 2013 Microsoft Corporation. All rights reserved.\n\nC:\\Windows\\system32&gt;SFC /scannow\n\nシステム スキャンを開始しています。これにはしばらく時間がかかります。\n\nシステム スキャンの検証フェーズを開始しています。\n検証 62% が完了しました。</code></pre>\n<h2>参考</h2><ul>\n<li><a href=\"https://support.microsoft.com/ja-jp/kb/929833\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">システム ファイル チェッカー ツールを使用して不足または破損しているシステム ファイルを修復する</a></li>\n</ul>\n","excerpt":"方法 / 参考","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows","slug":"Windows","path":"tags/Windows/"}],"prev":{"title":"[iOS] Appストアに公開したアプリの証明書の有効期限が切れたらどうなるか","path":"20160905143643.html"},"next":{"title":"[macOS] .DS_Storeを作らない方法","path":"20160901005120.html"}},{"title":"[macOS] .DS_Storeを作らない方法","path":"20160901005120.html","permalink":"https://b.0218.jp/20160901005120.html","date":"2016-09-01T00:51:20.000Z","updated":"2016-09-27T12:16:02.000Z","thumbnail":"","content":"<p>Mac 上ある.DS_Store は別に良いが、共有のファイルサーバにアクセスする時に邪魔だったので作成しないように設定した。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><blockquote>\n<p>SMB/CIFS、AFP、NFS、WebDAV サーバの操作が影響を受けます。</p>\n</blockquote>\n<h3>無効にする</h3><pre class=\"bash\"><code>defaults write com.apple.desktopservices DSDontWriteNetworkStores <b>true</b></code></pre>\n\n<pre><code class=\"bash\">killall Finder</code></pre>\n<p>Finder を再起動して反映</p>\n<h3>有効にする</h3><pre class=\"bash\"><code>defaults write com.apple.desktopservices DSDontWriteNetworkStores <b>false</b></code></pre>\n\n<pre><code class=\"bash\">killall Finder</code></pre>\n<p>Finder を再起動して反映</p>\n<h2>既に作成されている.DS_Store を削除する</h2><pre class=\"bash\"><code>find . -name .DS_Store -exec rm -fr {} \\;</code></pre>\n\n<h2>参考</h2><ul>\n<li><a href=\"https://support.apple.com/ja-jp/HT1629\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Mac OS X v10.4 and later：ネットワーク接続時に .DS_Store ファイルの作成を抑制する方法</a></li>\n</ul>\n","excerpt":"方法 / 既に作成されている.DS_Store を削除する / 参考","categories":[{"name":"macOS","slug":"macOS","path":"categories/macOS/"}],"tags":[{"name":"macOS","slug":"macOS","path":"tags/macOS/"}],"prev":{"title":"[Windows] 破損・不足したシステムファイルを修復する方法","path":"20160901012722.html"},"next":{"title":"[Windows 10] エクスプローラやタスクバー選択時に固まるときの対処法","path":"20160825123929.html"}},{"title":"[Windows 10] エクスプローラやタスクバー選択時に固まるときの対処法","path":"20160825123929.html","permalink":"https://b.0218.jp/20160825123929.html","date":"2016-08-25T12:39:29.000Z","updated":"2016-08-25T12:39:29.000Z","thumbnail":"","content":"<p>Anniversary Update を適用後にフリーズが頻発するようになった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>環境</h2>\n* Windows 10 (バージョン 1607 / ビルド 14393.82)\n\n<h2>症状</h2>\n<ul>\n   <li>フォルダ・ファイルを開く、ファイル保存する…などを行うと「応答なし」になる、開かない\nアプリが起動しない</li>\n   <li>タスクマネージャーがフリーズ</li>\n   <li>再起動が終わらない</li>\n</ul>\n<h2>解決に向けて試した方法</h2>\nAnniversary Update の適用を元に戻す、もしくは修正パッチが配布されるのを待つのが懸命ではあるが、どうしても不具合が発生する中で作業をせざるを得なかったため、色々と試行錯誤をした。\n\n<p>以下、試してみた事を記載するが、因果関係は全く無い。(負荷の掛かりそうな項目をオフにしたり)<br>ただ改善したような気がしないこともない。(要追記)</p>\n<h3>待機する</h3>\n再起動が終わらない際など、しばらく待機しても再起動が終わらない場合が多々あった。\n結局、電源ボタンを押し強制的に終了させた。\n\n<h3>PCを強制終了</h3>\n起動し直すので解消される場合もあるが、結局は起動時の調子に依る。\n\n<h3>Windows Update の設定を変更</h3>\n「複数の場所から更新する」を「オフ」に変更した\n<pre>Windows Update → 詳細オプション → 更新プログラムの提供方法を選ぶ</pre>\n\n<h3>Windows Defender の設定を変更</h3>\n「クラウドベースの保護」、「サンプルの自動送信」をそれぞれ「オフ」に変更した\n","excerpt":"環境 / 症状 / 解決に向けて試した方法","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows 10","slug":"Windows-10","path":"tags/Windows-10/"}],"prev":{"title":"[macOS] .DS_Storeを作らない方法","path":"20160901005120.html"},"next":{"title":"[iOS] 証明書などの有効期限について","path":"20160727145634.html"}},{"title":"[iOS] 証明書などの有効期限について","path":"20160727145634.html","permalink":"https://b.0218.jp/20160727145634.html","date":"2016-07-27T14:56:34.000Z","updated":"2016-07-27T14:56:34.000Z","thumbnail":"","content":"<h2>概要</h2>\n「有効期限は、iOS Developer Enterprise Programでは\"3年\"」って聞いていたが、何の有効期限だっけ… プロビジョニングは何年だっけ…　となったので確認した。\n<h2>有効期限</h2>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Developer Program</th>\n<th>Enterprise Program</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>証明書</td>\n<td>1年</td>\n<td>3年</td>\n</tr>\n<tr>\n<td>プロビジョニングプロファイル</td>\n<td>1年</td>\n<td>1年</td>\n</tr>\n</tbody>\n</table>\n\n<h3>プロビジョニングプロファイル</h3>\nプロビジョニングプロファイルの有効期限には、両ライセンスともに1年。\n\n<p>Enterprise Program だと証明書が 3 年であるが、プロビジョニングプロファイルの期限が切れると通常と同様にアプリが起動できなくなる。</p>\n","excerpt":"概要 / 有効期限","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"iOS","slug":"iOS","path":"tags/iOS/"}],"prev":{"title":"[Windows 10] エクスプローラやタスクバー選択時に固まるときの対処法","path":"20160825123929.html"},"next":{"title":"[C++] メモリ確保エラーをキャッチする方法","path":"20160723150147.html"}},{"title":"[C++] メモリ確保エラーをキャッチする方法","path":"20160723150147.html","permalink":"https://b.0218.jp/20160723150147.html","date":"2016-07-23T15:01:47.000Z","updated":"2016-07-23T15:01:47.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n<h3>std::bad_alloc</h3>\n<pre class=\"cpp\"><code>#include &lt;new&gt;\ntry {\n  unsigned char* buffer = new unsigned char[size + 1];\n} catch (std::bad_alloc) {\n  // \n}\n</code></pre>\n\n<h3>GetLastError</h3>\n<pre class=\"cpp\"><code>try {\n  unsigned char* buffer = new unsigned char[size + 1];\n} catch (...) {\n  int err = GetLastError();\n  if (ERROR_NOT_ENOUGH_MEMORY == err) {\n    //\n  }\n}</code></pre>\n","excerpt":"方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"C++","slug":"C","path":"tags/C/"}],"prev":{"title":"[iOS] 証明書などの有効期限について","path":"20160727145634.html"},"next":{"title":"Google AdsenseがMaterial Design Lite(MDL)で再読み込みされる問題\n","path":"20160722000557.html"}},{"title":"Google AdsenseがMaterial Design Lite(MDL)で再読み込みされる問題\n","path":"20160722000557.html","permalink":"https://b.0218.jp/20160722000557.html","date":"2016-07-22T00:05:57.000Z","updated":"2016-09-03T12:06:45.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>現象</h2>\nMaterial Design Lite(以下、MDL)で構築したサイト(<code>mdl-js-layout</code>使用)にGoogle Adsenseを埋め込む。埋め込んだページを表示すると、広告が一度表示された後に再読み込みが発生してしまう。\n\n<h2>調査</h2>\n<h3>mdl-componentupgradedイベントを使う</h3>\nMDLの issue に報告があった「<a href=\"https://github.com/google/material-design-lite/issues/1926\">Google adsense is loaded twice because of \"mdl-js-layout\" · Issue #1926 · google/material-design-lite:</a>」\n\n<p><code>mdl-componentupgraded</code>イベントを拾って、そこでスクリプトを読みこめば良さそう。</p>\n<p>Adsense の広告コードはこんな感じ。</p>\n<pre class=\"javascript\"><code><script async=\"\" src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>\n\n<ins class=\"adsbygoogle\" style=\"display:inline-block;width:336px;height:280px\" data-ad-client=\"ca-pub-xxxxx\" data-ad-slot=\"xxxxx\"></ins>\n\n<script>\n(adsbygoogle = window.adsbygoogle || []).push(&#123;&#125;);\n</script></code></pre>\n\n<p><code>//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js</code>を<code>mdl-componentupgraded</code>のタイミングで読み込むようにしてみる。</p>\n<h3>動的に読み込む</h3>\nAdsenseのスクリプトを<code>mdl-componentupgraded</code>のタイミングで動的に読み込む。\n<pre class=\"javascript\"><code>document.addEventListener('mdl-componentupgraded', function() {\n    if (!document.getElementById('adsbygooglejs')) {\n        var head = document.getElementsByTagName('head')[0];\n        var script = document.createElement('script');\n        script.id = 'adsbygooglejs';\n        script.src = \"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\";\n        head.appendChild(script);\n        // 以下略\n    }\n});</code></pre>\n<code>mdl-componentupgraded</code>が何度か呼ばれることを考慮して、既にスクリプトが埋め込まれている場合はスルーする。\n\n<p>これで問題の事象は解消した。</p>\n","excerpt":"現象 / 調査","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[C++] メモリ確保エラーをキャッチする方法","path":"20160723150147.html"},"next":{"title":"[名探偵コナン] 黒の組織 ウォッカ有能伝説","path":"20160719122754.html"}},{"title":"[名探偵コナン] 黒の組織 ウォッカ有能伝説","path":"20160719122754.html","permalink":"https://b.0218.jp/20160719122754.html","date":"2016-07-19T12:27:54.000Z","updated":"2016-07-19T12:27:54.000Z","thumbnail":"","content":"<p>「<a href=\"https://b.0218.jp/20160229233556.html\">ジンの無能っぷりが取り沙汰されている</a>」が、隣にいるウォッカが有能過ぎるが故にジンの失態が際立っているのではないかという説。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>紹介</h2><ul>\n<li>オシャレな黒スーツに黒帽子</li>\n<li>清潔感のある短髪</li>\n<li>右利き</li>\n<li>がっしりとした体格</li>\n<li>顎をシャクレさせて、キャメル捜査官を孤立させない優しさ</li>\n<li>ジンへの忠誠心が高く、「兄貴」と呼ぶ</li>\n<li>「〜ですぜ」「〜ですかい」という特徴的な丁寧語で場を和ませる</li>\n<li>多彩な能力でジンをサポート</li>\n<li>ポルシェ 356A を乗り回す</li>\n<li>基本的にウォッカと行動するジンとは対照的に単独行動もこなす</li>\n<li>裏表紙の鍵穴に登場できないジン(88 巻現在)とは違い、38 巻で登場を果たす</li>\n</ul>\n<hr>\n<h2>原作</h2><h3>ジェットコースター殺人事件</h3><ul>\n<li>遊園地での取引を良しとしたジンに付き合う</li>\n<li>ジンと一緒にジェットコースターに乗ってあげる</li>\n<li>ジンが「おらおら、犯人はその女で決まりだ」と怒鳴る後ろでヒヤヒヤするもジンを立てて我慢</li>\n<li>取引をサボったジンに代わり応対</li>\n<li>ジンに取引現場を目撃した高校生を始末する役目を作ってあげる</li>\n</ul>\n<h3>黒の組織との再会</h3><ul>\n<li>麻酔針を撃たれて動きが鈍ったジンの代わりに射撃</li>\n</ul>\n<h3>謎めいた乗客</h3><ul>\n<li>ジンにカクテルにタバコを突っ込まれドン引きするも我慢</li>\n</ul>\n<h3>黒の組織との接触</h3><ul>\n<li>自らのミスを指摘させてジンの株を上げる</li>\n<li>調子に乗って「まだこの辺にいるはずだ」とロッカー周辺を探すジンに付き合うも、気迫にちょっと引く</li>\n</ul>\n<h3>黒の組織と真っ向勝負 満月の夜の二元ミステリー</h3><ul>\n<li>特殊メイクで単独でパーティ会場へ乗り込む</li>\n<li>きちんと工藤新一を覚えている有能さ</li>\n<li>「殺した人物」を覚えられないジンをしっかりサポート</li>\n</ul>\n<h3>ブラックインパクト! 組織の手が届く瞬間</h3><ul>\n<li>「疑わしきは罰せよ、ですね！」と顔真っ赤なジンをすかさずフォロー</li>\n</ul>\n<h3>赤と黒のクラッシュ</h3><ul>\n<li>車だけではなく、バイクも乗りこなす</li>\n<li>複数ある囮車両の中から、キールが乗せられている車に張り付ける運の良さ</li>\n</ul>\n<h3>漆黒の特急</h3><ul>\n<li>名古屋駅で待ちぼうけを食らうジンに同行</li>\n</ul>\n<hr>\n<h2>映画</h2><h3>天国へのカウントダウン</h3><ul>\n<li>きちんと裏切り者を報告（一方でジンは勘違いで園子を狙撃し無能さを露呈）</li>\n</ul>\n<h3>漆黒の追跡者</h3><ul>\n<li>組織の幹部らしく現場に痕跡を残さない<br>（ジンは現場に散乱した絵の具を踏み、佐藤刑事に第三者の存在を気付かれる失態を犯す）</li>\n<li>戦闘ヘリを難なく操縦</li>\n<li>攻撃され操縦不能になったヘリから脱出（乗員全員無事）</li>\n</ul>\n<h3>純黒の悪夢</h3><ul>\n<li>他メンバーが単独でスパイを始末する中、ジンのサポートに付いてあげる</li>\n<li>ジンが「疑わしきは罰せよ」でキールとバーボンを殺そうとすることには歯を食いしばって動揺<br>2 人に対しても「昔のよしみ」を口にするなど、とても人間味があるナイスガイ</li>\n<li>サーモグラフィー操縦</li>\n</ul>\n","excerpt":"紹介 / 原作 / 映画","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"Google AdsenseがMaterial Design Lite(MDL)で再読み込みされる問題\n","path":"20160722000557.html"},"next":{"title":"[Visual Studio 2015] Update3 を削除する方法","path":"20160629135846.html"}},{"title":"[Visual Studio 2015] Update3 を削除する方法","path":"20160629135846.html","permalink":"https://b.0218.jp/20160629135846.html","date":"2016-06-29T13:58:46.000Z","updated":"2016-06-29T13:58:46.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>経緯</h2>\n何も考えずに Update3 を適応したら、C++のコンパイラが変わったようで既存のプログラムがビルドできなくなった。\nこれに対応している時間がないので、さっくり Update3 をなかったことにする。\n\n<h2>手順</h2>\n単純にアンインストールしてインストールし直すだけではあるが、私の行った手順を記載しておく。\n<ol>\n <li>[プログラムのアンインストールまたは変更]画面から「Microsoft Visual Studio Enterprise 2015 with Updates」を選択して「変更」をクリック</li>\n <li>修正やアンインストールができる画面が表示されるので、アンインストールを選択</li>\n <li>アンインストール完了後、再起動を行う。\n 私は以下のディレクトリをリネームしておいた。\n <pre>C:\\Program Files (x86)\\Microsoft Visual Studio 14.0</pre></li>\n</ol>\n\n<ol>\n <li>改めて Visual Studio 2015 のインストールを行う。</li>\n <li>カスタムインストールを選択する</li>\n <li>Update3 のチェックが入っているので、チェックを外す\n あとの構成はお好みで。</li>\n <li>インストールが完了すればOK</li>\n</ol>\n","excerpt":"経緯 / 手順","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Windows","slug":"Windows","path":"tags/Windows/"}],"prev":{"title":"[名探偵コナン] 黒の組織 ウォッカ有能伝説","path":"20160719122754.html"},"next":{"title":"[名探偵コナン] 声優で犯人が分かる説","path":"20160530000141.html"}},{"title":"[名探偵コナン] 声優で犯人が分かる説","path":"20160530000141.html","permalink":"https://b.0218.jp/20160530000141.html","date":"2016-05-30T00:01:41.000Z","updated":"2018-09-24T22:50:14.000Z","thumbnail":"","content":"<h2>概要</h2>\n登場人物の中の人が特定の人物だと、「お、○○だ。犯人だな」となってしまう場合がある。\nこうした感覚は誰しもあるようで、2chでも声優の犯人率がコピペになっていた。\n<blockquote>犯人役が多い声優(2015.1まで、2話以上の回は1回でカウント、SP含む、映画除く)\n\n<p>森久保祥太郎　 4 回出て 4 回犯人　【100%】<br>平田広明　　　 3 回出て 3 回犯人　【100%】<br>山寺宏一　　　 2 回出て 2 回犯人　【100%】<br>伊藤美紀　　　 7 回出て 6 回犯人　【86%】<br>矢尾一樹　　　 8 回出て 6 回犯人　【75%】<br>緑川光　　　　 4 回出て 3 回犯人　【75%】<br>子安武人　　　 7 回出て 5 回犯人　【71%】<br>久川綾　　　　 7 回出て 4 回犯人　【57%】<br>中原茂　　　　 6 回出て 3 回犯人　【50%】<br>石田彰　　　　 4 回出て 2 回犯人　【50%】</p></blockquote><br>ひとまず、挙げられている 10 名を調査してみたいと思う。<br>「2015 年 1 月まで」とあるので、2016 年 4 月現在とは結果が変わってくる可能性が多いにある。<p></p>\n<p>今後、増えれば追記していく方針。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>森久保祥太郎</h2>\n<blockquote>4回出て4回犯人　【100%】</blockquote>\n<s>改めて調べてみたが、出演作全てで犯人だった。</s>\n→ <strong>5回出て4回犯人　【80%】</strong>\n\n<p>追記: <span class=\"text-danger\">【悲報】822-823「容疑者は熱愛カップル」にて、容疑者の鴻江保人を演じるも犯人には至らず</span><br>ただ、それでも「<strong>森久保祥太郎の声を聴いたら犯人と思って差し支えない</strong>」と思う。</p>\n<h3>出演作</h3><ul>\n<li>361-362「帝丹高校学校怪談」<br>世古国繁<br>→ 犯人</li>\n<li>476-477「元太の必殺シュート」<br>児島乾史<br>→ 犯人</li>\n<li>594-595「広島宮島七不思議ツアー」<br>喜多村雄一<br>→ 犯人</li>\n<li>686「時限爆弾を乗せた車」<br>蟹山銀二<br>→ 犯人</li>\n<li>822-823「容疑者は熱愛カップル」<br>鴻江保人<br>→ 容疑者</li>\n</ul>\n<h2>平田広明</h2><blockquote><s>3回出て3回犯人　【100%】</s></blockquote>\n→ **5回出て4回犯人　【80%】**\n劇場作品を除けば犯人率は100%であった。\n\n<h3>出演作</h3><ul>\n<li>51「ゴルフ練習場殺人事件」<br>南智史<br>→ 犯人</li>\n<li>153-154「園子のアブない夏物語」<br>道脇正彦<br>→ 犯人</li>\n<li>225「商売繁盛のヒミツ」<br>亀倉雄二<br>→ 犯人</li>\n<li>913-914「連れ去られたコナン」<br>鷹取厳男<br>→ 犯人</li>\n</ul>\n<h4>その他</h4><ul>\n<li>「名探偵コナン ベイカー街の亡霊」<br>樫村忠彬<br>→ 被害者</li>\n</ul>\n<h2>山寺宏一</h2>\n<blockquote>3回出て3回犯人　【100%】</blockquote>\n意外と出演作は少ないが、打率が半端ない。\n\n<p>「ルパン三世」で銭形警部役として出演するように。ただ、コナン界のキャラクターではない為、今回は集計外とする。</p>\n<h3>出演作</h3>\n<ul>\n   <li>385-387 「ストラディバリウスの不協和音」\n羽賀響輔\n→ 犯人</li>\n   <li>449 「本庁の刑事恋物語 偽りのウエディング」\n平正輝\n→ 犯人</li>\n</ul>\n<h4>その他</h4>\n<ul>\n   <li>「水平線上の陰謀」\n日下ひろなり\n→ 犯人</li>\n   <li>「ルパン三世VS名探偵コナン THE MOVIE」\n銭形警部</li>\n</ul>\n<h2>伊藤美紀</h2>\n<blockquote>7回出て6回犯人　【86%】</blockquote>\n<h3>出演作</h3>\n<ul>\n   <li>71「ストーカー殺人事件」\n西谷美帆\n→ 犯人</li>\n   <li>162「空飛ぶ密室　工藤新一最初の事件」\n天野つぐみ\n→ 犯人</li>\n   <li>261-262「雪の夜の恐怖伝説」\n北条初穂\n→ 犯人</li>\n   <li>379-380「秘湯雪闇振袖事件」\n明智恵理\n→ 犯人</li>\n   <li>438「お魚メールの追跡」\n満の母</li>\n   <li>441「最期のアーン」\n鈴木由美\n→ 犯人</li>\n   <li>680「サボテン狂騒曲」\n八代美紗\n→ 犯人</li>\n</ul>\n\n<h2>矢尾一樹</h2>\n<blockquote>8回出て6回犯人　【75%】</blockquote>\n初期から出演されている。出演されていたら、ほぼ犯人と見て良い。\n「愚か者への遺産」は犯人ではなかったものの、ほぼ犯人みたいな感じだった。\n<h3>出演作</h3>\n<ul>\n   <li>10「プロサッカー選手脅迫事件」\n上村直樹\n→ 犯人</li>\n   <li>109「探偵団大追跡事件」\n宍戸健一\n→ 犯人</li>\n   <li>412「神社鳥居ビックリ暗号（後編）」\n嘉納\n→ 犯人</li>\n   <li>446-447「封印された洋窓」\n倉本耀治\n→ 犯人</li>\n   <li>481-482「山姥の刃物」\n香原風雅</li>\n   <li>501-503「赤と黒のクラッシュ」\nトビー・ケインズ\n→ 犯人</li>\n   <li>539「愚か者への遺産」\n矢口明彦</li>\n   <li>707「はめられた名探偵」\n氷室礼二\n→ 犯人</li>\n</ul>\n\n<h2>緑川光</h2>\n<blockquote>4回出て3回犯人　【75%】</blockquote>\n余談だが「不思議な春のかぶと虫」にて子安武人と共演。圧倒的な犯人力で子安をねじ伏せ犯人の座を守った。\n\n<p>「ルパン三世 VS 名探偵コナン(TV スペシャル/MOVIE)」でキース・ダン・スティンガー役として出演したが、コナン界のキャラクターではない為、今回は集計外とする。</p>\n<h3>出演作</h3>\n<ul>\n   <li>184「呪いの仮面は冷たく笑う」\n藍川冬矢\n→ 犯人</li>\n   <li>360「不思議な春のかぶと虫」\n石田隆志\n→ 犯人</li>\n   <li>439「そして誰もいなくなればいい」\n神尾俊之\n→ 犯人</li>\n   <li>452「こんぴら座の怪人」\n河竹乙弥</li>\n</ul>\n\n<h3>追記</h3><p>「仲の悪いガールズバンド」にて、ストーリーのキーパーソンであるスコッチ役に。<br>そのため今後、犯人役での登場はほぼ無いかと思われる。</p>\n<h4>その他</h4>\n<ul>\n   <li>「ルパン三世VS名探偵コナン」(TVスペシャル)\nキース・ダン・スティンガー</li>\n</ul>\n<h2>子安武人</h2>\n<blockquote>7回出て5回犯人　【71%】</blockquote>\n→ <strong>7回出て3回犯人　【43%】</strong>\n意外と犯人率は低いが、ただただ<strong>滅茶苦茶怪しい</strong>容疑者が多い。\n余談だが、「不思議な春のかぶと虫」にて緑川光と共演するも緑川の犯人力に負けてしまう。\n<h3>出演作</h3>\n<ul>\n   <li>21「ＴＶドラマロケ殺人事件」\n那智真吾</li>\n   <li>129「黒の組織からきた女　大学教授殺人事件」\n白倉陽\n→ 犯人</li>\n   <li>248「癒しの森のアリバイ」\n村上紫郎\n→ 犯人</li>\n   <li>360「不思議な春のかぶと虫」\n荒木豊</li>\n   <li>431-432「本庁の刑事恋物語７」\n江本将史</li>\n   <li>629-630「プロモビデオ撮影事件」\n宮坂裕弥</li>\n   <li>748-749「本庁の刑事恋物語（告白・真相）」\n志賀敏成\n→ 犯人</li>\n</ul>\n<h2>久川綾</h2>\n<blockquote>8回出て4回犯人　【50%】</blockquote>\n→ <strong>9回出て4回犯人　【45%】</strong>\n出演作が増えたため、犯人率が下がってしまった。\n<h3>出演作</h3>\n<ul>\n   <li>121-122「バスルーム密室事件」\n青島全代\n→ 犯人</li>\n   <li>266-268「バレンタインの真実」\n甘利亜子\n→ 犯人</li>\n   <li>342「ハウステンボスの花嫁」\n大賀美華\n→ 犯人</li>\n   <li>434「名犬クールのお手柄」\n堤美里</li>\n   <li>490「服部平次 VS 工藤新一　ゲレンデの推理対決」\n立石雫</li>\n   <li>562「虹色（レインボウカラー）の誘拐」\n仁地村沙希\n→ 犯人</li>\n   <li>735「暗号付きの招待状」\n北坂香織</li>\n</ul>\n<h4>その他</h4>\n<ul>\n   <li>「天国へのカウントダウン」\n沢口ちなみ</li>\n   <li>「銀翼の奇術師」\n矢口真佐代</li>\n</ul>\n<h2>中原茂</h2>\n<blockquote>6回出て3回犯人　【50%】</blockquote>\n→ <strong>7回出て3回犯人　【43%】</strong>\n\n<p>犯人っぽいけど、犯人じゃない人が多い印象。犯人率も低い。</p>\n<p>人造人間 17 号</p>\n<h3>出演作</h3>\n<ul>\n   <li>22-23「豪華客船連続殺人事件」\n旗本武</li>\n   <li>110-111「料理教室殺人事件」\n西谷宏明\n→ 犯人</li>\n   <li>166-168「鳥取クモ屋敷の怪」\nロバート・テイラー\n→ 犯人</li>\n   <li>249-250「アイドル達の秘密」\n間熊篤</li>\n   <li>440「極限のカースタント」\n深町真二\n→ 犯人</li>\n   <li>516-517「風林火山　迷宮の鎧武者・陰と雷光の決着」\n龍尾景</li>\n</ul>\n<h4>その他</h4>\n<ul>\n   <li>MAGIC FILE2「工藤新一 謎の壁と黒ラブ事件」\n秋本光一</li>\n</ul>\n<h2>石田彰</h2>\n<blockquote>4回出て2回犯人　【50%】</blockquote>\n→ <strong>3回出て2回犯人　【66%】</strong>\n\n<p>白馬探役で出た後に犯人役としても登場している。フェイクだ。</p>\n<p>「名探偵コナン」「まじっく快斗」の両作品で白馬探として出演している為、初回登場を除き集計から除外する。</p>\n<h3>出演作</h3>\n<ul>\n   <li>22-23「豪華客船連続殺人事件」\n旗本一郎\n→ 犯人</li>\n   <li>219「集められた名探偵！ 工藤新一vs怪盗キッド」\n白馬探</li>\n   <li>415-417「仏滅に出る悪霊」\n綿引勝史・綿引勝史の弟\n→ 犯人</li>\n</ul>\n<h4>その他</h4>\n<ul>\n   <li>まじっく快斗\n白馬探</li>\n   <li>「探偵たちの鎮魂歌」\n白馬探</li>\n</ul>\n","excerpt":"概要 / 森久保祥太郎 / 平田広明 / 山寺宏一 / 伊藤美紀","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[],"prev":{"title":"[Visual Studio 2015] Update3 を削除する方法","path":"20160629135846.html"},"next":{"title":"[Electron v1.1.0] Windowsで起動ができなくなった時の対処法","path":"20160520233141.html"}},{"title":"[Electron v1.1.0] Windowsで起動ができなくなった時の対処法","path":"20160520233141.html","permalink":"https://b.0218.jp/20160520233141.html","date":"2016-05-20T23:31:41.000Z","updated":"2016-05-20T23:31:41.000Z","thumbnail":"","content":"<h2>環境</h2><ul>\n<li>electron v1.1.0</li>\n<li>Windows 7</li>\n</ul><h2>状況（エラー）</h2><p><code>electron .</code>を実行すると以下の様なエラーが発生した。</p><pre>npm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"C:\\\\Program Files\\\\nodejs\\\\node.exe\" \"C:\\\\Users\\\\hiro\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"start\"\nnpm ERR! node v6.2.0\nnpm ERR! npm  v3.9.0\nnpm ERR! code ELIFECYCLE\nnpm ERR! hoge@1.1.0 start: `electron .`\nnpm ERR! Exit status 3221225781\nnpm ERR!\nnpm ERR! Failed at the hoge@1.1.0 start script 'electron .'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the hoge package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     electron .\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs hoge\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls hoge\nnpm ERR! There is likely additional logging output above.\n\n<p>npm ERR! Please include the following file with any support request:<br>npm ERR! C:\\workspace\\hoge\\npm-debug.log</p>\n<p></p></pre><h2>確認</h2><h3>Node.js のアップデートと再インストール</h3><p>アップデートと再インストールをしてみたが、特に変化なし。</p><h3>electronを確認してみる</h3><p>electron v1.1.0 の Release Note を確認してみると以下の様な記述があった。</p><blockquote><p></p>\n<p><strong>Windows</strong></p>\n<ul>\n<li>Use Visual Studio 2015 for building.</li>\n</ul>\n</blockquote><p>何やらVS2015を使い始めたらしい。</p><h4>再頒布可能パッケージをインストールする</h4><p><a href=\"https://www.microsoft.com/ja-JP/download/details.aspx?id=48145\">Visual Studio 2015 の Visual C++ 再頒布可能パッケージ</a>をインストールする。</p><p>インストールが完了して、再び<code>electron .</code>を実行してみると、エラーは解消されていた。</p>\n","excerpt":"環境 / 状況（エラー） / 確認","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Electron","slug":"Electron","path":"tags/Electron/"}],"prev":{"title":"[名探偵コナン] 声優で犯人が分かる説","path":"20160530000141.html"},"next":{"title":"[Skype] 広告を非表示にする方法","path":"20160422101040.html"}},{"title":"[Skype] 広告を非表示にする方法","path":"20160422101040.html","permalink":"https://b.0218.jp/20160422101040.html","date":"2016-04-22T10:10:40.000Z","updated":"2016-04-22T10:10:40.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>背景</h2>\n<p>広告の切り替えタイミングでテキスト入力のフォーカスが切れて、タイピングが上手くできない事が多々あった。</p>\n<h2>環境</h2>\n<ul>\n<li>Windows 8.1 x64</li>\n</ul>\n<h2>方法</h2>\n<h3>通信を遮断する</h3>\n<p>制限付きサイトに追加する</p>\n<ol>\n<li>ファイル名を指定して実行に「<b>inetcpl.cpl</b>」 を入力し、『インターネットのプロパティ』を開く<br>\nもしくは、IEのインターネットオプションから『<b>インターネットオプション</b>』を開く</li>\n<li>「セキュリティ」タブを開く</li>\n<li>「制限付きサイト」を選択し、「サイト」をクリック</li>\n<li>「<b>https://apps.skype.com</b>」を追加</li>\n</ol>\n<h3>広告表示領域を消す</h3>\n<ol>\n<li>以下のディレクトリにある「config.xml」を開く<br><pre>C:\\Users\\(Windowsのユーザ名)\\AppData\\Roaming\\Skype\\(SkypeのユーザID)</pre>\n</li>\n<li>以下の行を削除する\n<pre><code class=\"xml\">&lt;AdvertPlaceholder&gt;1&lt;/AdvertPlaceholder&gt;\n</code></pre>\n</li>\n</ol>\n","excerpt":"背景 / 環境 / 方法","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[],"prev":{"title":"[Electron v1.1.0] Windowsで起動ができなくなった時の対処法","path":"20160520233141.html"},"next":{"title":"[名探偵コナン] 沖矢昴の正体を知ってる人 一覧","path":"20160403152800.html"}},{"title":"[名探偵コナン] 沖矢昴の正体を知ってる人 一覧","path":"20160403152800.html","permalink":"https://b.0218.jp/20160403152800.html","date":"2016-04-03T15:28:00.000Z","updated":"2016-04-03T15:28:00.000Z","thumbnail":"","content":"<h1>沖矢昴の正体を知ってる人 一覧</h1>\n<h2>知ってる人</h2>\n<ul>\n<li>江戸川コナン</li>\n<li>ジェイムズ・ブラック</li>\n<li>キール</li>\n<li>工藤優作</li>\n<li>工藤有希子</li>\n<li>阿笠博士</li>\n<li>ジョディ・スターリング</li>\n<li>アンドレ・キャメル</li>\n</ul>\n<h3>江戸川コナン</h3>\n<p>赤井と共に偽装トリックに関わる。</p>\n<h3>キール</h3>\n<p>共に偽装トリックに関わる。</p>\n<h3>ジェイムズ・ブラック</h3>\n<p>来葉峠へ向かう際、指のコーティング(指紋のトリック用)に気付かれたため、偽装の件を伝える。</p>\n<h3>工藤有希子</h3>\n<p>変装の為に協力。</p>\n<h3>阿笠博士</h3>\n<p>変装(変声機)の為に協力。</p>\n<h3>工藤優作</h3>\n<p>緋色の真相にて、安室を出し抜く為、沖矢に変装。<br>有希子が協力していた為、当初から知っていたと思われる。</p>\n<h3>ジョディ・スターリング</h3>\n<p>緋色の真相にて、赤井の死に不信感を抱き、入れ替わりに気づく。</p>\n<h3>アンドレ・キャメル</h3>\n<p>ジョディと同様。</p>\n<h2>安室透</h2>\n<p>コナンが関わり、赤井が入れ替わっているという真相に辿り着いたが、上手く出し抜かれてしまった。(「緋色の真相」にて)<br>現在、沖矢昴と赤井秀一は別人だと認識している模様。</p>\n","excerpt":"知ってる人 / 安室透","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"},{"name":"沖矢昴","slug":"沖矢昴","path":"tags/%E6%B2%96%E7%9F%A2%E6%98%B4/"}],"prev":{"title":"[Skype] 広告を非表示にする方法","path":"20160422101040.html"},"next":{"title":"[iOS] OTA配信のmanifest.plist覚書","path":"20160324184437.html"}},{"title":"[iOS] OTA配信のmanifest.plist覚書","path":"20160324184437.html","permalink":"https://b.0218.jp/20160324184437.html","date":"2016-03-24T18:44:37.000Z","updated":"2016-03-24T18:44:37.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>manifest.plist</h2>\n<p>Xcodeから吐き出したplistだけれど、使い回しが出来るようなのでメモ。</p>\n<pre><code class=\"xml\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n    &lt;key&gt;items&lt;/key&gt;\n    &lt;array&gt;\n        &lt;dict&gt;\n            &lt;key&gt;assets&lt;/key&gt;\n            &lt;array&gt;\n                &lt;dict&gt;\n                    &lt;key&gt;kind&lt;/key&gt;\n                    &lt;string&gt;software-package&lt;/string&gt;\n                    &lt;key&gt;url&lt;/key&gt;\n                    &lt;string&gt;https://dl.dropboxusercontent.com/u/xxx/OTA/xxx.ipa&lt;/string&gt;\n                &lt;/dict&gt;\n                &lt;dict&gt;\n                    &lt;key&gt;kind&lt;/key&gt;\n                    &lt;string&gt;display-image&lt;/string&gt;\n                    &lt;key&gt;url&lt;/key&gt;\n                    &lt;string&gt;https://dl.dropboxusercontent.com/u/xxx/OTA/57x57.png&lt;/string&gt;\n                &lt;/dict&gt;\n                &lt;dict&gt;\n                    &lt;key&gt;kind&lt;/key&gt;\n                    &lt;string&gt;full-size-image&lt;/string&gt;\n                    &lt;key&gt;url&lt;/key&gt;\n                    &lt;string&gt;https://dl.dropboxusercontent.com/u/xxx/OTA/512x512.png&lt;/string&gt;\n                &lt;/dict&gt;\n            &lt;/array&gt;\n            &lt;key&gt;metadata&lt;/key&gt;\n            &lt;dict&gt;\n                &lt;key&gt;bundle-identifier&lt;/key&gt;\n                &lt;string&gt;jp.0218.xxx&lt;/string&gt;\n                &lt;key&gt;bundle-version&lt;/key&gt;\n                &lt;string&gt;1.0.0&lt;/string&gt;\n                &lt;key&gt;kind&lt;/key&gt;\n                &lt;string&gt;software&lt;/string&gt;\n                &lt;key&gt;title&lt;/key&gt;\n                &lt;string&gt;XXX&lt;/string&gt;\n            &lt;/dict&gt;\n        &lt;/dict&gt;\n    &lt;/array&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n<p>例えば、<code>bundle-identifier</code>が<code>bindle-identifier</code>とかになってると、エラーになるのでタイポには注意。</p>\n","excerpt":"manifest.plist","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"iOS","slug":"iOS","path":"tags/iOS/"}],"prev":{"title":"[名探偵コナン] 沖矢昴の正体を知ってる人 一覧","path":"20160403152800.html"},"next":{"title":"[WordPress] wp_nav_menu()のスペースを除去する方法","path":"20160315165201.html"}},{"title":"[WordPress] wp_nav_menu()のスペースを除去する方法","path":"20160315165201.html","permalink":"https://b.0218.jp/20160315165201.html","date":"2016-03-15T16:52:01.000Z","updated":"2016-03-15T16:52:01.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\n<code>wp_nav_menu()</code>を使用している。\n出力の際、適当にインデントして出力されるので、<code></code><ul><code></code><li><code></code>を横並びにした時に無駄なスペースが入ってしまう。\n<b>スペースを取り除きたい。</b>\n\n<h2>解決方法</h2>\nfunctions.phpに以下を仕込む。\n\n<pre><code class=\"php\">function remove_whitespace_wp_nav_menu( $items ) {\n    return preg_replace( '/&gt;(\\s|\\n|\\r)+&lt;/', '&gt;&lt;', $items );\n}\nadd_filter( 'wp_nav_menu_items', 'remove_whitespace_wp_nav_menu' );</code></pre>\n</li></ul>","excerpt":"状況 / 解決方法","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[iOS] OTA配信のmanifest.plist覚書","path":"20160324184437.html"},"next":{"title":"[名探偵コナン] ジンの失態一覧","path":"20160229233556.html"}},{"title":"[名探偵コナン] ジンの失態一覧","path":"20160229233556.html","permalink":"https://b.0218.jp/20160229233556.html","date":"2016-02-29T23:35:56.000Z","updated":"2017-04-14T22:05:35.000Z","thumbnail":"","content":"<p>ジンの兄貴の人物紹介です。お茶目な醜態っぷりをまとめてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>通常</h2>\n<ul>\n   <li>常に黒いロングコートに黒帽子</li>\n   <li>腰までロン毛</li>\n   <li>左利き</li>\n   <li>タバコはマッチ派</li>\n   <li>愛用の拳銃はベレッタM1934</li>\n   <li>アニメOPでは歯をむき出しにして笑顔</li>\n   <li>愛車が目立つので、すぐ「ジンの車だ！」ってなっちゃう</li>\n   <li>でも運転はウォッカ</li>\n   <li>基本的にウォッカと行動</li>\n   <li>頭はきれるが、策略には素直にハマる</li>\n   <li>1巻から登場しているのに、裏表紙の鍵穴に登場できない(88巻現在)</li>\n</ul>\n\n<hr>\n\n<h2>原作</h2>\n<h3>ジェットコースター殺人事件</h3>\n<ul>\n   <li>何故か遊園地で取引を良しとする</li>\n   <li>ジェットコースターから観覧車下の取引場所を確認しようとする</li>\n   <li>列に割り込んでまでウォッカと一緒にジェットコースターに乗る</li>\n   <li>一番怖いと言われる最後尾に乗っちゃう</li>\n   <li>無理やり列を割り込んだせいで関係ない殺人事件に巻き込まれちゃう</li>\n   <li>警察に滅茶苦茶ビビる</li>\n<li>「平気で何人も殺してきたような」冷たい目をして新一にアピール\n</li></ul>\n\n<ul>\n<li>高校生相手に背後から鉄パイプで襲いかかる<ul>\n<li>めっちゃ振りかぶったのに殺せていない、非力！か弱すぎる！</li>\n</ul>\n</li>\n<li>殺害に何故か未完成の薬を使っちゃう</li>\n<li>「死体から毒が検出されない」毒薬使うのに、そもそも殴打してて意味ない</li>\n<li>去り際に「あばよ」って言っちゃう</li>\n</ul>\n<h3>奇妙な人捜し殺人事件(10億円強奪事件)</h3>\n<ul>\n   <li>宮野明美を殺して、10億円の入ったロッカーの鍵(偽物)を無事にゲット</li>\n</ul>\n<h3>新幹線大爆破事件</h3>\n<ul>\n   <li>簡単に会話を盗聴される</li>\n   <li>「木端微塵」という会話を盗聴してたコナンの「こっぱ！」という叫び声を聞いたのに、「こっぱ六十四！」で誤魔化せられる</li>\n   <li>新幹線が爆破しなかった件をその後特に調査しない</li>\n</ul>\n<h3>黒の組織から来た女</h3>\n<ul>\n   <li>ターゲットを一般人に先に殺される</li>\n</ul>\n<h3>黒の組織との再会</h3>\n<ul>\n   <li>シェリーの髪の毛はすぐ分かる</li>\n   <li>「見ろよ、綺麗じゃねえか、空に舞い散る白い雪、それを染める緋色の鮮血」をスルーされる</li>\n   <li>「見つけたんだよ暖炉のそばで… おまえの赤みがかった茶髪をな…」というストーカー発言</li>\n   <li>「聞えてたぜ？ 暖炉の中からおまえの震えるような吐息がなァ…」というセクハラ</li>\n   <li>麻酔針を撃たれた箇所を拳銃で撃ちぬく無茶</li>\n   <li>煙突に逃げたシェリーを追い、煙突からゆっくり登場する</li>\n   <li>灰原を見てシェリーが幼児化した事を見抜いたピスコを理由も聞かず射殺</li>\n   <li>シェリーには逃げられる</li>\n</ul>\n<h3>謎めいた乗客</h3>\n<ul>\n   <li>歌姫に鼻の下を伸ばしているのをベルモットにからかわれる</li>\n</ul>\n<h3>黒の組織との接触</h3>\n<ul>\n   <li>罠に嵌められたウォッカに指摘してドヤァ</li>\n   <li>調子に乗って「まだこの辺にいるはずだ」とロッカー周辺を探すも誰もいない</li>\n   <li>急にコインロッカーを順に開けていき、ウォッカに引かれる</li>\n   <li>コナンが入っているロッカーを開けかけたあたりで、「大人が隠れられるわけないか」と恥ずかしくなって帰る</li>\n</ul>\n<h3>黒の組織と真っ向勝負 満月の夜の二元ミステリー</h3>\n<ul>\n   <li>「殺した人間の顔と名前は覚えないようにしている」と誤魔化すが、実際工藤新一は殺せてない</li>\n   <li>殺した相手の顔と名前を忘れてしまうため、ウォッカなしでは工藤新一の話についていけない</li>\n   <li>気になったのか、わざわざベルモットに「工藤新一ってガキ知ってるか？」と確認しちゃう</li>\n</ul>\n<h3>ブラックインパクト! 組織の手が届く瞬間</h3>\n<ul>\n   <li>競馬を聴いてるだけの小五郎に会話を盗聴されてると勘違いし、窓越しに語りかける</li>\n   <li>「動くなよ、お前の背中は完全に取った」と語りかけたが、赤井に背後を取られている最中</li>\n   <li>勘違いが露呈すると、皆殺しにしようとする</li>\n   <li>皆殺しはマズいと諭すベルモットに顔面真っ赤で拳銃を向ける</li>\n   <li>赤井に背後を取られて「そういうことか」と勝手に勘違いして逃げる</li>\n   <li>「俺はまだ、毛利小五郎を完全なシロだとは思ってねぇしな」←毛利小五郎は完全なシロ</li>\n</ul>\n<h3>赤と黒のクラッシュ</h3>\n<ul>\n   <li>策略にはまり、キールを怪しむ</li>\n   <li>策略にはまり、キールに赤井を殺させる</li>\n   <li>策略にはまり、赤井の頭部を撃って止めを指すように命令する</li>\n   <li>策略にはまり、赤井秀一が死んだと勘違いしている</li>\n</ul>\n<h3>漆黒の特急</h3>\n<ul>\n   <li>スマホ持ちを読者にアピール</li>\n   <li>ベルモットの口からシェリーの名が聴けて嬉しい</li>\n   <li>ベルツリー急行を「鉄の蛇」としか言わない</li>\n   <li>シェリーを殺すために名古屋駅で待つが、列車は来ない</li>\n</ul>\n\n<hr>\n\n<h2>映画</h2>\n<h3>天国へのカウントダウン</h3>\n<ul>\n   <li>ダイイングメッセージの「銀(Gin)」に気付けない</li>\n   <li>髪型をウェーブにしただけの園子をシェリーと勘違いして射殺しようとする(髪の毛しか目に入らない)</li>\n</ul>\n<h3>漆黒の追跡者</h3>\n<ul>\n   <li>現場を荒らして(絵の具を踏む)、佐藤刑事に第三者の存在を気付かれる</li>\n   <li>江戸川コナンの正体(幼児化した事実)を知っているアイリッシュを殺す</li>\n   <li>東都タワーに武装ヘリで機関銃を乱射する</li>\n   <li>「一体何者なんだ!?」と動揺</li>\n   <li>丸腰のコナンにヘリを撃墜されて脱出</li>\n</ul>\n\n<h3>純黒の悪夢</h3><ul>\n<li>各国のスパイを始末するが、他のメンバーが単独で始末していく中、ジンはウォッカと二人で行動する</li>\n<li>キールとバーボンを尋問し、「疑わしきは罰する、それが俺の流儀だ」とドヤる</li>\n<li>ジン「俺は意外と優しいんだぜぇ」</li>\n<li>キールとバーボンを始末する直前に謎の「1分間待ってやる」で場を盛り上げる<br>\n→ 赤井の策略でバーボンを逃がす失態（しかも赤井には全く気付かず）</li>\n<li>ジン「行き先は…東都水族館…！」</li>\n<li>オスプレイ的な何かに乗ってウッキウッキになる</li>\n<li>オスプレイ的な何かでクレーンゲームをしている間にキュラソーに逃げられる</li>\n<li>自信作の爆弾を安室に解除されてしまう</li>\n<li>起爆しない爆破スイッチを怒りの16連射 <small>ｶﾁｶﾁｶﾁｶﾁｶﾁｶﾁｶﾁ</small></li>\n</ul>\n<h4>メンバーの活躍</h4><ul>\n<li>ベルモット: 遊園地の配電盤掌握</li>\n<li>キャンティ: オスプレイ操縦</li>\n<li>コルン: オスプレイ副操縦</li>\n<li>ウオッカ: サーモグラフィー操縦</li>\n<li><b>ジン: 爆弾のスイッチを押す(押せない)</b></li>\n</ul>\n<h4>予告</h4><ul>\n<li>「お前ら、一斉に始末してやる！」と息巻くが本編ではカット</li>\n</ul>\n\n<h2>参考</h2>\n一部引用：\n<blockquote>322 名前：以下、名無しにかわりましてVIPがお送りします[sage] 投稿日：2011/06/17(金) 19:24:18.89 ID:Sxm1+fuT0\n★名探偵コナン - ジンの人気の秘密★\n\n<p>・昼間からおっさん二人で並んでる列に割り込んでジェットコースターに乗る<br>そこで殺人事件に巻き込まれて警察の事情聴取にビビりまくり<br>・工藤新一を殺害するのに効能不明の未完成の薬を使い、生き延びさせる<br>・会話を盗聴していたコナンの「こっぱ・・・！」という叫び声を聞いたのに、<br>「こっぱ・・・六十四！」で誤魔化されてしまう素直さ<br>・煙突の中のシェリーを確実に殺せたのに、死に花を咲かせてやろうとスルー。<br>結果逃がしてしまうという大ミス<br>・ついでに真相を知っているピスコを射殺<br>・50 過ぎのベルモットと肉体関係を持っている<br>・殺した相手の顔と名前を忘れてしまうため、ウォッカなしでは工藤新一の話についていけない<br>・コインロッカーを順に開けていき、コナンが入っているものを開けかけたにも関わらず、<br>数秒の差で思いとどまって帰る<br>・競馬を聴いてるだけの小五郎に会話を盗聴されてると勘違いし、窓越しに語りかける<br>・髪型をウェーブにした園子をシェリーと間違えて射殺しようとする<br>・シェリーの姿をいつも全裸で連想するムッツリ</p></blockquote><p></p>\n","excerpt":"通常 / 原作 / 映画 / 参考","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[WordPress] wp_nav_menu()のスペースを除去する方法","path":"20160315165201.html"},"next":{"title":"[Wacom] ペンタブが動作しない時、事前に確認しておくこと (Windows)","path":"20160225125546.html"}},{"title":"[Wacom] ペンタブが動作しない時、事前に確認しておくこと (Windows)","path":"20160225125546.html","permalink":"https://b.0218.jp/20160225125546.html","date":"2016-02-25T12:55:46.000Z","updated":"2016-02-25T12:55:46.000Z","thumbnail":"","content":"<p>公式サイトの FAQ に「<a href=\"http://tablet-faq.wacom.co.jp/faq/show/162\">ペンタブレットおよび液晶ペンタブレットがうまく動作しない際に事前にご確認いただきたい事項</a>」というページがあったので確認しておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>ステータスランプの点灯確認</h2>\n<blockquote>各ペンタブレットはPC本体のUSBポートに接続後ステータスランプが点灯します。\nステータスランプが消灯している場合でPC本体にUSBポートが複数ある場合は、USBポートの差しなおして改善があるかご確認ください。\n※キーボードやUSBハブ経由の場合は動作しない場合があります。\nペンタブレットのUSBケーブルをPC本体のUSBポートに接続して改善があるかご確認ください。（※ステータスランプの反応は製品によって異なります。詳しくオンラインマニュアル等をご参照ください）<footer>引用:<a href=\"http://tablet-faq.wacom.co.jp/faq/show/162\" target=\"_blank\">ペンタブレットおよび液晶ペンタブレットがうまく動作しない際に事前にご確認いただきたい事項（Windo | Wacom</a></footer></blockquote>\nまずは、きちんと接続ができているかを確認した方が良い。USBポートへの差し直しで改善があることも。\n\n<h2>デバイスマネジャー　「！」や「？」、「不明なデバイス」等の表示の確認</h2>\n<blockquote>[スタート]-[（マイ）コンピュータ]を右クリック-[管理]-[コンピュータの管理（ローカル）]システムツールのツリーの[デバイスマネジャー]を開き、[ヒューマンインターフェイスデバイス]もしくは[マウスとそのほかのポインティングデバイス]に「！」「？」「不明なデバイス」等のメッセージがあるかご確認ください。\n存在する場合はペンタブレットがPCに正常に認識されていない可能性があります。\nその場合は、右クリック→「削除」もしくは「無効」を行い、PCを再起動して改善があるかご確認ください。<footer>引用元:『<a href=\"http://tablet-faq.wacom.co.jp/faq/show/162\" target=\"_blank\">ペンタブレットおよび液晶ペンタブレットがうまく動作しない際に事前にご確認いただきたい事項（Windo | Wacom</a>』より</footer></blockquote>\nデバイスマネージャーを確認して[マウスとそのほかのポインティングデバイス]の個所に「不明なデバイス」等の表示がないか確認する。きちんとドライバがインストールされてない場合はそうなるかな。\n\n<h2>他社製マウスの併用の有無確認</h2>\nまれにタブレットドライバと競合することがあるとのこと。\n\n<h2>設定ファイルの削除</h2>\n<blockquote>設定ファイルユーティリティから、設定ファイルの削除（初期化）を行うことで改善されることがあります。設定ファイルの削除方法は、FAQ：設定ファイルユーティリティとはをご参照ください。\n※設定ファイルを削除した場合、ペンのサイドスイッチ・ファンクションキーなどに設定した内容は初期状態に戻ります。<footer>引用:<a href=\"http://tablet-faq.wacom.co.jp/faq/show/162\" target=\"_blank\">ペンタブレットおよび液晶ペンタブレットがうまく動作しない際に事前にご確認いただきたい事項（Windo | Wacom</a></footer></blockquote>\n設定ファイルユーティリティから、設定ファイルの削除（初期化）を行うことで改善されることがあるとのこと。\n\n<h2>タブレットドライバの再インストール</h2>\n<blockquote>タブレットドライバが正常に動作していない場合、ペン先の動作に不具合が生じることがあります。インストール済みのタブレットドライバをアンインストールの上、最新のタブレットドライバのインストールをお試しください。\n→タブレットドライバをアンインストール（削除）する方法はこちら\n→最新のタブレットドライバのダウンロードとインストールはこちら<footer>引用:<a href=\"http://tablet-faq.wacom.co.jp/faq/show/162\" target=\"_blank\">ペンタブレットおよび液晶ペンタブレットがうまく動作しない際に事前にご確認いただきたい事項（Windo | Wacom</a></footer></blockquote>\n手間暇が掛かるのでなるべく避けたいが、入れなおす事で解決することは多い。\nインストール済みのタブレットドライバをアンインストールの上、最新のタブレットドライバのインストールする。\n","excerpt":"ステータスランプの点灯確認 / デバイスマネジャー　「！」や「？」、「不明なデバイス」等の表示の確認 / 他社製マウスの併用の有無確認 / 設定ファイルの削除 / タブレットドライバの再インストール","categories":[{"name":"ガジェット","slug":"ガジェット","path":"categories/%E3%82%AC%E3%82%B8%E3%82%A7%E3%83%83%E3%83%88/"}],"tags":[{"name":"Wacom","slug":"Wacom","path":"tags/Wacom/"}],"prev":{"title":"[名探偵コナン] ジンの失態一覧","path":"20160229233556.html"},"next":{"title":"[名探偵コナン] 赤井秀一の死の偽装について (緋色シリーズ)","path":"20160217234035.html"}},{"title":"[名探偵コナン] 赤井秀一の死の偽装について (緋色シリーズ)","path":"20160217234035.html","permalink":"https://b.0218.jp/20160217234035.html","date":"2016-02-17T23:40:35.000Z","updated":"2016-02-17T23:40:35.000Z","thumbnail":"","content":"<blockquote>コナン史上最大の謎、「来葉峠」の真実がついにこの巻で明かされる</blockquote>\nなどと称された「来葉峠の真実」だが、赤井秀一の偽装死について振り返ってみる。\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>なぜ偽装する必要があったのか</h2>\n組織にキールを奪還させたが、あっさりと奪還できたことに組織は疑問を感じる。キールの裏切りを払拭できない組織は、キールに赤井暗殺を命じるだろうと予測してのこと。\n\n<h2>死体すり替えトリック</h2>\n<h3>概要</h3>\n<ul>\n  <li>キールは空砲に合わせて血糊が出る仕掛けで、撃たれた事を偽装</li>\n  <li>楠田陸道(死体)と入れ替わり死を偽装</li>\n</ul>\n\n<h3>楠田陸道とは</h3>\n赤井の偽装に使われた「楠田陸道」とは、キールの潜伏先の調査の為に派遣された組織の一員（ただし、コードネームも与えられていない組織の末端）。\n杯戸病院に頚椎捻挫と偽って入院している事や組織の一員である事を見抜かれ逃亡。赤井秀一に追われている事を知ると拳銃で頭部を撃ち自殺した。(何故…)\n\n<h3>指紋付着のトリック</h3>\n赤井と見られる死体から辛うじて焼け残った右手。この指紋が決め手となり、赤井秀一は死亡したとされた。\n\n<p>そもそも死体は楠田陸道であり、焼け残った右手も彼のものである。つまり、楠田陸道の指紋である。<br>「死体＝赤井」と認識させる為には、「照合する指紋＝死体の指紋」を一致させなければならない。<br>それでは、楠田陸道の指紋をどうやって入手したのか。</p>\n<p>3 人の男に携帯を拾わせようとしていた<br>潜入した組織の一員を見つける為にコナンが行った確認で、携帯に指紋を付着させた。</p>\n<ol start=\"1\">\n  <li>脂性の太った男が携帯を触り指紋が付着する。<br>→ 指紋を拭き取り、コナンの指紋のみ</li>\n  <li>痩せた男(楠田陸道)が携帯を触る<br>→ コナン、楠田の指紋</li>\n  <li>ペースメーカーを埋め込まれた老人は、電波を嫌い携帯には触れず<br>→ コナン、楠田の指紋</li>\n  <li>赤井、阿笠を呼ぶと言うコナンの携帯を取り上げる（指にコーティング）<br>→ コナン、楠田の指紋</li>\n  <li>ジョディに携帯を貸す<br>→ コナン、楠田、ジョディの指紋</li>\n</ol>\n\n<p>指にコーティングをして指紋が付着しないようにしていたが、それが原因で缶コーヒーを落としたり、ジェームズに気付かれたりしてしまう。</p>\n<p>来葉峠の事件後、ジョディは警察へ「赤井か否か」の確認へ赴く。<br>焼死体の男性らしき人物に携帯を拾い上げてもらったというジョディの証言を元に携帯に付着した指紋を照合。（楠田が触れた携帯であり、焼死体は楠田であるため）焼死体の指紋と携帯の指紋が一致する。</p>\n<p>この時点で読者やジョディ視点では、「焼死体＝赤井」という風に映る。</p>\n<h4>利き手</h4>\n利き手に着目する。\n\n<p>左利きの赤井秀一がコナンの携帯を取り上げる際、どういうわけか右手で触れている。これは楠田の利き手が右手であるためと思われる。</p>\n<blockquote>安室「その男はレフティ… 左利きなのに…  なぜか携帯に付着していたのは右手の指紋だった…　変だとは思いませんか？」\n沖矢「（中略）利き手が何かでふさがっていたからなんじゃ…」\n（中略）\n安室「その携帯はね… その男が手に取る前に別の男が拾っていて　その拾った男が右利きだったからですよ…」</blockquote>\n\n<h3>頭部</h3>\n楠田の死体は頭部が撃たれている。\n状況と死体の状態が違えば、入れ替わりがバレてしまう恐れが高い。\n\n<blockquote>沖矢「じゃあそのグルの女に頭を向けて空砲を撃ってくれと頼んでいたんですね？」\n安室「いや… 頭を撃てと命じたのは監視役の男… 」\n安室「予想していたんですよ… 監視役の男が拳銃でとどめを刺す際に必ずそうすると… 」</blockquote>\n\n<p>実際に赤井の頭を撃ったのはキールだが、指示を出したのはジンである。コナンは「ジンはとどめを刺す際は必ず頭を撃つ」と予想していたのである。<br>安室も「ピスコの時もそうだったようだ」と思っている事から、コナンもそう思ったのかもしれない。</p>\n<h2>安室の推理</h2>\n安室が推理した通り「赤井は楠田の死体と入れ替わり、沖矢昴として生活している」のだが、工藤優作の変装によって「赤井は生きているが、沖矢昴とは別人」という事で落ち着いたようである。\n\n<h2>沖矢昴の招待を知っている人物</h2>\n入れ替わり後、赤井は沖矢昴として身を隠しながら生活することになる。\n入れ替わりの協力者を含め、その時点で正体を知っている人物は以下の通り。\n\n<ul>\n  <li>江戸川コナン</li>\n  <li>阿笠博士</li>\n  <li>工藤有希子</li>\n  <li>工藤優作</li>\n  <li>ジェイムズ・ブラック</li>\n  <li>キール（水無怜奈）</li>\n</ul>\n\n<p>ちなみに緋色シリーズ中に彼の正体を知ったのは以下。</p>\n<ul>\n  <li>ジョディ・スターリング</li>\n  <li>アンドレ・キャメル</li>\n</ul>\n","excerpt":"なぜ偽装する必要があったのか / 死体すり替えトリック / 安室の推理 / 沖矢昴の招待を知っている人物","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[Wacom] ペンタブが動作しない時、事前に確認しておくこと (Windows)","path":"20160225125546.html"},"next":{"title":"[Windows 10] PDFの関連付けが勝手にEdgeになる時の対処法","path":"20160215183226.html"}},{"title":"[Windows 10] PDFの関連付けが勝手にEdgeになる時の対処法","path":"20160215183226.html","permalink":"https://b.0218.jp/20160215183226.html","date":"2016-02-15T18:32:26.000Z","updated":"2016-09-30T10:31:57.000Z","thumbnail":"https://i.imgur.com/RHpZhF3.png","content":"<p>関連付けの問題なので、PDF ファイルに限った話ではないが…。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>現象</h2><p>いつの間にか PDF ファイルの関連付けが Microsoft Edge になっている。</p>\n<p>私の環境では、以下のいずれかで発生。</p>\n<h2>簡単な解決方法</h2><p><img src=\"https://i.imgur.com/054ysLDl.png\" alt=\"プロパティ\" loading=\"lazy\"></p>\n<ol>\n<li>PDF ファイルを右クリックしてプロパティを開く</li>\n<li>プログラムの欄にある「変更(C)…」をクリックして、関連付けを変更する</li>\n</ol>\n<p>上記の方法が一番手っ取り早くて簡単かも。</p>\n<h2>状況に応じた解決方法</h2><p>簡単に解決するのであれば、前述の方法で良い。ただ、各々の原因に対応しているわけではないので、場合によっては解決しないかもしれない。そういう場合は、以下のそれぞれの状況に応じた対応を講じる方が良い。</p>\n<h3>1. 関連付けが変更された場合</h3><p><img src=\"https://i.imgur.com/RHpZhF3.png\" alt=\"アプリの規定がリセットされました\" loading=\"lazy\"></p>\n<p>通知メッセージが表示されて、関連付けが変わってしまう。</p>\n<blockquote>\n<p><strong>アプリの規定がリセットされました</strong><br>アプリが原因で.pdf ファイルの既定のアプリ設定に問題が発生したため、Microsoft Edge にリセットされました。</p>\n</blockquote>\n<h4>既定のアプリを変更する</h4><ol>\n<li>スタートメニューから[設定]を開く</li>\n<li>[設定]ウィンドウから[システム]を開く</li>\n<li>[システム]ウィンドウの左側のメニューの[既定のアプリ]を選択し、左側の画面下部にある[ファイルの種類ごとに既定のアプリを選ぶ]を選択</li>\n<li>[ファイルの種類ごとに既定のアプリを選ぶ]画面の左側より、「.pdf（PDF ファイル）」の左側にある[Microsoft Edge]をクリックし、[アプリを選ぶ]から任意のアプリケーションを選択する</li>\n</ol>\n<h3>2. 更新プログラムをインストールした場合</h3><p>Windows Update で「<a href=\"https://support.microsoft.com/ja-jp/kb/3135173\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\"><strong>更新プログラムの複合プログラム（KB3135173）</strong></a>」をインストールした直後に発生。</p>\n<p><code>KB3135173</code>の内容は以下の通り。</p>\n<table>\n<thead>\n<tr>\n<th>KB</th>\n<th>内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>MS16-009</strong></td>\n<td>Internet Explorer 用の累積的なセキュリティ更新プログラム (3134220)</td>\n</tr>\n<tr>\n<td><strong>MS16-011</strong></td>\n<td>Microsoft Edge 用の累積的なセキュリティ更新プログラム (3134225)</td>\n</tr>\n<tr>\n<td><strong>MS16-013</strong></td>\n<td>リモートでのコード実行に対処する Windows Journal 用のセキュリティ更新プログラム (3134811)</td>\n</tr>\n<tr>\n<td><strong>MS16-014</strong></td>\n<td>リモートでのコード実行に対処する Microsoft Windows 用のセキュリティ更新プログラム (3134228)</td>\n</tr>\n<tr>\n<td><strong>MS16-016</strong></td>\n<td>特権の昇格に対処する WebDAV 用のセキュリティ更新プログラム (3136041)</td>\n</tr>\n<tr>\n<td><strong>MS16-018</strong></td>\n<td>特権の昇格に対処する Windows カーネル モード ドライバー用のセキュリティ更新プログラム (3136082)</td>\n</tr>\n<tr>\n<td><strong>MS16-021</strong></td>\n<td>サービス拒否に対処する NPS RADIUS サーバー用のセキュリティ更新プログラム (3133043)</td>\n</tr>\n<tr>\n<td><strong>MS16-022</strong></td>\n<td>Adobe Flash Player のセキュリティ更新プログラム (3135782)</td>\n</tr>\n</tbody></table>\n<h4>更新プログラムのアンインストール</h4><ol>\n<li>スタートメニューから[設定]を開く</li>\n<li>[設定]ウィンドウより[システム]を開く</li>\n<li>[システム]ウィンドウの左側のメニューの[アプリと機能]を選択し、左側の画面下部にある[プログラムと機能]を選択</li>\n<li>[プログラムと機能]ウィンドウの左側にある[インストールされた更新プログラムを表示]をクリック</li>\n<li>[インストールされた更新プログラム]より「MicrosoftWindows（KB3135173）のセキュリティ更新プログラム」を選択し、[アンインストール]を実行</li>\n</ol>\n","excerpt":"現象 / 簡単な解決方法 / 状況に応じた解決方法","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows 10","slug":"Windows-10","path":"tags/Windows-10/"}],"prev":{"title":"[名探偵コナン] 赤井秀一の死の偽装について (緋色シリーズ)","path":"20160217234035.html"},"next":{"title":"[Amazonアソシエイト] SSL環境の商品画像について","path":"20160205003324.html"}},{"title":"[Amazonアソシエイト] SSL環境の商品画像について","path":"20160205003324.html","permalink":"https://b.0218.jp/20160205003324.html","date":"2016-02-05T00:33:24.000Z","updated":"2016-02-05T00:33:24.000Z","thumbnail":"https://images-na.ssl-images-amazon.com/images/I/61j5qb9p%2BTL._SL160_.jpg","content":"<p><code>https</code>から始まる画像 URL の覚書。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>対応</h2>\n現状、通常は「ecx.images-amazon.com」で配信しているようだが、ここのドメインはSSL対応していない模様。httpsは「images-na.ssl-images-amazon.com」から取得しないといけないみたい。\n\n<p>それぞれ以下のようにする。</p>\n<h3>通常</h3>\n<a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B015QHZNXU/chafuso-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\"><img src=\"https://images-na.ssl-images-amazon.com/images/I/61j5qb9p%2BTL._SL160_.jpg\" alt=\"Wings Flap(初回生産限定盤)(Blu-ray Disc付)\"></a>\n<pre><code>http://ecx.images-amazon.com/images/I/61j5qb9p%2BTL._SL160_.jpg</code></pre>\n\n<h3>SSL</h3>\n<a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B015QHZNXU/chafuso-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\"><img src=\"https://images-na.ssl-images-amazon.com/images/I/61j5qb9p%2BTL._SL160_.jpg\" alt=\"Wings Flap(初回生産限定盤)(Blu-ray Disc付)\"></a>\n<pre><code>https://images-na.ssl-images-amazon.com/images/I/61j5qb9p%2BTL._SL160_.jpg</code></pre>\n","excerpt":"対応","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"Web","slug":"Web","path":"tags/Web/"}],"prev":{"title":"[Windows 10] PDFの関連付けが勝手にEdgeになる時の対処法","path":"20160215183226.html"},"next":{"title":"[Wacom] 「タブレットドライバが見つかりません」で筆圧が効かない時の対処方法","path":"20160125102338.html"}},{"title":"[Wacom] 「タブレットドライバが見つかりません」で筆圧が効かない時の対処方法","path":"20160125102338.html","permalink":"https://b.0218.jp/20160125102338.html","date":"2016-01-25T10:23:38.000Z","updated":"2016-01-25T10:23:38.000Z","thumbnail":"https://hiro0218.github.io/blog/images/wacom_tablet_utility.png","content":"<p>タブレットドライバを更新してペンタブが反応しなかった人。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>環境</h2>\nWindows 7 (64bit)\n<h2>症状</h2>\n<ul>\n  <li>PC起動時に「タブレットドライバが見つかりません」というエラーダイアログが表示される</li>\n  <li>ペイントソフトで筆圧が感知されない</li>\n</ul>\n<h2>試した方法</h2>\n私の環境では解決しなかったが環境によっては解決するかもしれない。\n\n<h3>USBポートを変える</h3>\n空いている他のUSBポートに差し替えてみた。\n私の環境では解決しなかった。\n\n<h3>サービスの再起動を行う</h3>\n<a href=\"https://b.0218.jp/20120917193032.html\">「[Wacom] ペンタブが認識しない時の対処方法」</a>の記事を参考にWacomサービスの再起動を行ってみたが私の環境では解決しなかった。\n<h3>ドライバーの再インストール</h3>\n<h4>アンインストール</h4>\n<ol>\n  <li>[コントロールパネル] -&gt; [プログラム]から[プログラムと機能]を開く</li>\n  <li>「ワコムタブレット 」、「 ワコム 」または「Bamboo」のいずれかをアンインストールする</li>\n</ol>\n<h4>インストール</h4>\n最新のタブレットドライバーを<a href=\"http://tablet.wacom.co.jp/download/down1.html\">こちら</a>からダウンロードしてインストールする。\n\n<hr>\n\n<p>以上の方法を試してみたが私の環境では解決しなかった。</p>\n<h2>解決した方法</h2>\n<h3>設定ファイルの削除</h3>\n\n<p><img src=\"https://hiro0218.github.io/blog/images/wacom_tablet_utility.png\" alt=\"ワコム タブレット設定ファイルユーティリティ\" loading=\"lazy\"></p>\n<p>[すべてのプログラム]から「ワコム タブレット設定ファイルユーティリティ」、「ワコム設定ファイルユーティリティ」または「Bamboo の設定ファイルユーティリティ」を開く。</p>\n<p>必要に応じて、以下のいずれかで削除を行う</p>\n<ul>\n  <li>「ログインユーザーの設定ファイル」から「削除」</li>\n  <li>「すべてのユーザーの設定ファイル」から「削除」</li>\n</ul>\n※もしバックアップが必要であれば事前に 「バックアップ」をクリックしてバックアップを行っておくこと\n\n<hr>\n\n<p>上記は Windows の手順であるが、Mac の場合も殆ど同じような手順で設定ファイルを削除する事ができる。<br>Mac の場合は [アプリケーション]から「ワコム タブレットユーティリティ」、「ワコムユーティリティ」または「Bamboo ユーティリティ」のいずれかを開く。<br>設定ファイルの「削除」ボタンをクリックして削除を行う。</p>\n<h2>おわり</h2>\n何度もタブレットドライバを再インストールしたが、原因は設定ファイルのようであった。\n","excerpt":"環境 / 症状 / 試した方法 / 解決した方法 / おわり","categories":[{"name":"ガジェット","slug":"ガジェット","path":"categories/%E3%82%AC%E3%82%B8%E3%82%A7%E3%83%83%E3%83%88/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"},{"name":"Wacom","slug":"Wacom","path":"tags/Wacom/"},{"name":"ペンタブ","slug":"ペンタブ","path":"tags/%E3%83%9A%E3%83%B3%E3%82%BF%E3%83%96/"}],"prev":{"title":"[Amazonアソシエイト] SSL環境の商品画像について","path":"20160205003324.html"},"next":{"title":"[PHP] HTTP応答ヘッダのX-Powered-Byを消す方法","path":"20160122131455.html"}},{"title":"[PHP] HTTP応答ヘッダのX-Powered-Byを消す方法","path":"20160122131455.html","permalink":"https://b.0218.jp/20160122131455.html","date":"2016-01-22T13:14:55.000Z","updated":"2016-01-22T13:14:55.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\nブラウザでHTTPの応答ヘッダを見てみると以下の様な記述がある。\n\n<p><b>応答ヘッダ：</b></p>\n<pre>Connection: keep-alive\nContent-Encoding: gzip\nContent-Type: text/html; charset=utf-8\nDate: Fri, 22 Jan 2016 02:58:08 GMT\nLast-Modified: Fri, 22 Jan 2016 02:40:11 GMT\nServer: nginx/1.6.2\n<b>X-Powered-By: PHP/5.6.13-0+deb8u1</b></pre>\n\n<p>その中の<code>X-Powered-By</code>という項目だが、PHP のバージョンまで表記されている。</p>\n<h3>対処法</h3>\nいくつかある。\n\n<h3>設定ファイルを編集</h3>\n<code>php.ini</code>に以下を追加する。\n<pre class=\"cmd\"><code>expose_php = Off</code></pre>\n\n<h3>関数を実行</h3>\nX-Powered-Byヘッダを除去するために<code>header_remove</code>を使う。\n<pre class=\"php\"><code>&lt;?php\nheader_remove('X-Powered-By');</code></pre>\n","excerpt":"状況","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[Wacom] 「タブレットドライバが見つかりません」で筆圧が効かない時の対処方法","path":"20160125102338.html"},"next":{"title":"[Nginx] HTTP応答ヘッダのServerからバージョンを消す方法","path":"20160122122232.html"}},{"title":"[Nginx] HTTP応答ヘッダのServerからバージョンを消す方法","path":"20160122122232.html","permalink":"https://b.0218.jp/20160122122232.html","date":"2016-01-22T12:22:32.000Z","updated":"2016-01-22T12:22:32.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\nブラウザでHTTPの応答ヘッダを見てみると以下の様な記述がある。\n\n<p><b>応答ヘッダ：</b></p>\n<pre>Connection: Keep-Alive\nContent-Encoding: gzip\nContent-Type: text/html; charset=utf-8\nDate: Fri, 22 Jan 2016 02:43:40 GMT\nKeep-Alive: timeout=5, max=993\nLast-Modified: Wed, 23 Dec 2015 06:51:55 GMT\n<b>Server: nginx/1.9.9</b></pre>\n\n<p>その中の<code>Server</code>という項目だが、Nginx のバージョンまで表記されている。</p>\n<h2>対処法</h2>\n<code>/etc/nginx/nginx.conf</code>を編集する。\n以下のようにhttpディレクティブに<code>server_tokens off</code>を追加する。\n\n<pre class=\"nginx\"><code>http {\n    server_tokens off;\n}</code></pre>\n\n<p>nginx を再起動する。<br>再び応答ヘッダを確認するとバージョンの表記は表示されなくなった。</p>\n","excerpt":"状況 / 対処法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[PHP] HTTP応答ヘッダのX-Powered-Byを消す方法","path":"20160122131455.html"},"next":{"title":"[Windows] タスクバーにピン留めしたアプリを管理者権限で実行する方法","path":"20160120115933.html"}},{"title":"[Windows] タスクバーにピン留めしたアプリを管理者権限で実行する方法","path":"20160120115933.html","permalink":"https://b.0218.jp/20160120115933.html","date":"2016-01-20T11:59:33.000Z","updated":"2016-01-20T11:59:33.000Z","thumbnail":"","content":"<p>コマンドプロンプトを例に説明をする。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>背景</h2>\nコマンドプロンプトなどタスクバーにピン留めしても、そのままだと管理者権限で実行ができない。\nだが、なんとか手近なタスクバーから管理者権限で実行した。\n\n<h2>コマンドプロンプトをピン留めする</h2>\nコマンドプロンプトを起動し、タクスバー上で右クリックし「タスクバーにピン留めする」をクリック。\n\n<p>これでコマンドプロンプトが起動されていない状態だと、タスクバーにピン留めされたのが確認できる。</p>\n<h2>ピン留めされたショートカットを確認する</h2>\nピン留めされたアプリケーションのショートカットが格納されているのは以下。\n<pre><code>C:\\Users\\{USER名}\\AppData\\Roaming\\Microsoft\\Internet Explorer\\Quick Launch\\User Pinned\\TaskBar</code></pre>\nただショートカットが配置されている。\n\n<p>ちなみに、アプリケーションのショートカット以外の物を配置してもタスクバーには反映されない。（ものによってはされるかもしれないが）</p>\n<h2>コマンドプロンプトを管理者権限で実行するように設定する</h2>\n\n<ol>\n<li>先述の格納場所にあるコマンドプロンプトのショートカットを右クリックしプロパティを開く。</li>\n<li>ショートカット]タブの[詳細設定]をクリック</li>\n<li>詳細プロパティの「管理者として実行」にチェックを入れてOKをクリック</li>\n<li>プロパティのOK（もしくは適用）をクリックして終了</li>\n</ol>\n\n<p>以上でタスクバーにピン留めされたコマンドプロンプトのショートカットは管理者権限で実行されるようになる。</p>\n","excerpt":"背景 / コマンドプロンプトをピン留めする / ピン留めされたショートカットを確認する / コマンドプロンプトを管理者権限で実行するように設定する","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows","slug":"Windows","path":"tags/Windows/"}],"prev":{"title":"[Nginx] HTTP応答ヘッダのServerからバージョンを消す方法","path":"20160122122232.html"},"next":{"title":"[名探偵コナン] 怪盗キッドの正体を知っている人の一覧","path":"20160114123800.html"}},{"title":"[名探偵コナン] 怪盗キッドの正体を知っている人の一覧","path":"20160114123800.html","permalink":"https://b.0218.jp/20160114123800.html","date":"2016-01-14T12:38:00.000Z","updated":"2016-01-14T12:38:00.000Z","thumbnail":"","content":"<p>怪盗キッドの正体が黒羽快斗だという事実を知っているのは、複数名存在する。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>名探偵コナン</h2>\n「集められた名探偵 工藤新一VS怪盗キッド」の前半パートとして『まじっく快斗』の「ブラック・スター」がアニメ化された。\nそこで怪盗キッドの正体が視聴者に対して明らかになった。\n\n<h2>まじっく快斗</h2>\n今現在、事実を知っているのは以下のの6人。\n\n<ul>\n  <li>黒羽千影</li>\n  <li>寺井黄之助</li>\n  <li>小泉紅子</li>\n  <li>白馬探</li>\n  <li>フィリップ王子</li>\n  <li>ルビィ・ジョーンズ</li>\n</ul>\n\n<p>しかし黒羽千影、寺井黄之助以外に対してはキッドであることを認めていない。</p>\n<h2>余談</h2>\n「ルパン三世vs名探偵コナン THE MOVIE」ではルパン三世もキッドの正体を知っていることが明らかになった。\n","excerpt":"名探偵コナン / まじっく快斗 / 余談","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[Windows] タスクバーにピン留めしたアプリを管理者権限で実行する方法","path":"20160120115933.html"},"next":{"title":"[WordPress] 一括で全ての投稿記事のパーマリンクを取得する方法","path":"20160111194940.html"}},{"title":"[WordPress] 一括で全ての投稿記事のパーマリンクを取得する方法","path":"20160111194940.html","permalink":"https://b.0218.jp/20160111194940.html","date":"2016-01-11T19:49:40.000Z","updated":"2017-09-29T22:40:23.000Z","thumbnail":"","content":"<p>この記事で言えば <a href=\"https://b.0218.jp/20160111194940.html\">https://b.0218.jp/20160111194940.html</a> のような URL で取得する。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>使用シーン</h2><p>Google Analytics などと付き合わせを行う際に記事の URL が必要である場合… など。</p>\n<h2>取得方法</h2><h3>XML ファイルをエクスポート</h3><p><code>get_permalink()</code>で取得できるが、<em>管理画面</em>から一発で取得したい。</p>\n<p><code>ツール &gt; エクスポート</code>から「_エクスポートファイルをダウンロード_」で XML をダウンロードする。</p>\n<h3>処理</h3><p>以下のような XML が出力される。</p>\n<pre><code class=\"xml\">&lt;item&gt;\n    &lt;title&gt;[Windows] PHPMDを導入してAtomで使用する方法&lt;/title&gt;\n    &lt;link&gt;https://b.0218.jp/20160107193425.html&lt;/link&gt;\n    &lt;pubDate&gt;Thu, 07 Jan 2016 10:34:25 +0000&lt;/pubDate&gt;\n    &lt;dc:creator&gt;&lt;![CDATA[hiro]]&gt;&lt;/dc:creator&gt;\n    &lt;guid isPermaLink=\"false\"&gt;https://b.0218.jp/?p=2354&lt;/guid&gt;\n    &lt;description&gt;&lt;/description&gt;\n    &lt;content:encoded&gt;&lt;![CDATA[]]&gt;&lt;/content:encoded&gt;\n    &lt;excerpt:encoded&gt;&lt;![CDATA[]]&gt;&lt;/excerpt:encoded&gt;\n    &lt;wp:post_id&gt;2354&lt;/wp:post_id&gt;\n    &lt;wp:post_date&gt;&lt;![CDATA[2016-01-07 19:34:25]]&gt;&lt;/wp:post_date&gt;\n    &lt;wp:post_date_gmt&gt;&lt;![CDATA[2016-01-07 10:34:25]]&gt;&lt;/wp:post_date_gmt&gt;\n&lt;/item&gt;</code></pre>\n<p><code>&lt;item&gt;</code>内に投稿の情報がある。その子要素に<code>&lt;link&gt;</code>という項目がある。このタグ内に期待の URL が含まれている。</p>\n<h4>正規表現を使う</h4><p><code>&lt;link&gt;</code>タグ内に URL が記載されているので、その行のみを取得する。</p>\n<p><code>&lt;link&gt;</code>が含まれない行を選択する正規表現は以下。</p>\n<pre><code>^(?!.*&lt;link&gt;).+$</code></pre>\n<p>これに合致しない行を全て削除すれば URL が含まれた行のみを抽出できる。</p>\n","excerpt":"使用シーン / 取得方法","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[名探偵コナン] 怪盗キッドの正体を知っている人の一覧","path":"20160114123800.html"},"next":{"title":"[Atom] PHPMDを導入する方法（Windows）","path":"20160107193425.html"}},{"title":"[Atom] PHPMDを導入する方法（Windows）","path":"20160107193425.html","permalink":"https://b.0218.jp/20160107193425.html","date":"2016-01-07T19:34:25.000Z","updated":"2016-01-07T19:34:25.000Z","thumbnail":"","content":"<p>Windows 上の PHP 環境で PHPMD を利用してみる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>環境</h2>\nこんな人向け。\n<ul>\n  <li>Windows で開発</li>\n  <li>PHPの実行はゲストOS上(Vagrantなど使用)で行っているが、コーディングはWindows上</li>\n</ul>\n\n<h2>PHPの環境を構築する</h2>\nWindowsでPHPを簡単に構築するなら、<a href=\"https://www.apachefriends.org/jp/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">XAMPP</a>。\nもしPHPの動作環境がWindows上にないなら入れておく。\n\n<p>Eclipse に同梱されているものでも良い。</p>\n<p>XAMPP を導入した場合、以下に PHP の各モジュールが配置される。</p>\n<pre><code>C:\\xampp\\php</code></pre>\n<h2>Composerを導入</h2>\n公式サイトにWindowsのインストーラも用意されているが、自分の環境では上手く行かなかった。なので、インストーラは使わないで導入したいと思う。\n\n<h3>OpenSSL</h3>\nあらかじめOpenSSLを有効にしておく必要がある。（XAMPPは有効になっていた）\n<code>php.ini</code>の以下のコメントアウトを外す。\n\n<pre><code>;extension=php_openssl.dll</code></pre>\n<h3>Composer</h3>\n以下のコマンドで導入できる。\n\n<pre class=\"cmd\"><code>C:\\xampp\\php&gt;php -r \"readfile('https://getcomposer.org/installer');\" | php</code></pre>\n\n<h2>PHPMDのインストール</h2>\n<h3>composer.json</h3>\nphp のあるディレクトリ(自分の場合は c:\\xampp\\php)に以下の様な<code>composer.json</code>を配置する。\n(PHPCSも一緒に入れたのでこんな風になっているが…)\n\n<pre><code>{\n    \"require\": {\n        \"squizlabs/php_codesniffer\": \"*\",\n        \"phpmd/phpmd\": \"*\"\n    }\n}</code></pre>\n<h3>composer install</h3>\n以下のコマンドを実行する。\n\n<pre><code>C:\\xampp\\php&gt;php composer.phar install</code></pre>\n<p>完了すると PHPMD が導入されているはず。</p>\n<h3>確認</h3>\n同じ手順を踏んでいれば以下にPHPMDが配置されている。\n<pre class=\"cmd\">C:\\xampp\\php\\vendor\\bin\\phpmd</pre>\n\n<h2>Atomで使用する</h2>\n<h3>Linter</h3>\n以下のLinterをインストールする。\n\n<pre><code>apm install linter\napm install linter-phpmd</code></pre>\n<h3>linter-phpmdの設定</h3>\n<code>.atom/config.cson</code>に以下の記述をする。\n\n<pre><code>\"linter-phpmd\":\n    executablePath: \"C:\\\\xampp\\\\php\\\\vendor\\\\bin\\\\phpmd\"\n    rulesets: \"cleancode,codesize,controversial,design,unusedcode\"</code></pre>\n<p><code>rulesets</code>はお好みで。</p>\n<h3>確認</h3>\n適当なphpファイルを編集してみる。（保存など）\n問題があった場合、指摘箇所に波線が表示され、指摘を修正すると表示が消える。\n","excerpt":"環境 / PHPの環境を構築する / Composerを導入 / PHPMDのインストール / Atomで使用する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Windows","slug":"Windows","path":"tags/Windows/"},{"name":"Atom","slug":"Atom","path":"tags/Atom/"}],"prev":{"title":"[WordPress] 一括で全ての投稿記事のパーマリンクを取得する方法","path":"20160111194940.html"},"next":{"title":"[名探偵コナン] 18巻の伏線とは （真相追記）","path":"20160105005717.html"}},{"title":"[名探偵コナン] 18巻の伏線とは （真相追記）","path":"20160105005717.html","permalink":"https://b.0218.jp/20160105005717.html","date":"2016-01-05T00:57:17.000Z","updated":"2016-01-28T22:57:29.000Z","thumbnail":"https://hiro0218.github.io/blog/images/conan-no18.png","content":"<p>2016 年 1 月 2 日、鳥取県で開催された「青山先生と話そう DAY」。</p>\n<p>話題になっている「18 巻の伏線」について振り返ってみる。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>原作者 青山剛昌の発言</h2>\n<blockquote>質問コーナーで、「まだ誰も気付いていないフェイクはありますか」と聞かれた青山さんは、「あー、もうすぐ出てきます。１８巻（の中）ですね」。\n\n<footer>引用元:『<a href=\"http://www.asahi.com/articles/ASJ124638J12PUUB002.html\" target=\"_blank\">鳥取）コナンの青山さん里帰り　ファンとネタバレ攻防：朝日新聞デジタル</a>』より</footer></blockquote>\nファンの質問に対して、18巻に関する伏線回収が近々あることが示唆された。\n<h2>18巻の伏線とは</h2>\n18巻は灰原哀の初登場巻であることから組織絡みの伏線の可能性が高い。\n\n<p>灰原が語る背景に ATPX4869 を投与された人物の一覧が映るシーンがある。<br>以前より話題はなっていたが、この中に「羽田」という人物がいる。(「工藤新一　不明」の中に)</p>\n<img src=\"https://hiro0218.github.io/blog/images/conan-no18.png\" alt=\"原作コミック18巻：薬の投与者リスト\">\n\n<p>この<b>羽田浩司</b>が羽田秀吉と関係があるのではないか。</p>\n<h3>もう少しヒント</h3>\n<blockquote>別のファンから「もう少しヒントを下さい」と懇願されると、<b>「この人出てくるの？って人。名前を見たら『はーん』ってなる。お楽しみに」</b>と答え、会場を沸かせた。</blockquote>\n名前を見たら『はーん』ってなる…ってことは、やはり羽田浩司のことだろうか…。\n<h3>羽田浩司とは誰か</h3>\n名前から羽田秀吉の親族ではないか。\n\n<p><strong>父親</strong>ではないかと噂もあるが、兄や弟の可能性も否定できない。</p>\n<h2>おまけ</h2>\n\n<blockquote>\n<p>Q: 「コナンの周りに、黒の組織の人間は潜入していますか」<br>A: 「痛いとこついてくるなー。違う質問にして」</p>\n</blockquote>\n<h2>真相</h2>\n少年サンデー(2016年9号)にて、18巻の伏線が明らかになった。\n\n<blockquote>羽田秀吉「僕の<b>義理の兄</b>であり 最も尊敬する <b>羽田浩司</b>という 棋士が…」</blockquote>\n\n<p>どうやら秀吉との関係は「義理の兄」らしい。<br>どういう経緯でそういう関係になったかは、これから明かされていくのだろう。</p>\n<blockquote>灰原哀「あなた 知ってる？　羽田浩司…」\n江戸川コナン「(中略) 趣味でやってた チェスの大会に 出場する為に 渡米してて…　その最中に 何かの事件に 巻き込まれて 亡くなったんだよな？」\n(中略)\n灰原哀「その名前… 見た覚えがあるのよ…　APTX4869を飲まされた人物リストの…　あなたの 名前の 二つ下にね…」</blockquote>\n\n<p>情報に間違いがなければ、渡米して亡くなったらしい。この「何かの事件」もこれから掘り下げられていくのだろうと思う。</p>\n","excerpt":"原作者 青山剛昌の発言 / 18巻の伏線とは / おまけ / 真相","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"},{"name":"考察","slug":"考察","path":"tags/%E8%80%83%E5%AF%9F/"}],"prev":{"title":"[Atom] PHPMDを導入する方法（Windows）","path":"20160107193425.html"},"next":{"title":"筆王がWindows 10で起動しない時の対処法\n","path":"20151227213631.html"}},{"title":"筆王がWindows 10で起動しない時の対処法\n","path":"20151227213631.html","permalink":"https://b.0218.jp/20151227213631.html","date":"2015-12-27T21:36:31.000Z","updated":"2016-12-03T18:35:08.000Z","thumbnail":"https://i.imgur.com/1OB8Yzu.png","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>背景</h2><p>「Windows 10 に対応」と記載されているのに、クリックして起動してみると起動できずに落ちてしまった。</p>\n<h2>方法</h2><p>理由はわからないが、右クリックのコンテキストメニューから<strong>「管理者として実行」</strong>で解決した。</p>\n<p>※「互換モードで起動」をしても解決せず</p>\n<h3>おまけ</h3><p><img src=\"https://i.imgur.com/1OB8Yzu.png\" alt=\"プロパティ\" loading=\"lazy\"><br>いちいち右クリックは面倒なので、プロパティの[互換性]タブから[管理者としてこのプログラムを実行する] にチェックを入れておく。</p>\n","excerpt":"背景 / 方法","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Windows 10","slug":"Windows-10","path":"tags/Windows-10/"}],"prev":{"title":"[名探偵コナン] 18巻の伏線とは （真相追記）","path":"20160105005717.html"},"next":{"title":"[WordPress] 指定ページのヘッダやサイドバーの表示を切り替える方法","path":"20151223233055.html"}},{"title":"[WordPress] 指定ページのヘッダやサイドバーの表示を切り替える方法","path":"20151223233055.html","permalink":"https://b.0218.jp/20151223233055.html","date":"2015-12-23T23:30:55.000Z","updated":"2015-12-21T10:53:00.000Z","thumbnail":"","content":"<p class=\"c-alert\">この記事は <a href=\"http://qiita.com/advent-calendar/2015/wordpress\">WordPress Advent Calendar 2015</a> の23日目です。</p>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>やりたいこと</h2><ul>\n<li>404 ページの時にヘッダーとサイドバーを表示しない</li>\n<li>条件は条件分岐タグを使いたい</li>\n</ul>\n<h2>実装</h2><h3>前提</h3><p>基本的にサイドバーなどのテンプレートはは以下のように呼ぶ。</p>\n<pre><code class=\"php\">get_template_part('templates/common/sidebar');</code></pre>\n<p>これをラップする。</p>\n<h4>呼び出し</h4><p><code>get_template_part()</code>の代わりにこんな感じで呼び出す。</p>\n<p><code>Template::get_template_header();</code></p>\n<p>内部の実装は以下のような感じ。</p>\n<pre><code class=\"php\">public static function get_template_header() {\n  if ( self::is_display_header() ) {\n    get_template_part('templates/common/header');\n  }\n}</code></pre>\n<h3>判定</h3><pre><code class=\"php\">private static $header_invisible  = ['is_404'];\nprivate static $sidebar_invisible = ['is_404'];\n\npublic static function is_display_header() {\n  return self::is_display(self::\\$header_invisible);\n}</code></pre>\n<p><code>$header_invisible</code>と<code>$sidebar_invisible</code>は、配列で WordPress の<strong>条件分岐タグ</strong>を文字列で入れていく。以下の様な感じ。</p>\n<pre><code class=\"php\">private static $header_invisible = ['is_home', 'is_single', 'is_404'];</code></pre>\n<h3>ページの条件分岐を判定する</h3><p><code>is_display()</code>の引数には<strong>条件分岐タグ</strong>を入れた配列を指定する。</p>\n<pre><code class=\"php\">private static function is_display($invisible) {\n  $display = true;\n  // 指定の条件分岐に該当するものがある場合は非表示にする\n  if (in_array(true, self::set_conditional_result_from_str($invisible) ) ) {\n      $display = false;\n  }\n\n  return $display;\n}</code></pre>\n<p>指定のページ(条件分岐タグ)が指定されていたら、この場合ヘッダを非表示にする(<code>\\$display</code>を<code>false</code>)。</p>\n<pre><code class=\"php\">private static function set_conditional_result_from_str($funcs) {\n  $result = [];\n\n  foreach($funcs as $is_conditional) {\n    if( function_exists($is_conditional) ) {\n      $result[] = $is_conditional(); // true or false\n    } else {\n      $result[] = false;\n    }\n  }\n\n  return $result;\n}</code></pre>\n<p>条件分岐タグの文字列(“is_home”など)を<code>function_exists()</code>で存在チェックをし、存在する場合は関数として実行する。<br>条件分岐タグが存在していれば、条件分岐タグから返される判定を<code>$result</code>に入れる。そもそも指定の関数が存在しなければ<code>false</code>を<code>$result</code>に入れる。</p>\n<h2>完成</h2><pre><code class=\"php\">&lt;?php\n\nclass Template {\n  private static $header_invisible  = ['is_404'];\n  private static $sidebar_invisible = ['is_404'];\n\n\n  public static function get_template_header() {\n    if ( self::is_display_header() ) {\n      get_template_part('templates/common/header');\n    }\n  }\n\n  public static function get_template_sidebar() {\n    if ( self::is_display_sidebar() ) {\n      get_template_part('templates/common/sidebar');\n    }\n  }\n\n  public static function get_template_footer() {\n    get_template_part('templates/common/footer');\n  }\n\n\n  public static function is_display_header() {\n    return self::is_display(self::$header_invisible);\n  }\n\n  public static function is_display_sidebar() {\n    return self::is_display(self::$sidebar_invisible);\n  }\n\n  private static function is_display($invisible) {\n    $display = true;\n    // 指定の条件分岐に該当するものがある場合は非表示にする\n    if (in_array(true, self::set_conditional_result_from_str($invisible) ) ) {\n      $display = false;\n    }\n    return $display;\n  }\n\n  // 文字列から条件分岐タグの結果を取得する\n  private static function set_conditional_result_from_str($funcs) {\n    $result = [];\n    foreach($funcs as $is_conditional) {\n      if( function_exists($is_conditional) ) {\n          $result[] = $is_conditional(); // true or false\n      } else {\n          $result[] = false;\n      }\n    }\n    return $result;\n  }\n}</code></pre>\n","excerpt":"やりたいこと / 実装 / 完成","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"Advent Calendar","slug":"Advent-Calendar","path":"tags/Advent-Calendar/"}],"prev":{"title":"筆王がWindows 10で起動しない時の対処法\n","path":"20151227213631.html"},"next":{"title":"[FuelPHP] Rest コントローラを使って WebAPI を作ってみる","path":"20151223150807.html"}},{"title":"[FuelPHP] Rest コントローラを使って WebAPI を作ってみる","path":"20151223150807.html","permalink":"https://b.0218.jp/20151223150807.html","date":"2015-12-23T15:08:07.000Z","updated":"2015-12-23T01:29:27.000Z","thumbnail":"","content":"<p class=\"c-alert\">この記事は <a href=\"http://qiita.com/advent-calendar/2015/fuelphp\">FuelPHP Advent Calendar 2015</a> の23日目です。</p>\n\n<p>FuelPHP の Rest コントローラを使って WebAPI を作成したいと思います。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>環境</h2>\n開発環境は以下の通りです。\n<ul>\n  <li>CentOS 7</li>\n  <li>PHP 7.0</li>\n  <li>FuelPHP 1.8-dev</li>\n  <li>Nginx 1.9</li>\n  <li>MariaDB 10.1.9</li>\n</ul>\n特殊な環境ではないので、大きく環境差は出ないと思います。\n\n<h2>仕様</h2>\n<h3>概要</h3>\nアニメ作品の放送話リストを返すAPIを想定しています。\n更新頻度の高くないデータだということをご留意ください。\n\n<h3>構成</h3>\n単純な構成で、DBから取得した値をRESTコントローラでjson形式で返すようにします。\n\n<p>ちなみに DB から取得する値は以下の想定です。</p>\n<table>\n<tbody>\n<tr><td>ID</td></tr>\n<tr><td>タイトル</td></tr>\n<tr><td>放送日</td></tr>\n<tr><td>アニメオリジナル作品</td></tr>\n</tbody>\n</table>\n\n<p>それぞれ、以下の様な呼び出しにしようと思います。<br></p>\n<ul>\n<li><strong>原作ストーリーの場合</strong>: <code>http://localhost/api/anime/comics</code></li>\n<li><strong>アニメオリジナルストーリーの場合</strong>: <code>http://localhost/api/anime/original</code></li>\n</ul>\n<p>今回、データの挿入や更新を行うような管理画面の作成は行いません。</p>\n<h2>Restコントローラの使い方</h2>\n<a href=\"http://fuelphp.jp/docs/1.8/general/controllers/rest.html#/usage\">ドキュメント</a>からの引用ですが、以下の様に使用します。\n\n<pre><code class=\"php\">class Controller_Test extends Controller_Rest\n{\n    public function get_list()\n    {\n        return $this-&gt;response(array(\n            'foo' =&gt; Input::get('foo'),\n            'baz' =&gt; array(\n                1, 50, 219\n            ),\n            'empty' =&gt; null\n        ));\n    }\n}</code></pre>\n<p>この場合、<i><a href=\"http://localhost/test/list.json?foo=bar\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">http://localhost/test/list.json?foo=bar</a></i>で呼び出すと、<code>Input::get('foo')</code>に”bar”という値が入り、以下の様な出力になります。</p>\n<pre><code class=\"json\">{\n  \"foo\": \"bar\",\n  \"baz\": [1, 50, 219],\n  \"empty\": null\n}</code></pre>\n<p>ちなみに以下のフォーマットが使用可能です。</p>\n<ul>\n  <li>xml</li>\n  <li>json</li>\n  <li>csv</li>\n  <li>html</li>\n  <li>php (eval() 可能な PHP コードでの表現)</li>\n  <li>serialize (PHP でアンシリアライズ可能な、シリアライズされたデータ)</li>\n</ul>\n以上の説明で解説すべき本筋が殆ど終わっていますが、実用的な形で実装例を紹介したいと思います。\n\n<p>参照: <a href=\"http://fuelphp.jp/docs/1.8/general/controllers/rest.html\">ドキュメント: Rest コントローラ</a></p>\n<h2>実装</h2>\n<h3>定数</h3>\n以下の様な定数クラスを作成します。\n<i>/app/common/constant.php</i>\n\n<pre><code class=\"php\">class Constant {\n    const TIME_HOUR = 3600;   // 1 hour\n    const TIME_DAY  = 86400;  // 24 hours\n    const TIME_WEEK = 604800; // 1 week\n\n    const ANIME_COMIC = 0;\n    const ANIME_ORIGN = 1;\n}</code></pre>\n<p>以下に作成したクラスを追加します。<br><i>/app/bootstrap.php</i></p>\n<pre><code class=\"php\">Autoloader::add_classes(array(\n    'Constant' =&gt; APPPATH.'common/constant.php',\n));</code></pre>\n<p><code>Constant::TIME_DAY</code>のような形で呼び出す事ができます。<br>（他に良い方法があれば教えて下さい）</p>\n<h3>データの取得</h3>\nまず、データがないと始まりません。\n今回の仕様はデータはすべてDBに格納してありますのでDBへアクセスをしてデータを取得します。\n\n<pre class=\"php\"><code>$result = DB::select()-&gt;from('users')-&gt;execute();</code></pre>\n\n<p>データが取得出来さえすれば良いので、お好きなデータの管理・取得方法で問題はありません。</p>\n<h4>キャッシュ</h4>\n呼び出される度にDB通信を行っていては時間がかかるかと思います。その場合、<a href=\"http://fuelphp.jp/docs/1.8/classes/database/usage.html#/caching\">クエリキャッシュ</a>を利用します。\n\n<pre class=\"php\"><code>$result = DB::select()-&gt;from('users')-&gt;cached(3600)-&gt;execute();</code></pre>\n\n<p>上記の使用例だと 3600 秒キャッシュが有効になります。<br><code>cached()</code>の詳しいフォーマットに関してはドキュメントを参照ください。</p>\n<p>指定する秒数は定数にしておくと良いです。</p>\n<h3>ベースコントローラを作成</h3>\n継承用のコントローラを作成します。\n\n<p>今回は anime に関する API を作成しますが、今後 music や movie など新しい API を作成した際、同じ仕様であれば同じようなコーディングをするかと思います。それをバラバラに記述すると保守が非常に面倒になります。予め共通の処理を実装したベースのコントローラを作成しておくことで、 API 用のコントローラはそれを継承するだけで無駄なコーディングをする必要がなくなります。</p>\n<p>参照: <a href=\"http://fuelphp.jp/docs/1.8/general/controllers/base.html\">コントローラ:: ベースコントローラを生成する</a></p>\n<hr>\n\n<p>ベースになるコントローラを以下に配置します。<br><i>/app/classes/controller/base/rest.php</i></p>\n<pre class=\"php\"><code>class Controller_Base_Rest extends Controller_Rest {\n    protected $format = \"json\";\n}\n</code></pre>\n\n<p>今回は特に共通処理を考えていないので、<code>$format</code>だけ指定した例になります。<br>共通で json 形式のデータを返したいので上記のような指定を入れています。</p>\n<p>この場合、継承は以下の様な指定になります。</p>\n<pre class=\"php\"><code>class Controller_Api_Anime extends Controller_Base_Rest {\n    //\n}</code></pre>\n\n<h3>Restコントローラ</h3>\nコントローラにはデータ取得関数だけ記述したいので、処理はModelなどに記述します。\n\n<pre class=\"php\"><code>public function get_original() {\n    return Model_Api::get_data(Constant::ANIME_ORIGN_NAME, Constant::ANIME_ORIGN_TYPE);\n}\n</code></pre>\n\n<h4>Cacheクラスを使用する</h4>\nクエリキャッシュと重複しますが、動的に変更がない場合はCacheクラスを使うと良いでしょう。\n\n<p>詳しいインターフェースなどは割愛しますが、使用例は以下です。</p>\n<pre class=\"php\"><code>public static function get_data($data_name = null, $data_type = 0) {\n    $data = null;\n\n    try {\n        // キャッシュからデータを取得する\n        $data = Cache::get($data_name);\n\n    } catch (CacheNotFoundException $e) {\n        // キャッシュがない場合\n        // DBからデータを取得する\n        $data = Model_Api::get_anime($data_type);\n\n        if ($data &amp;&amp; $data_name) {\n            // 改めてキャッシュにデータをセットする\n            Cache::set($data_name, $data, Constant::TIME_WEEK);\n        }\n    }\n\n    return $data;\n}</code></pre>\n\n<p>処理の流れとしては以下です。</p>\n<ol>\n  <li>キャッシュからデータを取得\n<ol>\n  <li>キャッシュが無い場合は<code>CacheNotFoundException</code>が発生</li>\n</ol>\n</li>\n  <li>DBからデータを取得し、キャッシュを作成する</li>\n  <li>データを返却する</li>\n</ol>\n簡単に説明すると、「キャッシュがある場合はキャッシュからデータを取得」「キャッシュがない場合はDBから取得」というような感じです。\n\n<p>指定した時間キャッシュが残りますので、データ変更時や任意のタイミングでキャッシュが出来るような処理も作成した方が良いです。</p>\n<p>参照: <a href=\"http://fuelphp.jp/docs/1.8/classes/cache/usage.html\">ドキュメント::Cache クラス</a></p>\n<h3>完成</h3>\n割愛している箇所もありますが、概ね以下の様な感じです。\n<h4>Controller</h4>\n<pre class=\"php\"><code>class Controller_Api_Anime extends Controller_Base_Rest {\n\n<pre><code>public function get_comics() {\n    return Model_Api::get_data(Constant::ANIME_COMIC_NAME, Constant::ANIME_COMIC_TYPE);\n}\n\npublic function get_original() {\n    return Model_Api::get_data(Constant::ANIME_ORIGN_NAME, Constant::ANIME_ORIGN_TYPE);\n}</code></pre>\n</code><p><code>}</code></p></pre><p></p>\n<p>それぞれが以下に対応しています。</p>\n<table>\n<tbody><tr>\n  <td><code>get_comics()</code></td>\n  <td>http://localhost/api/anime/comics</td>\n</tr>\n<tr>\n  <td><code>get_original()</code></td>\n  <td>http://localhost/api/anime/original</td>\n</tr>\n</tbody></table>\n\n<h4>Model</h4>\n<code>get_anime()</code>は<code>get_data()</code>からしか呼ばないので<code>private</code>にしてます。\n<pre class=\"php\"><code>class Model_Api extends Model {\n\n<pre><code>public static function get_data($data_name = null, $data_type = 0) {\n    $data = null;\n\n    try {\n        // キャッシュからデータを取得する\n        $data = Cache::get($data_name);\n\n    } catch (CacheNotFoundException $e) {\n        // キャッシュがない場合\n        // DBからデータを取得する\n        $data = self::get_anime($data_type);\n\n        if ($data &amp;&amp; $data_name) {\n            // 改めてキャッシュにデータをセットする\n            Cache::set($data_name, $data, Constant::TIME_WEEK);\n        }\n    }\n\n    return $data;\n}\n\nprivate static function get_anime($original = null) {\n    $query = DB::select(\"hoge1\", \"hoge2\", \"hoge3\")-&gt;from('table');\n\n    if (!is_null($original)) {\n        $query = $query-&gt;where('hoge4', $original);\n    }\n\n    return $query-&gt;cached(Constant::TIME_WEEK)-&gt;execute()-&gt;as_array();\n}</code></pre>\n</code><p><code>}<br></code></p></pre><p></p>\n<h2>おわり</h2>\n無駄な処理も少々ありますが、概ねこんな実装で良いのではないでしょうか。\n","excerpt":"環境 / 仕様 / Restコントローラの使い方 / 実装 / おわり","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"},{"name":"Advent Calendar","slug":"Advent-Calendar","path":"tags/Advent-Calendar/"}],"prev":{"title":"[WordPress] 指定ページのヘッダやサイドバーの表示を切り替える方法","path":"20151223233055.html"},"next":{"title":"[JavaScript] jQueryを使わずにAjax通信をしてJSONを取得する方法","path":"20151223090038.html"}},{"title":"[JavaScript] jQueryを使わずにAjax通信をしてJSONを取得する方法","path":"20151223090038.html","permalink":"https://b.0218.jp/20151223090038.html","date":"2015-12-23T09:00:38.000Z","updated":"2015-12-22T13:37:18.000Z","thumbnail":"","content":"<p class=\"c-alert\">この記事は <a href=\"http://qiita.com/advent-calendar/2015/javascript\">JavaScript Advent Calendar 2015</a> の23日目です。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>概要</h2>\n<ul>\n  <li>JSONを吐き出すAPIのデータを取得する。</li>\n  <li>ただし、jQueryは使用できないものとする。</li>\n</ul>\n\n<h3>想定</h3>\nレガシーブラウザは念頭にない。（レガシー考慮するなら jQuery 使おう！）\n\n<h3>jQueryを使用した場合</h3>\nちなみにjQueryを使用できるのであれば以下のようなコードで良い。\n\n<pre class=\"javascript\"><code>$.getJSON(\"http://localhost/api/hoge\", data, function(json){\n    console.log(json);\n});</code></pre>\n\n<p>簡潔に記述することができる。</p>\n<h2>Vanillaで実装する</h2>\njQuery と仕様を合わせるつもりはないが、以下の様な実装で実現可能。\n\n<pre><code class=\"javascript\">function getJSONData(url, callback) {\n  var xhr = new XMLHttpRequest();\n\n  xhr.onerror = function () {\n    console.log(\"error\");\n  };\n\n  xhr.onreadystatechange = function () {\n    if (this.readyState === 4 &amp;&amp; this.status === 200) {\n      var response = this.response;\n      if (typeof response === \"string\") {\n        response = JSON.parse(response);\n      }\n\n      callback(response, header);\n    }\n  };\n\n  xhr.open(\"GET\", url, true);\n  xhr.responseType = \"json\";\n  xhr.send();\n}</code></pre>\n<hr>\n\n<p><b>課題</b>:</p>\n<ul>\n <li>JSON.parseのラッパーを用意したほうが良いかも</li>\n <li>ステータスコードを返そう</li>\n</ul>\n\n<h3>使い方</h3>\n<pre class=\"javascript\"><code>getJSONData(\"http://localhost/api/hoge\", function(json) {\n    console.log(json);\n});</code></pre>\n\n<h2>おまけ</h2>\nこういうのもある。\n\n<p><a href=\"https://github.com/hiro0218/jquery.ajax\">jquery.ajax</a></p>\n","excerpt":"概要 / Vanillaで実装する / おまけ","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[FuelPHP] Rest コントローラを使って WebAPI を作ってみる","path":"20151223150807.html"},"next":{"title":"[PHP] explode()時の Notice: Undefined offset の解決方法","path":"20151221012347.html"}},{"title":"[PHP] explode()時の Notice: Undefined offset の解決方法","path":"20151221012347.html","permalink":"https://b.0218.jp/20151221012347.html","date":"2015-12-21T01:23:47.000Z","updated":"2015-12-21T01:23:47.000Z","thumbnail":"","content":"<p>文字列を区切る関数。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>概要</h2><pre><code class=\"php\">$str = \"ab\";\nlist($a, $b) = explode(',', $str);</code></pre>\n<p>こういう場合、以下の様なエラーが発生する。</p>\n<pre><code><b>NOTICE</b> Undefined offset: 1 on line number 3</code></pre>\n\n<h2>解決方法</h2><p><code>array_pad()</code>を使って埋める。</p>\n<p>以下の様な感じで埋める。</p>\n<pre><code class=\"php\">list($a, $b) = array_pad(explode(',', $str), 2, null);</code></pre>\n","excerpt":"概要 / 解決方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[JavaScript] jQueryを使わずにAjax通信をしてJSONを取得する方法","path":"20151223090038.html"},"next":{"title":"[CSS] olの数字だけを太字に装飾する方法","path":"20151217153444.html"}},{"title":"[CSS] olの数字だけを太字に装飾する方法","path":"20151217153444.html","permalink":"https://b.0218.jp/20151217153444.html","date":"2015-12-17T15:34:44.000Z","updated":"2018-09-04T14:26:48.000Z","thumbnail":"","content":"<h2>概要</h2><p><code>&lt;ol&gt;</code>(順序付きリスト)は、、<code>list-style-type</code>プロパティを使用してスタイル付けする事ができる。ただ、数字や記号を変更する事は出来るが、任意の形だったりテキストのデコレーションを変更することはできない。<br>これを解決したい。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>デモ</h2><iframe height=\"330\" scrolling=\"no\" title=\"order list design\" src=\"//codepen.io/hiro0218/embed/gdWQoM/?height=330&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/gdWQoM/'>order list design</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<h2>実装</h2><pre><code class=\"css\">ol {\n  counter-reset: list-count;\n  list-style: none;\n}\n\nol &gt; li::before {\n  content: counter(list-count) \".\";\n  counter-increment: list-count;\n}</code></pre>\n<ul>\n<li>従来の数字は<code>list-style:none</code>で消す</li>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/counter-increment\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\"><code>counter-increment</code></a>で数字を付ける<br>追加した数字を装飾する</li>\n</ul>\n<h2>まとめ</h2><p>構造を崩さず、CSS だけで太字にするには、疑似要素と<code>counter-increment</code>を利用する方法しかなかった。</p>\n","excerpt":"概要 / デモ / 実装 / まとめ","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[],"prev":{"title":"[PHP] explode()時の Notice: Undefined offset の解決方法","path":"20151221012347.html"},"next":{"title":"WordPress 4.4 で追加された WP REST API を無効化する方法\n","path":"20151215140004.html"}},{"title":"WordPress 4.4 で追加された WP REST API を無効化する方法\n","path":"20151215140004.html","permalink":"https://b.0218.jp/20151215140004.html","date":"2015-12-15T14:00:04.000Z","updated":"2015-12-15T14:00:04.000Z","thumbnail":"","content":"<p>使わないものは無効化しておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n以下のコードをfunctions.phpに追加する。\n<pre class=\"php\"><code>\n// リクエストヘッダーに WP REST API のエンドポイントを出力させない\n// &lt;http://www.example.com/wp-json/&gt;; rel=\"https://api.w.org/\"\nremove_action('template_redirect', 'rest_output_link_header', 11, 0);\n// REST API のリクエストを停止させる\nadd_filter('rest_enabled', '__return_false');\n// JSONP の出力を停止させる\nadd_filter('rest_jsonp_enabled', '__return_false');</code></pre>\n\n<h2>参考</h2>\n<ul>\n  <li><a href=\"http://qiita.com/kuck1u/items/c879271aa280da62c573\">WordPress 4.4 で追加された REST API の停止やエンドポイントの変更など</a></li>\n  <li><a href=\"https://wordpress.org/support/topic/wp-44-remove-json-api-and-x-pingback-from-http-headers\">WP 4.4: remove json-api and X-Pingback from HTTP Headers</a></li>\n</ul>\n","excerpt":"方法 / 参考","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[CSS] olの数字だけを太字に装飾する方法","path":"20151217153444.html"},"next":{"title":"WordPress 4.4 で追加された Embed を無効化する方法\n","path":"20151215135535.html"}},{"title":"WordPress 4.4 で追加された Embed を無効化する方法\n","path":"20151215135535.html","permalink":"https://b.0218.jp/20151215135535.html","date":"2015-12-15T13:55:35.000Z","updated":"2015-12-15T13:55:35.000Z","thumbnail":"https://wpdocs.osdn.jp/wikihttps://hiro0218.github.io/blog/images/wp_embed_preview.png","content":"<p>WordPress4.2 から「Embed」が追加された。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>Embedとは</h2>\nこんなやつ。\n<blockquote><img src=\"https://wpdocs.osdn.jp/wikihttps://hiro0218.github.io/blog/images/wp_embed_preview.png\">\n投稿を他のサイトを埋め込めるようになりました。他の WordPress サイトにも埋め込み可能です。エディターに投稿の URL を入れるだけで、設定したタイトル、抜粋、アイキャッチ画像を備えた埋め込みプレビューがすぐに表示されます。さらに、サイトアイコンやコメント、共有用 リンクも含まれます。</blockquote>\n\n<h2>無効化する方法</h2>\n<h3>状況</h3>\n4.4にアップグレードしてみると、知らない子が<code>&lt;head&gt;</code>内に追加されてますね…。\n<pre class=\"html\"><code>&lt;link rel=\"alternate\" type=\"application/json+oembed\" href=\"http://localhost/wordpress/wp-json/oembed/1.0/embed?url=http%3A%2F%2Flocalhost%2Fwordpress%2F20100806080939.html\" /&gt;\n&lt;link rel=\"alternate\" type=\"text/xml+oembed\" href=\"http://localhost/wordpress/wp-json/oembed/1.0/embed?url=http%3A%2F%2Flocalhost%2Fwordpress%2F20100806080939.html&amp;#038;format=xml\" /&gt;</code></pre>\n\n<h3>functions.phpに追加するコード</h3>\n以下を追加する。\n<pre class=\"php\"><code>add_filter('embed_oembed_discover', '__return_false');\nremove_action('wp_head','rest_output_link_wp_head');\nremove_action('wp_head','wp_oembed_add_discovery_links');\nremove_action('wp_head','wp_oembed_add_host_js');</code></pre>\n\n<h2>参考</h2>\n<ul>\n<li><a href=\"https://wordpress.org/support/topic/wp-44-remove-json-api-and-x-pingback-from-http-headers\">https://wordpress.org/support/topic/wp-44-remove-json-api-and-x-pingback-from-http-headers</a></li>\n</ul>\n","excerpt":"Embedとは / 無効化する方法 / 参考","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"WordPress 4.4 で追加された WP REST API を無効化する方法\n","path":"20151215140004.html"},"next":{"title":"[PHP] localhostとhoge.localhost間でAjaxを許可する方法","path":"20151204174012.html"}},{"title":"[PHP] localhostとhoge.localhost間でAjaxを許可する方法","path":"20151204174012.html","permalink":"https://b.0218.jp/20151204174012.html","date":"2015-12-04T17:40:12.000Z","updated":"2015-12-04T17:40:12.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\n例えば、api.localhostでjsonを吐き出しているとする。\nそうするとlocalhostからはapi.localhostに対してAjax通信することはできない。\n\n<p>理由は「<b>クロスドメイン制約</b>」なのだが、localhost でもダメみたい。</p>\n<h2>解決方法</h2>\nPHPだが、以下の方法で解消することができる。\n<pre class=\"php\"><code>header(\"Access-Control-Allow-Origin: *\");\nheader(\"Access-Control-Allow-Methods: GET, POST, DELETE, OPTIONS\");\nheader(\"Access-Control-Allow-Headers: *\");</code></pre>\n\n<p>他の言語でも同じように header を同様にしてやると良い。</p>\n","excerpt":"状況 / 解決方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"WordPress 4.4 で追加された Embed を無効化する方法\n","path":"20151215135535.html"},"next":{"title":"yumでPHP7をインストールする方法\n","path":"20151204152831.html"}},{"title":"yumでPHP7をインストールする方法\n","path":"20151204152831.html","permalink":"https://b.0218.jp/20151204152831.html","date":"2015-12-04T15:28:31.000Z","updated":"2017-02-18T21:07:06.000Z","thumbnail":"","content":"<p>PHP7 がリリースされたのでテスト環境に入れてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>手順</h2>\n<h3>確認</h3>\n<pre class=\"cmd\">php -v\n\n<p>PHP 5.6.10 (cli) (built: Jun 11 2015 07:45:02)<br>Copyright (c) 1997-2015 The PHP Group<br>Zend Engine v2.6.0, Copyright (c) 1998-2015 Zend Technologies<br>with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2015, by Zend Technologies<br>with Xdebug v2.3.3, Copyright (c) 2002-2015, by Derick Rethans</p>\n<p></p></pre><p></p>\n<h3>EPELリポジトリを追加</h3>\n既に入っていればしなくても良い。\n\n<h4>CentOS6:</h4><pre><code class=\"bash\">rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm</code></pre>\n<h4>CentOS7:</h4><pre><code class=\"bash\">rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm</code></pre>\n<!-- <pre class=\"cmd\">yum install epel-release\nrpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\nyum --enablerepo=remi update remi-release\n</pre> -->\n\n<h3>PHP7をインストール</h3>\n必要な物をインストールする。\n依存関係などでインストールがうまくできない場合はアンインストールしてインストールし直しなど。\n<pre class=\"cmd\">yum --enablerepo=remi-php70 update php\\*</pre>\n<pre class=\"cmd\">yum --enablerepo=remi-php70,epel install php php-cli php-common php-mbstring php-fpm php-gd php-gmp php-mbstring php-mcrypt php-opcache php-pdo php-xml</pre>\n\n<h3>再確認</h3>\n<pre class=\"cmd\">php -v\nPHP 7.0.0 (cli) (built: Dec  1 2015 17:53:27) ( NTS )\nCopyright (c) 1997-2015 The PHP Group\nZend Engine v3.0.0, Copyright (c) 1998-2015 Zend Technologies\n    with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2015, by Zend Technologies</pre>\n","excerpt":"手順","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"CentOS","slug":"CentOS","path":"tags/CentOS/"}],"prev":{"title":"[PHP] localhostとhoge.localhost間でAjaxを許可する方法","path":"20151204174012.html"},"next":{"title":"[PHP] 簡易的に国を判定する方法","path":"20151127223056.html"}},{"title":"[PHP] 簡易的に国を判定する方法","path":"20151127223056.html","permalink":"https://b.0218.jp/20151127223056.html","date":"2015-11-27T22:30:56.000Z","updated":"2015-11-27T22:30:56.000Z","thumbnail":"","content":"<p>強固な判定ロジックは必要なかったので、簡易的に判定できる方法を…。<br>“国判定”と言いながら、必要だったのは「日本」だけなので、正確には『日本判定』だった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>HTTP_ACCEPT_LANGUAGE</h2>\n<code>$_SERVER['HTTP_ACCEPT_LANGUAGE']</code>を使用すると、ブラウザの言語設定（表示言語の優先順位）から言語コードが取得できる(以下の様な感じで)。\n<pre class=\"cmd\"><code>ja,en-US;q=0.7,en;q=0.3</code></pre>\n\n<p>ちなみにブラウザから取得できる各言語コードは以下の通り。</p>\n<blockquote>\n<table summary=\"言語コード一覧\"><tbody><tr><th>言語コード</th><th>言語名</th></tr><tr><td>is</td><td>アイスランド語</td></tr><tr><td>ga</td><td>アイルランド語</td></tr><tr><td>af</td><td>アフリカーンス語</td></tr><tr><td>sq</td><td>アルバニア語</td></tr><tr><td>it</td><td>イタリア語</td></tr><tr><td>id</td><td>インドネシア語</td></tr><tr><td>uk</td><td>ウクライナ語</td></tr><tr><td>nl</td><td>オランダ語</td></tr><tr><td>nl-BE</td><td>オランダ語/ベルギー語</td></tr><tr><td>ca</td><td>カタロニア語</td></tr><tr><td>gl</td><td>ガリチア語</td></tr><tr><td>el</td><td>ギリシア語</td></tr><tr><td>hr</td><td>クロアチア語</td></tr><tr><td>sv</td><td>スウェーデン語</td></tr><tr><td>gd</td><td>スコッチ ゲール語</td></tr><tr><td>es</td><td>スペイン語</td></tr><tr><td>es-AR</td><td>スペイン語/アルゼンチン</td></tr><tr><td>es-CO</td><td>スペイン語/コロンビア</td></tr><tr><td>es-ES</td><td>スペイン語/スペイン</td></tr><tr><td>es-MX</td><td>スペイン語/メキシコ</td></tr><tr><td>sk</td><td>スロヴァキア語</td></tr><tr><td>sl</td><td>スロヴェニア語</td></tr><tr><td>sr</td><td>セルビア語</td></tr><tr><td>cs</td><td>チェコ語</td></tr><tr><td>da</td><td>デンマーク語</td></tr><tr><td>de</td><td>ドイツ語</td></tr><tr><td>de-AU</td><td>ドイツ語/オーストリア</td></tr><tr><td>de-CH</td><td>ドイツ語/スイス</td></tr><tr><td>de-DE</td><td>ドイツ語/ドイツ</td></tr><tr><td>tr</td><td>トルコ語</td></tr><tr><td>no</td><td>ノルウェー語</td></tr><tr><td>eu</td><td>バスク語</td></tr><tr><td>hu</td><td>ハンガリー語</td></tr><tr><td>fi</td><td>フィンランド語</td></tr><tr><td>fo</td><td>フェロー語</td></tr><tr><td>fr</td><td>フランス語</td></tr><tr><td>fr-CA</td><td>フランス語/カナダ</td></tr><tr><td>fr-CH</td><td>フランス語/スイス</td></tr><tr><td>fr-FR</td><td>フランス語/フランス</td></tr><tr><td>fr-BE</td><td>フランス語/ベルギー</td></tr><tr><td>bg</td><td>ブルアリア語</td></tr><tr><td>pl</td><td>ポーランド語</td></tr><tr><td>pt</td><td>ポルトガル語</td></tr><tr><td>pt-BR</td><td>ポルトガル語/ブラジル</td></tr><tr><td>mk</td><td>マケドニア語</td></tr><tr><td>ro</td><td>ルーマニア語</td></tr><tr><td>ru</td><td>ロシア語</td></tr><tr><td>en</td><td>英語</td></tr><tr><td>en-GB</td><td>英語/英国</td></tr><tr><td>en-US</td><td>英語/米国</td></tr><tr><td>ko</td><td>韓国語</td></tr><tr><td>zh</td><td>中国語</td></tr><tr><td>zh-TW</td><td>中国語/台湾</td></tr><tr><td>zh-CN</td><td>中国語/中国</td></tr><tr><td>ja</td><td>日本語</td></tr><tr><td>be</td><td>白ロシア語</td></tr></tbody></table>\n<footer>引用元:『<a href=\"http://www.futomi.com/lecture/env_var/http_accept_language.html\" target=\"_blank\">環境変数 HTTP_ACCEPT_LANGUAGE - futomi's CGI Cafe</a>』より</footer></blockquote>\n\n<h2>判定ロジック</h2>\n<pre class=\"php\"><code>/**\n* 簡易的な日本判定\n* @return boolean\n*/\npublic static function is_japan() {\n    $result = false;\n    $languages = explode(',', $_SERVER['HTTP_ACCEPT_LANGUAGE']);\n\n<pre><code>foreach ($languages as $language) {\n  if (preg_match('/^ja/i', $language)) {\n    $result = true;\n    break;\n  }\n}\n\nreturn $result;</code></pre>\n</code><p><code>}</code></p></pre><p></p>\n<p><code>HTTP_ACCEPT_LANGUAGE</code>を,区切りで配列にする(<code>explode</code>)。<br>先頭が日本(ja)にマッチしたら true 判定にしてループを<code>break</code>(その後、<code>return</code>)。</p>\n","excerpt":"HTTP_ACCEPT_LANGUAGE / 判定ロジック","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"yumでPHP7をインストールする方法\n","path":"20151204152831.html"},"next":{"title":"[WordPress] WP-CLIのプラグイン関連まとめ","path":"20151120135850.html"}},{"title":"[WordPress] WP-CLIのプラグイン関連まとめ","path":"20151120135850.html","permalink":"https://b.0218.jp/20151120135850.html","date":"2015-11-20T13:58:50.000Z","updated":"2015-11-20T13:58:50.000Z","thumbnail":"","content":"<p>以前「<a href=\"https://b.0218.jp/20120924105502.html\">手動でプラグインを無効化する方法</a>」など記載したが、WP-CLI のようなコマンドラインインターフェースを使用したほうが間違いが少なく安全だと思う。<br>今後はできるだけ直接 DB を修正するようなことは避けたい。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>プラグインを有効にする</h2>\n<pre class=\"cmd\">wp plugin activate</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/activate/\">activate</a>\n<h2>プラグインを無効にする</h2>\n<pre class=\"cmd\">wp plugin deactivate</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/deactivate/\">deactivate</a>\n<h2>プラグインを削除する</h2>\n<pre class=\"cmd\">wp plugin delete</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/delete/\">delete</a>\n<h2>プラグインの情報を取得する</h2>\n<pre class=\"cmd\">wp plugin get</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/get/\">get</a>\n<h2>プラグインをインストールする</h2>\n<pre class=\"cmd\">wp plugin install</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/install/\">install</a>\n<h2>プラグインがインストールされているか確認する</h2>\n<pre class=\"cmd\">wp plugin is-installed</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/is-installed/\">is-installed</a>\n<h2>プラグインの一覧を表示する</h2>\n<pre class=\"cmd\">wp plugin list</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/list/\">list</a>\n<h2>プラグインのパスを表示する</h2>\n<pre class=\"cmd\">wp plugin path</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/path/\">path</a>\n<h2>プラグインを検索する</h2>\n<pre class=\"cmd\">wp plugin search</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/search/\">search</a>\n<h2>プラグインの状態を表示する</h2>\n<pre class=\"cmd\">wp plugin status</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/status/\">status</a>\n<h2>プラグインの有効/無効を切り替える</h2>\n<pre class=\"cmd\">wp plugin toggle</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/toggle/\">toggle</a>\n<h2>プラグインをアンインストールする</h2>\n<pre class=\"cmd\">wp plugin uninstall</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/uninstall/\">uninstall</a>\n<h2>プラグインを更新する</h2>\n<pre class=\"cmd\">wp plugin update</pre>\n公式ドキュメント: <a href=\"http://wp-cli.org/commands/plugin/update/\">update</a>\n","excerpt":"プラグインを有効にする / プラグインを無効にする / プラグインを削除する / プラグインの情報を取得する / プラグインをインストールする","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"WP-CLI","slug":"WP-CLI","path":"tags/WP-CLI/"}],"prev":{"title":"[PHP] 簡易的に国を判定する方法","path":"20151127223056.html"},"next":{"title":"[CSS] footer要素を最下部に固定する方法","path":"20151112020504.html"}},{"title":"[CSS] footer要素を最下部に固定する方法","path":"20151112020504.html","permalink":"https://b.0218.jp/20151112020504.html","date":"2015-11-12T02:05:04.000Z","updated":"2015-11-12T02:05:04.000Z","thumbnail":"","content":"<p>コンテンツ部分の高さがウィンドウサイズよりも小さくてフッターが浮いてしまう問題。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>これまでの方法</h2>\nレガシーブラウザにも対応するなら、「<a href=\"http://getbootstrap.com/examples/sticky-footer/\" target=\"_blank\">Sticky Footer Template for Bootstrap</a>」でも紹介されているような手法を使わざるを得ない。\n\n<p>コードは以下の様な感じ。</p>\n<pre class=\"css\"><code>html {\n  position: relative;\n  min-height: 100%;\n}\nbody {\n  /* Margin bottom by footer height */\n  margin-bottom: 60px;\n}\n.footer {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  /* Set the fixed height of the footer here */\n  height: 60px;\n  background-color: #f5f5f5;\n}\n</code></pre>\n\n<h2>ビューポートを使う</h2>\n<pre class=\"html\"><code>&lt;main&gt;&lt;/main&gt;\n&lt;footer&gt;&lt;/footer&gt;</code></pre>\n例えば上記の様な並びだった場合は、以下のようにすれば良い。\n<pre class=\"css\"><code>main {\n  min-height: 100vh;\n}</code></pre>\n\n<p><code>vh</code>で<b>ビューポートの高さに対する割合</b>を設定できる。<br>これでコンテンツ要素が小さくても確実に高さが担保できる。綺麗に調整したい場合は、<code>calc(100vh - フッターの高さ)</code>などする必要がある(margin も考慮する必要あり)。</p>\n<p>IE9 から対応なのでそこそこのモダンブラウザであれば使うことができる。</p>\n","excerpt":"これまでの方法 / ビューポートを使う","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[WordPress] WP-CLIのプラグイン関連まとめ","path":"20151120135850.html"},"next":{"title":"[Vagrant] The guest machine entered an invalid state while waiting for it","path":"20151106015126.html"}},{"title":"[Vagrant] The guest machine entered an invalid state while waiting for it","path":"20151106015126.html","permalink":"https://b.0218.jp/20151106015126.html","date":"2015-11-06T01:51:26.000Z","updated":"2015-11-06T01:51:26.000Z","thumbnail":"","content":"<p>マシンに対して変更をしていないのに、<code>vagrant up</code>でマシンが立ち上がらなくなった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>エラー内容</h2>\n<pre class=\"cmd\">The guest machine entered an invalid state while waiting for it\nto boot. Valid states are 'starting, running'. The machine is in the\n'aborted' state. Please verify everything is configured\nproperly and try again.\n\n<p>If the provider you’re using has a GUI that comes with it,<br>it is often helpful to open that and watch the machine, since the<br>GUI often has more helpful error messages than Vagrant can retrieve.<br>For example, if you’re using VirtualBox, run <code>vagrant up</code> while the<br>VirtualBox GUI is open.</p>\n<p>The primary issue for this error is that the provider you’re using<br>is not properly configured. This is very rarely a Vagrant issue.</p></pre><p></p>\n<h2>試したコマンド</h2>\n<h3>停止</h3>\n<pre class=\"bash\"><code>vagrant halt</code></pre>\n\n<h3>一時停止</h3>\n<pre class=\"bash\"><code>vagrant suspend</code></pre>\n\n<h3>復帰</h3>\n<pre class=\"bash\"><code>vagrant resume</code></pre>\n\n<h3>再起動</h3>\n<pre class=\"bash\"><code>vagrant reload</code></pre>\n\n<hr>\n\n<p>以上を試したが効果なし</p>\n<h2>解決した方法</h2>\nそもそもの原因はMacTypeだった。\n一時的にプロファイルを変えていた事で、プロセスの除外設定が変わってしまっていた。\n\n<p>MacType を停止なり、プロセスマネージャーで置換しないように設定すれば OK<br>その後、<code>vagrant up</code>で問題なく起動させることができた。</p>\n","excerpt":"エラー内容 / 試したコマンド / 解決した方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"vagrant","slug":"vagrant","path":"tags/vagrant/"}],"prev":{"title":"[CSS] footer要素を最下部に固定する方法","path":"20151112020504.html"},"next":{"title":"[名探偵コナン] 伏線とされている事柄 一覧","path":"20151026014220.html"}},{"title":"[名探偵コナン] 伏線とされている事柄 一覧","path":"20151026014220.html","permalink":"https://b.0218.jp/20151026014220.html","date":"2015-10-26T01:42:20.000Z","updated":"2015-10-26T01:42:20.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>伏線一覧</h2>\n以下、投稿から引用。\n<h3>メイン</h3>\n<ul>\n  <li>組織の目的</li>\n  <li>組織の正式名称</li>\n  <li>あの方の正体</li>\n  <li>組織が半世紀前から進めている極秘プロジェクト</li>\n  <li>あの方とベルモットの関係</li>\n  <li>クリスの実在の是非</li>\n  <li>灰原とジンの関係 (作者名言)</li>\n</ul>\n<h3>10巻代</h3>\n<ul>\n  <li>灰原の指摘「コナンは既に組織に深く関わってしまっている」の真意 (19巻)</li>\n</ul>\n<h3>20巻代</h3>\n<ul>\n  <li>灰原発言「時の流れに人は逆らえない。逆らおうとすると人は罰をうける」の「罰」の意味 (20巻)</li>\n  <li>コナン発言「なあ…お前ひょっとして組織にいた頃…」の続き (24巻)</li>\n  <li>(灰原脱走後の組織編の初期において)灰原の行動が組織に読まれ過ぎていた理由 (24巻)</li>\n  <li>博士邸にあった焼け焦げたMO (25巻) (作者名言)</li>\n  <li>灰原は薬のデータのMOを持っていると思われるのに「薬のデータが無い」とコナンに言う理由 (25巻)</li>\n  <li>人魚島の「宮野志保」「魚塚三郎」｢黒澤陣｣ (28巻) (作者名言)</li>\n</ul>\n<h3>40巻代</h3>\n<ul>\n  <li>灰原の両親が20年前出島デザイン事務所を訪れた理由</li>\n  <li>灰原の両親は現在も存命か否か</li>\n  <li>ベルモットが歳を取らないとされているが、その理由</li>\n  <li>ベルモットが幼児化を隠す理由</li>\n  <li>ベルモットが宮野夫妻を恨んでいる理由</li>\n  <li>ベルモットが長い間待ち望んでいた銀の弾丸</li>\n  <li>ベルモットが帝丹小で灰原を見つけられなかった理由 (45巻)</li>\n  <li>「倉吉」に対する灰原の反応 (45巻)</li>\n  <li>メロディの七つの子はただの冗談か、それとも深い意味が含まれているのか。</li>\n</ul>\n<h3>50巻代</h3>\n<ul>\n  <li>宮野明美が赤井に送ったメールのP.S.の続き (58巻)</li>\n  <li>ジンがなぜそこまでと疑問に思う程、あの方が赤井を恐れている理由</li>\n</ul>\n<h3>60巻代</h3>\n<ul>\n  <li>蘭が服部のお守りに工藤新一の指紋がついていたことに疑問を抱いたこと (67巻)</li>\n  <li>ジョディに「逃げろ！このエリアは危険だ！」と記されたコースターを残した人物とその目的 (67巻)</li>\n</ul>\n<h3>70巻代</h3>\n<ul>\n  <li>「探偵たちの夜想曲」ラストシーンの3人それぞれの通話の相手 (76巻)</li>\n  <li>ベルモットとバーボンの「約束」の内容 (76巻)</li>\n  <li>世良真純が発見した工藤邸にあった長い髪の毛</li>\n  <li>ベルモットが板倉に発注したソフトの中身(=板倉が組織の脅迫により作らされていたソフトと同一か、それとも否か) (78巻)</li>\n  <li>シャロンと板倉が犬猿の仲だった理由 (78巻)</li>\n  <li>灰原の両親が作っていた薬｢銀の弾丸｣ (78巻)</li>\n  <li>灰原の両親が薬の完成のために灰原と別れなければならなかった理由 (78巻)</li>\n</ul>\n<h3>80巻代</h3>\n<ul>\n  <li>以前蘭とコナンが「会う前から世良に会ったような気を感じた」との意味</li>\n  <li>世良一族の家系図</li>\n  <li>世良の一連の発言(「やっぱ僕悪い子だな」など)</li>\n  <li>作者の「今後とある2人の母親同士が姉妹と判明する。」発言とは誰と誰のことを示すのか。</li>\n  <li>作者の「今現在組織の内部ではかなり大変なことが起きている」発言の意味</li>\n  <li>(バーボンの回想シーンの後)エレーナはどこへ行ったのか (84巻)</li>\n  <li>コナンへのバーボンの発言「大きな誤解をしているようだ。」の真意 (84巻)</li>\n  <li>棋士羽田はどのような接点を以て組織と関わっているのか</li>\n  <li>組織員が知ったら驚くベルモットの秘密 (85巻)\n(バーボン「組織が知ったら驚くでしょうね…あなたがボスの…」)</li>\n  <li>スコッチの正体</li>\n  <li>領域外の妹の正体</li>\n  <li>ボスの側近であるラムの正体</li>\n  <li>黒田警部と組織についての関係 (86巻)</li>\n</ul>\n<h2>参考</h2>\n<ul>\n  <li>http://tomcat.2ch.sc/test/read.cgi/livejupiter/1445649995</li>\n</ul>\n","excerpt":"伏線一覧 / 参考","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[Vagrant] The guest machine entered an invalid state while waiting for it","path":"20151106015126.html"},"next":{"title":"Wacomのサービスを再起動してペンタブを再認識させるアプリをリリース\n","path":"20151024010830.html"}},{"title":"Wacomのサービスを再起動してペンタブを再認識させるアプリをリリース\n","path":"20151024010830.html","permalink":"https://b.0218.jp/20151024010830.html","date":"2015-10-24T01:08:30.000Z","updated":"2016-04-11T18:14:21.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>概要</h2>\n「<a href=\"https://b.0218.jp/20120917193032.html\">[Wacom] ペンタブが認識しない</a>」で紹介したバッチを簡単に利用できるソフトです。\n\n<p>バッチの場合は、黒い画面(コマンドプロンプト)・「管理者で実行」などをしなければならないのですが、初心者向けにその辺りを意識しないようにした作りです。</p>\n<p>そもそもこのサービス再起動は正式な改善方法ではないのであしからず。</p>\n<h3>活用シーン</h3>\n<ul>\n  <li>Wacomのペンタブが<b>利用できない</b></li>\n  <li>OSを<b>再起動したくない</b>・できない とき</li>\n  <li>再起動したがペンタブが反応しない とき</li>\n</ul>\nなど\n\n<p><span class=\"text-danger\">※ドライバの再インストールが必要な場合などありますので、解決方法が「サービスの再起動」しかない場合にお使いください。</span></p>\n<h2>ダウンロード</h2>\n実行ファイルのダウンロードは<a href=\"https://github.com/hiro0218/wacom-service-restarter/releases\">こちら</a>。\n\n<p>最新のバージョンの「WacomRestarter.exe」をダウンロードしてください。</p>\n<h2>使用方法</h2>\n<ol>\n  <li><b>WacomRestarter.exe</b> を実行</li>\n  <li>ユーザーアカウント制御(UAC)が表示された場合は「はい」をクリック</li>\n  <li>「<b>Wacom サービスの再起動が完了しました。</b>」というアラートが表示されたら完了</li>\n</ol>\n\n<p>ウイルス対策ソフトに引っかかる可能性がありますが、前もって一応のウイルスチェック済みです。</p>\n<h2>機能仕様</h2>\nまず、以下の起動中のプロセスを終了させます。\n<ul>\n<li>Wacom_Tablet\n</li><li>Wacom_TabletUser\n</li><li>Wacom_TouchUser\n</li><li>WacomHost\n</li></ul>\n\n<p>以下の存在するサービスを再起動します。</p>\n<ul>\n<li>TabletServiceWacom\n</li><li>WTabletServicePro\n</li></ul>\n\n<p>それ以外のサービスについては再起動されないので無意味です。<br>もし、対応の希望があればフィードバックお願いします。</p>\n<h2>免責</h2>\n<p class=\"c-alert is-danger\">ご利用は自己責任でお願い致します。\n本ソフトウェアを利用して起こったトラブルや損失に関して、製作者は一切責任を負いません。</p>\nまた、必ずしも本ソフトを利用したことで問題が解決するとは限りません。\n\n<p>以上、予めご了承ください。</p>\n","excerpt":"概要 / ダウンロード / 使用方法 / 機能仕様 / 免責","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Wacom","slug":"Wacom","path":"tags/Wacom/"},{"name":"ペンタブ","slug":"ペンタブ","path":"tags/%E3%83%9A%E3%83%B3%E3%82%BF%E3%83%96/"},{"name":"Release","slug":"Release","path":"tags/Release/"}],"prev":{"title":"[名探偵コナン] 伏線とされている事柄 一覧","path":"20151026014220.html"},"next":{"title":"[JavaScript] 全角英数字記号を半角に変換する方法","path":"20151023001654.html"}},{"title":"[JavaScript] 全角英数字記号を半角に変換する方法","path":"20151023001654.html","permalink":"https://b.0218.jp/20151023001654.html","date":"2015-10-23T00:16:54.000Z","updated":"2018-08-26T00:46:09.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>デモ</h2><iframe height=\"260\" scrolling=\"no\" title=\"Zenkaku to Hankaku\" src=\"//codepen.io/hiro0218/embed/WgrdbO/?height=265&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/WgrdbO/'>Zenkaku to Hankaku</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<h2>方法</h2><h3>コード</h3><pre><code class=\"js\">function zenkaku2hankaku(val) {\n  var regex = /[Ａ-Ｚａ-ｚ０-９！＂＃＄％＆＇（）＊＋，－．／：；＜＝＞？＠［＼］＾＿｀｛｜｝]/g;\n\n  // 入力値の全角を半角の文字に置換\n  value = val\n    .replace(regex, function (s) {\n      return String.fromCharCode(s.charCodeAt(0) - 0xfee0);\n    })\n    .replace(/[‐－―]/g, \"-\") // ハイフンなど\n    .replace(/[～〜]/g, \"~\") // チルダ\n    .replace(/　/g, \" \"); // スペース\n\n  return value;\n}</code></pre>\n<h3>仕様</h3><p>以下の全角文字をコードに従って半角に置き換える。</p>\n<ul>\n<li><code>Ａ\\-Ｚ</code></li>\n<li><code>ａ\\-ｚ</code></li>\n<li><code>０\\-９</code></li>\n<li><code>！＂＃＄％＆＇（）＊＋，－．／：；＜＝＞？＠［＼］＾＿｀｛｜｝</code></li>\n</ul>\n<p>以下をそれぞれに置換。</p>\n<ul>\n<li><code>‐－―</code> → <code>\\-</code></li>\n<li><code>～〜</code> →<code>~</code></li>\n<li><code>→</code></li>\n</ul>\n","excerpt":"デモ / 方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"Wacomのサービスを再起動してペンタブを再認識させるアプリをリリース\n","path":"20151024010830.html"},"next":{"title":"[gulp] Error: `libsass` bindings not found in ～","path":"20151022213518.html"}},{"title":"[gulp] Error: `libsass` bindings not found in ～","path":"20151022213518.html","permalink":"https://b.0218.jp/20151022213518.html","date":"2015-10-22T21:35:18.000Z","updated":"2015-10-22T21:35:18.000Z","thumbnail":"","content":"<p>gulp 時に発生したエラー。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>環境</h2>\n<ul>\n  <li>Windows 7</li>\n  <li>nodejs v4.2.1</li>\n  <li>npm v3.3.8</li>\n</ul>\n<h2>発生したエラー</h2>\n発生したのは以下のようなエラー。\n<pre class=\"cmd\">node_modules\\node-sass\\lib\\extensions.js:148\n    throw new Error(['`libsass` bindings not found in ', binaryPath, '. Try reinstalling `node-sass`?'].join(''));\n    ^\n\n<p>Error: <code>libsass</code> bindings not found in node_modules\\node-sass\\vendor\\win32-x64-46\\binding.node. Try reinstalling <code>node-sass</code>?<br>at Object.sass.getBinaryPath (node_modules\\node-sass\\lib\\extensions.js:148:11)<br>at Object. (node_modules\\node-sass\\lib\\index.js:16:36)<br>at Module._compile (module.js:435:26)<br>at Object.Module._extensions..js (module.js:442:10)<br>at Module.load (module.js:356:32)<br>at Function.Module._load (module.js:311:12)<br>at Module.require (module.js:366:17)<br>at require (module.js:385:17)<br>at Object. (node_modules\\gulp-sass\\index.js:163:21)<br>at Module._compile (module.js:435:26)</p>\n<p></p></pre><p></p>\n<h2>解決方法</h2>\n<pre class=\"bash\"><code>npm uninstall --save-dev gulp-sass</code></pre>\n<pre class=\"bash\"><code>npm install --save-dev gulp-sass@2</code></pre>\n<pre class=\"bash\"><code>npm rebuild node-sass</code></pre>\n","excerpt":"環境 / 発生したエラー / 解決方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[JavaScript] 全角英数字記号を半角に変換する方法","path":"20151023001654.html"},"next":{"title":"[Excel] 指定文字をカウントする方法","path":"20151020183827.html"}},{"title":"[Excel] 指定文字をカウントする方法","path":"20151020183827.html","permalink":"https://b.0218.jp/20151020183827.html","date":"2015-10-20T18:38:27.000Z","updated":"2015-10-20T18:38:27.000Z","thumbnail":"","content":"<p><code>COUNTA()</code>で個数を確認できるが、指定データをカウントする場合には使えない。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n<h3>使用関数</h3>\n<pre class=\"\"><code>COUNTIF(範囲, 条件文字)</code></pre>\n\n<h3>使用例</h3>\n<pre class=\"\"><code>COUNTIF(B2:B18, \"○\")</code></pre>\n<code>B2:B18</code>内に「○」が10個あれば「10」になる。\n","excerpt":"方法","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Excel","slug":"Excel","path":"tags/Excel/"}],"prev":{"title":"[gulp] Error: `libsass` bindings not found in ～","path":"20151022213518.html"},"next":{"title":"[Firefox] 禁止されていても右クリックメニューを開く方法","path":"20151017032627.html"}},{"title":"[Firefox] 禁止されていても右クリックメニューを開く方法","path":"20151017032627.html","permalink":"https://b.0218.jp/20151017032627.html","date":"2015-10-17T03:26:27.000Z","updated":"2015-10-17T03:26:27.000Z","thumbnail":"","content":"<p>右クリックメニューを禁止しているサイトでもコンテキストメニューを表示させる。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n<h3>ショートカットキーを使う</h3>\n<kbd>Shift</kbd> + 右クリック\nこの方法なら好きなタイミングで表示できる。\n\n<h3>設定を変える</h3>\n<ol>\n <li>about:config を開く</li>\n <li><code>dom.event.contextmenu.enabled</code>の設定を<code>false</code>に変更する</li>\n</ol>\n設定を変更しているため、常にコンテキストメニューが有効になってしまう。\n独自のコンテキストメニューが実装されている場合、正常に動作しなくなる可能性がある。\n","excerpt":"方法","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"[Excel] 指定文字をカウントする方法","path":"20151020183827.html"},"next":{"title":"[Linux] viで操作できなくなった時の対処法","path":"20151016235800.html"}},{"title":"[Linux] viで操作できなくなった時の対処法","path":"20151016235800.html","permalink":"https://b.0218.jp/20151016235800.html","date":"2015-10-16T23:58:00.000Z","updated":"2015-10-16T23:58:00.000Z","thumbnail":"","content":"<p>急に何も操作ができなくなった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>解決方法</h2>\n<h3>状況</h3>\n<kbd>Ctrl</kbd> + <kbd>s</kbd>を押していた。\n\n<p>保存をするクセで押していた模様。<br>ちなみに上記のキーでスクロール固定されるらしい。</p>\n<h3>解決</h3>\n<kbd>Ctrl</kbd> + <kbd>q</kbd>を押したら解除される。\n","excerpt":"解決方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Linux","slug":"Linux","path":"tags/Linux/"}],"prev":{"title":"[Firefox] 禁止されていても右クリックメニューを開く方法","path":"20151017032627.html"},"next":{"title":"リモートデスクトップが接続できない時に確認する事\n","path":"20151013185259.html"}},{"title":"リモートデスクトップが接続できない時に確認する事\n","path":"20151013185259.html","permalink":"https://b.0218.jp/20151013185259.html","date":"2015-10-13T18:52:59.000Z","updated":"2015-10-13T18:52:59.000Z","thumbnail":"","content":"<p>解決した対処方法をメモ</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>確認する項目</h2>\n<h3>システムのプロパティ</h3>\nコントロールパネルのシステムとセキュリティ-&gt;システムの「<b>リモート アクセスの許可</b>」\n<ol>\n  <li>システムのプロパティの[リモート]タブ</li>\n  <li>リモート アシスタンスグループ:\n「このコンピュータへのリモート アシスタンス接続を許可する(<u>R</u>)」にチェックを入れる</li>\n  <li>リモート デスクトップ:\n「このコンピュータへのリモート接続を許可する(<u>L</u>)」をオンにする</li>\n  <li>それぞれ有効にして、「OK」ボタンをクリック</li>\n</ol>\n<h3>Windows ファイアウォール</h3>\nコントロールパネルのWindows ファイアウォール-&gt;「<b>Windows ファイアウォールによるプログラムの許可</b>」\n<ol>\n  <li>「設定の変更」ボタンをクリックして、「許可されたプログラムおよび機能」欄を有効化</li>\n  <li>「許可されたプログラムおよび機能」欄から、「リモート デスクトップ」を選択し、「OK」ボタンをクリック</li>\n</ol>\n","excerpt":"確認する項目","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows","slug":"Windows","path":"tags/Windows/"}],"prev":{"title":"[Linux] viで操作できなくなった時の対処法","path":"20151016235800.html"},"next":{"title":"[SyntaxHighlight] Google Code PrettifyからPrism.jsに変更した時に気をつけたこと","path":"20151013112418.html"}},{"title":"[SyntaxHighlight] Google Code PrettifyからPrism.jsに変更した時に気をつけたこと","path":"20151013112418.html","permalink":"https://b.0218.jp/20151013112418.html","date":"2015-10-13T11:24:18.000Z","updated":"2016-11-14T11:06:26.000Z","thumbnail":"","content":"<p>ブログで使用しているコードのシンタックスハイライトを<strong>Google Code Prettify</strong>から<strong>Prism.js</strong>に乗り換えた。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>概要</h2><p>長年、Google Code Prettify を使用していたが、ライブラリの更新頻度の低下やハイライト可能な言語のバリエーションが少ない事に不満があった。</p>\n<p>ただ、別のライブラリに乗り換えるにしても jQuery に依存したものは避け、さまざまなライブラリを探していた。<br>条件としては、以下のような形で探した。</p>\n<ul>\n<li>更新頻度がそこそこある(放置されていない)</li>\n<li>ハイライト可能な言語のバリエーションが豊富</li>\n<li>他ライブラリに依存しない(今回は jQuery)</li>\n<li>Google Code Prettify から乗換易い</li>\n</ul>\n<p><strong>Prism</strong>が、条件に一致したため採用した。</p>\n<h2>Google Code Prettify</h2><p>Bootstrap の公式ドキュメントなどでも使用され、様々なサイトで見る機会も多い。しかしながら、ここしばらくは更新頻度が下がり、<a href=\"https://github.com/google/code-prettify/blob/master/CHANGES.md\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">更新履歴</a>を見るに、現在のところ 2013 年が実質的な最後の更新のようである。</p>\n<h3>配布</h3><p>公式ページは<a href=\"https://github.com/google/code-prettify\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">こちら</a> (Google Code から Github へ移動になった)</p>\n<h3>テーマ</h3><p>非公式だが、テーマの配布は<a href=\"http://jmblog.github.io/color-themes-for-google-code-prettify/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">こちら</a></p>\n<h2>Prism</h2><p>公式ページは<a href=\"http://prismjs.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">こちら</a><br><a href=\"https://developer.mozilla.org/ja/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Mozilla Developer Network: MDN</a>などでも使用実績がある模様。</p>\n<p>Prism に決めたポイントとしては、(Google Code Prettify からの乗り換えのしやすさを除けば) サポート言語の豊富さに加えて、さらにプラグインが充実していることがある。(個人的にはプラグインはさほど重要ではないが、今後使用する可能性を考えると魅力的ではある)</p>\n<h3>配布</h3><p>公式ページからカスタムビルドが可能。好きな言語やテーマ・プラグインを選択すると、JS と CSS がそれぞれダウンロードできる。<br>また、<a href=\"https://github.com/PrismJS/prism\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">GitHub</a>や<a href=\"https://www.npmjs.com/package/prismjs\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">npm</a>から取得する事もできる。</p>\n<h3>サポート言語</h3><p><a href=\"http://prismjs.com/#languages-list\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Supported languages</a>にサポート言語の一覧がある。</p>\n<p>定番の C 系, <code>Java</code>, <code>JavaScript</code>から、<code>Sass</code>や<code>Scss</code>など細かな指定にも対応している。<br>ちなみに HTML を指定したい場合は、<code>markup</code>を指定する必要がある。</p>\n<h3>テーマ</h3><p>現在、テーマは以下の 6 種類。</p>\n<ul>\n<li>Default</li>\n<li>Dark</li>\n<li>Funky</li>\n<li>Okaidia</li>\n<li>Twilight</li>\n<li>Coy</li>\n</ul>\n<p>公式のテーマ以外にも自作や非公式なテーマの適応も可能。</p>\n<h3>プラグイン</h3><p>現在、<a href=\"http://prismjs.com/#plugins\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">プラグイン</a>は以下の 18 個。</p>\n<ul>\n<li><a href=\"http://prismjs.com/plugins/line-highlight\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Line Highlight</a></li>\n<li><a href=\"http://prismjs.com/plugins/line-numbers\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Line Numbers</a></li>\n<li><a href=\"http://prismjs.com/plugins/show-invisibles\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Show Invisibles</a></li>\n<li><a href=\"http://prismjs.com/plugins/autolinker\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Autolinker</a></li>\n<li><a href=\"http://prismjs.com/plugins/wpd\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">WebPlatform Docs</a></li>\n<li><a href=\"http://prismjs.com/plugins/file-highlight\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">File Highlight</a></li>\n<li><a href=\"http://prismjs.com/plugins/show-language\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Show Language</a></li>\n<li><a href=\"http://prismjs.com/plugins/jsonp-highlight\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">JSONP Highlight</a></li>\n<li><a href=\"http://prismjs.com/plugins/highlight-keywords\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Highlight Keywords</a></li>\n<li><a href=\"http://prismjs.com/plugins/remove-initial-line-feed\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Remove initial line feed</a></li>\n<li><a href=\"http://prismjs.com/plugins/previewer-base\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Previewer: Base</a></li>\n<li><a href=\"http://prismjs.com/plugins/previewer-color\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Previewer: Color</a></li>\n<li><a href=\"http://prismjs.com/plugins/previewer-gradient\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Previewer: Gradient</a></li>\n<li><a href=\"http://prismjs.com/plugins/previewer-easing\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Previewer: Easing</a></li>\n<li><a href=\"http://prismjs.com/plugins/previewer-time\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Previewer: Time</a></li>\n<li><a href=\"http://prismjs.com/plugins/previewer-angle\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Previewer: Angle</a></li>\n<li><a href=\"http://prismjs.com/plugins/autoloader\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Autoloader</a></li>\n<li><a href=\"http://prismjs.com/plugins/keep-markup\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Keep Markup</a></li>\n</ul>\n<p><code>color</code>や<code>easing</code>のプレビューから、ライブラリの<code>autoloader</code>まで用途は様々。</p>\n<h2>Google Code Prettify から Prism に乗り換え</h2><p>両者とも事前にライブラリを読み込んだ上で、それぞれ以下のような記述でコードをハイライトさせる。</p>\n<h3>Google Code Prettify の記述方法</h3><pre><code class=\"html\">&lt;pre class=\"prettyprint lang-javascript\"&gt;\nコード\n&lt;/pre&gt;</code></pre>\n<h3>Prism の記述方法</h3><pre><code class=\"html\">&lt;pre class=\"language-javascript\"&gt;&lt;code&gt;\nコード\n&lt;/code&gt;&lt;/pre&gt;</code></pre>\n<hr>\n<p>ライブラリとテーマを除けば、違いといえば<code>lang-*</code>か<code>language-*</code>の差だけである。<br>この prefix を変える事もできるが、基本的にはライブラリとテーマを差し替えて、対象の<code>lang-*</code>を<code>language-*</code>に置換すれば移行は完了する。</p>\n<h3>余談</h3><p>お作法として、<code>&lt;pre&gt;</code>の中に<code>&lt;code&gt;</code>を入れてソースコードを記載する必要がある。</p>\n<ul>\n<li><code>&lt;pre&gt;</code>: 整形済みテキスト</li>\n<li><code>&lt;code&gt;</code>: プログラムのソースコード</li>\n</ul>\n","excerpt":"概要 / Google Code Prettify / Prism / Google Code Prettify から Prism に乗り換え","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"リモートデスクトップが接続できない時に確認する事\n","path":"20151013185259.html"},"next":{"title":"[JavaScript] ブラウザの戻るボタンを禁止する方法","path":"20151010102357.html"}},{"title":"[JavaScript] ブラウザの戻るボタンを禁止する方法","path":"20151010102357.html","permalink":"https://b.0218.jp/20151010102357.html","date":"2015-10-10T10:23:57.000Z","updated":"2015-10-10T10:23:57.000Z","thumbnail":"","content":"<p>ブラウザの戻るボタンで戻れなくする方法</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>概要</h2><p>ウェブアプリなどでは戻るボタンで前のページに戻られると予期せぬ動作をしてしまうことがある。これまでは戻れないように別ウィンドウで表示したりと色々と面倒な小細工をしていたが、History API に対応したブラウザであれば後述の JavaScript で戻る行為を禁止することができる。(普通のサイトでは使用の機会は少ないかもしれないが)</p>\n<h2>コード</h2><pre><code class=\"javascript\">if (history.pushState &amp;&amp; history.state !== undefined) {\n  history.pushState(\"aGlybzAyMTg=\", null, \"\");\n\n  window.addEventListener(\"popstate\", function (e) {\n    if (!e.originalEvent.state) {\n      history.pushState(\"aGlybzAyMTg=\", null, \"\");\n      return;\n    }\n  });\n}</code></pre>\n<p>History API に対応していないブラウザは個別に対応してやる必要がある。</p>\n","excerpt":"概要 / コード","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[SyntaxHighlight] Google Code PrettifyからPrism.jsに変更した時に気をつけたこと","path":"20151013112418.html"},"next":{"title":"玉名 立願寺ホテルに泊まった時のメモ\n","path":"20151007010250.html"}},{"title":"玉名 立願寺ホテルに泊まった時のメモ\n","path":"20151007010250.html","permalink":"https://b.0218.jp/20151007010250.html","date":"2015-10-07T01:02:50.000Z","updated":"2015-10-07T01:02:50.000Z","thumbnail":"","content":"<p>先日、熊本県玉名市にある「立願寺ホテル」に泊まった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>場所</h2>\n<div class=\"gmap\">\n<iframe src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d488.2615222587991!2d130.55740917959324!3d32.93849243122592!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0000000000000000%3A0x163d564f6aa805a0!2z546J5ZCN5rip5rOJIOeri-mhmOWvuua4qeazieODm-ODhuODqw!5e0!3m2!1sja!2sjp!4v1444147599849\" width=\"400\" height=\"300\" frameborder=\"0\" style=\"border:0\" allowfullscreen=\"\"></iframe>\n</div>\n\n<ul>\n  <li>熊本県玉名市</li>\n</ul>\n\n<p>高台の分かりづらい場所にある。<br>駐車場は斜面にあり、車が転がりそうだった。</p>\n<h2>内容</h2>\n宿泊の内容は以下の通り。\n<ul>\n  <li><b>部屋</b>:\n洋室８畳ツインルーム</li>\n  <li><b>宿泊人数</b>:\n2人</li>\n  <li><b>値段</b>:\n10,000円</li>\n  <li><b>食事</b>:\nなし</li>\n</ul>\n\n<h3>部屋</h3>\n2番目に安い部屋を選択した。\n\n<p>楽天トラベルに掲載されていた写真はとても綺麗だったが、実物は予想以上に古く年季の入った、写真とは似ても似つかない部屋だった。<br>窓は雨漏りし、ベッドにはイモリがいた。<br>「汚い」わけではないのかもしれないが、正直清潔感があるとは言えなかった。</p>\n<p>室内に風呂とトイレ(ユニット)は付いていた。(最安のプランだと共同トイレらしい)<br>雨の日だったせいか、風呂場は物凄く湿気があり、また古さもあってか汚く見えた。</p>\n<p>洗面所は部屋に入ってすぐ横にある。洗面台の鏡と姿見があわせ鏡になっていた。</p>\n<p>ちなみに部屋には LAN ケーブルがあり、PC を持ち込めばネットが出来る。</p>\n<h2>温泉</h2>\n温泉自体は悪くないのだと思うが、如何せん設備が古く、落ち着つかなかった。\n個人的に洗い場のカビのような黒いものが気になった。\n\n<h2>総評</h2>\n近辺の宿泊施設(旅館)と比べると割安なので試しに泊まってみた。\n施設の汚さ(古さからくるものだと思う)を考えると、この値段は高い。\n\n<p>素泊まりだったのでサービスなど行き届いてなくとも構わなかったのだが、部屋の汚さ(古さ・雨漏り)には驚かされた。<br>さすがに大きなヤモリがベッドに居たのには言葉を失ったが…</p>\n<p>もちろん、訳ありの安いプランだったからこのような結果だったのかもしれない。<br>高いプランの部屋であれば、写真のような綺麗な部屋なのだろう…。<br>値段が上がれば、他のホテルの選択の余地があるし、安いといってもこの値段であるので、個人的にはあまり高い評価はできない。</p>\n<p>もしも温泉が目的なのであれば、高くても良いホテルを選んだ方が懸命だと思う。</p>\n<h2>その他</h2>\n前金制で受付で支払いを済ませて鍵を貰った。\n\n<div style=\"display:none\" itemscope=\"\" itemtype=\"http://schema.org/Review\">\n\n  <div itemprop=\"itemReviewed\" itemscope=\"\" itemtype=\"https://schema.org/Hotel\">\n    <span itemprop=\"name\">立願寺温泉ホテル</span>\n  </div>\n\n  <span itemprop=\"reviewRating\" itemscope=\"\" itemtype=\"http://schema.org/Rating\">\n    <span itemprop=\"worstRating\">0</span>\n    <span itemprop=\"ratingValue\">1</span>\n    <span itemprop=\"bestRating\">5</span>\n  </span>\n\n  <span itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\">\n    <span itemprop=\"name\">hiro</span>\n  </span>\n\n</div>\n","excerpt":"場所 / 内容 / 温泉 / 総評 / その他","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"レビュー","slug":"レビュー","path":"tags/%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC/"}],"prev":{"title":"[JavaScript] ブラウザの戻るボタンを禁止する方法","path":"20151010102357.html"},"next":{"title":"[Windows] 配下の読み取り専用のファイルを一括ですべて解除する方法","path":"20151002185247.html"}},{"title":"[Windows] 配下の読み取り専用のファイルを一括ですべて解除する方法","path":"20151002185247.html","permalink":"https://b.0218.jp/20151002185247.html","date":"2015-10-02T18:52:47.000Z","updated":"2015-10-02T18:52:47.000Z","thumbnail":"","content":"<p>プロパティの「属性：読み取り専用」を外しても解除できない時に</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>コマンドを使う</h2>\n<h3>配下に移動する</h3>\n<pre class=\"cmd\">cd 特定の場所</pre>\nエクスプローラーで「特定の場所」を開いて、アドレスバーに<code>cmd</code>を入力して<kbd>Enter</kbd>でもOK\n\n<h3>ファイル属性を変更する</h3>\n以下のコマンドを実行すると再帰的に処理してくれる。\n<pre class=\"cmd\">attrib -R /S *.*</pre>\n","excerpt":"コマンドを使う","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows","slug":"Windows","path":"tags/Windows/"}],"prev":{"title":"玉名 立願寺ホテルに泊まった時のメモ\n","path":"20151007010250.html"},"next":{"title":"[Skype] 同時に複数起動する方法","path":"20151001215730.html"}},{"title":"[Skype] 同時に複数起動する方法","path":"20151001215730.html","permalink":"https://b.0218.jp/20151001215730.html","date":"2015-10-01T21:57:30.000Z","updated":"2015-10-01T21:57:30.000Z","thumbnail":"","content":"<p>アカウントを使い分けたいときに</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>Skypeを同時起動させる</h2>\n単純に2回クリックしても多重起動にはならない。\n\n<h3>コマンドから起動する</h3>\nSkypeのフルパスに引数(secondary)を与えて起動させる。\n<b>32bit</b>\n<pre class=\"cmd\">\"C:\\Program Files\\Skype\\Phone\\Skype.exe\" /secondary</pre>\n<b>64bit</b>\n<pre class=\"cmd\">\"C:\\Program Files (x86)\\Skype\\Phone\\Skype.exe\" /secondary</pre>\nコマンドラインか「ファイル名を指定して実行」から。\n\n<p>あと、このパスのショートカットを作っておくのも良さそう。</p>\n<h2>参考</h2>\n<ul>\n<li><a href=\"https://support.skype.com/ja/faq/FA829/\" target=\"_blank\">Windowsデスクトップで複数のSkypeアカウントを更新する方法を教えてください。</a></li>\n</ul>\n","excerpt":"Skypeを同時起動させる / 参考","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[],"prev":{"title":"[Windows] 配下の読み取り専用のファイルを一括ですべて解除する方法","path":"20151002185247.html"},"next":{"title":"[WordPress] jQuery不要の画像遅延ロード","path":"20150926225159.html"}},{"title":"[WordPress] jQuery不要の画像遅延ロード","path":"20150926225159.html","permalink":"https://b.0218.jp/20150926225159.html","date":"2015-09-26T22:51:59.000Z","updated":"2015-10-08T11:44:26.000Z","thumbnail":"","content":"<p>画像の遅延ロードといえば、jQuery を使ったライブラリが有名だが、jQuery に依存しない仕組みを意識して作る必要がある。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>遅延ロードライブラリ</h2>\n<h3>Layzr.js</h3>\n色々とjQueryに依存しないJavaScriptライブラリを探してみた。\n試してみて個人的に良さそうだったのが、「<a href=\"http://callmecavs.github.io/layzr.js/\">Layzr.js</a>」。\n\n<pre class=\"html\"><code>&lt;script src=\"layzr.js\"&gt;&lt;/script&gt;</code></pre>\n\n<p>CDN もある。</p>\n<pre class=\"html\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/layzr.js/{version}/layzr.min.js\"&gt;&lt;/script&gt;</code></pre>\n\n<p>src の代わりに data-layzr を使う必要がある</p>\n<pre class=\"html\"><code>&lt;img data-layzr=\"image/source\"&gt;</code></pre>\n\n<hr>\n\n<h2>WordPressで使う</h2>\nLayzr.jsでは、<code>src</code>の代わりに<code>data-layzr</code>を使う必要があるが、既にWordPressを運用している場合はsrcのはず。これを一つずつ変えていくのは骨だ。\nSQLで置換する方法もあるが、一括置換はややリスクがあるし今後Layzr.jsの使用をやめる場合はもとに戻さなければならなくなる。\n\n<h3>functions.phpでsrcをdata-layzrに変える</h3>\nすぐに設定、元に戻せるようにfunctions.phpで処理する。\n\n<pre class=\"php\"><code>function replace_imagepage_to_src($content) {\n     return str_replace( 'src=', 'data-layzr=', $content );\n}\nadd_filter('the_content', 'replace_imagepage_to_src', 999999);</code></pre>\n\n<p>上記の処理を入れておくことで、既存の<code>src</code>が<code>data-layzr</code>に変わるので、<br>以下のように layzr.js を読み込むだけで遅延読み込みができるようになる。</p>\n<pre class=\"html\"><code>&lt;script src=\"layzr.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nwindow.addEventListener('load', function () {\n  var layzr = new Layzr();\n}, false);\n&lt;/script&gt;</code></pre>\n","excerpt":"遅延ロードライブラリ / WordPressで使う","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[],"prev":{"title":"[Skype] 同時に複数起動する方法","path":"20151001215730.html"},"next":{"title":"[Gmail] メールアドレスの拡張に使えるエイリアスの覚書","path":"20150917111409.html"}},{"title":"[Gmail] メールアドレスの拡張に使えるエイリアスの覚書","path":"20150917111409.html","permalink":"https://b.0218.jp/20150917111409.html","date":"2015-09-17T11:14:09.000Z","updated":"2015-09-17T11:14:09.000Z","thumbnail":"","content":"<h2>概要</h2>\n<blockquote>Gmail では、従来のエイリアスはご利用いただけませんが、<strong>your.username+any.alias@gmail.com</strong> 宛のメッセージを受け取ることができます。たとえば、<strong>jane.doe+notes@gmail.com</strong> 宛のメッセージは <strong>jane.doe@gmail.com</strong> に配信されます。フィルタを設定すると、これらのメッセージを [<strong>ごみ箱</strong>] に振り分ける、ラベルやスターを付ける、受信トレイ以外の場所に振り分ける、他のメール アカウントに転送するなどの操作を自動的に行うことができます。\n<footer><a href=\"https://support.google.com/mail/answer/12096\">https://support.google.com/mail/answer/12096</a></footer></blockquote>\n\n<p>基本となるメールアドレスのアカウント部分に文字列を加えて使用することができる。<br>“拡張”したメールアドレス宛のメールは基本となったメールアドレスで受け取ることができる。”拡張”を使用することでフィルタリングやウェブサービスでのメールアドレスの使い分けが容易になる。</p>\n<h2>拡張方法</h2>\n基本となるメールアドレスは以下とする。\n&gt; <b>example@gmail.com</b>\n\n<h3>プラスで任意の文字を連結させる</h3>\n&gt; <b>example+hoge@gmail.com</b>\n\n<h3>ドット区切り</h3>\n&gt; <b>e.x.a.m.p.l.e@gmail.com</b>\n\n<p>もともとドット区切りで登録している場合は、ドットを除いても従来と同様に使用することができる。</p>\n<h3>gmail.comじゃないドメインを使用する</h3>\n&gt; <b>example@googlemail.com</b>\n\n<p>単純に考えると、”拡張”せずとも、<b>@gmail.com</b>と<b>@googlemail.com</b>の 2 つのメールアドレスを使用することができる。さらに、前述の”拡張”と合わせて使用することもできる。<br>(使用できる理由は、各国での商標上の理由などがあるらしい)</p>\n","excerpt":"概要 / 拡張方法","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"Google","slug":"Google","path":"tags/Google/"},{"name":"Gmail","slug":"Gmail","path":"tags/Gmail/"},{"name":"Web","slug":"Web","path":"tags/Web/"}],"prev":{"title":"[WordPress] jQuery不要の画像遅延ロード","path":"20150926225159.html"},"next":{"title":"[Atom] 選択範囲をVisual Studio Codeっぽくする方法","path":"20150903002549.html"}},{"title":"[Atom] 選択範囲をVisual Studio Codeっぽくする方法","path":"20150903002549.html","permalink":"https://b.0218.jp/20150903002549.html","date":"2015-09-03T00:25:49.000Z","updated":"2015-09-03T00:26:21.000Z","thumbnail":"","content":"<p>Visual Studio Code は選択範囲が角丸になっている。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>角丸を設定する</h2>\nstyles.less を修正する。\n<code>.selection .region</code>に<code>border-radius</code>を設定する。\n\n<pre class=\"less\"><code>atom-text-editor::shadow {\n    .highlights {\n        .selection .region {\n            border-radius: 2px;\n        }\n    }\n}</code></pre>\n\n<hr>\n\n<p>余談だが、私は選択範囲には以下の様な設定をしている。</p>\n<pre class=\"less\"><code>atom-text-editor::shadow {\n    .gutter .cursor-line {\n        background-color: fade(gray, 16%);\n    }\n    .highlights {\n        .selection .region {\n            background: fade(gray, 32%);\n            border-radius: 2px;\n        }\n        .find-result .region {\n            border: 1px solid fade(gray, 80%);\n        }\n    }\n}</code></pre>\n","excerpt":"角丸を設定する","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Atom","slug":"Atom","path":"tags/Atom/"}],"prev":{"title":"[Gmail] メールアドレスの拡張に使えるエイリアスの覚書","path":"20150917111409.html"},"next":{"title":"[記号] ダッシュ 一覧","path":"20150829140502.html"}},{"title":"[記号] ダッシュ 一覧","path":"20150829140502.html","permalink":"https://b.0218.jp/20150829140502.html","date":"2015-08-29T14:05:02.000Z","updated":"2015-08-29T14:05:02.000Z","thumbnail":"","content":"<p>記号は検索しづらいので一覧としてメモしておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>ダッシュ一覧</h2>\n<table>\n<thead>\n<tr>\n<th>記号</th>\n<th>名称</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>－</td>\n<td>全角ハイフンマイナス</td>\n</tr>\n<tr>\n<td>-</td>\n<td>半角ハイフンマイナス</td>\n</tr>\n<tr>\n<td>−</td>\n<td>全角マイナス</td>\n</tr>\n<tr>\n<td>‐</td>\n<td>全角ハイフン</td>\n</tr>\n<tr>\n<td>‒</td>\n<td>フィギュアーダッシュ</td>\n</tr>\n<tr>\n<td>–</td>\n<td>二分ダッシュ</td>\n</tr>\n<tr>\n<td>—</td>\n<td>全角ダッシュ</td>\n</tr>\n<tr>\n<td>─</td>\n<td>罫線</td>\n</tr>\n<tr>\n<td>━</td>\n<td>罫線（太）</td>\n</tr>\n<tr>\n<td>一</td>\n<td>いち</td>\n</tr>\n<tr>\n<td>―</td>\n<td>ホリゾンタルバー</td>\n</tr>\n<tr>\n<td>ー</td>\n<td>全角長音</td>\n</tr>\n<tr>\n<td>ｰ</td>\n<td>半角長音</td>\n</tr>\n</tbody>\n</table>\n\n<h2>参考</h2>\n<ul>\n<li><a href=\"https://ja.wikipedia.org/wiki/%E3%83%80%E3%83%83%E3%82%B7%E3%83%A5_(%E8%A8%98%E5%8F%B7)\">ダッシュ (記号) - Wikipedia</a></li>\n</ul>\n","excerpt":"ダッシュ一覧 / 参考","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"メモ","slug":"メモ","path":"tags/%E3%83%A1%E3%83%A2/"}],"prev":{"title":"[Atom] 選択範囲をVisual Studio Codeっぽくする方法","path":"20150903002549.html"},"next":{"title":"WP-CLIでWordPressをダウングレードする方法\n","path":"20150829135338.html"}},{"title":"WP-CLIでWordPressをダウングレードする方法\n","path":"20150829135338.html","permalink":"https://b.0218.jp/20150829135338.html","date":"2015-08-29T13:53:38.000Z","updated":"2015-08-29T13:53:38.000Z","thumbnail":"","content":"<p>WP-CLI で本体やテーマ、プラグインなどのアップデートを行うことができるが、逆にダウングレードはどうなのか。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>背景</h2>\nWordPressの4.3がリリースされた後に自前のテーマで不具合が発生した。\n原因の切り分けのためにバージョンを前のバージョンへ元に戻すことを行った。\n\n<h2>ダウングレードする方法</h2>\n以下のコマンドで行うことができる。\n<pre class=\"cmd\">wp core update --version=4.0.1 --force</pre>\n\n<p><code>update</code>だが、<code>version</code>を以前のバージョンで<code>force</code>することでダウングレードが可能になる模様。</p>\n","excerpt":"背景 / ダウングレードする方法","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"WP-CLI","slug":"WP-CLI","path":"tags/WP-CLI/"}],"prev":{"title":"[記号] ダッシュ 一覧","path":"20150829140502.html"},"next":{"title":"[Atom] パッケージを別環境と同期する方法","path":"20150829134601.html"}},{"title":"[Atom] パッケージを別環境と同期する方法","path":"20150829134601.html","permalink":"https://b.0218.jp/20150829134601.html","date":"2015-08-29T13:46:01.000Z","updated":"2015-08-29T13:46:01.000Z","thumbnail":"","content":"<p>1.0 がリリースされたので、また Atom を使い始めたのだけれど、昔より随分と使いやすくなっていて、常用している。<br>自宅と仕事場でパッケージを色々と入れてみたのだが、良さそうなものを管理するのが面倒になってきた。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>概要</h2>\nAtomアカウントでパッケージを管理する(ような感じ)。\n<h2>apmの導入</h2>\nAtomをインストールしていれば入っている\n<h2>Atomアカウントの作成</h2>\n<a href=\"https://atom.io/\">https://atom.io/</a> から<strong>Sign in</strong>をするとGithubアカウントと連携する画面に遷移する。 Githubアカウントを持っていなければ作る必要があるが、既に持っている場合はそのまま承認してしまえばAtomで使用するアカウントは作成される。\n<h2>Atomのアカウントページ</h2>\n<a href=\"https://atom.io/account\">https://atom.io/account</a> に以下のようなTokenがある(サンプル)\n<pre>_-ZKHipZHopZdeZGo!nM_ReD</pre>\nここで確認したAPI Tokenは、あとで使う。ページを開いておくなりメモするなりしておく。\n<h2>インストールしたパッケージに一括でスターを付ける</h2>\n<h3>apmを確認する</h3>\nとりあえず以下を実行してみる。\n<pre>apm</pre>\n以下のようなメッセージが表示されればOK\n<pre>apm - Atom Package Manager powered by https://atom.io\n\n<p>Usage: apm &lt;command&gt;</p>\n<p>where &lt;command&gt; is one of:<br>clean, config, dedupe, deinstall, delete, dev, develop, docs, erase,<br>featured, home, init, install, link, linked, links, list, ln, lns, login,<br>ls, open, outdated, publish, rebuild, rebuild-module-cache, remove, rm,<br>search, show, star, starred, stars, test, uninstall, unlink, unpublish,<br>unstar, update, upgrade, view.</p>\n<p>Run <code>apm help &amp;lt;command&amp;gt;</code> to see the more details about a specific command.</p>\n<p>Options:<br>–color Enable colored output [boolean][default: true]<br>-v, –version Print the apm version<br>-h, –help Print this usage message</p>\n<p>Prefix an option with <code>no-</code> to set it to false such as –no-color to disable<br>colored output.</p>\n<p></p></pre><p></p>\n<h2>インストール済みのパッケージにスターを付ける</h2>\n以下を実行する。\n<pre>apm stars --installed</pre>\n初回であれば前述のTokenを入力するようなメッセージが表示される。エンターキーを叩くとユーザページがブラウザで開くので、自分のTokenをコンソールで叩く。\n<pre>Welcome to Atom!\n\n<p>Before you can publish packages, you’ll need an API token.</p>\n<p>Visit your account page on Atom.io <a href=\"https://atom.io/account\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://atom.io/account</a>,<br>copy the token and paste it below when prompted.</p>\n<p>Press [Enter] to open your account page on Atom.io.<br>Token&gt;</p>\n<p></p></pre><br>このままスター付けが始まらない場合は、もう一度以下を実行する。<p></p>\n<pre>apm stars --installed</pre>\n<pre>Starring  japanese-menu\n…\n…\n…\n</pre>\n<p>これでスター付けは完了する。 Atomのユーザページの下部にある[★Star]にインストール(スターをつけた)したパッケージが表示される。</p>\n<h2>スターの付いたパッケージを一括でインストールする</h2>\n以下でスター付きのパッケージをインストールすることができる。\n<pre>apm stars --install</pre>\n","excerpt":"概要 / apmの導入 / Atomアカウントの作成 / Atomのアカウントページ / インストールしたパッケージに一括でスターを付ける","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Atom","slug":"Atom","path":"tags/Atom/"}],"prev":{"title":"WP-CLIでWordPressをダウングレードする方法\n","path":"20150829135338.html"},"next":{"title":"inputのplaceholderをfocus時に文字を非表示(消す)にする方法\n","path":"20150827120828.html"}},{"title":"inputのplaceholderをfocus時に文字を非表示(消す)にする方法\n","path":"20150827120828.html","permalink":"https://b.0218.jp/20150827120828.html","date":"2015-08-27T12:08:28.000Z","updated":"2015-08-27T12:08:28.000Z","thumbnail":"","content":"<p>HTML5 から導入された<code><input></code>の<code>placeholder</code>属性。<br>指定した値が初期値として表示されるのでユーザビリティを高められる。</p>\n<h2>背景</h2>\nフォーカス時にも<code>placeholder</code>の文字列は表示されるため、入力ができる状態か否かが分かりづらい。\nフォーカス時には<code>placeholder</code>の文字列は非表示にしたい。\n\n<h2>解決方法</h2>\n<h3>JavaScriptで消す方法</h3>\n<code>placeholder</code>属性が存在する前に自前で初期値を設定した時にやっていた方法に近い。\n\n<div class=\"sandbox\"><input type=\"text\" class=\"form-control\" placeholder=\"入力してください\" onfocus=\"this.placeholder=''\" onblur=\"this.placeholder='入力してください'\"></div>\n<pre><code class=\"html\"><input type=\"text\" placeholder=\"入力してください\" onfocus=\"this.placeholder=''\" onblur=\"this.placeholder='入力してください'\"></code></pre>\n\n<p>フォーカス時に placeholder を空にして、フォーカスが外れたら<code>placeholder</code>に値をセットする。<br>現環境では二度手間なのでやりたくはない。もしレガシー環境も考慮している(自前で placeholder を実装している)のであれば、この方法でやる必要がある。</p>\n<h3>CSSで消す方法</h3>\n<code>prefix</code>は省略するが、以下のCSSを追加するだけでOK\n\n<pre><code class=\"css\">\ninput::focus::placeholder {\n  color: transparent;\n}</code></pre>\n","excerpt":"背景 / 解決方法","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[Atom] パッケージを別環境と同期する方法","path":"20150829134601.html"},"next":{"title":"[JavaScript] ページ内リンクアンカーを消す方法","path":"20150815145251.html"}},{"title":"[JavaScript] ページ内リンクアンカーを消す方法","path":"20150815145251.html","permalink":"https://b.0218.jp/20150815145251.html","date":"2015-08-15T14:52:51.000Z","updated":"2015-08-15T14:52:51.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>リンクアンカーとは</h2>\n簡単に言うと、<code>#</code>以降の文字列\n<pre>https://b.0218.jp/#link_anchor</pre>\n\n<h2>JavaScriptで消す</h2>\n以下のコードで消すことができる。\n<pre class=\"javascript\"><code>window.history.replaceState(null, '', location.pathname + location.search);</code></pre>\n","excerpt":"リンクアンカーとは / JavaScriptで消す","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"inputのplaceholderをfocus時に文字を非表示(消す)にする方法\n","path":"20150827120828.html"},"next":{"title":"[Xcode] ビルド時に発生したエラーの解決方法","path":"20150811214251.html"}},{"title":"[Xcode] ビルド時に発生したエラーの解決方法","path":"20150811214251.html","permalink":"https://b.0218.jp/20150811214251.html","date":"2015-08-11T21:42:51.000Z","updated":"2015-08-11T21:42:51.000Z","thumbnail":"","content":"<p>ソースには問題がないのにビルドが失敗する事がたまにある。<br>そういう時の対処方法をメモしておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>Lexical or Preprocessor issue ‘Symbols.h’ file not found</h2>\n<blockquote>\n  Lexical or Preprocessor issue ‘Symbols.h’ file not found\n</blockquote>\nこれは Symbols.h に限らないんだけれど、上手くビルドできない事があった。\nクリーンしても直らなかったが、Mac再起動で解決した。\n\n<h2>failed to get the task for process</h2>\n<blockquote>\n  process launch failed: failed to get the task for process 694\n</blockquote>\nデバッグ前に ipaファイルからそのアプリをインストールしていた。\nすでにインストールされているAppをアンインストールして解決した。\n\n<h2>The application could not be verified</h2>\n<blockquote>\n  The application could not be verified\n</blockquote>\n\n<p>プロビジョニングプロファイルが所定のものでなかった。(Distribution の問題?)<br>プロビジョニングプロファイルを切り替えてビルドし直したら解決した。</p>\n","excerpt":"Lexical or Preprocessor issue ‘Symbols.h’ file not found / failed to get the task for process / The application could not be verified","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Xcode","slug":"Xcode","path":"tags/Xcode/"}],"prev":{"title":"[JavaScript] ページ内リンクアンカーを消す方法","path":"20150815145251.html"},"next":{"title":"[PHP] preg_match の文字列の間にスラッシュが入っている場合の対処方法","path":"20150729232912.html"}},{"title":"[PHP] preg_match の文字列の間にスラッシュが入っている場合の対処方法","path":"20150729232912.html","permalink":"https://b.0218.jp/20150729232912.html","date":"2015-07-29T23:29:12.000Z","updated":"2015-07-29T23:29:12.000Z","thumbnail":"","content":"<p>ファイルパスの文字列を<code>preg_match</code>した時の話。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\n<code>$dirName</code>を<code>preg_match</code>ってみると<span class=\"text-warning\">Warning</span>が発生。\n\n<pre><code class=\"php\">if ( preg_match(\"/{$dirName}\\.bak(.*)$/\", $dn, $suf) ) {\n  // foo, bar\n}</code></pre>\n<h2>対処方法</h2>\n<h3>理由</h3>\n文字列内の<code>/</code>は、<code>\\/</code>とエスケープする必要がある。\n（事前にエスケープできる場合はしておく方がよいと思う）\n\n<h3>関数を使う</h3>\n<code>preg_quote</code>のデリミタに<code>/</code>を指定しておく。\n\n<pre><code class=\"php\">$dirName = preg_quote($dirName, \"/\");</code></pre>\n<p>これでエスケープされるので<code>preg_match</code>が通るようになる。</p>\n","excerpt":"状況 / 対処方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[Xcode] ビルド時に発生したエラーの解決方法","path":"20150811214251.html"},"next":{"title":"[WordPress] WP-CLI でエラーが出た時の対処方法","path":"20150729230610.html"}},{"title":"[WordPress] WP-CLI でエラーが出た時の対処方法","path":"20150729230610.html","permalink":"https://b.0218.jp/20150729230610.html","date":"2015-07-29T23:06:10.000Z","updated":"2015-07-29T23:06:10.000Z","thumbnail":"","content":"<p>以下の様な長文のエラーが表示される場合の話。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>対処方法</h2>\n<h3>エラーメッセージの理由</h3>\n<pre class=\"cmd\">Error: YIKES! It looks like you're running this as root. You probably meant to run this as the user that your WordPress install exists under.\n\n<p>If you REALLY mean to run this as root, we won't stop you, but just bear in mind that any code on this site will then have full control of your server, making it quite DANGEROUS.</p>\n<p>If you'd like to continue as root, please run this again, adding this flag: –allow-root</p>\n<p>If you'd like to run it as the user that this site is under, you can run the following to become the respective user:</p>\n<pre><code>sudo -u USER -i -- wp &amp;lt;command&amp;gt;&lt;/pre&gt;</code></pre>\n<p>きちんと読めばここに載っているのだけれども、行数が長いと読み飛ばしてしまう人もいるはず。<br>「root で実行すると危なくない？いいの？」って感じの内容。</p>\n<p>対処方法は コマンドに<code>--allow-root</code>を付けるだけ。<br>たぶん root 権限のユーザで実行しているんじゃないかしら。</p>\n<h3>実行するコマンド</h3>\n\n<pre><code>wp core check-update --allow-root</code></pre>\n</pre>","excerpt":"対処方法","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"WP-CLI","slug":"WP-CLI","path":"tags/WP-CLI/"}],"prev":{"title":"[PHP] preg_match の文字列の間にスラッシュが入っている場合の対処方法","path":"20150729232912.html"},"next":{"title":"[Linux] コマンド履歴を保存する方法","path":"20150729230405.html"}},{"title":"[Linux] コマンド履歴を保存する方法","path":"20150729230405.html","permalink":"https://b.0218.jp/20150729230405.html","date":"2015-07-29T23:04:05.000Z","updated":"2015-07-29T23:04:05.000Z","thumbnail":"","content":"<p>操作手順をメモとして残しておくために、コマンドの履歴を保存する必要があった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>historyコマンド</h2>\n<pre class=\"cmd\">history</pre>\n<code>history</code>コマンドで履歴が確認できる。\n\n<p>目的としては、この履歴が欲しい。</p>\n<h2>履歴の取得方法</h2>\nコマンド履歴は ~/.bash_history に保存されるらしい。（デフォルト）\n\n<p>なので、単純に以下のようなコマンド叩いて取得すれば良い。</p>\n<pre class=\"cmd\">cat ~/.bash_history &gt; history.log</pre>\n","excerpt":"historyコマンド / 履歴の取得方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"ShellScript","slug":"ShellScript","path":"tags/ShellScript/"},{"name":"Linux","slug":"Linux","path":"tags/Linux/"}],"prev":{"title":"[WordPress] WP-CLI でエラーが出た時の対処方法","path":"20150729230610.html"},"next":{"title":"Hyper-Vマネージャーが起動しない場合の対処法\n","path":"20150724122835.html"}},{"title":"Hyper-Vマネージャーが起動しない場合の対処法\n","path":"20150724122835.html","permalink":"https://b.0218.jp/20150724122835.html","date":"2015-07-24T12:28:35.000Z","updated":"2015-07-24T18:08:27.000Z","thumbnail":"","content":"<p>たまに Hyper-V が起動しないときがある。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>エラーダイアログ</h2>\nAdministraotorsユーザでサーバーマネージャを起動すると以下のようなダイアログが表示される。\n\n<blockquote>Microsoft管理コンソール\nMMCはファイル C:\\Windows\\system32\\virtmgmt.msc を開くことができません。\nファイルが存在しないか、MMCコンソールでないか、または新しいバージョンのMMCで作成された可能性があります。\nまた、ファイルへのアクセス権が不足している場合もあります。</blockquote>\n\n<h3>手順</h3>\n[サーバーマネージャ] -&gt; [ツール] -&gt; [Hyper-Vマネージャ]\n\n<h2>解決手順</h2>\n<ol>\n  <li>「ファイル名を指定して実行」で mmc を実行</li>\n  <li>コンソールルートが起動する</li>\n  <li>コンソールルートから、[ファイル] -&gt; [スナップインの追加と削除] -&gt; [Hyper-Vマネージャー] を選択して [追加] -&gt; [OK]</li>\n  <li>コンソールルート画面内で「Hyper-Vマネージャー」が起動する</li>\n</ol>\n","excerpt":"エラーダイアログ / 解決手順","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[],"prev":{"title":"[Linux] コマンド履歴を保存する方法","path":"20150729230405.html"},"next":{"title":"split が PHP 5.3.0 で 非推奨となっていた件\n","path":"20150706194755.html"}},{"title":"split が PHP 5.3.0 で 非推奨となっていた件\n","path":"20150706194755.html","permalink":"https://b.0218.jp/20150706194755.html","date":"2015-07-06T19:47:55.000Z","updated":"2015-07-06T19:47:55.000Z","thumbnail":"","content":"<p>秘伝のソースとかを受け継いでいっていたりしていたので全く気づかなかった。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>非推奨</h2>\n\n<p><a href=\"http://php.net/manual/ja/function.split.php\">PHP: split - Manual</a>によると</p>\n<blockquote>\n  警告\n  この関数は PHP 5.3.0 で 非推奨となりました。 この機能を使用しないことを強く推奨します。\n</blockquote>\n\n<p>強く推奨されている。</p>\n<blockquote>\n  注意:\n  PHP 5.3.0 以降、 regex 拡張モジュールは非推奨となりました。かわりに PCRE 拡張モジュール を使うことが推奨されています。 この関数をコールすると E_DEPRECATED が発生します。 PCRE への変換についてのヘルプは 相違点の一覧 を参照ください。\n</blockquote>\n\n<p>5.3.0 時点で非推奨になっている。</p>\n<p>Java や JavaScript なんかでも「文字列を分割する」といえば split なので癖で使ってしまいそうである。</p>\n<h2>代替方法</h2>\n\n<p>リファレンスにはヒントとして、以下のように書かれてある。</p>\n<blockquote>\n  ヒント\n  split() は PHP 5.3.0 以降で非推奨になりました。この関数のかわりに preg_split() を使うことを推奨します。 正規表現の威力が必要ないのであれば、explode() を使用するほうがより高速です。これは正規表現エンジンの オーバーヘッドを受けません。\n</blockquote>\n\n<p>何でもできる split は無くなってしまうので、用途に応じて preg_split()と explode()を使い分けてね。</p>\n<p>条件が同じなら返ってくる結果は同じなので移行は面倒じゃなさそう。</p>\n<h3>preg_split (正規表現を使う場合)</h3>\n\n<pre class=\"php\"><code>\n$str = \"a-b-c-d\";\nvar_dump( preg_split('/-/', $str) );\n\narray(4) {\n  [0]=&gt;\n  string(1) \"a\"\n  [1]=&gt;\n  string(1) \"b\"\n  [2]=&gt;\n  string(1) \"c\"\n  [3]=&gt;\n  string(1) \"d\"\n}\n</code></pre>\n\n<h3>explode (正規表現を使わない場合)</h3>\n\n<p>「(正規表現が不必要であれば)explode() を使用するほうがより高速です」との事。</p>\n<pre class=\"php\"><code>\n$str = \"a-b-c-d\";\nvar_dump( explode('-', $str) );\n\narray(4) {\n  [0]=&gt;\n  string(1) \"a\"\n  [1]=&gt;\n  string(1) \"b\"\n  [2]=&gt;\n  string(1) \"c\"\n  [3]=&gt;\n  string(1) \"d\"\n}</code></pre>\n\n<h3>splitとexplodeの違い</h3>\nちなみに\n<pre>split( 区切り文字,   文字列, [配列の数] )  // 正規表現OK\nexplode( 区切り文字, 文字列, [配列の数] )  // 正規表現NG\n</pre>\n\n<p>区切り文字(第 1 引数)に正規表現を使えるか否かの違い。それ以外は同じ引数。</p>\n<h2>引用元</h2>\n\n<ul>\n  <li><a href=\"http://php.net/manual/ja/function.split.php\">PHP: split - Manual</a></li>\n</ul>\n","excerpt":"非推奨 / 代替方法 / 引用元","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"Hyper-Vマネージャーが起動しない場合の対処法\n","path":"20150724122835.html"},"next":{"title":"[Modern.IE] 日本語化する方法(手順)","path":"20150706122904.html"}},{"title":"[Modern.IE] 日本語化する方法(手順)","path":"20150706122904.html","permalink":"https://b.0218.jp/20150706122904.html","date":"2015-07-06T12:29:04.000Z","updated":"2015-07-06T12:29:04.000Z","thumbnail":"","content":"<p><a href=\"http://www.modern.ie/\">Modern.IE</a>で配布されている VM イメージの言語は英語である。</p>\n<p>単純な確認だけなら日本語化する必要はないかもしれないが、各種設定なども合わせて確認する必要があると日本語である方が都合が良い。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>設定した環境</h2>\n\n<ul>\n  <li>プラットフォーム \n    <ul>\n      <li>VirtualBox</li>\n    </ul>\n  </li>\n  <li>仮想マシン \n    <ul>\n      <li>IE11 on Windows 7</li>\n    </ul>\n  </li>\n</ul>\n\n<h2>言語パックをインストールする</h2>\n\n<p>※ Windows 7 での手順</p>\n<ol>\n  <li>[Windows Update] を開く。</li>\n  <li>[Check online for updates from Microsoft Update] をクリック。([Microsoft Update からの更新プログラムをオンラインで確認する])</li>\n  <li>[Optional] から、日本語の言語パックを選択し、インストールを行う。(Japanese Language Pack)</li>\n  <li>インストール後、再起動を行う。</li>\n</ol>\n\n<p class=\"c-alert\">IE11 は IE の最新バージョンなので問題ないが、それより下のバージョンの場合、Windows Update で更新にチェックが入っていた場合、IE のバージョンが上がる恐れがあるので注意。</p>\n\n<h2>地域と言語を変更する</h2>\n\n<h3>初めに</h3>\n\n<ol>\n  <li>コントロールパネルから [Region and Languages] を開く。</li>\n  <li>[Keybords and Languages] タブにある「Choose a display language」を「日本語」にする。</li>\n  <li>再起動を行う。</li>\n</ol>\n\n<h3>再起動</h3>\n\n<p>(日本語の表示になっているはず)</p>\n<ol>\n  <li>コントロールパネルから「地域と言語」を開く。 \n  </li><li>[形式] タブから「形式」を「日本語」に変更する。 \n  </li><li>[管理] タブから「システムロケール」を「日本語」に変更する。 \n  </li><li>再起動を行う。(今すぐ再起動)\n</li></ol>\n\n<h3>さらに再起動</h3>\n\n<ol>\n  <li>コントロールパネルから「地域と言語」を開く。</li>\n  <li>[キーボードと言語] タブから「キーボードの変更」を行う。</li>\n  <li>「日本語」のキーボードを追加し、英語のキーボードは削除しておく。</li>\n</ol>\n\n<h2>日付を変更する</h2>\n<ol>\n  <li>コントロールパネルもしくは右下の時計から「日付と時刻」を開く。 </li>\n  <li>タイムゾーンの変更をする。 \n<pre>(UTC+09:00) 大阪、札幌、東京</pre>\n</li>\n</ol>\n\n<hr>\n\n<p>以上で、完全な日本語環境とは言えないが一通りの確認は日本語で行うことができる。</p>\n","excerpt":"設定した環境 / 言語パックをインストールする / 地域と言語を変更する / 日付を変更する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"VirtualBox","slug":"VirtualBox","path":"tags/VirtualBox/"}],"prev":{"title":"split が PHP 5.3.0 で 非推奨となっていた件\n","path":"20150706194755.html"},"next":{"title":"ブログが謎のサイトにコピーされた時の対処方法\n","path":"20150704182445.html"}},{"title":"ブログが謎のサイトにコピーされた時の対処方法\n","path":"20150704182445.html","permalink":"https://b.0218.jp/20150704182445.html","date":"2015-07-04T18:24:45.000Z","updated":"2015-10-08T14:48:42.000Z","thumbnail":"","content":"<p>ブログが謎のサイトにコピーされたので対処しておいた。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>きっかけ</h2>\nたまたま、サイトのドメイン(<b>b.0218.jp</b>)をGoogle検索したところコピーサイトを発見。\n\n<h2>状況</h2>\n<h3>コピーサイト</h3>\n本文のコピペというよりはサイトのレイアウトからまるまる持っていかれている。\nスクレイピングといった感じかしら。\n\n<p>こちらの更新(新規投稿)もイイ感じで即座に反映してきている。<br>css や JavaScript などのリソースは直リンクで引っ張られている。</p>\n<p>ちなみにアドレスは以下のような感じ。</p>\n<pre>http://コピーサイト/b.0218.jp/～.html</pre>\n\n<h3>自サイト</h3>\nRSSの配信は全文配信ではない\nアクセス制限などはしていない\n\n<h2>対応方法</h2>\n対応方法はいくつか考えてみた。\n\n<h3>サーバ側でリソースの直リンクを防ぐ</h3>\n根本的な解決にはならない。\n\n<h3>直リンクされているリソースの名称を変更する</h3>\nこちらの変更も反映してきているので、意味はなさそう。\n\n<hr>\n\n<p>こんなことに労力をかけるのも、それはそれでバカらしいので簡単な方法で対処することにした。</p>\n<h2>対応した内容</h2>\n\n<pre><code class=\"js\">switch (location.hostname.toString()) {\n  case \"localhost\":\n  case \"b.0218.jp\":\n    break;\n  default:\n    location.href = \"https://b.0218.jp/\";\n    break;\n}</code></pre>\n<p><code>hostname</code>を取得して、ドメイン(b.0218.jp)もしくは localhost じゃない場合は <a href=\"https://b.0218.jp/\">https://b.0218.jp/</a> に転送するような簡単作り。</p>\n<p>もう少し厳格に処理をした方が良いかもしれないが、とりあえずの対処としてはコレで。</p>\n<h2>Googleに通報する</h2>\n<a href=\"https://www.google.com/webmasters/tools/dmca-notice\">著作権侵害による削除</a>から、Googleの著作権侵害フォームに通報しておいた。\n<hr>\n<s>通報して数週間経つが返事はまだない。</s>\nGoogleから返事がないまま、パクりサイトが消えた。\n","excerpt":"きっかけ / 状況 / 対応方法 / 対応した内容 / Googleに通報する","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"調査","slug":"調査","path":"tags/%E8%AA%BF%E6%9F%BB/"}],"prev":{"title":"[Modern.IE] 日本語化する方法(手順)","path":"20150706122904.html"},"next":{"title":"[C++] 文字列を大文字と小文字で相互変換する方法 (std::string)","path":"20150625202328.html"}},{"title":"[C++] 文字列を大文字と小文字で相互変換する方法 (std::string)","path":"20150625202328.html","permalink":"https://b.0218.jp/20150625202328.html","date":"2015-06-25T20:23:28.000Z","updated":"2015-06-25T20:23:28.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>前提</h2>\n<pre class=\"cpp\"><code>#include &lt;string&gt;\nusing namespace std;</code></pre>\n\n<h2>文字列をすべて小文字に変換する</h2>\n<pre class=\"cpp\"><code>int main(){\n   string str(\"ABCDEFG\");\n\n</code><p><code>transform(str.begin(), str.end(), str.begin(), ::tolower);<br>}</code></p></pre><p></p>\n<h2>文字列をすべて大文字に変換する</h2>\n<pre class=\"cpp\"><code>int main(){\n   string str = \"abcdefg\";\n\n</code><p><code>transform(str.begin(), str.end(), str.begin(), ::toupper);<br>}</code></p></pre><p></p>\n<hr>\nそれぞれの違いは、第4引数の<code>tolower</code>と<code>toupper</code>。\n\n<p>Java の<code>toLowerCase()</code>/<code>toUpperCase()</code>があると楽なんだけれど。</p>\n","excerpt":"前提 / 文字列をすべて小文字に変換する / 文字列をすべて大文字に変換する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"C++","slug":"C","path":"tags/C/"}],"prev":{"title":"ブログが謎のサイトにコピーされた時の対処方法\n","path":"20150704182445.html"},"next":{"title":"[C++] 文字列から空白を取り除く方法 (std::string)","path":"20150625194056.html"}},{"title":"[C++] 文字列から空白を取り除く方法 (std::string)","path":"20150625194056.html","permalink":"https://b.0218.jp/20150625194056.html","date":"2015-06-25T19:40:56.000Z","updated":"2015-06-25T19:40:56.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>前提</h2>\n<pre class=\"cpp\"><code>#include &lt;string&gt;\nusing namespace std;</code></pre>\n\n<h2>空白を取り除く</h2>\n<pre class=\"cpp\"><code>int main(){\n    string str(\"a b c d e f g\");\n\n<pre><code>str.erase(remove(str.begin(), str.end(),' '), str.end());</code></pre>\n</code><p><code>}</code></p></pre><p></p>\n<p>Java みたいに<code>Replace</code>できたら楽なんだけれど…</p>\n","excerpt":"前提 / 空白を取り除く","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"C++","slug":"C","path":"tags/C/"}],"prev":{"title":"[C++] 文字列を大文字と小文字で相互変換する方法 (std::string)","path":"20150625202328.html"},"next":{"title":"[Java] 文字列内で改行する方法","path":"20150625123215.html"}},{"title":"[Java] 文字列内で改行する方法","path":"20150625123215.html","permalink":"https://b.0218.jp/20150625123215.html","date":"2015-06-25T12:32:15.000Z","updated":"2015-06-25T12:32:15.000Z","thumbnail":"","content":"<p>「JAVA 改行 方法」みたいな検索ワードがあったので思い出しつつ書いてみる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>改行コード</h2><p>環境によって改行コードが異なる場合がある。</p>\n<table>\n<thead>\n<tr>\n<th>Windows</th>\n<th>UNIX</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>\\r\\n</code></td>\n<td><code>\\n</code></td>\n</tr>\n</tbody></table>\n<h2>実例</h2><pre><code class=\"java\">String test = \"こんにちは \\r\\n世界\";\nSystem.out.println(test);</code></pre>\n<p>こんな感じで改行コードを入れると改行される</p>\n<pre><code>こんにちは\n世界</code></pre>\n<h3>環境依存を吸収する例</h3><pre><code class=\"java\">public static final String LINE_SEPARATOR = System.getProperty(\"line.separator\");\n\nString test = \"こんにちは\"+ LINE_SEPARATOR +\"世界\";\nSystem.out.println(test);</code></pre>\n<p>Java で改行するなら<code>System.getProperty(\"line.separator\")</code>を使うと良い。</p>\n","excerpt":"改行コード / 実例","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"}],"prev":{"title":"[C++] 文字列から空白を取り除く方法 (std::string)","path":"20150625194056.html"},"next":{"title":"[Excel] 印刷プレビューで表示される点線を消す方法","path":"20150624234401.html"}},{"title":"[Excel] 印刷プレビューで表示される点線を消す方法","path":"20150624234401.html","permalink":"https://b.0218.jp/20150624234401.html","date":"2015-06-24T23:44:01.000Z","updated":"2015-06-24T23:44:01.000Z","thumbnail":"","content":"<p>「印刷プレビュー」をするとページの境目に点線が表示されてしまった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>非表示にする手順</h2>\n以下の方法を、それぞれのバージョンで行うと消すことができる。\n\n<h3>Excel 2003 以前</h3>\n<ol>\n  <li>[ツール] → [オプション] → [表示]タブ → [改ページ]のチェックを外す</li>\n</ol>\n\n<h3>Excel 2007</h3>\n<ol>\n  <li>[Officeボタン] → [Excelのオプション]→[詳細設定] に移動</li>\n  <li>次のシートで作業するときの表示設定: [改ページを表示する] のチェックを外す</li>\n</ol>\n\n<h3>Excel2010</h3>\n<ol>\n  <li>[ファイル]タブ → [オプション] → [詳細設定] に移動</li>\n  <li>次のシートで作業するときの表示設定:  [改ページを表示する] のチェックを外す</li>\n</ol>\n","excerpt":"非表示にする手順","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Excel","slug":"Excel","path":"tags/Excel/"}],"prev":{"title":"[Java] 文字列内で改行する方法","path":"20150625123215.html"},"next":{"title":"Mavericks で iOS8.3 用のビルド(対応)をする方法\n","path":"20150623005742.html"}},{"title":"Mavericks で iOS8.3 用のビルド(対応)をする方法\n","path":"20150623005742.html","permalink":"https://b.0218.jp/20150623005742.html","date":"2015-06-23T00:57:42.000Z","updated":"2015-06-23T00:57:42.000Z","thumbnail":"","content":"<p>OS X Mavericks で iOS8.3 の開発をする。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>環境</h2>\n<ul>\n  <li>OS X Mavericks</li>\n  <li>Xcode 6.2</li>\n  <li>iOS 8.3</li>\n</ul>\n<h2>背景</h2>\nXcode6.2 は、iOS8.3 には対応していない。\n\n<p>iOS8.3 の端末を繋げると”Ineligible Devices”という表示が出てビルドができなかった。</p>\n<h2>解決方法</h2>\n<h3>Xcode のバージョンを 6.3 に上げる</h3>\niOS 8.3 は、Xcode 6.3 から対応している。\nただし、Xcode 6.3 は Mavericks には対応していないので、OS のバージョンも Yosemite に上げる必要がある。\n<h3>Xcode 6.2 を iOS 8.3 に対応させる</h3>\nXcode のバージョンをあげなくても、内部のサポートデバイスのファイルを最新のものと入れ替えるだけで対応させることができる。\n\n<ol>\n  <li>「<a href=\"https://developer.apple.com/downloads/\">Downloads for Apple Developers</a>」から Xcode 6.3 をダウンロードする。(マイナーバージョンは最新でも同じだと思う)</li>\n  <li>ダウンロードしたらクリックして、Xcodeを開き、右クリックで「パッケージの内容を表示」</li>\n  <li>以下の直下にある「DeviceSupport」ディレクトリをインストール済みのXcodeに上書きする。(中の「8.3」だけでも問題ない)\n<pre>/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform</pre>\n</li>\n</ol>\n","excerpt":"環境 / 背景 / 解決方法","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Mac","slug":"Mac","path":"tags/Mac/"},{"name":"Xcode","slug":"Xcode","path":"tags/Xcode/"}],"prev":{"title":"[Excel] 印刷プレビューで表示される点線を消す方法","path":"20150624234401.html"},"next":{"title":"日本語WebフォントにNoto Sans CJK JPを指定する時に気を付けたこと","path":"20150620044014.html"}},{"title":"日本語WebフォントにNoto Sans CJK JPを指定する時に気を付けたこと","path":"20150620044014.html","permalink":"https://b.0218.jp/20150620044014.html","date":"2015-06-20T04:40:14.000Z","updated":"2019-06-03T14:11:30.000Z","thumbnail":"https://hiro0218.github.io/blog/images/Google_Noto_Fonts.png","content":"<h2>ここ最近の現状と前提</h2><p><a href=\"https://fonts.google.com/specimen/Noto+Sans+JP\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google Fonts が Noto Sans JP の配信</a>を始めた。<br>さらに <code>font-display: swap</code>などの対応も行われるようになり、少しずつパフォーマンスは改善している。</p>\n<pre><code class=\"html\">&lt;link\n  href=\"https://fonts.googleapis.com/css?family=Noto+Sans+JP&amp;display=swap\"\n  rel=\"stylesheet\"\n/&gt;</code></pre>\n<p>しかしながら、動的なページにおいては細切れにウェブフォントのデータを読み込み続ける必要があり、快適な閲覧環境を構築することは難しい。<br>しばらくは後述の最適化を自前で行いながらウェブフォントを使っていく必要がある。</p>\n<h2>背景</h2><p>自サイト（ブログ）のフォントに日本語ウェブフォントを設定してみたくなった。 日本語ウェブフォントを配信（ホスティング）してくれるサービスもあるが、お金がないので自前で用意したいと思う（サービスには「n 万 PV/月までは無料」なプランとかもあるから、小規模なサイトにはそれでも良いかも）。無料で日本語フォントを使うなら色々と制限が出てくる。まず有料のフォントは使えないし、無料でも改変や再配布不可能なフォントはウェブフォントとしては使えない。 ここ近年、そんなライセンスの問題をクリアする無料の日本語フォントがいくつも提供されている。今回はその中でも「<strong>Noto Sans CJK JP</strong>」を使うことにした。<strong>スマホなどでの読みやすさを課題としてデザインされた</strong>とか…なのでブログに採用するのであれば最適ではないかと。</p>\n<h2>Noto Sans CJK JP とは</h2><figure>\n<img alt=\"Noto Sans CJK JP\" src=\"https://hiro0218.github.io/blog/images/Google_Noto_Fonts.png\">\n<figcaption>Noto Sans CJK JP とは</figcaption>\n</figure>\n\n<p>「Noto Sans CJK」は、Google と Adobe が共同開発したフォント。Adobe 側は「源ノ角ゴシック」という名称で提供している。<del>それぞれ微妙に違うとか言われてはいるけれど、違いはイマイチ分からない。</del><br>あと日本語の漢字拡張をイワタが担当したとか。</p>\n<p>個人的に「Noto Sans CJK」が好きなので、こちらを選択。</p>\n<p>ウェイトは以下の 7 種類。</p>\n<table>\n<thead>\n<tr>\n<th>weight</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>Thin</strong></td>\n<td>100</td>\n</tr>\n<tr>\n<td><strong>Light</strong></td>\n<td>300</td>\n</tr>\n<tr>\n<td><strong>DemiLight</strong></td>\n<td>350</td>\n</tr>\n<tr>\n<td><strong>Regular</strong></td>\n<td>400</td>\n</tr>\n<tr>\n<td><strong>Medium</strong></td>\n<td>500</td>\n</tr>\n<tr>\n<td><strong>Bold</strong></td>\n<td>700</td>\n</tr>\n<tr>\n<td><strong>Black</strong></td>\n<td>900</td>\n</tr>\n</tbody></table>\n<h3>ライセンス</h3><ul>\n<li><a href=\"http://www.apache.org/licenses/LICENSE-2.0\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Apache License 2.0</a></li>\n</ul>\n<h3>Noto Sans CJK の配信サービス(余談)</h3><p><a href=\"https://www.google.com/fonts/earlyaccess\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google Fonts : Early Access</a>でウェブフォントとして配信されている。　 Noto Sans Japanese (Japanese) ただフルサイズなので 16MB ぐらいある。さすがに、このサイズは現実的ではない（動作確認には良いかも）。</p>\n<pre><code class=\"css\">@import url(http://fonts.googleapis.com/earlyaccess/notosansjapanese.css);</code></pre>\n<h2>Noto Sans CJK JP を入手する</h2><p><a href=\"https://www.google.com/get/noto/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Google Noto Fonts</a> からダウンロードする。</p>\n<p>言語ごとにフォントが分けられているので「<strong>Noto Sans CJK JP</strong>」を選択してダウンロード。 zip 形式で圧縮されているので解凍すると、それぞれの形式のフォントファイルが入っているのが確認できる。</p>\n<h2>使用するツール</h2><p>この作業で使用するツールは以下の通り。それぞれ武蔵システムが提供している。</p>\n<ul>\n<li><a href=\"http://opentype.jp/subsetfontmk.htm\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">サブセットフォントメーカー</a></li>\n<li><a href=\"http://opentype.jp/woffconv.htm\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">WOFF コンバータ</a></li>\n</ul>\n<h2>容量を減らす（サブセット化）</h2><p>配信サービスとかだと、ページ内の文字を解析して使われている文字を動的に抽出してくれたりするみたいだけど、今回はそもそものフォントサイズを減らすことにした。</p>\n<h3>サブセットとは</h3><p>前述のように「<strong>Noto Sans CJK JP</strong>」はフルサイズだと 16MB ほどある。そのため、あらかじめ必要最低限の文字だけを抽出したフォントファイルを作成して（サブセット）、サイズが小さくなったフォントをウェブフォントとして使用する必要がある。 要は、<mark>フォントの中から必要な文字だけを抜き出してフォントを作り直すこと</mark>である。</p>\n<h3>サブセットする</h3><p>数字・アルファベット・記号・ひらがな／カタカナなどに加えて漢字は「第一水準漢字」を抽出する。</p>\n<p>以下の文字を抽出する。</p>\n<pre style=\"overflow:auto; white-space:pre;\"><code>!”#$%&amp;'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~¡¢£¤¥¦§¨©ª«¬®¯°±²³´µ¶·¸¹º»¼½¾¿、。，．・：；？！゛゜´｀¨＾￣＿ヽヾゝゞ〃仝々〆〇ー―‐／＼〜∥｜…‥‘’“”（）〔〕［］｛｝〈〉《》「」『』【】＋－±×÷＝≠＜＞≦≧∞∴♂♀°′″℃￥＄￠￡％＃＆＊＠§☆★○●◎◇◆□■△▲▽▼※〒→←↑↓〓∈∋⊆⊇⊂⊃∪∩∧∨￢⇒⇔∀∃∠⊥⌒∂∇≡≒≪≫√∽∝∵∫∬Å‰♯♭♪†‡¶◯0123456789ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎわゐゑをんァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモャヤュユョヨラリルレロヮワヰヱヲンヴヵヶΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩαβγδεζηθικλμνξοπρστυφχψωАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдеёжзийклмнопрстуфхцчшщъыьэюя─│┌┐┘└├┬┤┴┼━┃┏┓┛┗┣┳┫┻╋┠┯┨┷┿┝┰┥┸╂亜唖娃阿哀愛挨姶逢葵茜穐悪握渥旭葦芦鯵梓圧斡扱宛姐虻飴絢綾鮎或粟袷安庵按暗案闇鞍杏以伊位依偉囲夷委威尉惟意慰易椅為畏異移維緯胃萎衣謂違遺医井亥域育郁磯一壱溢逸稲茨芋鰯允印咽員因姻引飲淫胤蔭院陰隠韻吋右宇烏羽迂雨卯鵜窺丑碓臼渦嘘唄欝蔚鰻姥厩浦瓜閏噂云運雲荏餌叡営嬰影映曳栄永泳洩瑛盈穎頴英衛詠鋭液疫益駅悦謁越閲榎厭円園堰奄宴延怨掩援沿演炎焔煙燕猿縁艶苑薗遠鉛鴛塩於汚甥凹央奥往応押旺横欧殴王翁襖鴬鴎黄岡沖荻億屋憶臆桶牡乙俺卸恩温穏音下化仮何伽価佳加可嘉夏嫁家寡科暇果架歌河火珂禍禾稼箇花苛茄荷華菓蝦課嘩貨迦過霞蚊俄峨我牙画臥芽蛾賀雅餓駕介会解回塊壊廻快怪悔恢懐戒拐改魁晦械海灰界皆絵芥蟹開階貝凱劾外咳害崖慨概涯碍蓋街該鎧骸浬馨蛙垣柿蛎鈎劃嚇各廓拡撹格核殻獲確穫覚角赫較郭閣隔革学岳楽額顎掛笠樫橿梶鰍潟割喝恰括活渇滑葛褐轄且鰹叶椛樺鞄株兜竃蒲釜鎌噛鴨栢茅萱粥刈苅瓦乾侃冠寒刊勘勧巻喚堪姦完官寛干幹患感慣憾換敢柑桓棺款歓汗漢澗潅環甘監看竿管簡緩缶翰肝艦莞観諌貫還鑑間閑関陥韓館舘丸含岸巌玩癌眼岩翫贋雁頑顔願企伎危喜器基奇嬉寄岐希幾忌揮机旗既期棋棄機帰毅気汽畿祈季稀紀徽規記貴起軌輝飢騎鬼亀偽儀妓宜戯技擬欺犠疑祇義蟻誼議掬菊鞠吉吃喫桔橘詰砧杵黍却客脚虐逆丘久仇休及吸宮弓急救朽求汲泣灸球究窮笈級糾給旧牛去居巨拒拠挙渠虚許距鋸漁禦魚亨享京供侠僑兇競共凶協匡卿叫喬境峡強彊怯恐恭挟教橋況狂狭矯胸脅興蕎郷鏡響饗驚仰凝尭暁業局曲極玉桐粁僅勤均巾錦斤欣欽琴禁禽筋緊芹菌衿襟謹近金吟銀九倶句区狗玖矩苦躯駆駈駒具愚虞喰空偶寓遇隅串櫛釧屑屈掘窟沓靴轡窪熊隈粂栗繰桑鍬勲君薫訓群軍郡卦袈祁係傾刑兄啓圭珪型契形径恵慶慧憩掲携敬景桂渓畦稽系経継繋罫茎荊蛍計詣警軽頚鶏芸迎鯨劇戟撃激隙桁傑欠決潔穴結血訣月件倹倦健兼券剣喧圏堅嫌建憲懸拳捲検権牽犬献研硯絹県肩見謙賢軒遣鍵険顕験鹸元原厳幻弦減源玄現絃舷言諺限乎個古呼固姑孤己庫弧戸故枯湖狐糊袴股胡菰虎誇跨鈷雇顧鼓五互伍午呉吾娯後御悟梧檎瑚碁語誤護醐乞鯉交佼侯候倖光公功効勾厚口向后喉坑垢好孔孝宏工巧巷幸広庚康弘恒慌抗拘控攻昂晃更杭校梗構江洪浩港溝甲皇硬稿糠紅紘絞綱耕考肯肱腔膏航荒行衡講貢購郊酵鉱砿鋼閤降項香高鴻剛劫号合壕拷濠豪轟麹克刻告国穀酷鵠黒獄漉腰甑忽惚骨狛込此頃今困坤墾婚恨懇昏昆根梱混痕紺艮魂些佐叉唆嵯左差査沙瑳砂詐鎖裟坐座挫債催再最哉塞妻宰彩才採栽歳済災采犀砕砦祭斎細菜裁載際剤在材罪財冴坂阪堺榊肴咲崎埼碕鷺作削咋搾昨朔柵窄策索錯桜鮭笹匙冊刷察拶撮擦札殺薩雑皐鯖捌錆鮫皿晒三傘参山惨撒散桟燦珊産算纂蚕讃賛酸餐斬暫残仕仔伺使刺司史嗣四士始姉姿子屍市師志思指支孜斯施旨枝止死氏獅祉私糸紙紫肢脂至視詞詩試誌諮資賜雌飼歯事似侍児字寺慈持時次滋治爾璽痔磁示而耳自蒔辞汐鹿式識鴫竺軸宍雫七叱執失嫉室悉湿漆疾質実蔀篠偲柴芝屡蕊縞舎写射捨赦斜煮社紗者謝車遮蛇邪借勺尺杓灼爵酌釈錫若寂弱惹主取守手朱殊狩珠種腫趣酒首儒受呪寿授樹綬需囚収周宗就州修愁拾洲秀秋終繍習臭舟蒐衆襲讐蹴輯週酋酬集醜什住充十従戎柔汁渋獣縦重銃叔夙宿淑祝縮粛塾熟出術述俊峻春瞬竣舜駿准循旬楯殉淳準潤盾純巡遵醇順処初所暑曙渚庶緒署書薯藷諸助叙女序徐恕鋤除傷償勝匠升召哨商唱嘗奨妾娼宵将小少尚庄床廠彰承抄招掌捷昇昌昭晶松梢樟樵沼消渉湘焼焦照症省硝礁祥称章笑粧紹肖菖蒋蕉衝裳訟証詔詳象賞醤鉦鍾鐘障鞘上丈丞乗冗剰城場壌嬢常情擾条杖浄状畳穣蒸譲醸錠嘱埴飾拭植殖燭織職色触食蝕辱尻伸信侵唇娠寝審心慎振新晋森榛浸深申疹真神秦紳臣芯薪親診身辛進針震人仁刃塵壬尋甚尽腎訊迅陣靭笥諏須酢図厨逗吹垂帥推水炊睡粋翠衰遂酔錐錘随瑞髄崇嵩数枢趨雛据杉椙菅頗雀裾澄摺寸世瀬畝是凄制勢姓征性成政整星晴棲栖正清牲生盛精聖声製西誠誓請逝醒青静斉税脆隻席惜戚斥昔析石積籍績脊責赤跡蹟碩切拙接摂折設窃節説雪絶舌蝉仙先千占宣専尖川戦扇撰栓栴泉浅洗染潜煎煽旋穿箭線繊羨腺舛船薦詮賎践選遷銭銑閃鮮前善漸然全禅繕膳糎噌塑岨措曾曽楚狙疏疎礎祖租粗素組蘇訴阻遡鼠僧創双叢倉喪壮奏爽宋層匝惣想捜掃挿掻操早曹巣槍槽漕燥争痩相窓糟総綜聡草荘葬蒼藻装走送遭鎗霜騒像増憎臓蔵贈造促側則即息捉束測足速俗属賊族続卒袖其揃存孫尊損村遜他多太汰詑唾堕妥惰打柁舵楕陀駄騨体堆対耐岱帯待怠態戴替泰滞胎腿苔袋貸退逮隊黛鯛代台大第醍題鷹滝瀧卓啄宅托択拓沢濯琢託鐸濁諾茸凧蛸只叩但達辰奪脱巽竪辿棚谷狸鱈樽誰丹単嘆坦担探旦歎淡湛炭短端箪綻耽胆蛋誕鍛団壇弾断暖檀段男談値知地弛恥智池痴稚置致蜘遅馳築畜竹筑蓄逐秩窒茶嫡着中仲宙忠抽昼柱注虫衷註酎鋳駐樗瀦猪苧著貯丁兆凋喋寵帖帳庁弔張彫徴懲挑暢朝潮牒町眺聴脹腸蝶調諜超跳銚長頂鳥勅捗直朕沈珍賃鎮陳津墜椎槌追鎚痛通塚栂掴槻佃漬柘辻蔦綴鍔椿潰坪壷嬬紬爪吊釣鶴亭低停偵剃貞呈堤定帝底庭廷弟悌抵挺提梯汀碇禎程締艇訂諦蹄逓邸鄭釘鼎泥摘擢敵滴的笛適鏑溺哲徹撤轍迭鉄典填天展店添纏甜貼転顛点伝殿澱田電兎吐堵塗妬屠徒斗杜渡登菟賭途都鍍砥砺努度土奴怒倒党冬凍刀唐塔塘套宕島嶋悼投搭東桃梼棟盗淘湯涛灯燈当痘祷等答筒糖統到董蕩藤討謄豆踏逃透鐙陶頭騰闘働動同堂導憧撞洞瞳童胴萄道銅峠鴇匿得徳涜特督禿篤毒独読栃橡凸突椴届鳶苫寅酉瀞噸屯惇敦沌豚遁頓呑曇鈍奈那内乍凪薙謎灘捺鍋楢馴縄畷南楠軟難汝二尼弐迩匂賑肉虹廿日乳入如尿韮任妊忍認濡禰祢寧葱猫熱年念捻撚燃粘乃廼之埜嚢悩濃納能脳膿農覗蚤巴把播覇杷波派琶破婆罵芭馬俳廃拝排敗杯盃牌背肺輩配倍培媒梅楳煤狽買売賠陪這蝿秤矧萩伯剥博拍柏泊白箔粕舶薄迫曝漠爆縛莫駁麦函箱硲箸肇筈櫨幡肌畑畠八鉢溌発醗髪伐罰抜筏閥鳩噺塙蛤隼伴判半反叛帆搬斑板氾汎版犯班畔繁般藩販範釆煩頒飯挽晩番盤磐蕃蛮匪卑否妃庇彼悲扉批披斐比泌疲皮碑秘緋罷肥被誹費避非飛樋簸備尾微枇毘琵眉美鼻柊稗匹疋髭彦膝菱肘弼必畢筆逼桧姫媛紐百謬俵彪標氷漂瓢票表評豹廟描病秒苗錨鋲蒜蛭鰭品彬斌浜瀕貧賓頻敏瓶不付埠夫婦富冨布府怖扶敷斧普浮父符腐膚芙譜負賦赴阜附侮撫武舞葡蕪部封楓風葺蕗伏副復幅服福腹複覆淵弗払沸仏物鮒分吻噴墳憤扮焚奮粉糞紛雰文聞丙併兵塀幣平弊柄並蔽閉陛米頁僻壁癖碧別瞥蔑箆偏変片篇編辺返遍便勉娩弁鞭保舗鋪圃捕歩甫補輔穂募墓慕戊暮母簿菩倣俸包呆報奉宝峰峯崩庖抱捧放方朋法泡烹砲縫胞芳萌蓬蜂褒訪豊邦鋒飽鳳鵬乏亡傍剖坊妨帽忘忙房暴望某棒冒紡肪膨謀貌貿鉾防吠頬北僕卜墨撲朴牧睦穆釦勃没殆堀幌奔本翻凡盆摩磨魔麻埋妹昧枚毎哩槙幕膜枕鮪柾鱒桝亦俣又抹末沫迄侭繭麿万慢満漫蔓味未魅巳箕岬密蜜湊蓑稔脈妙粍民眠務夢無牟矛霧鵡椋婿娘冥名命明盟迷銘鳴姪牝滅免棉綿緬面麺摸模茂妄孟毛猛盲網耗蒙儲木黙目杢勿餅尤戻籾貰問悶紋門匁也冶夜爺耶野弥矢厄役約薬訳躍靖柳薮鑓愉愈油癒諭輸唯佑優勇友宥幽悠憂揖有柚湧涌猶猷由祐裕誘遊邑郵雄融夕予余与誉輿預傭幼妖容庸揚揺擁曜楊様洋溶熔用窯羊耀葉蓉要謡踊遥陽養慾抑欲沃浴翌翼淀羅螺裸来莱頼雷洛絡落酪乱卵嵐欄濫藍蘭覧利吏履李梨理璃痢裏裡里離陸律率立葎掠略劉流溜琉留硫粒隆竜龍侶慮旅虜了亮僚両凌寮料梁涼猟療瞭稜糧良諒遼量陵領力緑倫厘林淋燐琳臨輪隣鱗麟瑠塁涙累類令伶例冷励嶺怜玲礼苓鈴隷零霊麗齢暦歴列劣烈裂廉恋憐漣煉簾練聯蓮連錬呂魯櫓炉賂路露労婁廊弄朗楼榔浪漏牢狼篭老聾蝋郎六麓禄肋録論倭和話歪賄脇惑枠鷲亙亘鰐詫藁蕨椀湾碗腕</code></pre>\n\n<hr>\n<p>サブセットは「サブセットフォントメーカー」を使用し、以下の手順で行う。</p>\n<ol>\n<li>ダウンロードした「<strong>Noto Sans CJK JP</strong>」を指定</li>\n<li>抽出する文字列を入力</li>\n<li>書体名は「NotoSansCJKjp」など分かりやすい名称にする（任意）</li>\n<li>「作成開始」をクリック</li>\n</ol>\n<p>ここで抽出したフォントのファイルサイズは 500KB 近くまで小さくなった。</p>\n<h3>ファイル形式を用意する</h3><p>次に、ウェブフォントとして使用するファイル形式をそろえる。</p>\n<p>「WOFF コンバータ」を使用し、以下の手順を行う。</p>\n<ol>\n<li>[変換前ファイル] に先ほどサブセット化したフォントを指定</li>\n<li>[変換後ファイル] は、出力先を指定</li>\n<li>始めて作成する場合は「サンプル HTML ファイルを作成する」にチェックを入れてと確認が楽かもしれない（任意）</li>\n</ol>\n<p>以上でウェブフォントの用意はすべて終了。</p>\n<h2>CSS でフォントを指定する</h2><p><code>@font-face</code>でフォントを指定する。 モダンブラウザに加えて、IE 用（複数）、Android・iOS 用などの指定をする必要がある。（必要に応じて）</p>\n<h3>指定例（参考例）</h3><p>CSS には以下の様な指定をする。</p>\n<pre><code class=\"css\">@font-face {\n  font-family: \"NotoSansCJKjp\";\n  font-style: normal;\n  font-weight: 400;\n  src: url(\"../font/web/NotoSansCJKjp.woff2\") format(\"woff2\"),\n       url(\"../font/web/NotoSansCJKjp.otf\") format(\"opentype\");\n}</code></pre>\n<h2>ウェブフォントを高速化する</h2><h3>ローカルフォントを利用する</h3><p>「Noto Sans CJK JP」の<strong>Light</strong>をサブセットし、ウェブフォントとして指定したのが以下。</p>\n<pre><code class=\"css\">@font-face {\n  font-family: \"NotoSansCJKjp\";\n  font-style: normal;\n  font-weight: 400;\n  src: local(\"Noto Sans CJK JP Light\"), \n    url(\"../font/web/NotoSansCJKjp.woff2\") format(\"woff2\"), \n    url(\"../font/web/NotoSansCJKjp.otf\") format(\"opentype\");\n}</code></pre>\n<p>今回追加したのが<code>src: local()</code>というプロパティ。</p>\n<p>これは、ローカル（閲覧側）に指定のフォントと同名のフォントがあればそれを使う、というような指定で、そのフォントがインストールされているとサーバ上のウェブフォントは読み込まずにローカルのフォントで描画してくれるので早い。<br>サブセット化して抜けてしまった文字も、フォントがインストールされていれば問題なく表示ができる。</p>\n<p>マイナーでないフォントであれば、この指定が効いてくるのではないかと思う。「Noto Sans CJK JP」を PC に導入している人は必ずしも多くないかもしれないが、指定して損はないので指定した。</p>\n<hr>\n\n<h2>Noto 使用のガイドライン（Google）</h2><p>ちなみに Google のガイドラインは「<a href=\"https://www.google.com/get/noto/help/guidelines/\">Guidelines for Using Noto – Google Noto Fonts</a>」から確認できる。</p>\n<blockquote>\nFor a Japanese website:\n<pre class=\"css\"><code>font-family: \"Noto Sans\", \"Noto Sans CJK JP\", sans-serif;</code></pre></blockquote>\n\n<hr>\n<p>最適化など見つけたら追記していく。</p>\n<h2>関連</h2><ul>\n<li><a href=\"https://b.0218.jp/20171003234050.html\">Google が配信している日本語ウェブフォント一覧</a></li>\n</ul>\n","excerpt":"ここ最近の現状と前提 / 背景 / Noto Sans CJK JP とは / Noto Sans CJK JP を入手する / 使用するツール","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"},{"name":"フォント","slug":"フォント","path":"tags/%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88/"},{"name":"Noto Sans","slug":"Noto-Sans","path":"tags/Noto-Sans/"}],"prev":{"title":"Mavericks で iOS8.3 用のビルド(対応)をする方法\n","path":"20150623005742.html"},"next":{"title":"[C++] splitがないので自前でスペース区切りする (std::string)","path":"20150617231718.html"}},{"title":"[C++] splitがないので自前でスペース区切りする (std::string)","path":"20150617231718.html","permalink":"https://b.0218.jp/20150617231718.html","date":"2015-06-17T23:17:18.000Z","updated":"2015-06-17T23:17:18.000Z","thumbnail":"","content":"<p>Java とかだとナチュラルに<code>split</code>で区切ってたんだけれど、C++にはそんなの無いみたい。つらい。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n<h3>コード</h3>\n<code>str</code>には\"MADE IN JAPAN\"みたいな感じでスペースが入った文字列が入ってる。\n```c\nvector<string> list;\nstringstream ss(str);\nstring item;\nwhile (getline(ss, item, ' ') &amp;&amp; !item.empty()) {\n    list.push_back(item);\n}\n```\n\n<p>これも<code>include</code>しておく。</p>\n<pre><code class=\"c\">#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;</code></pre>\n<hr>\n<p>これを char で取り出すのは、こんな感じ。</p>\n<pre><code class=\"c\">list[0].c_str();</code></pre>\n</string>","excerpt":"方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"C++","slug":"C","path":"tags/C/"}],"prev":{"title":"日本語WebフォントにNoto Sans CJK JPを指定する時に気を付けたこと","path":"20150620044014.html"},"next":{"title":"[iTunes] 自動的にデータをバックアップする設定","path":"20150615233400.html"}},{"title":"[iTunes] 自動的にデータをバックアップする設定","path":"20150615233400.html","permalink":"https://b.0218.jp/20150615233400.html","date":"2015-06-15T23:34:00.000Z","updated":"2015-06-15T23:34:00.000Z","thumbnail":"","content":"<p>万が一の時のためにバックアップがあると復元できるので設定しておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>手順</h2>\niCloud からバックアップする方法もあるが、今回は<strong>iTunes でバックアップする</strong>。\n\n<h3>iTunes でバックアップする方法</h3>\n<img alt=\"iTunes デバイス環境設定\" src=\"/image/iTunes-Device-Preferences.png\">\n<ul>\n <li>iTunes のメニューバーから「編集」を開き、「設定」をクリック</li>\n <li>設定画面から「デバイス」タブをクリック</li>\n <li>「デバイス環境設定」で「iPod、iPhone、および iPad を自動的に同期しない」にチェックを入れ、「OK」をクリック</li>\n</ul>\n<hr>\n<img alt=\"iTunes 端末接続画面\" src=\"/image/iTunes-Device-Connection.png\">\n<ul>\n <li>パソコンとiPhoneを付属のUSBケーブルで接続</li>\n <li>iTunes で端末 (iPad) を選択<br>設定 の 概要をクリック <br>バックアップの [自動的にバックアップ] から「このコンピュータ」を選択</li>\n <li>念のため、「今すぐバックアップ」をクリック</li>\n <li>[最新のバックアップ] に最新時刻が表示されたら完了</li>\n</ul>\n","excerpt":"手順","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"iTunes","slug":"iTunes","path":"tags/iTunes/"}],"prev":{"title":"[C++] splitがないので自前でスペース区切りする (std::string)","path":"20150617231718.html"},"next":{"title":"[iTunes] Perfect イコライザを超える Eargasm Explosion の設定","path":"20150614010836.html"}},{"title":"[iTunes] Perfect イコライザを超える Eargasm Explosion の設定","path":"20150614010836.html","permalink":"https://b.0218.jp/20150614010836.html","date":"2015-06-14T01:08:36.000Z","updated":"2015-06-14T01:08:36.000Z","thumbnail":"https://hiro0218.github.io/blog/images/Eargasm-Explosion-Equalizer.png","content":"<p>一昔前から定番の「Perfect」設定は、<a href=\"https://b.0218.jp/20061101025558.html\">こちら</a>から。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><figure>\n  <img alt=\"eargasm_explosion_equalizer\" src=\"https://hiro0218.github.io/blog/images/Eargasm-Explosion-Equalizer.png\">\n</figure>\n\n<pre><code>+3, +6, +9, +7, +6, +5, +7, +4, +11, +8</code></pre>\n<p>イコライザの設定を画像と同じように調節をする。</p>\n<h2>iTunes イコライザを使用する手順</h2><ol>\n<li>iTunes で、「表示」メニュー -&gt;「イコライザを表示」を選択</li>\n<li>スライダーをドラッグして周波数設定を調整</li>\n<li>「プリセットを作成」を選択してプリセットに名前を付ける</li>\n</ol>\n","excerpt":"方法 / iTunes イコライザを使用する手順","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"iTunes","slug":"iTunes","path":"tags/iTunes/"},{"name":"イコライザ","slug":"イコライザ","path":"tags/%E3%82%A4%E3%82%B3%E3%83%A9%E3%82%A4%E3%82%B6/"}],"prev":{"title":"[iTunes] 自動的にデータをバックアップする設定","path":"20150615233400.html"},"next":{"title":"[iPad/iPhone] リンゴマークから復活させる方法","path":"20150613214037.html"}},{"title":"[iPad/iPhone] リンゴマークから復活させる方法","path":"20150613214037.html","permalink":"https://b.0218.jp/20150613214037.html","date":"2015-06-13T21:40:37.000Z","updated":"2016-11-10T16:52:30.000Z","thumbnail":"","content":"<p>開発用に使っている iPad がいわゆる「<strong>リンゴループ</strong>」になってしまった。</p>\n<p>各所で対処方法は紹介されているが、確認事項など少々異なっている部分も散見したので、自分でリンゴループから復帰・復活した解決方法を載せておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>環境</h2><ul>\n<li>iPad Air 2</li>\n<li>iOS 8.2</li>\n</ul>\n<p>iPad だが、iPhone でも同じように対処できると思う。</p>\n<p>※ <strong>脱獄はしていない</strong></p>\n<h2>発生状況</h2><p>よく見ていなかったが、充電が切れそうになったので PC 経由で充電をしていると、気付いたらリンゴループになっていた。</p>\n<ul>\n<li>元々の充電残量は少なかった記憶がある</li>\n<li>充電は可能</li>\n<li>PC 接続で認識されない (リンゴループなので)</li>\n</ul>\n<h3>充電</h3><p>充電してもリンゴループから回復しなかった。</p>\n<p>充電は以下の方法を試みた。</p>\n<ul>\n<li>アダプタ経由 (コンセント経由)</li>\n<li>PC (Mac / Windows) 経由</li>\n</ul>\n<h3>再起動</h3><p>再起動をしても抜け出せない。</p>\n<h4>強制的に再起動する方法</h4><p>Apple のサポート見ると<strong>最後の手段</strong>として下記の方法が紹介されている。最後の手段らしい。</p>\n<blockquote>\n<p>iPhone、iPad、または iPod touch が反応しなくなった場合に限り、最後の手段として、強制再起動をお試しください。 デバイスを強制的に再起動する場合は、スリープ／スリープ解除ボタンとホームボタンを同時に、Apple ロゴが表示されるまで 10 秒以上押し続けます。</p>\n<p><small>引用元:『<a href=\"https://support.apple.com/ja-jp/HT201559\" target=\"_blank\">iPhone、iPad、または iPod touch の再起動 - Apple サポート</a>』より</small></p>\n</blockquote>\n<p>最後の手段を講じても回復しなかった。</p>\n<h2>解決方法</h2><p>色々と調べてみると、「復元」するパターンと「修理」行きパターンがあるらしい。</p>\n<p>修理行きは最悪のパターンだが、頭の片隅に置いておき、復元を試みる。</p>\n<h3>復元時の注意</h3><p>復元を実行すると iOS のバージョンは上がってしまう。当該機は、開発用だったので OS のバージョンは上げたくなかったが、マイナーバージョンアップだったので目をつぶった。</p>\n<p>また、データが初期化されてしまうが、PC にバックアップがあれば全く問題ない。当該機は、Mac への接続時に勝手にバックアップされていたみたいで助かった。</p>\n<h3>DFU モードに入る方法</h3><p>以下の手順で DFU モードに入る。<br>大まかには以下の様な手順である。</p>\n<ol>\n<li>端末の電源を切る</li>\n<li>端末と PC を接続する</li>\n<li>電源ボタンとホームボタンを長押しして強制的に再起動させる(先述の方法)</li>\n<li>10 秒間長押した後、電源ボタンのみ離してホームボタンを 10 秒間押しする</li>\n</ol>\n<p>DFU モードに入ると、以下の様なダイアログが表示される。</p>\n<blockquote>\n<p>iTunes は リカバリモードの iPad (iPhone) を見つけました。iTunes でご利用になる前に、この iPad (iPhone) を復元する必要があります。</p>\n</blockquote>\n<p>OK をクリックすると、以下の様なダイアログが表示されるので「復元とアップデート」をクリックする。</p>\n<h4>復元とアップデート</h4><blockquote>\n<p>お使いの iPad (iPhone) “端末名”を工場出荷時の設定に戻してもよろしいですか？メディアやその他のデータはすべて消去され、最新バージョンの iPad (iPhone) がインストールされます。<br>復元を Apple に確認します。　このプロセスの完了後、連絡先、カレンダー、SMS/MMS メッセージ、およびその他の設定を復元するかどうかを選択できます。</p>\n</blockquote>\n<p>ダイアログにもあるが、OS が最新バージョンにアップデートされてしまうので注意。<br>復元の進行具合が表示されるので静観。</p>\n<h3>完了</h3><ol>\n<li>復元の完了後、再起動が行われる</li>\n<li>再起動後に「新しい iPad (iPhone) へようこそ」という画面が表示される</li>\n<li>「このバックアップから復元」からバックアップを選択しバックアップを開始して完了</li>\n</ol>\n<hr>\n<h2>〆</h2><p>今回は何とか修理せずにリンゴループから回復する事ができた。<br>開発機だったので特にバックアップが無くても支障はなかったが、やはり日頃のバックアップの重要性を再認識させられる。</p>\n","excerpt":"環境 / 発生状況 / 解決方法 / 〆","categories":[{"name":"ガジェット","slug":"ガジェット","path":"categories/%E3%82%AC%E3%82%B8%E3%82%A7%E3%83%83%E3%83%88/"}],"tags":[{"name":"iTunes","slug":"iTunes","path":"tags/iTunes/"},{"name":"Mac","slug":"Mac","path":"tags/Mac/"}],"prev":{"title":"[iTunes] Perfect イコライザを超える Eargasm Explosion の設定","path":"20150614010836.html"},"next":{"title":"[Xcode] \\nで改行されない時の対処法","path":"20150612234842.html"}},{"title":"[Xcode] \\nで改行されない時の対処法","path":"20150612234842.html","permalink":"https://b.0218.jp/20150612234842.html","date":"2015-06-12T23:48:42.000Z","updated":"2015-06-12T23:48:42.000Z","thumbnail":"","content":"<h2>原因</h2>\n<pre>printf(\"\\n\");</pre>\n\n<p><code>\\n</code>と入力していたから。</p>\n\n<h3>対処</h3>\n<p><code>￥マーク</code>じゃなくて、<code>＼（バックスラッシュ）</code>でないとダメ。</p>\n\n<pre>\\n</pre>\n\n<h2>Macでバックスラッシュを入力する方法</h2>\n<p><kbd>optionキー</kbd> + <kbd>￥キー</kbd></p>\n","excerpt":"原因 / Macでバックスラッシュを入力する方法","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Mac","slug":"Mac","path":"tags/Mac/"},{"name":"Xcode","slug":"Xcode","path":"tags/Xcode/"}],"prev":{"title":"[iPad/iPhone] リンゴマークから復活させる方法","path":"20150613214037.html"},"next":{"title":"Google フォトで使用できる拡張子一覧\n","path":"20150608123437.html"}},{"title":"Google フォトで使用できる拡張子一覧\n","path":"20150608123437.html","permalink":"https://b.0218.jp/20150608123437.html","date":"2015-06-08T12:34:37.000Z","updated":"2015-06-08T12:34:37.000Z","thumbnail":"","content":"<p>この度、容量無制限でクラウド上に保存することができるようになったが、容量無制限で保存できるファイル形式が分からなかったので調べた。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>拡張子</h2>\n各種、対応の拡張子は以下。\n<code>.psd</code>, <code>.png</code>あたりがあると嬉しかったが、\"フォト\"ではないか…。\n<h3>写真</h3>\n<ul>\n  <li>.jpg</li>\n  <li>.webp</li>\n  <li>.gif</li>\n  <li>.crw</li>\n  <li>.cr2</li>\n  <li>.nef</li>\n  <li>.dng</li>\n  <li>.orf</li>\n  <li>.raf</li>\n  <li>.arw</li>\n  <li>.pef</li>\n  <li>.srw</li>\n  <li>.rw2</li>\n  <li>.bmp</li>\n  <li>.ico</li>\n  <li>.tiff</li>\n</ul>\n<h3>動画</h3>\n<ul>\n  <li>.mpg</li>\n  <li>.mod</li>\n  <li>.mmv</li>\n  <li>.tod</li>\n  <li>.wmv</li>\n  <li>.asf</li>\n  <li>.avi</li>\n  <li>.divx</li>\n  <li>.mov</li>\n  <li>.m4v</li>\n  <li>.3gp</li>\n  <li>.3g2</li>\n  <li>.mp4</li>\n  <li>.m2t</li>\n  <li>.m2ts</li>\n  <li>.mts</li>\n  <li>.mkv</li>\n</ul>\n<h2>参考</h2>\n<ul>\n<li><a href=\"https://support.google.com/photos/answer/6156099?hl=ja\" target=\"_blank\">パソコンからの写真のバックアップ - フォトヘルプ</a></li>\n</ul>\n","excerpt":"拡張子 / 参考","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"Google","slug":"Google","path":"tags/Google/"},{"name":"Web","slug":"Web","path":"tags/Web/"}],"prev":{"title":"[Xcode] \\nで改行されない時の対処法","path":"20150612234842.html"},"next":{"title":"[Windows 10] 無料アップグレードの取り消し方法","path":"20150606010731.html"}},{"title":"[Windows 10] 無料アップグレードの取り消し方法","path":"20150606010731.html","permalink":"https://b.0218.jp/20150606010731.html","date":"2015-06-06T01:07:31.000Z","updated":"2015-06-06T01:07:31.000Z","thumbnail":"","content":"<p>Windows 10 の無償アップグレードを予約をしてしまった場合の解除方法</p>\n<p>2015 年 7 月 29 日にリリースが決定。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>手順</h2>\n<ul>\n  <li>タスクバーのアイコン（Windows 10 入手用）を右クリック\n  </li><li>[アップグレード ステータスのチェック] を選択\n  </li><li>[予約の取り消し] を選択\n</li></ul>\n","excerpt":"手順","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows","slug":"Windows","path":"tags/Windows/"},{"name":"Windows 10","slug":"Windows-10","path":"tags/Windows-10/"}],"prev":{"title":"Google フォトで使用できる拡張子一覧\n","path":"20150608123437.html"},"next":{"title":"WordをPDF化する際にコメントの作成者の名前を消す方法\n","path":"20150602201423.html"}},{"title":"WordをPDF化する際にコメントの作成者の名前を消す方法\n","path":"20150602201423.html","permalink":"https://b.0218.jp/20150602201423.html","date":"2015-06-02T20:14:23.000Z","updated":"2015-06-02T20:14:23.000Z","thumbnail":"","content":"<p>Word に付けた各コメントの作成者を非表示にする方法を探していたが無い模様。<br>情報を削除して「消す」という手段で解決した。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>手順</h2>\n<ol>\n<li>Word の上部にあるリボンから[ファイル]を選択</li>\n<li>情報の「ドキュメント検査」から[検査]を実行<br>(このとき「☑ ドキュメントのプロパティと個人情報」にチェックをいれる)</li>\n<li>[すべて削除]を実行<br>(「ドキュメントのプロパティと個人情報」を削除する)</li>\n<li>いったん保存する(作成者の情報が消えるので問題ある場合は別名で保存しておく)</li>\n<li>開き直すと、コメントの名前が「作成者」となる。</li>\n</ol>\n\n<p>以上で完成したWordファイルをPDFに変換すると（コメント付き）、コメントの作成者の表示が「A1」などとなる。(A1, A2, A3… とインクリメントしていく)</p>\n","excerpt":"手順","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[],"prev":{"title":"[Windows 10] 無料アップグレードの取り消し方法","path":"20150606010731.html"},"next":{"title":"[iPod] 「スキャンおよび修復」を消す方法","path":"20150602200453.html"}},{"title":"[iPod] 「スキャンおよび修復」を消す方法","path":"20150602200453.html","permalink":"https://b.0218.jp/20150602200453.html","date":"2015-06-02T20:04:53.000Z","updated":"2015-06-02T20:04:53.000Z","thumbnail":"","content":"<p>Windows に iPod を接続した時に「スキャンおよび修復」を促すダイアログが表示される。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\niPodを接続すると以下のようなダイアログが表示される。\n<p class=\"c-alert\"><strong>「リムーバル ディスクをスキャンして修復しますか?」</strong>\n  →スキャンおよび修復(推奨)\n  →スキャンしないで続行します</p>\n\n<p>スキャンしないでも問題はない。<br>ただスキャンして問題が起きる可能性のことを考えると面倒なので抜本的に解決策を探す。</p>\n<h2>解決方法</h2>\n<ol>\n<li>iPod を接続した状態で iTunes を起動する</li>\n<li>iPod の設定画面を開く（容量とか見られる画面）</li>\n<li>概要（最初に表示される）の下にオプションを確認</li>\n<li>「☑ディスクとして使用する」にチェックが入っていれば外して[適用]</li>\n</ol>\n","excerpt":"状況 / 解決方法","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"apple","slug":"apple","path":"tags/apple/"},{"name":"iPod","slug":"iPod","path":"tags/iPod/"}],"prev":{"title":"WordをPDF化する際にコメントの作成者の名前を消す方法\n","path":"20150602201423.html"},"next":{"title":"リモートデスクトップで接続先を強制的に再起動・終了させる方法\n","path":"20150522000516.html"}},{"title":"リモートデスクトップで接続先を強制的に再起動・終了させる方法\n","path":"20150522000516.html","permalink":"https://b.0218.jp/20150522000516.html","date":"2015-05-22T00:05:16.000Z","updated":"2015-05-23T17:04:41.000Z","thumbnail":"","content":"<p>仕事でサブ PC をメイン PC からリモートデスクトップで操作した後に、直接操作して終了させるのが億劫なのでコマンドを叩く。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\nまず、コマンドプロンプトを起動する。\n\n<h3>再起動</h3>\n<pre class=\"cmd\">shutdown -r -f -t 0</pre>\n\n<h3>終了(シャットダウン)</h3>\n<pre class=\"cmd\">shutdown -s -f -t 0</pre>\n\n<h3>簡単な解説</h3>\n<ul>\n<li><code>-s</code>はシャットダウン</li>\n<li><code>-r</code>はリブート(再起動)</li>\n<li><code>-f</code>は強制的に実行</li>\n<li><code>-t</code>は実行までの時間(ここでは0秒後)\nこれはお好みだけど、個人的に即やって欲しいのでおまじない的に入力している。</li>\n</ul>\n","excerpt":"方法","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows","slug":"Windows","path":"tags/Windows/"}],"prev":{"title":"[iPod] 「スキャンおよび修復」を消す方法","path":"20150602200453.html"},"next":{"title":"[Windows 10 Technical Preview] Spartan(Edge) のユーザーエージェント","path":"20150507120233.html"}},{"title":"[Windows 10 Technical Preview] Spartan(Edge) のユーザーエージェント","path":"20150507120233.html","permalink":"https://b.0218.jp/20150507120233.html","date":"2015-05-07T12:02:33.000Z","updated":"2015-05-07T12:02:33.000Z","thumbnail":"","content":"<p><strong>Windows 10 Technical Preview</strong> の「Build 10061」にて調査。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>各環境と今後のアップデートによって結果が変わる可能性はある。</p>\n<h2>Spartan (Edge)</h2>\n<h3>32bit</h3>\n<pre>Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0</pre>\n<h3>64bit</h3>\n<pre>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0 </pre>\n\n<!--\nInternet Explorer 11\n<pre>Mozilla/5.0 (Windows NT 6.3; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; rv:11.0) like Gecko </pre>\n-->\n","excerpt":"Spartan (Edge)","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows 10","slug":"Windows-10","path":"tags/Windows-10/"}],"prev":{"title":"リモートデスクトップで接続先を強制的に再起動・終了させる方法\n","path":"20150522000516.html"},"next":{"title":"WordPress 4.2 で追加された絵文字対応のスクリプトを無効化する方法\n","path":"20150425235647.html"}},{"title":"WordPress 4.2 で追加された絵文字対応のスクリプトを無効化する方法\n","path":"20150425235647.html","permalink":"https://b.0218.jp/20150425235647.html","date":"2015-04-25T23:56:47.000Z","updated":"2015-04-25T23:56:47.000Z","thumbnail":"https://abs.twimg.com/emoji/v1/72x72/1f603.png","content":"<img alt=\"emoji\" src=\"https://abs.twimg.com/emoji/v1/72x72/1f603.png\">\n\n<div class=\"more js-separate\"></div>\n\n<h2>背景</h2>\n以前の WordPress は絵文字に対応しておらず、表示はおろか保存すら出来ない状態であった。\n<blockquote><a href=\"https://b.0218.jp/20140423123227.html\" target=\"_blank\">[WordPress] 絵文字(Unicode6.0)が使えない問題</a>\n</blockquote>\n\n<p>これはデータの格納テーブルの文字コードの問題であり、プログラムの問題ではない。</p>\n<p>今回の 4.2 でテーブルの文字コードも変更され(データベースのテーブルもアップグレード)、追加で絵文字を画像に置き換えるスクリプトが追加された。</p>\n<p>WordPress 4.2 は中国語・日本語・韓国語の文字、音楽・数学用の記号、象形文字を含む多くの新しい文字に対応しています。<br>とあるので、単純に「絵文字に対応した」というわけではない。</p>\n<h3>新しいテーブルの構造</h3>\n文字コードが<code>utf8mb4</code>になっているのが分かる。(これまでは<code>utf8</code>)\n\n<pre><code class=\"sql\">CREATE TABLE `wp_posts` (\n  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\n  `post_author` bigint(20) unsigned NOT NULL DEFAULT '0',\n  `post_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n  `post_date_gmt` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n  `post_content` longtext COLLATE utf8mb4_unicode_ci NOT NULL,\n  `post_title` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,\n  `post_excerpt` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,\n  `post_status` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'publish',\n  `comment_status` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'open',\n  `ping_status` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'open',\n  `post_password` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',\n  `post_name` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',\n  `to_ping` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,\n  `pinged` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,\n  `post_modified` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n  `post_modified_gmt` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n  `post_content_filtered` longtext COLLATE utf8mb4_unicode_ci NOT NULL,\n  `post_parent` bigint(20) unsigned NOT NULL DEFAULT '0',\n  `guid` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',\n  `menu_order` int(11) NOT NULL DEFAULT '0',\n  `post_type` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'post',\n  `post_mime_type` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',\n  `comment_count` bigint(20) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`ID`),\n  KEY `type_status_date` (`post_type`,`post_status`,`post_date`,`ID`),\n  KEY `post_parent` (`post_parent`),\n  KEY `post_author` (`post_author`),\n  KEY `post_name` (`post_name`(191))\n) ENGINE=MyISAM AUTO_INCREMENT=1960 DEFAULT CHARSET=&lt;b&gt;utf8mb4&lt;/b&gt; COLLATE=utf8mb4_unicode_ci</code></pre>\n<p>自前で ALTER しなくてすむようになった。(アップデートの裏でやっているのだろうけれど)</p>\n<pre><code class=\"sql\">alter database wp character set utf8mb4;\nalter table wp_posts convert to character set utf8mb4;</code></pre>\n<h2>不必要なスクリプトを無効化にする</h2>\n最近では、Twitterなども絵文字に対応している。今回の対応も同様のものになっている。\n\n<p>簡単にいうと、Unicode を画像に差し替える処理をして、そうする事でプラットフォーム間の差異をなくすことができる。<span class=\"text-muted\">(何気に Windows と Mac で同じ絵文字の絵が微妙に違ったりする)</span><br>差異をなくすのは良いのだが、勝手に画像に差し替えられてもサイトのデザインと差がでることも考えられる。そういう時は絵文字（テキスト）としておきたい。</p>\n<h3>自動的に追加されるコード</h3>\n4.2 から以下のようなスクリプトなどが追加されている。\n\n<pre><code class=\"html\">&lt;script type=\"text/javascript\"&gt;\n               window._wpemojiSettings = {\"baseUrl\":\"http:\\/\\/s.w.org\\/images\\/core\\/emoji\\/72x72\\/\",\"ext\":\".png\",\"source\":{\"concatemoji\":\"http:\\/\\/www.mysite.com\\/wp\\/wp-includes\\/js\\/wp-emoji-release.min.js?ver=4.2\"}};\n               !function(a,b,c){function d(a){var c=b.createElement(\"canvas\"),d=c.getContext&amp;&amp;c.getContext(\"2d\");return d&amp;&amp;d.fillText?(d.textBaseline=\"top\",d.font=\"600 32px Arial\",\"flag\"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length&gt;3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement(\"script\");c.src=a,c.type=\"text/javascript\",b.getElementsByTagName(\"head\")[0].appendChild(c)}var f;c.supports={simple:d(\"simple\"),flag:d(\"flag\")},c.supports.simple&amp;&amp;c.supports.flag||(f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&amp;&amp;f.twemoji&amp;&amp;(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);\n&lt;/script&gt;\n\n&lt;style type=\"text/css\"&gt;\nimg.wp-smiley,\nimg.emoji {\ndisplay: inline !important;\nborder: none !important;\nbox-shadow: none !important;\nheight: 1em !important;\nwidth: 1em !important;\nmargin: 0 .07em !important;\nvertical-align: -0.1em !important;\nbackground: none !important;\npadding: 0 !important;\n}\n&lt;/style&gt;</code></pre>\n<h3>フォーラムで紹介されている内容</h3>\n更新されて、さっそくフォーラムに「<a href=\"https://wordpress.org/support/topic/emoji-and-smiley-js-and-css-added-to-head\" target=\"_blank\">WordPress › Support » Emoji and smiley js and css added to head</a>」のような投稿があった。\n\n<h4>プラグインを使う</h4>\nさっそく「<a href=\"https://wordpress.org/plugins/disable-emojis/\" target=\"_blank\">WordPress › Disable Emojis « WordPress Plugins</a>」というものが公開されている。\nよく分からない人はこれを使うのが手っ取り早い。\n\n<h4>functions.php にコードを追加する</h4>\n以下のコードを追加することで、前述の自動的に追加されるスクリプトがなくなる。\n\n<pre><code class=\"php\">function disable_emoji() {\n     remove_action( 'wp_head', 'print_emoji_detection_script', 7 );\n     remove_action( 'admin_print_scripts', 'print_emoji_detection_script' );\n     remove_action( 'wp_print_styles', 'print_emoji_styles' );\n     remove_action( 'admin_print_styles', 'print_emoji_styles' );    \n     remove_filter( 'the_content_feed', 'wp_staticize_emoji' );\n     remove_filter( 'comment_text_rss', 'wp_staticize_emoji' );    \n     remove_filter( 'wp_mail', 'wp_staticize_emoji_for_email' );\n}\nadd_action( 'init', 'disable_emoji' );</code></pre>\n<hr>\nこれで絵文字も画像の置き換えからテキストに戻る🐭\n","excerpt":"背景 / 不必要なスクリプトを無効化にする","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[],"prev":{"title":"[Windows 10 Technical Preview] Spartan(Edge) のユーザーエージェント","path":"20150507120233.html"},"next":{"title":"Firefox の自動更新に失敗するときの対処法\n","path":"20150407234559.html"}},{"title":"Firefox の自動更新に失敗するときの対処法\n","path":"20150407234559.html","permalink":"https://b.0218.jp/20150407234559.html","date":"2015-04-07T23:45:59.000Z","updated":"2015-04-07T23:45:59.000Z","thumbnail":"","content":"<p>「更新に失敗しました」というエラーが発生する。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>現象</h2>\n<ul>\n <li>更新の通知がある</li>\n <li>更新をダウンロードする</li>\n <li>「<b>再起動をして更新を完了</b>」をすると失敗した旨のメッセージが表示される</li>\n</ul>\n\n<h2>環境</h2>\n<ul>\n <li>OS: Windows 7</li>\n <li>Firefox Developer Edition</li>\n <li>Version: 39.0a2</li>\n</ul>\n\n<h2>解決手段</h2>\n<h3>PCを再起動する</h3>\n何らかの原因で Firefox の更新を妨げている可能性があるので、手っ取り早く PC そのものを再起動してから、Firefox の更新を行う。\n<small>→ 私の場合: ダメだった</small>\n\n<h3>管理者権限で実行する</h3>\n権限上の問題が発生している可能性<small>(ない)</small>を考え、管理者権限で実行してみることに。\n<small>→ 私の場合: ダメだった</small>\n\n<h3>インストールし直す</h3>\nインストールし直すと言ってもアンインストールはせず、インストーラーで更新するような形。\nインストーラーによって(古い場合)は、前のバージョンになるかもしれないが、自動更新でのエラーは発生しなくなった。\n<small>→ 私の場合: OK</small>\n","excerpt":"現象 / 環境 / 解決手段","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"WordPress 4.2 で追加された絵文字対応のスクリプトを無効化する方法\n","path":"20150425235647.html"},"next":{"title":"[Firefox] 64bit版の公式ビルドのダウンロード場所の一覧","path":"20150407131000.html"}},{"title":"[Firefox] 64bit版の公式ビルドのダウンロード場所の一覧","path":"20150407131000.html","permalink":"https://b.0218.jp/20150407131000.html","date":"2015-04-07T13:10:00.000Z","updated":"2015-12-17T09:41:37.000Z","thumbnail":"","content":"<p>Firefox 43 にて Windows 向け 64bit 版が公開されたので内容を修正。<span style=\"color:transparent\">(この記事も役割を終えた)</span></p>\n<p><s>安定板にはまだ 64bit 版の公式なビルドはないが、他のリリースチャンネルでは 64bit 版の提供がある。</s></p>\n<p><s>ただ、表立って 64bit 版の提供をしているのではないので(32bit 版をダウンロードさせられる)、提供しているページを探さなければならない。</s></p>\n<p>これが面倒なので一覧にした。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>通常版</h2>\n<s><a href=\"https://archive.mozilla.org/pub/firefox/releases/\">https://archive.mozilla.org/pub/firefox/releases/</a>に格納されている。</s>\n\n<p><s>例えば、Firefox 42.0 の日本語版(64bit)であれば以下にある。<br><a href=\"https://archive.mozilla.org/pub/firefox/releases/42.0/win64/ja/\">https://archive.mozilla.org/pub/firefox/releases/42.0/win64/ja/</a></s></p>\n<p><a href=\"https://www.mozilla.org/ja/firefox/all/?q=Japanese,%20%E6%97%A5%E6%9C%AC%E8%AA%9E\">Firefox</a></p>\n<ul>\n<li>64-bit Windows 版 からダウンロード</li>\n</ul>\n\n<h3>参考</h3>\n<a href=\"http://www.forest.impress.co.jp/docs/news/20151216_735629.html\">Mozilla、「Firefox 43」を正式公開。Windows向け64bit版インストーラーが登場 </a>\n\n<h2>Firefox Nightly Builds</h2>\n<a href=\"https://nightly.mozilla.org/\">Firefox Nightly Builds</a>\n<ul>\n<li>Windows 64-bit (Standard) からダウンロード</li>\n<li>Linux (Intel, 64-bit) からダウンロード</li>\n</ul>\n\n<h2>Firefox Developer Edition <small>(Firefox Aurora)</small></h2>\n<a href=\"https://www.mozilla.org/ja/firefox/developer/all/?q=Japanese,%20%E6%97%A5%E6%9C%AC%E8%AA%9E\">Firefox Developer Edition</a>\n<ul>\n<li>64-bit Windows 版 からダウンロード</li>\n<li>Linux 64-bit からダウンロード</li>\n</ul>\n\n<h2>Firefox Beta</h2>\n<a href=\"https://www.mozilla.org/ja/firefox/beta/all/?q=Japanese,%20%E6%97%A5%E6%9C%AC%E8%AA%9E\">Firefox Beta</a>\n<ul>\n<li>64-bit Windows 版 からダウンロード</li>\n<li>Linux 64-bit からダウンロード</li>\n</ul>\n","excerpt":"通常版 / Firefox Nightly Builds / Firefox Developer Edition (Firefox Aurora) / Firefox Beta","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"},{"name":"調査","slug":"調査","path":"tags/%E8%AA%BF%E6%9F%BB/"}],"prev":{"title":"Firefox の自動更新に失敗するときの対処法\n","path":"20150407234559.html"},"next":{"title":"[Active Directory] 管理者権限のあるユーザとしてログインできない","path":"20150402233535.html"}},{"title":"[Active Directory] 管理者権限のあるユーザとしてログインできない","path":"20150402233535.html","permalink":"https://b.0218.jp/20150402233535.html","date":"2015-04-02T23:35:35.000Z","updated":"2015-04-02T23:35:35.000Z","thumbnail":"","content":"<p>Active Directory が悪いのか…悪くないのか分からないけれど解決した方法をメモしておく。</p>\n<h2>環境</h2>\nWindows 8.1\n\n<h2>現象</h2>\n管理者権限のあるユーザー(domain\\hiro)でログイン (プロファイル作成)\n<pre>C:\\Users\\hiro.domain</pre>\nその後、ユーザー(domain\\hiro)でログインすると何故か新しいプロファイルが作られる\n<pre>C:\\Users\\hiro.domain.000</pre>\n管理者権限がないユーザーになっている\n\n<h2>対処法</h2>\n※私が解決した方法\n\n<h3>プロファイルを削除する</h3>\n<ol>\n<li>システムのプロパティのユーザープロファイルから[設定]</li>\n<li>問題のある<span class=\"text-muted\">(と思われる)</span>ユーザープロファイルを選択して削除</li>\n</ol>\n\n<h3>レジストリ</h3>\n<ol>\n<li>レジストリエディター(regedit)で、以下のサブキーを探す</li>\n<pre>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ProfileList</pre>\n<li>問題のある SID を右クリックして削除する</li>\n</ol>\n\n<hr>\n\n<p>再起動して、改めてログオンして、新しいプロファイルを作成する。<br>きちんと管理者権限のあるユーザーでログインすることができた。</p>\n<pre>C:\\Users\\hiro.domain</pre>\n","excerpt":"環境 / 現象 / 対処法","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[],"prev":{"title":"[Firefox] 64bit版の公式ビルドのダウンロード場所の一覧","path":"20150407131000.html"},"next":{"title":"Firefox Developer Edition の見た目を青色から普通の色に戻す方法\n","path":"20150330103057.html"}},{"title":"Firefox Developer Edition の見た目を青色から普通の色に戻す方法\n","path":"20150330103057.html","permalink":"https://b.0218.jp/20150330103057.html","date":"2015-03-30T10:30:57.000Z","updated":"2015-03-30T10:30:57.000Z","thumbnail":"","content":"<p>いかにも”Developer Edition”な青色の見た目を普通の Firefox と同様のものにする方法。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>カスタマイズから変更できる</h2>\n<ol>\n<li>カスタマイズ画面を開く</li>\n(メニューからカスタマイズ / ツールバー上で右クリックしコンテキストメニューからカスタマイズ)\n<li>「Developer Edition テーマを使用する」がオンの状態になっているのでクリックしてオフにする</li>\n<li>設定は即座に反映される(再起動の必要はない)</li>\n</ol>\n\n<h2>Web開発ツール</h2>\nWeb開発ツールのオプションの[テーマ]の項目に、「Developer Edition テーマを使用」というチェックがある。そこからでもテーマの切り替えが可能。\n","excerpt":"カスタマイズから変更できる / Web開発ツール","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"[Active Directory] 管理者権限のあるユーザとしてログインできない","path":"20150402233535.html"},"next":{"title":"[Gmail] 未読のメールのみを表示する方法","path":"20150327104055.html"}},{"title":"[Gmail] 未読のメールのみを表示する方法","path":"20150327104055.html","permalink":"https://b.0218.jp/20150327104055.html","date":"2015-03-27T10:40:55.000Z","updated":"2015-03-27T10:40:55.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>未読のメールのみを検索する方法</h2><p>以下を Gmail 上部のインプットへ入力し検索する。</p>\n<pre><code>is:unread</code></pre>\n<p><code>label</code>など And 検索も使える。</p>\n<h2>未読のショートカット</h2><p>検索するのも手間なので色々と試してみた。</p>\n<h3>フィルタ</h3><p>まず、未読のフィルタを作成するパターンだが、これはラベルとの絡みで後々面倒そうだったのでやめた。</p>\n<h3>クイック リンク</h3><p>Gmail Labs を利用する。これでリリース前の試験段階の機能を使うことができる。</p>\n<ol>\n <li>[設定] の [Labs] タブから一覧を表示</li>\n <li>クイックリンクを有効にする</li>\n <li>変更を保存する</li>\n <li>左下にウィジェットという形でクイックリンクが表示されるようになる</li>\n <li><code>is:unread</code>の検索結果画面を表示し、[クイックリンクを追加]をクリックし、任意の名前を付ける</li>\n</ol>\n\n<p>この Gmail Labs は試験段階の機能なので、今後提供中止される可能性があるので注意。</p>\n","excerpt":"未読のメールのみを検索する方法 / 未読のショートカット","categories":[{"name":"調査","slug":"調査","path":"categories/%E8%AA%BF%E6%9F%BB/"}],"tags":[{"name":"Google","slug":"Google","path":"tags/Google/"},{"name":"Gmail","slug":"Gmail","path":"tags/Gmail/"},{"name":"Webサービス","slug":"Webサービス","path":"tags/Web%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9/"}],"prev":{"title":"Firefox Developer Edition の見た目を青色から普通の色に戻す方法\n","path":"20150330103057.html"},"next":{"title":"[JavaScript] 右クリックを抑制する方法","path":"20150324181250.html"}},{"title":"[JavaScript] 右クリックを抑制する方法","path":"20150324181250.html","permalink":"https://b.0218.jp/20150324181250.html","date":"2015-03-24T18:12:50.000Z","updated":"2015-03-24T18:12:50.000Z","thumbnail":"","content":"<p>あまり実装する機会がないけれど、メモしておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>実装</h2><h3>JavaScript</h3><pre><code class=\"javascript\">document.addEventListener(\n  \"contextmenu\",\n  function (e) {\n    e.preventDefault();\n  },\n  false\n);</code></pre>\n<h3>jQuery</h3><pre><code class=\"javascript\">$(document).on(\"contextmenu\", function () {\n  return false;\n});</code></pre>\n","excerpt":"実装","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[Gmail] 未読のメールのみを表示する方法","path":"20150327104055.html"},"next":{"title":"[CSS] 漫画風のポップな縁取りと影付きの文字","path":"20150321204800.html"}},{"title":"[CSS] 漫画風のポップな縁取りと影付きの文字","path":"20150321204800.html","permalink":"https://b.0218.jp/20150321204800.html","date":"2015-03-21T20:48:00.000Z","updated":"2015-03-21T20:48:00.000Z","thumbnail":"","content":"<p>漫画や雑誌で使われるような縁取りのあるテキストのスタイル。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>実装・サンプル</h2><iframe height=\"400\" scrolling=\"no\" title=\"manga-like pop edging and characters with shadows\" src=\"//codepen.io/hiro0218/embed/BvrYPR/?height=400&amp;theme-id=light&amp;default-tab=result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/BvrYPR/'>manga-like pop edging and characters with shadows</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<pre><code class=\"css\">.manga-text {\n  color: #fff;\n  text-shadow: 1px 1px 0px #000, 1px 2px 0px #000, -1px -1px 0px #000, -1px -1px\n      0px #000, 2px -1px 0px #000, 1px 0px 0px #000, 0px 1px 0px #000, -1px 0px\n      0px #000, 0px -1px 0px #000, 2px 2px 0px #000;\n}</code></pre>\n","excerpt":"実装・サンプル","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[],"prev":{"title":"[JavaScript] 右クリックを抑制する方法","path":"20150324181250.html"},"next":{"title":"[WordPress] フロントページの表示順に更新投稿も含めてソートする方法","path":"20150318022852.html"}},{"title":"[WordPress] フロントページの表示順に更新投稿も含めてソートする方法","path":"20150318022852.html","permalink":"https://b.0218.jp/20150318022852.html","date":"2015-03-18T02:28:52.000Z","updated":"2015-03-18T02:28:52.000Z","thumbnail":"","content":"<p>フロントページの記事の並び順は基本的に最新の投稿順だが、更新された記事も”最新の投稿”としてソートの対象としたい。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>functions.phpに追加するコード</h2>\n<pre class=\"php\"><code>function alter_query_sort( $query ) {\n  if ( $query-&gt;is_main_query()  ) {\n    $query-&gt;set('orderby', 'modified');\n    $query-&gt;set('order', 'desc');\n  }\n}\nadd_action( 'pre_get_posts', 'alter_query_sort' );</code></pre>\n以上のコードを追加して、記事を更新するだけでOK\n","excerpt":"functions.phpに追加するコード","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[CSS] 漫画風のポップな縁取りと影付きの文字","path":"20150321204800.html"},"next":{"title":"JavaScript だけで hasClass をする方法\n","path":"20150309014211.html"}},{"title":"JavaScript だけで hasClass をする方法\n","path":"20150309014211.html","permalink":"https://b.0218.jp/20150309014211.html","date":"2015-03-09T01:42:11.000Z","updated":"2015-03-09T01:42:11.000Z","thumbnail":"","content":"<p>jQuery の<code>hasClass()</code>は非常に便利。だが、これを JavaScript だけで実装したい。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>ぞれぞれの<code>hasClass()</code></h2>\n<h3>jQuery の場合</h3>\njQuery だとこんな感じで、その要素がクラスを持っているか判定する。\n存在する場合は<code>true</code>、存在しない場合は<code>false</code>を返す。 \n<pre class=\"javascript\"><code>$('#example').hasClass('className');</code></pre>\n\n<h3>JavaScript の場合</h3>\n<pre class=\"javascript\"><code>var example = document.getElementById('example');\nexample.classList.contains('className');</code></pre>\njQuery の<code>hasClass</code>同様に<code>true</code>/<code>false</code>が返却される。\n\n<p>また、IE10 以下は使えない模様。</p>\n","excerpt":"ぞれぞれのhasClass()","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[WordPress] フロントページの表示順に更新投稿も含めてソートする方法","path":"20150318022852.html"},"next":{"title":"[名探偵コナン] 原作者・青山剛昌先生が否定した黒幕(あの方)候補 一覧","path":"20150308154223.html"}},{"title":"[名探偵コナン] 原作者・青山剛昌先生が否定した黒幕(あの方)候補 一覧","path":"20150308154223.html","permalink":"https://b.0218.jp/20150308154223.html","date":"2015-03-08T15:42:23.000Z","updated":"2016-02-16T10:08:45.000Z","thumbnail":"","content":"<p>これまで原作者自ら公式ブログやファンへの年賀状、そしてイベントや取材などで、「あの方」ではないかと噂されているキャラクターについて言及される機会が多々あるので分かる範囲で一覧にしてみた。<strong>(※不確かな情報もある)</strong></p>\n<p>随時更新したいと思う。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>前提</h2>\n<ul>\n<li>File 552「トンカチの正体」(53巻)以降に名前が初登場するキャラクター</li>\n</ul>\n\n<h2>否定された候補者</h2>\n\n<p>以下、ネット上からかき集めた情報。</p>\n<ul>\n    <li>江戸川コナン <small>(SDB70＋の質問コーナー)</small></li>\n    <li>工藤新一 <small>(SDB80＋の質問コーナー)</small></li>\n    <li>毛利蘭 <small>(SDB70＋の質問コーナー)</small></li>\n    <li>妃英理 <small>(SDB50＋の質問コーナー)</small></li>\n    <li>阿笠博士 <small>(クラブサンデーの公式ブログ)</small></li>\n    <li>阿笠定子</li>\n    <li>少年探偵団 <small>(年賀状)</small>\n        <ul>\n            <li>吉田歩美</li>\n            <li>円谷光彦</li>\n            <li>小嶋元太</li>\n        </ul>\n    </li>\n    <li>鈴木園子 <small>(年賀状)</small></li>\n    <li>白鳥任三郎 <small>(SDB70＋の質問コーナー)</small></li>\n    <li>工藤優作 <small>『ダ・ヴィンチ』2014年5月号での記事/年賀状</small></li>\n    <li>ジェイムズ・ブラック <small>(年賀状)</small></li>\n    <li>ジン <small>年賀状</small></li>\n    <li>ベルモット <small>(SDB70＋の質問コーナー)</small></li>\n    <li>フサエ・キャンベル・木之下 <small>(名探偵コナン新聞)</small></li>\n    <li>三水吉右衛門 <small>(年賀状)</small></li>\n    <!-- -->\n    <li>ジョディ・スターリング <small>(年賀状)</small></li>\n    <li>アンドレ・キャメル <small>(年賀状)</small></li>\n    <li>鈴木財閥関係者 <small>(年賀状)</small></li>\n    <li>黒羽盗一 <small>(年賀状)</small></li>\n    <li>大黒連太郎 <small>(年賀状)</small></li>\n    <li>烏丸蓮耶 <small>(年賀状での質問時はスルー)</small></li>\n    <li>金城玄一郎 <small>(年賀状)</small></li>\n    <li>エドワード・クロウ <small>(年賀状)</small></li>\n    <li>森敦士 <small>(年賀状)</small></li>\n    <li>目暮十三 <small>(年賀状)</small></li>\n    <li>高木渉 <small>(年賀状)</small></li>\n    <li>佐藤美和子 <small>(年賀状)</small></li>\n    <li>宮本由美 <small>(年賀状)</small></li>\n    <li>三池苗子 <small>(年賀状)</small></li>\n    <li>千葉和伸 <small>(年賀状)</small></li>\n    <li>Mr.正影 <small>(年賀状)</small></li>\n</ul>\n\n<h2>あの方 = ボス</h2>\n<blockquote>「あの方」と「ボス」は同一人物だよ(笑)\n\n<footer>ファン宛の年賀状より</footer></blockquote>\n\n<h2>あの方の正体</h2><p>2017 年 12 月 13 日発売の『週刊少年サンデー』にて、羽田浩司が残したダイイング・メッセージ「PUT ON MASCARA」の意味が「CARASUMA」、つまり烏丸蓮耶だという事が示唆された。<br>（ボスの正体＝烏丸蓮耶と言われたわけではないが）</p>\n","excerpt":"前提 / 否定された候補者 / あの方 = ボス / あの方の正体","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"JavaScript だけで hasClass をする方法\n","path":"20150309014211.html"},"next":{"title":"[ブックマークレット] 動画とか観てるときに誤操作で別のページに飛ばなくする","path":"20150305145616.html"}},{"title":"[ブックマークレット] 動画とか観てるときに誤操作で別のページに飛ばなくする","path":"20150305145616.html","permalink":"https://b.0218.jp/20150305145616.html","date":"2015-03-05T14:56:16.000Z","updated":"2015-03-05T18:48:19.000Z","thumbnail":"","content":"<p>YouTube とか観てる時に誤クリックで他の動画に移動するのが鬱陶しい。<br>あと、ブラウザで文章書いてる時とか死にそうなので、それを防ぐブックマークレット作った。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>使い方</h2>\n<ol>\n  <li>目的のページを開く\n  </li><li>このブックマークレットを起動する\n  </li><li>タブをピン留めする（ブックマークから他のサイトを開かないように）\n</li></ol>\n\n<h2>仕様</h2>\n<ul>\n  <li>HTML5対応のブラウザ必須\n  </li><li>&lt;a&gt;タグを無効化\n  </li><li>ブラウザの戻る・進むを無効化\n  </li><li>文字などを選択していれば解除\n  </li><li>文字などの選択を無効化\n  </li><li>移動時に確認ダイアログを出す<br>→ブックマークからの移動やフォーム送信時</li>\n</ul>\n\n<h2>注意</h2>\n<ul>\n  <li>&lt;a&gt;タグを無効化するので別のページに飛びたい時はリロードする必要がある\n</li></ul>\n\n<h2>ブックマークレット</h2>\n<a href=\"javascript:(function()%7B(function(d%2Cc)%7Bfunction%20f()%7Be%3D!1%3BsetTimeout(function()%7Be%3D!0%7D%2C1E3)%7Dvar%20e%3D!0%3Bd.history%26%26d.history.pushState%26%26(history.pushState(%22hiro%22%2Cnull%2C%22%22)%2Cd.addEventListener(%22popstate%22%2Cfunction()%7Bhistory.pushState(%22hiro%22%2Cnull%2C%22%22)%7D%2C!1))%3Bd.addEventListener(%22beforeunload%22%2Cfunction(a)%7Be%26%26a.preventDefault()%7D%2C!1)%3Bfor(var%20b%3Dc.links%2Ca%3D0%3Ba%3Cb.length%3Ba%2B%2B)b%5Ba%5D.addEventListener(%22click%22%2Cfunction(a)%7Ba.preventDefault()%3Breturn!1%7D)%3Bb%3Dc.getElementsByTagName(%22input%22)%3Bfor(a%3D0%3Ba%3Cb.length%3Ba%2B%2B)b%5Ba%5D.addEventListener(%22keypress%22%2Cfunction(a)%7Ba.preventDefault()%3B%20return!1%7D)%2C%22submit%22!%3Db%5Ba%5D.type%26%26%22button%22!%3Db%5Ba%5D.type%7C%7Cb%5Ba%5D.addEventListener(%22click%22%2Cfunction()%7Bf()%3Breturn!1%7D)%3Bb%3Dc.forms%3Bfor(a%3D0%3Ba%3Cb.length%3Ba%2B%2B)b%5Ba%5D.addEventListener(%22submit%22%2Cfunction()%7Bf()%3Breturn!1%7D)%3Bd.getSelection().removeAllRanges()%3Ba%3Dc.body.style%3Ba.a%3D%22none%22%3Ba.a%3D%22none%22%3Ba.webkitUserSelect%3D%22none%22%3Ba.MozUserSelect%3D%22none%22%3Bc.body.setAttribute(%22unselectable%22%2C%22on%22)%3Bc.getElementById(%22credit%22)%7C%7C(a%3Dc.createElement(%22p%22)%2Ca.id%3D%22credit%22%2Ca.style.textAlign%3D%22center%22%2Ca.innerHTML%3D'%3Chr%3E%3Ca%20href%3D%22%2F%2Fgoo.gl%2FFHjRhk%22%20target%3D%22_blank%22%3Eb.0218.jp%3C%2Fa%3E'%2C%20c.body.appendChild(a))%7D)(window%2Cdocument)%7D)()\" target=\"_self\">動画とか観てるときに別のページに飛ばなくするヤーツ</a>\n","excerpt":"使い方 / 仕様 / 注意 / ブックマークレット","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[名探偵コナン] 原作者・青山剛昌先生が否定した黒幕(あの方)候補 一覧","path":"20150308154223.html"},"next":{"title":"[Chocolatey] 各種コマンド一覧","path":"20150304180038.html"}},{"title":"[Chocolatey] 各種コマンド一覧","path":"20150304180038.html","permalink":"https://b.0218.jp/20150304180038.html","date":"2015-03-04T18:00:38.000Z","updated":"2015-03-04T18:00:38.000Z","thumbnail":"","content":"<p>自分が頻繁に使用するコマンドを抜粋</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>パッケージをインストールする</h2>\n<pre>cinst [パッケージ名]</pre>\n<h2>パッケージをアップデートする</h2>\n<pre>cup [パッケージ名]</pre>\n<h2>パッケージをアンインストールする</h2>\n<pre>cuninst [パッケージ名]</pre>\n<h2>インストール済みのパッケージ一覧を表示する</h2>\n<pre>clist -lo</pre>\n<h2>Chocolatey 本体をアップデートする</h2>\n<pre>cup</pre>\n","excerpt":"パッケージをインストールする / パッケージをアップデートする / パッケージをアンインストールする / インストール済みのパッケージ一覧を表示する / Chocolatey 本体をアップデートする","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[],"prev":{"title":"[ブックマークレット] 動画とか観てるときに誤操作で別のページに飛ばなくする","path":"20150305145616.html"},"next":{"title":"[PHP] var_dump が省略されてしまうときの対処法","path":"20150303180429.html"}},{"title":"[PHP] var_dump が省略されてしまうときの対処法","path":"20150303180429.html","permalink":"https://b.0218.jp/20150303180429.html","date":"2015-03-03T18:04:29.000Z","updated":"2015-04-25T01:05:37.000Z","thumbnail":"","content":"<p><code>var_dump</code>での出力内容があまりにも長い結果の場合、省略されてしまう。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>対処法</h2>\n<b>.htaccess</b>や<b>php.ini</b>などに記述する方法があるが、そもそもソースにデバッグとして<code>var_dump</code>を書いているのなら、一緒に書いてしまった方がのちのち色々と問題には繋がらないと思う。\n<pre class=\"php\"><code>\nini_set('xdebug.var_display_max_children', -1);\nini_set('xdebug.var_display_max_data', -1);\nini_set('xdebug.var_display_max_depth', -1);</code></pre>\n","excerpt":"対処法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[Chocolatey] 各種コマンド一覧","path":"20150304180038.html"},"next":{"title":"[ブックマークレット] 選択したテキストの引用タグ&lt;blockquote&gt;を生成する","path":"20150302151507.html"}},{"title":"[ブックマークレット] 選択したテキストの引用タグ&lt;blockquote&gt;を生成する","path":"20150302151507.html","permalink":"https://b.0218.jp/20150302151507.html","date":"2015-03-02T15:15:07.000Z","updated":"2015-03-05T11:05:03.000Z","thumbnail":"","content":"<p>自分用に使いやすいように作ったブックマークレット。<br>痒いところに手が届いて自由度のあるものを目指した。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>仕様</h2>\n<ul>\n <li>テキストを選択し、ブックマークレットを起動するとページ上部にコピペ用のタグが生成される(テキストエリアに入力されている)\n </li><li>コピペ用のタグには「選択テキスト」と「引用ページのタイトルとURI」が盛り込まれる\n </li><li>作成直後はテキストエリア内のテキストを選択した状態\n </li><li>テキストを選択していない場合は生成されない\n </li><li>取得するテキストやページタイトルの文字は出来るだけHTMLエンティティに変換する\n</li></ul>\n\n<h2>ブックマークレット</h2>\n<a href=\"javascript:(function()%7B!function(e)%7Bfunction%20t(e)%7Breturn(e%2B%22%22).replace(%2F%26%2Fg%2C%22%26amp%3B%22).replace(%2F%3C%2Fg%2C%22%26lt%3B%22).replace(%2F%3E%2Fg%2C%22%26gt%3B%22).replace(%2F%22%2Fg%2C%22%26quot%3B%22)%7Dvar%20r%2Co%2Cn%3D%22%22%2Bt(window.getSelection())%3Bn%26%26(e.body.insertBefore(r%3De.createElement(%22textarea%22)%2Ce.body.firstChild)%2Cr.value%3D%22%3Cblockquote%3E%5Cn%22%2Bn%2B'%5Cn%3Cfooter%3E%3Ca%20href%3D%22'%2Blocation.href%2B'%22target%3D%22_blank%22%3E'%2Bt(e.title)%2B%22%3C%2Fa%3E%3C%2Ffooter%3E%5Cn%3C%2Fblockquote%3E%22%2Cr.style.width%3D%22100%25%22%2Cr.style.resize%3D%22vertical%22%2Cr.focus()%2Cr.select())%2Ce.getElementById(%22credit%22)%7C%7C(o%3De.createElement(%22p%22)%2Co.id%3D%22credit%22%2Co.style.textAlign%3D%22center%22%2Co.innerHTML%3D'%3Chr%3E%3Ca%20href%3D%22%2F%2Fgoo.gl%2FFHjRhk%22%20target%3D%22_blank%22%3Eb.0218.jp%3C%2Fa%3E'%2Ce.body.appendChild(o))%7D(document)%7D)()\" target=\"_self\">選択したテキストを引用するブックマーク</a>\n","excerpt":"仕様 / ブックマークレット","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[PHP] var_dump が省略されてしまうときの対処法","path":"20150303180429.html"},"next":{"title":"[FuelPHP] SELECT ～ FOR UPDATE で行ロックする","path":"20150302112633.html"}},{"title":"[FuelPHP] SELECT ～ FOR UPDATE で行ロックする","path":"20150302112633.html","permalink":"https://b.0218.jp/20150302112633.html","date":"2015-03-02T11:26:33.000Z","updated":"2015-03-02T11:26:33.000Z","thumbnail":"","content":"<p>いわゆる排他ロック</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n<pre class=\"php\"><code>\\DB::query('SELECT * FROM table WHERE id = 1 FOR UPDATE')-&gt;execute()-&gt;current();</code></pre>\n","excerpt":"方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"},{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[ブックマークレット] 選択したテキストの引用タグ&lt;blockquote&gt;を生成する","path":"20150302151507.html"},"next":{"title":"CSSのみでアコーディオンメニューを実装する方法\n","path":"20150301010529.html"}},{"title":"CSSのみでアコーディオンメニューを実装する方法\n","path":"20150301010529.html","permalink":"https://b.0218.jp/20150301010529.html","date":"2015-03-01T01:05:29.000Z","updated":"2018-08-25T00:58:17.000Z","thumbnail":"","content":"<p>Q&amp;A 表のように「質問部分をクリックすると答えを表示する」ような動作を JavaScript は使用せず実装する。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>デモ</h2><iframe height=\"400\" scrolling=\"no\" title=\"accordion menu\" src=\"//codepen.io/hiro0218/embed/JaYqzM/?height=408&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/JaYqzM/'>accordion menu</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<h2>実装方法</h2><p>必要な実装は以下の通り。</p>\n<pre><code class=\"html\">&lt;div class=\"collapse\"&gt;\n  &lt;input\n    class=\"collapse_control\"\n    id=\"collapse_head1\"\n    type=\"checkbox\"\n    hidden=\"\"\n  /&gt;\n  &lt;label class=\"collapse_head\" for=\"collapse_head1\"&gt;Question&lt;/label&gt;\n  &lt;div class=\"collapse_body\"&gt;\n    &lt;div class=\"inner\"&gt;Answer&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;</code></pre>\n<pre><code class=\"css\">.collapse_body {\n  max-height: 0;\n  overflow: hidden;\n  transition: max-height 0.3s ease-in-out;\n}\n\n.collapse_control:checked ~ .collapse_body {\n  max-height: 100vh;\n}</code></pre>\n<p>予め<code>.collapse_body</code>は非表示にしておき、包括したチェックボックスの on/off をトリガーにして兄弟の<code>.collapse_body</code>を表示/非表示させている。</p>\n","excerpt":"デモ / 実装方法","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[],"prev":{"title":"[FuelPHP] SELECT ～ FOR UPDATE で行ロックする","path":"20150302112633.html"},"next":{"title":"[CSS] scroll-behavior: smooth; が有効にならない時の対処法","path":"20150227140203.html"}},{"title":"[CSS] scroll-behavior: smooth; が有効にならない時の対処法","path":"20150227140203.html","permalink":"https://b.0218.jp/20150227140203.html","date":"2015-02-27T14:02:03.000Z","updated":"2015-02-28T23:12:37.000Z","thumbnail":"","content":"<p>CSS だけでスムーズスクロールが実現できるという<code>scroll-behavior: smooth;</code>が Firefox 36 で正式サポートされたので色々と動作を確認していた。色々と試してみるとスムーズスクロールが効かないパターンがあったので確認すべきところをメモしておく。</p>\n\n<h2>実装方法</h2>\n<p><code>scroll-behavior</code>は以下のように指定する。(<code>auto</code>が初期値)</p>\n```css\nbody {\n  scroll-behavior: smooth;\n}\n```\n<p>上記のscroll-behavior を指定した上で、従来通りアンカーを書くだけでJavaScriptなどを使わずスムーズスクロールすることができる。</p>\n\n<pre><code class=\"html\">&lt;a href=\"#scroll-position\"&gt;scroll-position&lt;/a&gt;\n\n&lt;h2&gt;scroll-position&lt;/h2&gt;</code></pre>\n<h2>スムーズスクロールが動作しない場合</h2>\n<h3>CSSを確認する</h3>\n<p><code>body</code>に以下のような指定のいずれかがされている場合、スムーズスクロールが動作しない。</p>\n\n<pre><code class=\"css\">overflow: hidden;\noverflow-x: hidden;\noverflow-y: hidden;</code></pre>\n","excerpt":"実装方法 / スムーズスクロールが動作しない場合","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"CSSのみでアコーディオンメニューを実装する方法\n","path":"20150301010529.html"},"next":{"title":"[iTunes] 再生回数を手動で書き換える方法","path":"20150223162831.html"}},{"title":"[iTunes] 再生回数を手動で書き換える方法","path":"20150223162831.html","permalink":"https://b.0218.jp/20150223162831.html","date":"2015-02-23T16:28:31.000Z","updated":"2015-02-23T16:28:31.000Z","thumbnail":"","content":"<p>ソフトを使わずに、Mac でも Windows でも同じ方法で。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>iTunes ライブラリの場所を確認する</h2>\nデフォルトでは以下のパスに[iTunes]のディレクトりが存在する。\n<table>\n<tbody><tr><th>Mac OS X</th><td>/Users/[ユーザ名]/Music</td></tr>\n<tr><th>Windows 7/8.1</th><td>C:\\Users\\[ユーザ名]\\Music</td></tr>\n</tbody></table>\n<span class=\"text-muted\">(※OSの環境によっては文字列がカタカナになっている場合もある)</span>\n\n<p>iTunes のディレクトリに今回編集するファイルがある。</p>\n<h2>iTunes Library.xml を編集する</h2>\n前述のパスに iTunes Library.xml がある。\n\n<p>例えば、Windows なら以下のようなパス。</p>\n<pre>C:\\Users\\[ユーザ名]\\Music\\iTunes\\iTunes Music Library.xml</pre>\n\n<h3>再生回数を書き換える</h3>\niTunes Library.xml には以下のような記述がある。(一部抜粋)\n<pre class=\"xml\"><code>&lt;dict&gt;\n  &lt;key&gt;173&lt;/key&gt;\n  &lt;dict&gt;\n    &lt;key&gt;Track ID&lt;/key&gt;&lt;integer&gt;173&lt;/integer&gt;\n    &lt;key&gt;Name&lt;/key&gt;&lt;string&gt;メーメーメーがやってきた&lt;/string&gt;\n    &lt;key&gt;Kind&lt;/key&gt;&lt;string&gt;MPEG オーディオファイル&lt;/string&gt;\n    &lt;key&gt;Size&lt;/key&gt;&lt;integer&gt;1544811&lt;/integer&gt;\n    &lt;key&gt;Total Time&lt;/key&gt;&lt;integer&gt;96522&lt;/integer&gt;\n    &lt;key&gt;Date Modified&lt;/key&gt;&lt;date&gt;2015-01-23T03:25:17Z&lt;/date&gt;\n    &lt;key&gt;Date Added&lt;/key&gt;&lt;date&gt;2015-02-23T06:15:36Z&lt;/date&gt;\n    <b>&lt;key&gt;Play Count&lt;/key&gt;&lt;integer&gt;<span class=\"text-danger\">1</span>&lt;/integer&gt;</b>\n    &lt;key&gt;Play Date&lt;/key&gt;&lt;integer&gt;3507549241&lt;/integer&gt;\n    &lt;key&gt;Play Date UTC&lt;/key&gt;&lt;date&gt;2015-02-23T06:14:01Z&lt;/date&gt;\n    &lt;key&gt;Track Type&lt;/key&gt;&lt;string&gt;File&lt;/string&gt;\n  &lt;/dict&gt;\n&lt;/dict&gt;</code></pre>\n\n<p>上記の&lt;integer&gt;に囲まれた数値が今の再生回数なので、</p>\n<pre><code>&lt;key&gt;Play Count&lt;/key&gt;&lt;integer&gt;<b>1</b>&lt;/integer&gt;</code></pre>\n\n<p>これを任意の数値に書き換える。</p>\n<p><code>&lt;key&gt;Name&lt;/key&gt;</code>や<code>&lt;key&gt;Location&lt;/key&gt;</code>を確認して、<u>再生回数を変えたい曲の箇所</u>を見つけておくこと。</p>\n<h2>iTunes Library.xml を退避しておく</h2>\niTunes 起動時に上書きされないように別名にリネームしておく。(場所を変えてもOK)\n\n<h2>iTunes Library.itl を削除する</h2>\n以下のファイルがあれば削除。\n<ul>\n <li>iTunes Library.itl</li>\n <li>iTunes Music Library.xml<br><span class=\"text-muted\">(リネームしているはずなので存在しないはず)</span></li>\n</ul>\nライブラリを再作成するために iTunes Library.itl を削除する。\n\n<h2>iTunes を起動する</h2>\n以下の手順でリネームして退避しておいた<b>iTunes Music Library</b>を選択してインポートする\n<pre>[ファイル] -&gt; [ライブラリ] -&gt; [プレイリストを読み込み] (Windows は [プレイリストをインポート])</pre>\n\n<p>編集した曲の再生回数が変わっていれば成功。</p>\n<p>ただし、<strong>追加日がインポートした時間になる</strong>ので注意。</p>\n","excerpt":"iTunes ライブラリの場所を確認する / iTunes Library.xml を編集する / iTunes Library.xml を退避しておく / iTunes Library.itl を削除する / iTunes を起動する","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"iTunes","slug":"iTunes","path":"tags/iTunes/"}],"prev":{"title":"[CSS] scroll-behavior: smooth; が有効にならない時の対処法","path":"20150227140203.html"},"next":{"title":"[WordPress] script要素にdefer/asyncを付与する方法","path":"20150219155120.html"}},{"title":"[WordPress] script要素にdefer/asyncを付与する方法","path":"20150219155120.html","permalink":"https://b.0218.jp/20150219155120.html","date":"2015-02-19T15:51:20.000Z","updated":"2015-11-10T14:47:41.000Z","thumbnail":"","content":"<p><code>functions.php</code>にコードを追加して<code><script></code>タグに<code>defer/async</code>属性を付与する。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2><code>defer/async</code>とは</h2>\n<h3><code>async</code>属性</h3>\nダウンロード完了直後、レンダリングとスクリプトを平行して実行する。\n\n<h3><code>defer</code>属性</h3>\nページの解析後、レンダリングとスクリプトを平行して実行する。\nただし、スクリプトはレンダリング完了後に実行する。\n\n<h3>注意</h3>\n実行順序が保障されなくなるため、ライブラリなどに<code>async・defer</code>は指定しない方がよい。\nまた、<code>document.write()</code>などのレンダリング関連の処理があると使えない。\n\n<hr>\n\n<h2>functions.php に追加するコード</h2>\n<h3>clean_url</h3>\n<pre class=\"php\"><code>function add_attr_for_script($url) &#123;\n  return ( strpos($url, '.js' ) === false ) ? $url : $url .\"' defer='defer' async='async\";\n&#125;\nadd_filter('clean_url', 'add_attr_for_script', 11, 1);</code></pre>\n\n<p>一括で付与するので用法を守って正しくお使いください。</p>\n<hr>\nライブラリを読み込んでる場合はこういう条件も入れた方がいいかも\n<pre class=\"php\"><code>if ( strstr($url, 'jquery') !== false ) &#123;&#125;</code></pre>\n\n<hr>\n\n<h3>script_loader_tag</h3>\n大抵の場合、以下の様な形でスクリプトを出力用のキューに入れて出力していると思う。\n<pre class=\"php\"><code>wp_enqueue_script('js', get_template_directory_uri(). \"hoge.js\", [], null, true);</code></pre>\nここでは、スクリプトのハンドル名を指定を「js」としているが任意で付けて良い。この名称を後述の処理で使用する。\n\n<pre class=\"php\"><code>function add_async_to_script( $tag, $handle ) &#123;\n     if ( 'js' !== $handle ) &#123; // wp_enqueue_scriptに指定したハンドル名'js'\n          return $tag;\n     &#125;\n     return str_replace( ' src', ' async=\"async\" src', $tag );\n&#125;\nadd_filter( 'script_loader_tag', 'add_async_to_script', 10, 2 );</code></pre>\n\n<p><code>if</code>の条件は<code>!==</code>でも<code>===</code>でもどちらでも良いが、やっている事は<code>clean_url</code>と大差ない。</p>\n</script></code></p>","excerpt":"","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[iTunes] 再生回数を手動で書き換える方法","path":"20150223162831.html"},"next":{"title":"引越し比較サイトは必要かどうか\n","path":"20150218013054.html"}},{"title":"引越し比較サイトは必要かどうか\n","path":"20150218013054.html","permalink":"https://b.0218.jp/20150218013054.html","date":"2015-02-18T01:30:54.000Z","updated":"2015-02-18T01:30:54.000Z","thumbnail":"","content":"<p>引っ越しに際して、噂の引っ越し比較サイト「引越し侍」を使ったので覚書。</p>\n\n<div class=\"more js-separate\"></div>\n\n<p>この手のサイトは向き不向きがあると思う。良し悪しと言うよりは、どういう点が良かったか・悪かったかを書いておく。</p>\n\n<h2>入力フォームが1つで済む</h2>\n<p>沢山見積もりをする場合、5社なら5サイトの入力フォームに入力しなければならない。それが比較サイトの1つで済む。 <br>\nもちろんだが、個々の会社でフォームが全く違う。記入情報の方向性は同じなのだが、書き足さなければならなかったり、逆に入力できない場合もある。また、入力フォーマット（全角・半角／ひらがな・カタカナなど）が微妙に違ったりするとかなり大変なのが、1つで済むのは利点である。</p>\n\n<h2>業者によって初期対応が異なる</h2>\n<p>登録後、比較サイトやエントリーされた業者からメールが届く。</p>\n\n<p>当然と言えば当然なのだが、ここから業者によって対応が違う。電話をたくさん掛けてくる業者もあれば、客からのレスポンス待ちの業者もある。</p>\n\n<p>複数業者に自動的に一括登録されても、業者間で初期対応が違うと取りまとめるのが大変ではあった。</p>\n\n<h2>訪問見積り</h2>\n<p>運び出す荷物でガラステーブルなど「どう運ぶのか」「<span class=\"text-muted\">（手持ちのそれは）</span>運べるのか」を直で見て確認して欲しかったので訪問見積り希望だった。</p>\n\n<p>この場合だと、訪問見積りをしてもらうように連絡をする必要があった。 <br>\nそれなら初めから各業者に問い合わせた方が早かった。</p>\n\n<p>そもそも、訪問見積もりを希望しているなら引越し比較サイトから登録するべきではないのかもしれないが…</p>\n\n<h2>特定の業者を絞っている場合</h2>\n<p>最近引っ越しをした人の情報から業者を絞っていた。ただ、「比較サイトから登録した方が楽」と「ものは試し」という理由から比較サイトを利用してみたのだが、結果的には業者のサイトから直接登録をした方が良かった。業者によって初期対応が違うので結局連絡をこちらから入れたりと比較サイトを利用しないとのさほど変わらなかったようにも思える。 <br>\nまた篩から落ちた業者へお断りの連絡をするのも手間である。(業者もそういう客には慣れているだろうし、無視してもOKだとは思うが社会人としてきちんと連絡はしよう)</p>\n\n<h2>〆</h2>\n<p>急ぎの引っ越しではなくて、色々な業者と比較して吟味したい場合は、比較サイトから一括で登録した方が楽かもしれない。</p>\n\n<p>結果的にわかったのだが、比較サイトは私には必要なかったのではないかと思う。 <br>\n私のようにある程度、業者を絞っているのであれば、個々の業者に直接連絡を入れるのがベストだと思う。</p>\n","excerpt":"入力フォームが1つで済む / 業者によって初期対応が異なる / 訪問見積り / 特定の業者を絞っている場合 / 〆","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"レビュー","slug":"レビュー","path":"tags/%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC/"}],"prev":{"title":"[WordPress] script要素にdefer/asyncを付与する方法","path":"20150219155120.html"},"next":{"title":"[FuelPHP] Insert 時に最大値(max)＋１をして、その数値を取得する方法","path":"20150216142405.html"}},{"title":"[FuelPHP] Insert 時に最大値(max)＋１をして、その数値を取得する方法","path":"20150216142405.html","permalink":"https://b.0218.jp/20150216142405.html","date":"2015-02-16T14:24:05.000Z","updated":"2015-02-16T14:24:05.000Z","thumbnail":"","content":"<p>FuelPHP でインサート処理をする際に、そのテーブル内の Max+1 な ID を取得する事案があったので。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>仕様</h2>\n以下のようなテーブルがあった場合に\n```bash\n+--------+----------+------------+\n| col_id | col_name | date       |\n+--------+----------+------------+\n| 1      | test     | 1969-01-29 |\n+--------+----------+------------+\n```\n\n<p><code>id</code>は「最大値＋ 1 (max+1)」の値をもってインサート処理<br>新しく取得した<code>id</code>は別の処理で使う</p>\n<h2>余談</h2>\n<h3>通常のSQLの場合のMax+1のID取得方法</h3>\n「<a href=\"https://b.0218.jp/20121112133354.html\">連番をINSERTと同時に挿入する方法</a>」で以前書いた通り、\n\n<pre><code class=\"sql\">INSERT INTO テーブル名( 連番を入れるカラム, EXAMPLE_ID, EXAMPLE_NAME )\nSELECT COALESCE(MAX(連番を入れるカラム)+1,1), ?, ?\nFROM テーブル名;</code></pre>\n<p>こんな感じでいける。</p>\n<h3>FuelPHP Insert()の戻り値について</h3>\nドキュメントに以下のようなInsetの場合に「インサートされたIDのリストと、インサートされた レコード数を含む配列が返却される」とある。\n```php\nlist($insert_id, $rows_affected) = DB::insert('users')-&gt;set(array(\n    'name' =&gt; 'John Random',\n    'email' =&gt; 'john@example.com',\n    'password' =&gt; 's0_s3cr3t',\n))-&gt;execute();\n```\nただし、この戻り値の「インサートされたID」は<code>AUTO_INCREMENT</code>の話なので、そうでない場合は意味をなさない。\n\n<h2>方法</h2>\n綺麗な方法とは言えないが、とりあえずは以下のようなコードで最新の<code>id</code>をインサートしつつ取得できる。\n<span class=\"text-muted\">(もう少し綺麗な方法が見つかれば追記したい)</span>\n\n<pre><code class=\"php\">public static function insert_col(){\n  $record_no = 0;\n  \\DB::insert('TABLE')\n     -&gt;columns(array(\n          'col_no',\n          'col_name',\n          'col_date',\n     ))\n     -&gt;values(array(\n          $record_no = \\DB::select(\\DB::expr('COALESCE(MAX(col_no)+ 1, 1) as max_plus'))-&gt;from('TABLE')-&gt;execute()-&gt;current()['max_plus'],\n          'test',\n          '2015-01-29',\n     ))\n     -&gt;execute();\n\n  return $record_no;\n}</code></pre>\n","excerpt":"仕様 / 余談 / 方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"引越し比較サイトは必要かどうか\n","path":"20150218013054.html"},"next":{"title":"Bootstrapっぽさをなくす3つの方法\n","path":"20150207190150.html"}},{"title":"Bootstrapっぽさをなくす3つの方法\n","path":"20150207190150.html","permalink":"https://b.0218.jp/20150207190150.html","date":"2015-02-07T19:01:50.000Z","updated":"2015-10-08T14:28:19.000Z","thumbnail":"","content":"<p>個人的なメモも兼ねて、「Bootsrap 臭」を消す方法を。</p>\n<p class=\"c-alert\">以下の内容は、Bootstrap3を元に書いたものであり、それ以降のバージョンとは内容が異なる可能性があります。\nまた、Bootstrap4ではLESSからSCSSへの以降も決定しているため、少し齟齬が生じる箇所もありますが、あくまで方向性の参考にして頂ければと思います。\n</p>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>前置き</h2>\n手軽に使えることで普及した感じのある「<b><a href=\"http://getbootstrap.com/\">Bootstrap</a></b>」だけれど、ここ最近は「Bootstrap臭」という言葉とともに『似たようなサイトになる』など disりが散見される。\n\n<p>個人的に Bootstrap は、 Framework であって単に HTML テンプレートではないと思っている。<br>そのまま使ったら、どれも『似たようなサイト』になるので、カスタマイズして使って欲しい。<br>また、公式の <a href=\"http://expo.getbootstrap.com/\">Bootstrap Expo</a> にも目を通しておくと、色々とインスピレーションが生まれてくると思う。</p>\n<p>カスタマイズが面倒な人には、以下をお勧めする。</p>\n<ul>\n<li><a href=\"https://wrapbootstrap.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">WrapBootstrap</a></li>\n<li><a href=\"http://startbootstrap.com/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Start Bootstrap</a></li>\n</ul>\n<p>他にも Bootstrap ベースのフレームワークも数多く存在するので、用途に応じて使い分けると良い。</p>\n<p>自分色を出さなくて良いなら、これらのテンプレートを使うのが手っ取り早いと思う。</p>\n<h2>方法</h2>\nBootstrap をビルドする方法は色々とあると思うけれど、公式サイトの「<a href=\"http://getbootstrap.com/customize/\">Customize and download</a>」を使えばスーパー初心者でも難しいことを考えなくてもできるので、おすすめしておく。<span class=\"text-muted\">(とりあえず)</span>\nそこから徐々に、「<b><a href=\"http://lesscss.org/\">Less</a></b> (CSS拡張メタ言語)」や「<b><a href=\"http://gruntjs.com/\">Grunt</a></b> (タスクランナー)」に興味を持っていけばいいと思う。使っていくうちに自然とこの辺もカバーできるのではないか。\n\n<p>簡単に解説する。</p>\n<h3>フォントを変更する</h3>\n海外製の Bootstrap は、日本語に最適化されていないので、日本語環境に合わせた<code>font-family</code>を指定する必要がある。\n\n<p><code>@font-family-sans-serif</code>を見てみると<code>font-family</code>は以下のフォントが設定されている。</p>\n<pre class=\"css\"><code>\"Helvetica Neue\", Helvetica, Arial, sans-serif</code></pre>\n\n<p>詳しい解説は割愛するが、Windows 8.1 と OS X Mavericks には「游ゴシック」が標準搭載されているので、日本語フォントにはそれを優先的に指定するといいだろう。</p>\n<p>例としては、以下のような感じで指定する。</p>\n<pre class=\"css\"><code>\"Helvetica Neue\", Helvetica, Arial, \"游ゴシック体\", \"Yu Gothic\", YuGothic, \"Hiragino Kaku Gothic ProN\", Meiryo, sans-serif</code></pre>\n\n<p>英字フォントに関しては「<a href=\"https://www.google.com/fonts\">Google Fonts</a>」を採用してもいいと思う。”Open Sans”など色々とあるので、日本語のフォントのウェイトに合うものを指定するといい感じになる。</p>\n<iframe height=\"370\" scrolling=\"no\" title=\"show Bootstrap design better - font\" src=\"//codepen.io/hiro0218/embed/vzgOwG/?height=370&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/vzgOwG/'>show Bootstrap design better - font</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<hr>\n\n<p>また、<code>line-height</code>もそれに合わせるといい。</p>\n<h3>角丸を変更する</h3><iframe height=\"382\" scrolling=\"no\" title=\"show Bootstrap design better - border-radius\" src=\"//codepen.io/hiro0218/embed/yxgOyb/?height=382&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/yxgOyb/'>show Bootstrap design better - border-radius</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<p>Bootstrap では、標準で input 要素や各コンポーネントなどで角丸が使用されている。この角丸の指定を少し変えるだけでも印象が違ってくる。</p>\n<p>初期値は以下のような設定である。</p>\n<pre><code class=\"scss\">$border-radius: 0.25rem !default;\n$border-radius-lg: 0.3rem !default;\n$border-radius-sm: 0.2rem !default;</code></pre>\n<hr>\n<p>「<a href=\"http://www.google.com/design/spec/material-design/introduction.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Material Design</a>」を参考にしてみる。</p>\n<p>Material Design では角丸はやや控えめになっている。<br><a href=\"https://material.io/design/components/buttons.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Material Design Lite</a>を見てみるとボタンの<code>border-radius</code>は<code>2px</code>\b のようだ。</p>\n<p>Bootstrap は最小でも<code>0.2rem</code>になっているので（以前のバージョンはもう少し大きい）、Material Design Lite を参考に<code>2px</code>と同等の<code>0.125rem</code>を当ててもよさそう。</p>\n<h3>色を変更する</h3>\n\n<p>Bootstrap の初期の色は、誰もが Bootstrap だと知っている「Bootstrap 感」のある色である。</p>\n<p>色に関して、初期値は以下のような指定がされている。</p>\n<pre class=\"less\"><code>@gray-base: #000;\n@brand-primary: darken(#428bca, 6.5%); // #337ab7\n@brand-success: #5cb85c;\n@brand-info: #5bc0de;\n@brand-warning: #f0ad4e;\n@brand-danger: #d9534f;</code></pre>\n\n<p>class 名と対応してるので、どこに反映されるかは各自で確認して欲しい。</p>\n<hr>\n\n<p>色の指定は悩みどころではあるが、配色に自信のない人は以下のサイトから色を決めるのが良いと思う。</p>\n<ul>\n <li><a href=\"http://hue360.herokuapp.com/\">HUE/360</a></li>\n <li><a href=\"http://flatuicolors.com/\">Flat UI Colors</a></li>\n</ul>\nMaterial Design の<a href=\"http://www.google.com/design/spec/style/color.html#color-color-palette\">カラースタイル</a>を参考にするのも良いかもしれない。\n\n<p>初期の色とは全く違うテーマカラーを決めて設定すると「Bootstrap 感」は一掃できると思う。</p>\n<hr>\n\n<iframe height=\"270\" scrolling=\"no\" title=\"show Bootstrap design better - color\" src=\"//codepen.io/hiro0218/embed/rZjeaY/?height=270&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/rZjeaY/'>show Bootstrap design better - color</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<h2>おわり</h2>\n以上は、非デザイナーの戯言なので本職の方は振り上げた拳を下ろして頂ければ幸いです。\n","excerpt":"前置き / 方法 / おわり","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Bootstrap","slug":"Bootstrap","path":"tags/Bootstrap/"}],"prev":{"title":"[FuelPHP] Insert 時に最大値(max)＋１をして、その数値を取得する方法","path":"20150216142405.html"},"next":{"title":"[FuelPHP] ファイルを削除する方法","path":"20150207163329.html"}},{"title":"[FuelPHP] ファイルを削除する方法","path":"20150207163329.html","permalink":"https://b.0218.jp/20150207163329.html","date":"2015-02-07T16:33:29.000Z","updated":"2015-02-07T16:33:29.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n\n<pre><code class=\"php\">public static function delete_file($path){\n  try {\n    $exists = \\File::exists($path);  // ファイルの存在確認\n\n    // 存在する\n    if( $exists == true ) {\n      \\File::delete($path);  // ファイルを削除\n    }\n\n  } catch(Exception \\$e) {\n  }\n}</code></pre>\n<p><code>File::exists()</code>で存在確認してから、<code>File::delete()</code>で削除すると無駄に<code>Exception</code>が発生せずに良いと思う。</p>\n","excerpt":"方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"Bootstrapっぽさをなくす3つの方法\n","path":"20150207190150.html"},"next":{"title":"[FuelPHP] クエリビルダを使ってランダム（RAND()）に取得する","path":"20150207162423.html"}},{"title":"[FuelPHP] クエリビルダを使ってランダム（RAND()）に取得する","path":"20150207162423.html","permalink":"https://b.0218.jp/20150207162423.html","date":"2015-02-07T16:24:23.000Z","updated":"2015-02-07T16:24:23.000Z","thumbnail":"","content":"<p><code>RAND()</code>を使うときに少し引っ掛かったのでメモ。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n<h3>MYSQL の場合</h3>\nSELECT文で<code>RAND()</code>\n\n<pre><code class=\"sql\">SELECT\n  col_name\nFROM\n  table_name\nORDER BY RAND()\nLIMIT 4;</code></pre>\n<h3>FuelPHP のクエリビルダの場合</h3>\n\n<pre><code class=\"php\">DB::select('col_name')\n    -&gt;from('table_name')\n    -&gt;limit(4)\n    -&gt;order_by( DB::expr('RAND()') )\n    -&gt;execute();</code></pre>\n<p>ORDER BY 句に<code>RAND()</code>を指定するのだが、関数を使うことになるので単純な「ソート条件(‘id’, ‘desc’)」を与えてもダメ。<br><code>DB::expr()</code>を使う必要がある。</p>\n","excerpt":"方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[FuelPHP] ファイルを削除する方法","path":"20150207163329.html"},"next":{"title":"[FuelPHP] 外部のRSSフィードを取得する方法","path":"20150206182644.html"}},{"title":"[FuelPHP] 外部のRSSフィードを取得する方法","path":"20150206182644.html","permalink":"https://b.0218.jp/20150206182644.html","date":"2015-02-06T18:26:44.000Z","updated":"2015-02-06T18:26:44.000Z","thumbnail":"","content":"<p>別のアプリからブログの更新情報を取得する事案があった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n<h3>コード</h3>\n\n<pre><code class=\"php\">public static function get_feed_data() {\n  $feed = file_get_contents('https://b.0218.jp/feed/');\n  $data = Format::forge($feed, 'xml')-&gt;to_array();\n\nreturn \\$data['channel'];\n}</code></pre>\n<p><code>file_get_contents</code>で<code>@attributes</code>も取れるけど、今回の場合必要なかったのでポイした。</p>\n<h3>結果</h3>\n一応、こんな感じの配列が取れる。\n<pre><b>Variable #1:</b>\n (Array, 6 elements) ↵\n    <b>title</b> (String): \"零弐壱蜂\" (12 characters)\n    <b>link</b> (String): \"https://b.0218.jp\" (16 characters)\n    <b>description</b> (String): \"IT技術からアニメまで様々な情報をストックするサイバーメモ帳(備忘録)です。\" (106 characters)\n    <b>lastBuildDate</b> (String): \"Thu, 05 Feb 2015 07:57:34 +0000\" (31 characters)\n    <b>language</b> (String): \"ja\" (2 characters)\n    <b>item</b> (Array, 20 elements) ↵\n        <b>0</b> (Array, 7 elements) ↵\n            <b>title</b> (String): \"[JavaScript] クロージャでグローバル変数にならないようにする\" (82 characters)\n            <b>link</b> (String): \"https://b.0218.jp/20150205165734.html\" (36 characters)\n            <b>comments</b> (String): \"https://b.0218.jp/20150205165734.html#comments\" (45 characters)\n            <b>pubDate</b> (String): \"Thu, 05 Feb 2015 07:57:34 +0000\" (31 characters)\n            <b>category</b> (Array, 2 elements) ↵\n            <b>guid</b> (String): \"https://b.0218.jp/?p=1679\" (24 characters)\n            <b>description</b> (String): \"JavaScript 書くときによく使うやつ クロージャ こんな感じでコード全体を囲ってた...\" (112 characters)\n        <b>1</b> (Array, 7 elements) ↵\n        <b>2</b> (Array, 7 elements) ↵\n        <b>3</b> (Array, 7 elements) ↵\n        <b>4</b> (Array, 7 elements) ↵\n        <b>5</b> (Array, 7 elements) ↵\n        <b>6</b> (Array, 7 elements) ↵\n        <b>7</b> (Array, 7 elements) ↵\n        <b>8</b> (Array, 7 elements) ↵\n        <b>9</b> (Array, 7 elements) ↵\n        <b>10</b> (Array, 7 elements) ↵\n        <b>11</b> (Array, 7 elements) ↵\n        <b>12</b> (Array, 7 elements) ↵\n        <b>13</b> (Array, 7 elements) ↵\n        <b>14</b> (Array, 7 elements) ↵\n        <b>15</b> (Array, 7 elements) ↵\n        <b>16</b> (Array, 7 elements) ↵\n        <b>17</b> (Array, 7 elements) ↵\n        <b>18</b> (Array, 7 elements) ↵\n        <b>19</b> (Array, 7 elements) ↵</pre>\n","excerpt":"方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[FuelPHP] クエリビルダを使ってランダム（RAND()）に取得する","path":"20150207162423.html"},"next":{"title":"[JavaScript] クロージャでグローバル変数にならないようにする","path":"20150205165734.html"}},{"title":"[JavaScript] クロージャでグローバル変数にならないようにする","path":"20150205165734.html","permalink":"https://b.0218.jp/20150205165734.html","date":"2015-02-05T16:57:34.000Z","updated":"2015-02-28T22:30:19.000Z","thumbnail":"","content":"<p>JavaScript 書くときによく使うやつ</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>クロージャ</h2>\nこんな感じでコード全体を囲ってたりする。\n\n<pre class=\"javascript\"><code>(function() {\n     var frog = 'カエル';\n})();</code></pre>\n\n<p>全体を囲うことで、その中がローカルスコープになるのでグローバル汚染しない… とかそういう意味合いがあったと思う。<br><code>var</code>しないで変数を宣言すると、グローバル変数になってしまうらしい。</p>\n<h2>その他</h2>\n「グローバル汚染をさせない」という意味では、グローバルな名前空間オブジェクトを作って、それを使うみたいな方法もある。<span class=\"text-muted\">(個人的に馴染みがあまりなくて勉強不足なので今度勉強しようと思う)</span>\n","excerpt":"クロージャ / その他","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[FuelPHP] 外部のRSSフィードを取得する方法","path":"20150206182644.html"},"next":{"title":"[FuelPHP] バリデートの結果を簡潔に取得する","path":"20150205162115.html"}},{"title":"[FuelPHP] バリデートの結果を簡潔に取得する","path":"20150205162115.html","permalink":"https://b.0218.jp/20150205162115.html","date":"2015-02-05T16:21:15.000Z","updated":"2015-02-05T16:21:15.000Z","thumbnail":"","content":"<p>雛形として残しておきたかったので、骨組みをメモしておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>仕様</h2>\n判定諸々はValidationクラスにお任せ。<span class=\"text-muted\">(オリジナルのルールを追加するときはそうもいかないけれど…)</span>\nとりあえず、NGだった場合は\"<b>エラーメッセージ</b>\"さえ返ってくれば良い。\n\n<h2>コード</h2>\n\n<pre><code class=\"php\">public static function validate() {\n  $val = Validation::forge();\n\n$val-&gt;add('name', '名前')-&gt;add_rule('required');\n  $val-&gt;add('uri', 'URI')-&gt;add_rule('required')-&gt;add_rule('valid_url');\n\nreturn ( $val-&gt;run() ) ? '' : $val-&gt;show_errors();\n}</code></pre>\n<p><code>$val-&gt;run()</code>で結果を判定して NG ならメッセージを<code>return</code>してるだけ。<br>判定結果が OK の時に何かしたい場合はこれだとクチャクチャになるけど、自分で使う分には OK の場合、特に何もしないのでこういう流れでやってる。</p>\n<p>他はドキュメントまんまなので、バリデーションルールなんかはドキュメントを参考にする。<br><a href=\"http://fuelphp.jp/docs/1.8/classes/validation/validation.html#rules\">http://fuelphp.jp/docs/1.8/classes/validation/validation.html#rules</a></p>\n","excerpt":"仕様 / コード","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[JavaScript] クロージャでグローバル変数にならないようにする","path":"20150205165734.html"},"next":{"title":"[FuelPHP] アップロードしたファイルのバリデーションをする方法","path":"20150204222616.html"}},{"title":"[FuelPHP] アップロードしたファイルのバリデーションをする方法","path":"20150204222616.html","permalink":"https://b.0218.jp/20150204222616.html","date":"2015-02-04T22:26:16.000Z","updated":"2015-02-04T22:26:16.000Z","thumbnail":"","content":"<p>アップロードされたファイルをチェックしたかったので…。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>背景</h2>\nDB へインサートした後に得られるシーケンス番号をファイル名にしたい。\n\n<p>この時に入力値が不正だとインサート処理が上手く実行できず、シーケンス番号が取得できない。また、選択されたファイルが不正だった場合は、DB へのインサート処理をロールバックしなければならない。</p>\n<p>このような無駄な処理を未然に防ぐには、入力値とファイルのチェックを行った後に DB 処理をするのが好ましい。(当社比)</p>\n<p><span class=\"text-muted\">(アップロード時に発生したエラーはしょうがないので、あとでどうにかする)</span></p>\n<h2>ファイルのバリデーション</h2>\nアップロード処理後にエラーがあればそれを返却したりするのだが、今回はアップロードの処理は行わず、エラーメッセージのみ取得しておく。\n\n<p>Upload クラスを使う。<code>Upload::save()</code>などは使わずに<code>Upload::get_errors()</code>でエラーを見てみる。</p>\n<pre class=\"linenums php\">public static function validate_image() {\n  $message = '';\n\n  try {\n\n    Upload::process(array(\n      'max_size'           =&gt; 2097152,\n      'randomize'           =&gt; false,\n      'normalize'           =&gt; true,\n      'overwrite'           =&gt; true,\n      'auto_rename'      =&gt; false,\n      'ext_whitelist'      =&gt; array(\n                              'jpg',\n                              'jpeg',\n                              'gif',\n                              'png'\n                           ),\n    ));\n\n    // 検証\n    foreach( Upload::get_errors() as $file ) {\n      // ファイルをアップロードしていない場合\n      if( $file['name'] == '' &amp;&amp; $file['type'] == '' &amp;&amp; $file['size'] == 0 ) {\n        $message = 'ファイルを選択してください';\n      } else {\n        foreach( $file['errors'] as $error ) {\n          $message = $error['message'];\n        }\n      }\n    }\n\n  } catch(Exception $e) {\n    $message = $e-&gt;getMessage();\n  }\n\n  return $message;\n}</pre>\n\n<p>戻り値にメッセージが入ってると引っかかってるような感じ。</p>\n<p>ざっくりとした作りなので実運用の時はきちんとエラーハンドリングとかしよう。</p>\n<h2>まとめ</h2>\nフロント側でファイル選択時にチェックする方法などもある。ただ、これだけでは心もとないのでサーバサイド側のチェックもきちんとしていきたい。\n","excerpt":"背景 / ファイルのバリデーション / まとめ","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[FuelPHP] バリデートの結果を簡潔に取得する","path":"20150205162115.html"},"next":{"title":"[iPod] 曲が途中(最後の方)で途切れるようになったときの修正方法","path":"20150204013303.html"}},{"title":"[iPod] 曲が途中(最後の方)で途切れるようになったときの修正方法","path":"20150204013303.html","permalink":"https://b.0218.jp/20150204013303.html","date":"2015-02-04T01:33:03.000Z","updated":"2015-02-04T01:33:03.000Z","thumbnail":"","content":"<p>曲を入れなおしたら、曲が途中で途切れるようになってしまった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>背景</h2>\niTunes で聴くと問題なく聴くことができる。\niPod で聴くと最後の方で途切れて無音が続く。\n\n<h2>対処方法</h2>\nいくつか改善法を試してみた。\n\n<h3>iPod を再起動(リセット)する</h3>\nリセットしたが変わらず。\n\n<p>リセット方法は端末によって違うので注意。</p>\n<h4>クリックホイール</h4>\n<ol>\n <li>ホールドをオンにしてからオフにする</li>\n <li>[メニューボタン]と[センターボタン]を数秒同時押しにする。</li>\n</ol>\n\n<h4>touch</h4>\n<ol>\n <li>スリープボタンを赤いスライダが表示されるまで押す</li>\n <li>電源を切る</li>\n <li>ロゴが表示されるまでスリープボタンを押したままにする</li>\n</ol>\n\n<h3>iPod に曲を入れなおす</h3>\n一度、当該曲を同期から外して、同期しなおす。\n特に変化なし。\n\n<h3>iTunes Library を作りなおす</h3>\n作りなおしてみたものの、特に変化なし。\n\n<p>ちなみに iTunes Library の場所は以下。</p>\n<table>\n <thead>\n  <tr>\n   <th>\n    OS\n   </th>\n   <th>\n    「iTunes」フォルダの場所\n   </th>\n  </tr>\n </thead>\n <tbody>\n  <tr>\n   <td>\n    Mac OS X\n   </td>\n   <td>\n    /ユーザ/[ユーザID]/ミュージック\n   </td>\n  </tr>\n  <tr>\n   <td>\n    Microsoft Windows XP\n   </td>\n   <td>\n    C:¥Documents and Settings¥[ユーザID]¥My Documents¥マイ ミュージック\n   </td>\n  </tr>\n  <tr>\n   <td>\n    Microsoft Windows 7\n   </td>\n   <td>\n    C:¥Users¥[ユーザID]¥マイ ミュージック¥\n   </td>\n  </tr>\n </tbody>\n</table>\n\n<h3>音楽ファイルをリッピングし直す</h3>\n<strong>これで解決した。</strong>\n\n<p>CD から直接インポートし直すか、既存のファイルから「新規バージョンを作成」で OK だと思う。</p>\n","excerpt":"背景 / 対処方法","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"iTunes","slug":"iTunes","path":"tags/iTunes/"},{"name":"iPod","slug":"iPod","path":"tags/iPod/"}],"prev":{"title":"[FuelPHP] アップロードしたファイルのバリデーションをする方法","path":"20150204222616.html"},"next":{"title":"[名探偵コナン] 江戸川コナンの正体を知っている人物ときっかけの話 一覧","path":"20150203163529.html"}},{"title":"[名探偵コナン] 江戸川コナンの正体を知っている人物ときっかけの話 一覧","path":"20150203163529.html","permalink":"https://b.0218.jp/20150203163529.html","date":"2015-02-03T16:35:29.000Z","updated":"2017-03-26T13:39:50.000Z","thumbnail":"","content":"<p>今後も増えていくのだろうけれど人物をまとめてみる</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>基本編</h2><p>事件名はアニメ版のタイトルとする。</p>\n<h3>阿笠博士</h3><p><strong>「社長令嬢誘拐事件」</strong><br>事情説明のため、コナン自ら正体を明かした。</p>\n<h3>宮野明美</h3><p><strong>「黒の組織 10 億円強奪事件」</strong><br>死に際にコナン自身が正体を明かした。</p>\n<h3>工藤優作</h3><p><strong>「江戸川コナン誘拐事件」</strong><br>阿笠博士による事情説明で判明した。</p>\n<h3>工藤有希子</h3><p><strong>「江戸川コナン誘拐事件」</strong><br>阿笠博士による事情説明で判明した。</p>\n<h3>服部平次</h3><p><strong>「ホームズ・フリーク殺人事件」</strong><br>コナンの正体を怪しんでいた服部の存在から推理披露を眠らせた服部を使って行うことにするも、推理の最中に（小五郎が殴ったためか）目を覚まし推理ショーがバレてしまう。口調と論理の組み立て方などから正体に自ら気づく。その後、コナンから事情を説明した。</p>\n<h3>灰原哀</h3><p><strong>「黒の組織から来た女 大学教授殺人事件」</strong><br>自身も APTX4869 を飲み幼児化する。コナンの正体には阿笠博士による事情説明を受けるものの、組織の調査時に疑問を持っていたため、幼児化後に組織から工藤邸まで逃げてきた。</p>\n<h3>シャロン・ヴィンヤード / ベルモット</h3><p><strong>「黒の組織と真っ向勝負 満月の夜の二元ミステリー」</strong><br>コナン（工藤新一宛て）に送ったハロウィンパーティーへの招待状でベルモットに正体がバレていることが発覚する。 以前にバスジャック事件の際にコナンをかばっている事などから、新一が幼児化していることはその時点で知っていたと思われる。昔から有希子との付き合いがあることから、コナンは”幼少期のアルバム”などを見たことがあるのではないかと語っている。</p>\n<h3>本堂瑛祐</h3><p><strong>「カラオケボックスの死角」</strong><br>蘭に告白するつもりだとコナンへ持ち出したところ、告白を防ぐために、コナン本人から新一であることを明かされた。瑛祐自身は半ば見抜いていたようで確信を得たようであった。</p>\n<h3>沖矢昴 / 赤井秀一</h3><p><strong>「工藤優作の未解決事件」</strong><br>蘭からの電話を変声機で声を変えたコナンが応答していたのを目撃。（沖矢変装時）工藤邸に住んでいる事や有希子のバックアップ、彼の推理力などから薄々気づいていたのではないかと考えられるため、それが決定打だったのではないかと思われる。</p>\n<blockquote>\n<p>赤井「父のことを話すのなら……　ボウヤのも聞かせて欲しい所だ……　ボウヤの正体をね」<br>コナン「あ、いや……　それは全てが解決してから……」<br>赤井「そうか……」<br>コナン「(もうバレてるような気もするけど……)」</p>\n</blockquote>\n<p>コナン自身も正体がバレている自覚はある模様。</p>\n<h3>世良真純</h3><p><strong>「さざ波の邂逅」</strong><br>コナンが 10 年前の事件で世良と出会っていた事が判明。</p>\n<p>コナンが過去に世良と出会っていた事を思い出し、「領域外の妹」について考えを巡らしている際に、世良がコナンを見ながら以下のように考えていた。</p>\n<blockquote>\n<p>世良「どうやら 10 年前のボクの事を思い出してくれたようだけど…」</p>\n</blockquote>\n<p>修学旅行の際、コナンが新一の姿に戻ってからは直接正体を確認してきている。</p>\n<h2>メアリー・世良 / 領域外の妹</h2><p>経緯は不明。世良真純には「江戸川コナンに気を許すな…10 年前に会ったボウヤとはまるで別人」と警戒している。</p>\n<h2>映画</h2><h3>怪盗キッド（黒羽快斗）</h3><p><strong>「世紀末の魔術師」</strong><br>コナンと阿笠博士の電話を盗聴し会話の内容から正体に気づく。</p>\n<h3>ノアズ・アーク</h3><p><strong>「ベイカー街の亡霊」</strong><br>仮想体感ゲーム機「コクーン」にノアズ・アークが侵入。「コクーン」が読み込んだコナンの情報で知ったのではないかと思われる。工藤優作との関係も把握していた。最終的にノアズ・アークは自ら消滅した。</p>\n<h3>アイリッシュ</h3><p><strong>「漆黒の追跡者」</strong><br>アイリッシュ自身の調査にて判明。慕っていたピスコを殺害したジンを憎んでおり、ジンを失脚させるため、コナンの正体を教えることはせず、コナンを生かしたまま「あの方」に面会させようとしていたが、ジン達に殺される。</p>\n<h3>寺井黄之助</h3><p><strong>「業火の向日葵」</strong><br>経緯は不明だが、「業火の向日葵」の人物紹介の際に「コナンの正体を知る者」として紹介されている。</p>\n<h2>番外編</h2><h3>ルパン一味（ルパン三世、次元大介、石川五ェ門、峰不二子）</h3><p><strong>「ルパン三世 VS 名探偵コナン(テレビスペシャル)」</strong><br>発覚した状況の描写はないが、「高校生探偵 工藤新一」であること「薬で小さくなった」ことを知っていた。また、パスポートを持たないコナンを日本まで送り届けてくれた。 映画版では次元がコナンを調査したメモを持っていた。</p>\n<h3>アラン・スミシー</h3><p><strong>「ルパン三世 VS 名探偵コナン THE MOVIE」</strong><br>死に際にコナン自身が正体を明かした。</p>\n<h2>未確認</h2><p>正体を知っている確実な描写がない人物。</p>\n<h3>安室透・バーボン・降谷零</h3><p>小五郎や警察関係者を事件の真相へと誘導するコナンに興味を持ち始める。コナンのことを「恐ろしい男」と認識し、素性を疑ってはいるものの、正体を知るまでには至っていない</p>\n<hr>\n<h2>余談</h2><p><a href=\"http://ja.wikipedia.org/wiki/%E6%B1%9F%E6%88%B8%E5%B7%9D%E3%82%B3%E3%83%8A%E3%83%B3\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Wikipedia</a>に同じようなことが書いてあったので、初めからそこを確認すれば良かった。(情報に差がないように修正)</p>\n","excerpt":"基本編 / メアリー・世良 / 領域外の妹 / 映画 / 番外編 / 未確認","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[iPod] 曲が途中(最後の方)で途切れるようになったときの修正方法","path":"20150204013303.html"},"next":{"title":"[Firefox] タブのアニメーションをオフにして表示を早くする","path":"20150202184824.html"}},{"title":"[Firefox] タブのアニメーションをオフにして表示を早くする","path":"20150202184824.html","permalink":"https://b.0218.jp/20150202184824.html","date":"2015-02-02T18:48:24.000Z","updated":"2015-02-28T23:38:57.000Z","thumbnail":"","content":"<p>タブを表示するアニメーション機能があるが、特に「要らないかな」と思ったのでオフにした。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>タブのアニメーションとは</h2>\nタブのオープン・クローズ時の「スライド」効果。\n\n<h2>タブのアニメーションをオフにする方法</h2>\nこの手の設定は<code>about:config</code>を使う。\n<ol>\n <li>about:configを開く</li>\n <li>[<b>browser.tabs.animate</b>]と検索する</li>\n <li>真偽値を[<b>false</b>]に変更する</li>\n</ol>\n\n<p>以上でタブの表示時にアニメーションがなくなった。<br>これで何か改善されるわけではないが、軽快な動きになった気がする。</p>\n","excerpt":"タブのアニメーションとは / タブのアニメーションをオフにする方法","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"[名探偵コナン] 江戸川コナンの正体を知っている人物ときっかけの話 一覧","path":"20150203163529.html"},"next":{"title":"[Firefox] ブックマークのフォルダを中クリックした時に数が少量でも警告を出す方法","path":"20150202183800.html"}},{"title":"[Firefox] ブックマークのフォルダを中クリックした時に数が少量でも警告を出す方法","path":"20150202183800.html","permalink":"https://b.0218.jp/20150202183800.html","date":"2015-02-02T18:38:00.000Z","updated":"2015-02-28T23:38:58.000Z","thumbnail":"","content":"<p>フォルダをミドルクリックした時に同時に複数のブックマークを開いてくれる機能があるが、大抵誤クリックで自滅してしまうので制限してしまいたい。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>背景</h2>\nFirefox はデフォルトで15件以上のタブを同時に開こうとすると以下のような警告が出る。\n\n<blockquote><b>同時に複数のタブを開く確認</b>\n\n<p>同時に複数(15)のタブを開こうとしています。ページの読み込み中は Firefox の動作が遅くなることがあります。本当に開いてもよろしいですか？<br><input type=\"checkbox\" checked=\"\"> 同時に複数のタブを開いて Firefox の動作が遅くなるときは確認する</p>\n<center><button>タブで開く</button> <button>キャンセル</button></center>\n</blockquote>\n\n<p>間違ってクリックしてしまった場合、規定値以下の 10 件でも 5 件でも鬱陶しい。下手すると負荷がすごい事になる。</p>\n<h2>警告の規定値を変更する</h2>\n表のオプションに変更する箇所はないので<code>about:config</code>を使う\n<ol>\n <li>about:configを開く</li>\n <li>[<b>browser.tabs.maxOpenBeforeWarn</b>]を検索する</li>\n <li>整数値を[<b>1</b>]に変更する</li>\n</ol>\n以上の設定をすると、フォルダ内にブックマークが1件しかなかったとしても警告が表示されるようになり、間違ってタブを開くこともなくなる。\n","excerpt":"背景 / 警告の規定値を変更する","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"[Firefox] タブのアニメーションをオフにして表示を早くする","path":"20150202184824.html"},"next":{"title":"[名探偵コナン] 毛利蘭にコナンの正体がバレそうになる話","path":"20150201013020.html"}},{"title":"[名探偵コナン] 毛利蘭にコナンの正体がバレそうになる話","path":"20150201013020.html","permalink":"https://b.0218.jp/20150201013020.html","date":"2015-02-01T01:30:20.000Z","updated":"2015-02-01T01:30:20.000Z","thumbnail":"https://images-na.ssl-images-amazon.com/images/I/515ed9DjSkL.jpg","content":"<p>ここ最近はないですが、定期的に蘭に正体がバレそうになるのでまとめてみました。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>原作</h2>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th>事件名</th>\n<th>収録巻</th>\n<th>File</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>月いちプレゼント脅迫事件</td>\n<td>第3巻</td>\n<td>File‐7「奇妙な贈り物」\nFile‐8「同一人物」\nFile‐9「8月3日の謎」\nFile‐10「眼前セーフ」</td>\n</tr>\n<tr>\n<td>追いつめられた名探偵！ 連続２大殺人事件</td>\n<td>第14巻</td>\n<td>File‐1「写真があった!!」\nFile‐2「電話の数字」\nFile‐3「事件はこれから!?」\nFile‐4「落葉の中の尋問」\nFile‐5「母さんの胸の中!?」\nFile‐6「コナンの笑み…」\nFile‐7「有希子の笑み…」\nFile‐8「もう一人の…」</td>\n</tr>\n<tr>\n<td rowspan=\"2\">命がけの復活</td>\n<td>第25巻</td>\n<td>File9「手負いの探偵団」\nFile10「心強き名探偵達」\nFile11「一つの確信」</td>\n</tr>\n<tr>\n<td>第26巻</td>\n<td>File1「迷える心」</td>\n</tr>\n<tr>\n<td rowspan=\"2\">奇妙な一家の依頼</td>\n<td>第46巻</td>\n<td>File‐11「疑惑のメール」</td>\n</tr>\n<tr>\n<td>第47巻</td>\n<td>File‐1「疑惑の推理」\nFile‐2「疑惑のアリバイ」\nFile‐3「疑惑の真相」</td>\n</tr>\n<tr>\n<td>疑惑を持った蘭</td>\n<td>第47巻</td>\n<td>File‐4「ロックをはずして…」</td>\n</tr>\n</tbody>\n</table>\n\n<h2>映画</h2>\n<table class=\"table table-hover\">\n<thead>\n<tr>\n<th></th>\n<th>題名</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th>第3作</th>\n<td>世紀末の魔術師</td>\n</tr>\n</tbody>\n</table>\n\n<hr>\n\n<div class=\"amazlet-box\"><div class=\"amazlet-image\" style=\"float:left;margin:0px 12px 1px 0px;\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/4091193587/chafuso-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\"><img src=\"https://images-na.ssl-images-amazon.com/images/I/515ed9DjSkL.jpg\" alt=\"名探偵コナンセレクション 毛利蘭編 (My First Big)\" style=\"border: none;\"></a></div><div class=\"amazlet-info\" style=\"line-height:120%; margin-bottom: 10px\"><div class=\"amazlet-name\" style=\"margin-bottom:10px;line-height:120%\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/4091193587/chafuso-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\">名探偵コナンセレクション 毛利蘭編 (My First Big)</a><div class=\"amazlet-powered-date\" style=\"font-size:80%;margin-top:5px;line-height:120%\">posted with <a href=\"http://www.amazlet.com/\" title=\"amazlet\" target=\"_blank\">amazlet</a> at 15.01.31</div></div><div class=\"amazlet-detail\">青山 剛昌 <br>小学館 (2014-02-21)<br>売り上げランキング: 233,619<br></div><div class=\"amazlet-sub-info\" style=\"float: left;\"><div class=\"amazlet-link\" style=\"margin-top: 5px\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/4091193587/chafuso-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\">Amazon.co.jpで詳細を見る</a></div></div></div><div class=\"amazlet-footer\" style=\"clear: left\"></div></div>\n","excerpt":"原作 / 映画","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[Firefox] ブックマークのフォルダを中クリックした時に数が少量でも警告を出す方法","path":"20150202183800.html"},"next":{"title":"[CSS] ※(米印)ある次の行以降をインデントさせる方法","path":"20150130024723.html"}},{"title":"[CSS] ※(米印)ある次の行以降をインデントさせる方法","path":"20150130024723.html","permalink":"https://b.0218.jp/20150130024723.html","date":"2015-01-30T02:47:23.000Z","updated":"2015-02-28T23:12:41.000Z","thumbnail":"","content":"<p>一般ユーザー向けのサイト作ったりする時に、文章で注釈をつけることが多いのでメモしておく。(「※(米印)」付き)</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>サンプル</h2>\n<div class=\"sandbox\">\n<div style=\"width:300px\">\n<div style=\"margin-left:1em;text-indent:-1em;\">※注釈（ちゅうしゃく、旧表記：註釈）とは、既述の文章や専門用語についての補足・説明・解説のこと。補注とも、単に注（旧表記：註）ともいう。</div>\n</div>\n</div>\n\n<h2>コード</h2>\n\n<pre><code class=\"css\">.notes {\n  margin-left: 1em;\n  text-indent: -1em;\n}</code></pre>\n","excerpt":"サンプル / コード","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[名探偵コナン] 毛利蘭にコナンの正体がバレそうになる話","path":"20150201013020.html"},"next":{"title":"[Genymotion] LINE認証時の「正常に処理できませんでした」を解消する方法","path":"20150128232954.html"}},{"title":"[Genymotion] LINE認証時の「正常に処理できませんでした」を解消する方法","path":"20150128232954.html","permalink":"https://b.0218.jp/20150128232954.html","date":"2015-01-28T23:29:54.000Z","updated":"2015-01-28T23:29:54.000Z","thumbnail":"","content":"<p>Genymotion で LINE を認証しようとした時にエラーが出たので調査した。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\nFacebookアカウントで認証した際にエラーが発生。\n\n<h3>発生したエラー</h3>\n<blockquote>正常に処理できませんでした。\nしばらく経ってからもう一度お試しください。</blockquote>\nしばらく経って試しても同じエラーが発生する。\n\n<h2>解決方法</h2>\nエミュレータだったので、各所で紹介されている解決方法では上手くいかなかった。\n\n<h3>試した方法</h3>\n以下の方法を試してみたが、いずれも効果なし。\n<ol>\n <li>LINEを強制終了する<br>→変わらず</li>\n <li>LINEを再インストールする<br>→変わらず</li>\n <li>画像の共有でLINEを起動する<br>→変わらず</li>\n</ol>\n\n<h3>Genymotion で解決した方法</h3>\n実機の話であるが、「圏外」だと同じようなエラーが発生した事案を発見した。\nエミュレーターなので「圏外」以外どうしようもないのだが、これに関して何かできることはないか色々と弄ってみた。\n\n<p>Genymotion は、ウィンドウの右端のアイコンで様々な操作ができる。</p>\n<ul>\n <li>バッテリー</li>\n <li>GPS</li>\n <li>カメラ</li>\n <li>音量操作</li>\n <li>画面回転</li>\n <li>操作ボタン(戻るボタン・ホームボタン・アプリ切替)</li>\n</ul>\n\n<p>「圏外」とは関係ないかもしれないが、位置情報を送ってみるとどうなるか試してみた。<br>「GPS のエミュレート」を ON にしてみる(位置情報は横浜あたりを適当に設定した)。すると、あっさりと認証が通った。</p>\n<p>GPS との因果関係は分からないが、とりあえずこれでいけた。</p>\n","excerpt":"状況 / 解決方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"},{"name":"Android","slug":"Android","path":"tags/Android/"}],"prev":{"title":"[CSS] ※(米印)ある次の行以降をインデントさせる方法","path":"20150130024723.html"},"next":{"title":"[PHP] 百分率(パーセント)の比率を求める方法","path":"20150123170742.html"}},{"title":"[PHP] 百分率(パーセント)の比率を求める方法","path":"20150123170742.html","permalink":"https://b.0218.jp/20150123170742.html","date":"2015-01-23T17:07:42.000Z","updated":"2016-09-27T12:13:11.000Z","thumbnail":"","content":"<p>関数化して柔軟に対応する必要があったのでメモ。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>比率の計算方法</h2>\n算数の問題であるが重要な部分なので記述しておく。\n```\n(対象値 ÷ 全体値) × 100\n```\n\n<p>例えば、対象値が「14」、全体値が「73」の場合、「19.178082191780821917808219178082」となる。<br>およそ「19%」という解が求められる。</p>\n<h2>四捨五入</h2>\n前述の例えのようにキリ良く割り切れない場合が多々ある。\n「19.178082191780821917808219178082%」というパーセント表示は許容できないので丸める必要がある。\n\n<p>数値の小数点をばっさりどうにかしたい場合は、<code>floor</code>や<code>ceil</code>を使っても良い。<br>今回は柔軟に対応できるように<code>round</code>を使いたいと思う。</p>\n<p>ちなみに<code>round</code>は「数値の小数点以下を四捨五入」する関数である。</p>\n<h2>0% に注意する</h2>\n対象値が「0」である場合、「0%」としたい。\n\n<p>ただ、この対象値をそのまま式に当てはめてしまうと</p>\n<pre><code>(0 / 73) * 100</code></pre>\n<p>以下のようなエラーが発生する。</p>\n<pre><code>Warning: Division by zero in ...</code></pre>\n<p>心情としては、0÷73=0 → 0*100=0 のように計算して欲しかった。</p>\n<h3>Division by zero とは</h3>\n数値計算でゼロ除算をすると発生する例外である。\nなので、計算前にif文などで対象値が「0」の場合は解を「0」とするか、ゼロ除算の例外をキャッチして対応する必要がある。\n\n<h2>比率を返す関数</h2>\nこれらの背景を踏まえた上で以下のような関数を作成した。\n\n<pre><code class=\"php\">function num2per($number, $total, $precision = 0) {\n  if ($number &lt; 0) {\n    return 0;\n  }\n\n  try {\n      $percent = ($number / $total) * 100;\n      return round($percent, $precision);\n    } catch (Exception $e) {\n      return 0;\n    }\n  }\n}</code></pre>\n<p>例外が発生した時は「0」を返すことにした。(前述のゼロ除算の例外を前提としているので何か他の例外に対応したい場合は個別に処理を追加する必要があると思うが、基本的にないと思われる)<br>また、第 3 引数で四捨五入する桁を指定していい感じの数値を返してもらうことにした。</p>\n<h3>使用例</h3>\n\n<pre><code class=\"php\">num2per(14, 73, 0);\n// 19\n\nnum2per(14, 73, 1);\n// 19.2\n\nnum2per(14, 73, 2);\n// 19.18\n\nnum2per(14, 73, 3);\n// 19.178</code></pre>\n","excerpt":"比率の計算方法 / 四捨五入 / 0% に注意する / 比率を返す関数","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[Genymotion] LINE認証時の「正常に処理できませんでした」を解消する方法","path":"20150128232954.html"},"next":{"title":"input[type=file]で選択するファイルを画像のみに制限する方法","path":"20150119133328.html"}},{"title":"input[type=file]で選択するファイルを画像のみに制限する方法","path":"20150119133328.html","permalink":"https://b.0218.jp/20150119133328.html","date":"2015-01-19T13:33:28.000Z","updated":"2017-08-12T01:07:18.000Z","thumbnail":"","content":"<p>簡易的な方法ではあるが制限してみる。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>HTML5 の accept属性 を使う</h2>\n<h3>大まかに許可する場合</h3>\n```html\n<input type=\"file\" name=\"example\" accept=\"image/*\">\n```\n\n<p>以下のような指定で、それぞれ<b>画像</b>・<b>音声</b>・<b>映像</b>を許可することができる。</p>\n<ul>\n <li>accept=\"<b>image</b>/*\" </li>\n <li>accept=\"<b>audio</b>/*\"</li>\n <li>accept=\"<b>video</b>/*\"</li>\n</ul>\n\n<h3>許可される拡張子は以下の通り</h3><h4>image</h4><pre><code>.jpe, .jpg, .jpeg, .gif, .png, .bmp, .ico, .svg, .svgz, .tif, .tiff, .ai, .drw, .pct, .psp, .xcf, .psd, .raw</code></pre>\n<h4>audio</h4><pre><code>.aac, .aif, .flac, .iff, .m4a, .m4b, .mid, .midi, .mp3, .mpa, .mpc, .oga, .ogg, .ra, .ram, .snd, .wav, .wma</code></pre>\n<h4>video</h4><pre><code>.avi, .divx, .flv, .m4v, .mkv, .mov, .mp4, .mpeg, .mpg, .ogm, .ogv, .ogx, .rm, .rmvb, .smil, .webm, .wmv, .xvid</code></pre>\n<h3>MIMEタイプを指定する場合</h3>\n\n<pre><code class=\"html\">&lt;input type=\"file\" name=\"example\" accept=\"image/png\" /&gt;</code></pre>\n<p>複数指定する場合は以下のようにカンマ区切りで指定</p>\n<pre><code class=\"html\">&lt;input type=\"file\" name=\"example\" accept=\"image/png, image/jpeg, image/gif\" /&gt;</code></pre>\n<h2>JavaScript で選択したファイルをチェックする</h2><p>例えば、イメージ形式のファイルのみ許可する場合</p>\n<pre><code class=\"javascript\">var imgUpload = document.getElementById(\"imgUpload\");\nimgUpload.addEventListener(\"change\", function (e) {\n  var files = e.target.files;\n  for (var i = 0, file; (file = files[i]); i++) {\n    if (!file.type.match(\"image.*\")) {\n      // ok\n      continue;\n    } else {\n      // ng\n      alert(\"許可されていません\");\n      break;\n    }\n  }\n});</code></pre>\n","excerpt":"HTML5 の accept属性 を使う / JavaScript で選択したファイルをチェックする","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"},{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"}],"prev":{"title":"[PHP] 百分率(パーセント)の比率を求める方法","path":"20150123170742.html"},"next":{"title":"[Google Chrome] 右上の人型アイコンのメニューを消す方法","path":"20150114101738.html"}},{"title":"[Google Chrome] 右上の人型アイコンのメニューを消す方法","path":"20150114101738.html","permalink":"https://b.0218.jp/20150114101738.html","date":"2015-01-14T10:17:38.000Z","updated":"2015-02-28T23:41:07.000Z","thumbnail":"","content":"<p>ユーザ切り替えを行うことのできるメニューを消す。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\nアドレスバーに以下を入力する。\n<pre>chrome://flags/#enable-new-avatar-menu</pre>\n\n<p>以下のような設定が表示されるので、[無効] に設定して、Chrome を再起動する。</p>\n<pre><b>新しいアバター メニューを有効にする</b> Mac, Windows, Linux\n新しいアバター メニューを有効にします。これと組み合わせて新しいプロフィール管理を使用する場合は、新しいプロフィール管理のアバター メニューが表示されます。新しいプロフィール管理を使用しない場合は、以前と同じ機能を備えた新しいデザインのアバター メニューが表示されるのに加え、新しいプロフィール管理ユーザー インターフェースの利用を推奨するチュートリアル カードが上部に表示されます。 #enable-new-avatar-menu</pre>\n","excerpt":"方法","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Chrome","slug":"Chrome","path":"tags/Chrome/"}],"prev":{"title":"input[type=file]で選択するファイルを画像のみに制限する方法","path":"20150119133328.html"},"next":{"title":"カクうす(HDPX-UTA1.0)を購入したので exFAT フォーマットした\n","path":"20150111234146.html"}},{"title":"カクうす(HDPX-UTA1.0)を購入したので exFAT フォーマットした\n","path":"20150111234146.html","permalink":"https://b.0218.jp/20150111234146.html","date":"2015-01-11T23:41:46.000Z","updated":"2015-01-11T23:41:46.000Z","thumbnail":"https://hiro0218.github.io/blog/images/KAKUUSU-fromat.png","content":"<p>新しい外付けハードディスクが欲しかったので カクうす(HDPX-UTA1.0) 1.0TB を購入。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>カクうす(HDPX-UTA1.0)</h2>\n<h3>購入モデル</h3>\n<div class=\"amazlet-box\"><div class=\"amazlet-image\" style=\"float:left;margin:0px 12px 1px 0px;\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B00L2QRP22/chafuso-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\"><img src=\"https://images-na.ssl-images-amazon.com/images/I/51SiNkTcLXL._SL160_.jpg\" alt=\"I-O DATA USB 3.0/2.0対応 ポータブルハードディスク「カクうす」1.0TB シルバー HDPX-UTA1.0S\" style=\"border: none;\"></a></div><div class=\"amazlet-info\" style=\"line-height:120%; margin-bottom: 10px\"><div class=\"amazlet-name\" style=\"margin-bottom:10px;line-height:120%\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B00L2QRP22/chafuso-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\">I-O DATA USB 3.0/2.0対応 ポータブルハードディスク「カクうす」1.0TB シルバー HDPX-UTA1.0S</a><div class=\"amazlet-powered-date\" style=\"font-size:80%;margin-top:5px;line-height:120%\">posted with <a href=\"http://www.amazlet.com/\" title=\"amazlet\" target=\"_blank\">amazlet</a> at 15.01.11</div></div><div class=\"amazlet-detail\">アイ・オー・データ (2014-06-30)<br>売り上げランキング: 3,965<br></div><div class=\"amazlet-sub-info\" style=\"float: left;\"><div class=\"amazlet-link\" style=\"margin-top: 5px\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B00L2QRP22/chafuso-22/ref=nosim/\" name=\"amazletlink\" target=\"_blank\">Amazon.co.jpで詳細を見る</a></div></div></div><div class=\"amazlet-footer\" style=\"clear: left\"></div></div>\n普段使ってないのだが、I-O DATA の外付けハードディスクが自宅にある。ただこれは、ACアダプターから電源供給するタイプで容量も 320GB とかなり化石(7年前のモデル)なので、小ささと薄さ、静かさに進化を感じる。\n\n<h3>フォーマット</h3>\n出荷時は、<b>NTFSフォーマット</b>されている。\nWindows で使う場合はそのまま使っても良いが、Mac で使用する場合や Windows と Mac で使用する場合などはフォーマットし直す必要がある。\n\n<h4>主なフォーマット形式</h4>\n<table>\n  <tbody><tr>\n    <th>NTFS</th>\n    <td>Windows用 / Mac で書き込みができない(読み取り専用)。<br>4GB以上のファイルも保存できる。</td>\n  </tr>\n  <tr>\n    <th>FAT32</th>\n    <td>Windows と Mac で使用できる。<br>4GB以上のファイルは保存できない。<br>古い環境でも対応している。</td>\n  </tr>\n  <tr>\n    <th>exFAT</th>\n    <td>Windows と Mac で使用できる。<br>4GB以上のファイルも保存できる。<br>古い環境では対応していない。</td>\n  </tr>\n</tbody></table>\n\n<table style=\"table-layout: fixed;\">\n<thead>\n  <tr>\n    <th>　</th>\n    <th>NTFS</th>\n    <th>FAT32</th>\n    <th>exFAT</th>\n  </tr>\n</thead>\n<tbody>\n  <tr>\n    <th>Windows</th>\n    <td>○</td>\n    <td>○<br>(4GB以上は×) </td>\n    <td>○<br>(Vista SP1以降) </td>\n  </tr>\n  <tr>\n    <th>Mac</th>\n    <td>△</td>\n    <td>○<br>(4GB以上は×) </td>\n    <td>○</td>\n  </tr>\n</tbody>\n</table>\n(説明書参考)\n\n<p>Mac との共有を考えると <b>NTFS</b> でないフォーマット。<b>FAT32</b> でも良いのだが、4GB 以上のファイルの存在を考えると <b>exFAT</b> を選択。(古い環境では使わない)</p>\n<h3>フォーマットする</h3>\n<h4>環境</h4>\nOS: Windows 7\n<h4>方法</h4>\n<ul>\n<li>PCにHDDを接続</li>\n<li>コンピューターに「HDPX-UTA (カクうすの名称)」が表示されていることを確認<br>ファイルシステムは「NTFS」になっている</li>\n<li>「HDPX-UTA」で右クリックから[フォーマット(A)]を選択</li>\n<li>フォーマットを以下のような設定でする</li>\n  <ul>\n    <li>ファイルシステムは「exFAT」</li>\n    <li>アロケーション ユニットサイズは「標準のアロケーション サイズ」</li>\n    <li><img alt=\"\" src=\"https://hiro0218.github.io/blog/images/KAKUUSU-fromat.png\"></li>\n  </ul>\n</ul>\n\n<p>特に理由がなければクイックフォーマットでなく通常のフォーマットで。</p>\n","excerpt":"カクうす(HDPX-UTA1.0)","categories":[{"name":"ガジェット","slug":"ガジェット","path":"categories/%E3%82%AC%E3%82%B8%E3%82%A7%E3%83%83%E3%83%88/"}],"tags":[],"prev":{"title":"[Google Chrome] 右上の人型アイコンのメニューを消す方法","path":"20150114101738.html"},"next":{"title":"[名探偵コナン] アンドレ・キャメル捜査官の失態(ミス)について","path":"20150111002909.html"}},{"title":"[名探偵コナン] アンドレ・キャメル捜査官の失態(ミス)について","path":"20150111002909.html","permalink":"https://b.0218.jp/20150111002909.html","date":"2015-01-11T00:29:09.000Z","updated":"2016-11-10T01:25:56.000Z","thumbnail":"","content":"<p>初登場のキャメルは「もしかして組織の人間なのでは…？」というぐらい影があったのに、それ以降は組織編だけにとどまらず何かしらの失態(ヘマ)を犯すキャメルに「またか！」となってしまう。</p>\n<p>そこで彼は今までどれぐらいの失態を犯してきたのか…簡単に振り返ってみたいと思う。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>キャメル捜査官とは</h2>\n<blockquote>\n<b>アンドレ・キャメル（Andre Camel）</b> \n　赤井が作戦の増員として呼び出したFBI捜査官。27歳のドイツ系アメリカ人。独身。人相はあまり良くないが、温厚で心優しい性格。身体を鍛えることが趣味で筋骨隆々とした肉体をしており、体格と人相があいまって初対面の印象はかなり悪い。(ジョディには<strong>正体を怪しまれ</strong>、少年探偵団には<strong>殺し屋ではないかと疑われた</strong>。また、筋トレをしていたビルで殺人事件が発生した際にも千葉刑事には<strong>怪しまれ</strong>、現場にいた目暮警部と高木刑事に<strong>容疑者と疑われた</strong>こともある。) \n　FBI内でも卓越したドライブテクニックと、優れた運動神経を持ち、赤井から一目置かれている(爆弾の爆発と同時に車内から飛び出したり、防弾チョッキを着た状態で走行中の車から飛び降り、犯人に銃撃されそうになったコナンと世良の前に立ち塞がったりしている[劇場版第18作『異次元の狙撃手])。しかし、<strong>組織への潜入捜査中に赤井の正体を露見させて</strong>しまったり、ベルモットとバーボンに誘導されて<strong>楠田陸道の情報を彼らに漏らしてしまった</strong>りといった失敗も多い。 \n　過去に赤井らと共に黒の組織への潜入捜査を行っており、自身の<strong>ミスが引き金となって宮野明美が死亡</strong>してしまったことに、負い目を感じている。 \n　来日以降は2年前に訪れたレストランをよく回っているが、その過程で<strong>度々事件に巻き込まれる</strong>ことから、日本警察や蘭達とも面識を持つようになる。なお、来日目的を明かすことはできないため、コナン以外の周囲には「傷心旅行中のジョディを連れ戻しに来た恋人」という設定で通している(平次や和葉とも後でお互い面識を持つこととなるが、事件の最中だったため、コナンも平次にキャメルの詳しい来日目的を直接話した描写は無い。)。 \n　名前の由来は、『機動戦士ガンダム』の登場人物であるキャメル艦隊指揮官・ドレン大尉(単行本58巻より)。\n<footer>[引用] <a href=\"http://ja.wikipedia.org/wiki/FBI_%28%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3%29#.E3.83.A1.E3.83.B3.E3.83.90.E3.83.BC\">FBI(名探偵コナン) - Wikipedia</a>より</footer>\n</blockquote>\n\n<p>キャメルは、おっちょこちょいの筋トレマニアである。</p>\n<h2>キャメルの失態(ミス)</h2><h3>赤と黒のクラッシュ[嫌疑／潔白／決死／殉職]</h3><blockquote>\n<p><strong>ある捜査官のミスで組織の幹部を捕まえ損ねた</strong></p>\n</blockquote>\n<p>2 年前、赤井秀一は「ライ (Rye)」というコードネームを与えられ組織の幹部の「ジン」と呼ばれる男との仕事に漕ぎ着けた。<br>FBI は、赤井とジンの待ち合わせ場所に張り込んだのだが、そこに老人が居座ってしまう。赤井は無視してのだが、キャメルは老人に「ここは危険だから居てはいけない」と声をかけてしまう。追い払った老人も組織の一員で赤井の正体がバレてしまった。</p>\n<p>キャメル曰く<strong>「結果的に赤井さんの彼女を死ねせてしまった」</strong>。</p>\n<hr>\n<p>ちなみに、この話をキャメルは「外国人タレント事務所の社長の殺害事件」の容疑者として、取り調べされている最中に語っていた。</p>\n<h3>コナン VS 平次　東西探偵推理勝負</h3><p>ファミレスで殺人事件現場に、遺体の第一発見者として、アンドレ・キャメルがいた。犯人が関西弁を使う男であるという証言をする。<br>以前そのファミレスで食べたカレーの味が忘れられなくて一人で食べに来たらしい。</p>\n<hr>\n<p>特に失態はないが、ジェームズ・ブラックに<strong>「よく事件に巻き込まれる男だな、キャメルは」</strong>と言われていた。</p>\n<h3>バーボンの謎を解くピース</h3><p>バーボンの挑発に屈しなかったキャメルだが、ジョディーに変装したベルモットにドヤ顔で<strong>「奴が車の中で拳銃自殺したなんて事は…　口が裂けても…」</strong>と楠田陸道のことを語ってしまう。<br>もちろん、そこまでが彼らの計算なのだが、そういう対象とされてるキャメルって…。</p>\n<hr>\n<blockquote>\n<p>バーボン<strong>「それに君なら…うっかり口を滑らせてくれそうだから…」</strong></p>\n</blockquote>\n<p>ですよね。</p>\n<h2>まとめ</h2><p>振り返ってみると「またか！」って言うほど、ミスはしていない。ただ、ミスの大きさがデカいので、何か任される度にヒヤヒヤする。</p>\n<blockquote>\n<p>やっぱり自分が楠田の拳銃自殺を漏らしたせいで…<br>赤井さんの計画を台無しに…<br>2 年前のあの時と同じだ…</p>\n<p>またやっちまった…<br>すみません…　赤井さん!!</p>\n</blockquote>\n<p>今後も「またやっちまう」かもしれない。</p>\n","excerpt":"キャメル捜査官とは / キャメルの失態(ミス) / まとめ","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"カクうす(HDPX-UTA1.0)を購入したので exFAT フォーマットした\n","path":"20150111234146.html"},"next":{"title":"[Linux] yum update したら Transaction Check Error が出た","path":"20150110202422.html"}},{"title":"[Linux] yum update したら Transaction Check Error が出た","path":"20150110202422.html","permalink":"https://b.0218.jp/20150110202422.html","date":"2015-01-10T20:24:22.000Z","updated":"2015-01-10T20:24:22.000Z","thumbnail":"","content":"<p><code>yum update</code>したらアップデートに失敗したので</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>エラー</h2>\n<pre class=\"cmd\">Transaction Check Error:\n  file /usr/lib64/libmysqlclient.so.16.0.0 from install of Percona-Server-shared-51-5.1.73-rel14.12.624.rhel6.x86_64 conflicts with file from package Percona-Server-shared-compat-5.1.68-rel14.6.551.rhel6.x86_64\n  file /usr/lib64/libmysqlclient_r.so.16.0.0 from install of Percona-Server-shared-51-5.1.73-rel14.12.624.rhel6.x86_64 conflicts with file from package Percona-Server-shared-compat-5.1.68-rel14.6.551.rhel6.x86_64\n</pre>\n\n<h2>解決</h2>\n<pre class=\"cmd\">yum remove Percona-Server-shared-compat-5.1.68-rel14.6.551.rhel6.x86_64</pre>\n\n<pre class=\"cmd\">yum update -y</pre>\n","excerpt":"エラー / 解決","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Linux","slug":"Linux","path":"tags/Linux/"}],"prev":{"title":"[名探偵コナン] アンドレ・キャメル捜査官の失態(ミス)について","path":"20150111002909.html"},"next":{"title":"[FuelPHP] public ディレクトリ以外から画像を取得する方法","path":"20150108101309.html"}},{"title":"[FuelPHP] public ディレクトリ以外から画像を取得する方法","path":"20150108101309.html","permalink":"https://b.0218.jp/20150108101309.html","date":"2015-01-08T10:13:09.000Z","updated":"2015-01-08T10:13:09.000Z","thumbnail":"","content":"<p>Asset クラスを使わない方法</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>前提</h2>\n一般的に FuelPHP で画像ファイルなどを取得する時\n<pre>Asset::img('logo.png')</pre>\n上記のようなコードで <code>imgタグ</code> を取得する。\n\n<p>この Asset クラス、デフォルトのディレクトリだけではなく、</p>\n<pre>Asset::add_path('resources/templates/dark/')</pre>\n\n<p>上記のように任意のパスを追加してやることもできる。</p>\n<hr>\n便利な Asset クラスだが、\n<pre><b>/var/www/html/hoge</b>/fuel/ ～\n<b>/var/www/html/hoge</b>/public/ ～\n</pre>\n上記のような構成の場合、下記のディレクトリ以下のファイルを操作する事はできない。(DOCROOT を基準としているため)\n<pre>/var/www/html/hoge/hoge_images/ ～</pre>\n\n<p>こういうニッチな事案の対応策について書く。</p>\n<h2>方法</h2>\n単純に URI を <code>imgタグ</code>に突っ込むのもアリだが、別サーバならともかく同サーバではそういう指定はやりたくない。\nまた、相対パスなどはルーティングの関係上、うまくいかないと思う。\n\n<h3>Uri::create() を使う</h3>\nUri::create() はこのような感じでコントローラの URI を取得したい時などに使うことが多い。\n\n<pre>echo Uri::create('controller/method');\n// http://localhost/controller/method が返ります\n</pre>\n\n<p>この要領で URI を取得する。</p>\n<hr>\n\n<p>例えば</p>\n<pre>/var/www/html/hoge/hoge_images/test.png</pre>\n\n<p>上記のファイルを取得したい場合は以下のように書くと URI が取得できるので、</p>\n<pre>Uri::create('hoge_images/test.png')</pre>\n\n<p>これを以下のように <code>img タグ</code>に突っ込んでやれば良い。</p>\n<pre class=\"linenums\">&lt;img src=\"&lt;?= Uri::create('hoge_images/test.png') ?&gt;\"&gt;</pre>\n\n<hr>\n\n<p>任意のファイルパスを渡すと、<code>img タグ</code>を返すような関数を作ってやれば、Asset クラスのように便利だと思う。</p>\n<h2>おわり</h2>\n\n<p>きっと、他に上手い方法があるのだと思うけど、手っ取り早いこの方法を関数化してやってる。<br>他に上手い方法があれば追記したいと思う。</p>\n","excerpt":"前提 / 方法 / おわり","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[Linux] yum update したら Transaction Check Error が出た","path":"20150110202422.html"},"next":{"title":"[Google Chrome] 日本語が文字化け(□)する問題","path":"20150106213244.html"}},{"title":"[Google Chrome] 日本語が文字化け(□)する問題","path":"20150106213244.html","permalink":"https://b.0218.jp/20150106213244.html","date":"2015-01-06T21:32:44.000Z","updated":"2015-02-28T23:41:08.000Z","thumbnail":"","content":"<p>Google Chrome Canary の日本語部分が文字化けしたので解決法を。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\n<ul>\n  <li>「コンテキストメニュー」「ブックマーク バー」に表示されている日本語が文字化けする。\nいわゆる豆腐(□)になる。</li>\n  <li>アドレスバーへの入力も同様に文字化けする。\n検索結果は正常</li>\n</ul>\n他のブラウザやアプリケーションでは文字化けは起こっていない。\n\n<h2>解決法</h2>\n少し前にシステムフォントに [<b>Noto Sans Japanese</b>] を指定していた。\nシステムフォントを別のものに指定することで<b>解決</b>した。\n","excerpt":"状況 / 解決法","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"},{"name":"Chrome","slug":"Chrome","path":"tags/Chrome/"}],"prev":{"title":"[FuelPHP] public ディレクトリ以外から画像を取得する方法","path":"20150108101309.html"},"next":{"title":"[CSS] メディアクエリのブレイクポイントについて","path":"20150106174934.html"}},{"title":"[CSS] メディアクエリのブレイクポイントについて","path":"20150106174934.html","permalink":"https://b.0218.jp/20150106174934.html","date":"2015-01-06T17:49:34.000Z","updated":"2015-02-28T23:12:43.000Z","thumbnail":"","content":"<p>主要な Media Queries の書き方</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>基本</h2>\n<h3>ワイドスクリーン</h3>\n\n<pre><code class=\"css\">@media only screen and (max-width: 1200px) {\n}</code></pre>\n<h3>デスクトップ</h3>\n\n<pre><code class=\"css\">@media only screen and (max-width: 992px) {\n}</code></pre>\n<h3>小型デバイス</h3>\n\n<pre><code class=\"css\">@media only screen and (max-width: 768px) {\n}</code></pre>\n<h3>スマートフォンなど</h3>\n\n<pre><code class=\"css\">@media only screen and (max-width: 480px) {\n}</code></pre>\n<pre><code class=\"css\">@media only screen and (max-width: 320px) {\n}</code></pre>\n<h2>デバイスの向きで判定する</h2>\n実際は「デバイスの向き」じゃなくて、長さで判定してるみたいなので扱いに注意。\n<h3>縦向き</h3>\n\n<pre><code class=\"css\">@media screen and (orientation: portrait) {\n}</code></pre>\n<h3>横向き</h3>\n\n<pre><code class=\"css\">@media screen and (orientation: landscape) {\n}</code></pre>\n<h2>複数条件</h2>\n条件を併用して指定する。\n<h3>スマートフォン(縦横向き)</h3>\n\n<pre><code class=\"css\">@media only screen and (max-width: 320px) and (max-width: 480px) {\n}</code></pre>\n<h3>iPad(横向き)</h3>\n\n<pre><code class=\"css\">@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape) {\n}</code></pre>\n","excerpt":"基本 / デバイスの向きで判定する / 複数条件","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[Google Chrome] 日本語が文字化け(□)する問題","path":"20150106213244.html"},"next":{"title":"[JavaScript] .submit()が効かない場合の対処法","path":"20141229171326.html"}},{"title":"[JavaScript] .submit()が効かない場合の対処法","path":"20141229171326.html","permalink":"https://b.0218.jp/20141229171326.html","date":"2014-12-29T17:13:26.000Z","updated":"2015-02-28T22:30:21.000Z","thumbnail":"","content":"<p>どうしても<code>.submit()</code>が効かない場合</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\nモーダル上の<code>&lt;button&gt;</code>から下のフォームをサブミットした。\nコードは晒しかねるけれど、Firefoxだけ<code>.submit()</code>が効かなかった。\n\n<h2>方法</h2>\n<pre class=\"javascript\"><code>function createSubmitBtn() {\n  var input = document.createElement('input');\n      input.setAttribute('type', 'submit');\n      input.setAttribute('name', 'test');\n      input.style.display = 'none';\n\n<p>var form = document.getElementById(‘form’);<br>form.appendChild(input);</p>\n<p>input.click();<br>}</p>\n</code><p><code>document.getElementById(‘imaginaryBtn’).addEventListener(‘click’, createSubmitBtn);</code></p></pre><p></p>\n<p><code>&lt;button&gt;</code>を押すと、対象のフォームにサブミットボタンを作成して、それをクリックする。</p>\n","excerpt":"状況 / 方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[CSS] メディアクエリのブレイクポイントについて","path":"20150106174934.html"},"next":{"title":"[FuelPHP] CSV出力を実装する方法","path":"20141229164000.html"}},{"title":"[FuelPHP] CSV出力を実装する方法","path":"20141229164000.html","permalink":"https://b.0218.jp/20141229164000.html","date":"2014-12-29T16:40:00.000Z","updated":"2014-12-29T16:40:00.000Z","thumbnail":"","content":"<p>案件で CSV 出力を実装したのでメモ</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p><strong>Excel で UTF-8 の CSV ファイルは開けない</strong></p>\n<h2>理由</h2>\nExcelの場合、CSVファイルはShift-JISとして開く\n\n<p>このため、UTF-8 の CSV ファイルを Excel で開きたい場合は</p>\n<ul>\n<li>拡張子を別のものに変えて開く</li>\n<li>先頭に三バイトのBOMを付与したCSVファイルで開く</li>\n</ul>\nなど、手間がかかる、\n\n<h2>FuelPHPでの準備</h2>\nFuelPHPでCSVファイルを出力する場合、CSVファイル用に拵えた配列を<code>to_csv()</code>に渡してやる必要がある。\n\n<p>この手の出力は RestController を使うと楽だが当該案件ではエラーハンドリングなどがあり RestController を使うのは見送った。</p>\n<p>以下のように<code>to_csv()</code>をオーバライドする</p>\n<pre class=\"php\"><code>class Format extends Fuel\\Core\\Format {\n  public function to_csv($data = null){\n    $csv = parent::to_csv($data);\n    return mb_convert_encoding($csv, 'SJIS-win', 'UTF-8');\n  }\n}</code></pre>\n\n<p>参考引用: <a href=\"http://qiita.com/takyam/items/8605eb2ab4c442b939e8\" target=\"_blank\">FuelPHP で CSV の出力 - Qiita</a></p>\n<p><code>mb_convert_encoding</code>を挟んで<code>UTF-8</code>から<code>SJIS-win</code>に文字エンコーディングを変換する。</p>\n<p>これで Excel で開ける CSV ファイルへ変換する事ができる。</p>\n<h2>CSVファイルを出力する</h2>\n<pre class=\"php\"><code>public static function export_csv($array, $csv_name) {\n  // Response\n  $response = new Response();\n\n<p>// content-type: csv<br>$response-&gt;set_header(‘Content-Type’, ‘application/csv’);</p>\n<p>// ファイル名をセット<br>$response-&gt;set_header(‘Content-Disposition’, ‘attachment; filename=”‘. $csv_name .’”‘);</p>\n<p>// キャッシュをなしに<br>$response-&gt;set_header(‘Cache-Control’, ‘no-cache, no-store, max-age=0, must-revalidate’);<br>  $response-&gt;set_header(‘Expires’, ‘Mon, 26 Jul 1997 05:00:00 GMT’);<br>$response-&gt;set_header(‘Pragma’, ‘no-cache’);</p>\n<p>// CSV を出力<br>echo Format::forge($array)-&gt;to_csv();</p>\n</code><p><code>// Response<br>return $response;<br>}<br></code></p></pre><br>お作法通りに出力する。<br>出力するファイル名などを変えるならここで変える。<p></p>\n","excerpt":"理由 / FuelPHPでの準備 / CSVファイルを出力する","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[JavaScript] .submit()が効かない場合の対処法","path":"20141229171326.html"},"next":{"title":"[CSS] z-index の最大値について調べた","path":"20141220015217.html"}},{"title":"[CSS] z-index の最大値について調べた","path":"20141220015217.html","permalink":"https://b.0218.jp/20141220015217.html","date":"2014-12-20T01:52:17.000Z","updated":"2015-02-28T23:12:45.000Z","thumbnail":"","content":"<p class=\"c-alert\">この記事は <a href=\"http://qiita.com/advent-calendar/2014/css\">CSS Advent Calendar 2014</a> の20日目です。</p>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>概要</h2><p>過去に「<a href=\"20130530161519.html\" title=\"[CSS] z-index の上限値\">[CSS] z-index の上限値</a>」という記事を書いた。</p>\n<p>当時は 64bit ブラウザは無かったので 32bit を前提にしていた。そのため、特に検証などもしていなかったのだが、先日、64bit Chrome も正式リリースされたこともあるので、今回は 64bit ブラウザでどういう動きをするのか含めて調べてみる。</p>\n<h2>z-index プロパティについて</h2><p>これまで言われていたのが <code>z-index</code> プロパティの値に制限はないけれど、評価される最大値は符号付き 32bit 整数までということ。</p>\n<blockquote>\n  <table cellpadding=\"0\" cellspacing=\"0\">\n    <tbody>\n      <tr valign=\"baseline\"><td><em>値:</em>&nbsp;&nbsp;</td><td>auto | <span class=\"value-inst-integer\"><integer></integer></span> | <span class=\"value-inst-inherit\">inherit</span></td></tr>\n      <tr valign=\"baseline\"><td><em>初期値:</em>&nbsp;&nbsp;</td><td>auto</td></tr>\n      <tr valign=\"baseline\"><td><em>適用対象:</em>&nbsp;&nbsp;</td><td>位置指定された要素</td></tr>\n      <tr valign=\"baseline\"><td><em>継承:</em>&nbsp;&nbsp;</td><td>no</td></tr>\n      <tr valign=\"baseline\"><td><em>パーセンテージ:</em>&nbsp;&nbsp;</td><td>利用不可</td></tr>\n      <tr valign=\"baseline\"><td><em>メディア:</em>&nbsp;&nbsp;</td><td>visual</td></tr>\n      <tr valign=\"baseline\"><td><em>算出値:</em>&nbsp;&nbsp;</td><td>指定値</td></tr>\n    </tbody>\n  </table>\n  <footer><a href=\"http://momdo.s35.xrea.com/web-html-test/spec/CSS21/visuren.html#propdef-z-index\">9.9.1 スタックレベルの指定: 'z-index'プロパティ</a>より引用</footer>\n</blockquote>\n\n<h3>32bit と 64bit の整数について<code>z-index</code> プロパティの値の有効範囲はいくつなのか。</h3><p>符号付き 32bit 整数は以下なので、これが <code>z-index</code> の有効範囲になる。</p>\n<pre>-2147483647 ～ 2147483647\n</pre>\n\n<p>-&gt; <strong>約 21 億</strong></p>\n<p>ちなみに符号付き 64bit 整数は以下</p>\n<pre>-9223372036854775808 ～ 9223372036854775807\n</pre>\n\n<pre style=\"display:none\">9*10^18 = 9000000000000000000 (900京)\n</pre>\n\n<p>-&gt; <strong>約 900 京</strong><br>順当に考えるならば 64bit ブラウザでは、この範囲が <code>z-index</code> の有効範囲になるのか…? (予想)</p>\n<hr>\n<p>事前に誰か質問していないか調べてみても、32bit ブラウザの話しか出てこなかったり、「64bit なら 9223372036854775807 っしょ(適当)」みたいな話しか出てこなかった。</p>\n<p>実際に調べてみる必要がありそう。</p>\n<h2>検証</h2><h3>環境</h3><p>環境は以下の通り</p>\n<ul>\n<li><strong>Windows 7</strong> / <strong>Windows 8.1</strong><ul>\n<li>Firefox 34 (32bit)</li>\n<li>Chrome 39 (32bit)</li>\n<li>Chrome Canary 41 (64bit)</li>\n</ul>\n</li>\n</ul>\n<h3>デモ</h3><iframe height=\"500\" scrolling=\"no\" title=\"a verification on the maximum value of z-index\" src=\"//codepen.io/hiro0218/embed/VqXxBV/?height=500&amp;theme-id=light&amp;default-tab=result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/VqXxBV/'>a verification on the maximum value of z-index</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<pre><code class=\"css\">.int32 {\n  z-index: 2147483646;\n}\n.int32-limit {\n  z-index: 2147483647;\n}\n.int32-over {\n  z-index: 2147483648;\n}\n.int64 {\n  z-index: 9223372036854775806;\n}\n.int64-limit {\n  z-index: 9223372036854775807;\n}\n.int64-over {\n  z-index: 9223372036854775808;\n}</code></pre>\n<hr>\n<p>調べている際に、検証用に理想的なサンドボックスがあったので<a href=\"http://jsfiddle.net/bdukes/76MCf/2/show/\">こちら</a>から丸々拝借した。</p>\n<p>ありがとうございます。</p>\n<h3>Firefox (32bit)</h3><ul>\n<li><code>9223372036854775807</code> を指定しても <code>2147483647</code> として評価される</li>\n<li>インスペクタで <code>9223372036854775807</code> を指定してみても <code>2147483647</code> に変わる</li>\n<li><code>922337203685477580**7**</code> と <code>922337203685477580**8**</code> を指定すると、それぞれ <code>2147483647</code> になる</li>\n<li>同数値の場合、要素の重なりは、後に記述したものが上になる (z-index:2 でも同じ動作をする)<br><strong>Firefox (32bit) の上限は 2147483647</strong></li>\n</ul>\n<h3>Chrome</h3><h4>32bit / 64bit</h4><p>両者とも同じ動きをした。</p>\n<ul>\n<li>developer Tools で確認すると <code>9223372036854775807</code> の値はセットされている</li>\n<li><code>922337203685477580**7**</code> と <code>922337203685477580**8**</code> を指定しても変化なし<br> (裏で 2147483647 と 2147483647 に丸められている?)</li>\n<li><code>9223372036854775807</code> と <code>214748364**6**</code> だと前者が上になる</li>\n<li><code>214748364**6**</code> と <code>214748364**5**</code> のように 32bit 整数の範囲で数値を変えると変化あり<br><strong>Chrome (32bit / 64bit) の上限は 2147483647</strong></li>\n</ul>\n<h3>まとめ</h3><p>64bit も 32bit も同じ動きだった。<br>検証不足な感も否めないが、今回は以上。</p>\n<p>Chrome は今後のアップデートとかで変わってくるかもしれないので、また調べてみる。<br>あと、Firefox も 64bit がリリースされたら調べてみる。</p>\n<hr>\n<p>仮に 64bit 整数が効いたとしても、さすがに 900 京 は必要ないかな… (アニメーションなんかする時は使うかもしれないけれど)</p>\n","excerpt":"概要 / z-index プロパティについて / 検証","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"},{"name":"Advent Calendar","slug":"Advent-Calendar","path":"tags/Advent-Calendar/"}],"prev":{"title":"[FuelPHP] CSV出力を実装する方法","path":"20141229164000.html"},"next":{"title":"[PHP] 配列の重複を消す方法","path":"20141219153319.html"}},{"title":"[PHP] 配列の重複を消す方法","path":"20141219153319.html","permalink":"https://b.0218.jp/20141219153319.html","date":"2014-12-19T15:33:19.000Z","updated":"2015-02-28T23:24:14.000Z","thumbnail":"","content":"<p><code>array_unique()</code>を使うときに気を付けること</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>前提条件</h2>\n例えば、こんな配列がある。\n\n<pre><code>Array\n(\n    [0] =&gt; 1\n    [1] =&gt; 2\n    [2] =&gt; 3\n    [3] =&gt; 4\n    [4] =&gt; 5\n    [5] =&gt; 6\n    [6] =&gt; 7\n    [7] =&gt; 8\n    [8] =&gt; 9\n    [9] =&gt; 2\n    [10] =&gt; 4\n    [11] =&gt; 6\n    [12] =&gt; 8\n    [13] =&gt; 0\n)</code></pre>\n<p>この配列は [9],[10],[11],[12] が重複している。<br>この重複した要素を削除したい。</p>\n<p>複雑な配列であればループで取り出したりする手間があるが、今回の場合は単純な配列なので関数を使う。</p>\n<h2>解決方法</h2>\n<h3>注意点</h3>\n前述のように<code>array_unique()</code>を使うのだが、この関数の注意点は<strong>添え字が飛ぶ</strong>ことである。\n\n<p>先ほどの配列をこの<code>array_unique()</code>に渡すと以下のような結果が返ってくる</p>\n<pre><code>Array\n(\n    [0] =&gt; 1\n    [1] =&gt; 2\n    [2] =&gt; 3\n    [3] =&gt; 4\n    [4] =&gt; 5\n    [5] =&gt; 6\n    [6] =&gt; 7\n    [7] =&gt; 8\n    [8] =&gt; 9\n    [13] =&gt; 0\n)</code></pre>\n<p>重複箇所の要素が消え、添え字が飛んでることがわかる。</p>\n<h3>解決方法</h3>\n添え字の飛んだ配列に<code>array_values()</code>を使う。\n\n<p><code>array_values()</code>は、数値添字をつけた配列を返してくれるので、飛んだ添え字を埋めてくれるような動きになる。</p>\n<h3>コード</h3>\n何かと使うことが多いので関数化した。\n\n<pre><code class=\"php\">public static function get_unique($array){\n    return array_values( array_unique($array) );\n}</code></pre>\n<p>以下のような値が返ってくる</p>\n<pre><code>Array\n(\n    [0] =&gt; 1\n    [1] =&gt; 2\n    [2] =&gt; 3\n    [3] =&gt; 4\n    [4] =&gt; 5\n    [5] =&gt; 6\n    [6] =&gt; 7\n    [7] =&gt; 8\n    [8] =&gt; 9\n    [9] =&gt; 0\n)</code></pre>\n","excerpt":"前提条件 / 解決方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[CSS] z-index の最大値について調べた","path":"20141220015217.html"},"next":{"title":"[Windows 10] MacTypeを使う方法","path":"20141215114240.html"}},{"title":"[Windows 10] MacTypeを使う方法","path":"20141215114240.html","permalink":"https://b.0218.jp/20141215114240.html","date":"2014-12-15T11:42:40.000Z","updated":"2015-08-08T16:26:04.000Z","thumbnail":"https://hiro0218.github.io/blog/images/Windows_10_Compare_MacType.png","content":"<p>VM 上の「Windows 10 TP」に MacType をインストールしてみた。</p>\n<p class=\"c-alert\">Windows 10 のプレビュー版である Techinical Previwe（Insider Preview）で確認をした記事だが、正式リリースされた Windows 10 でも問題なく動作したことを確認した。<small>2015/08/08</small></p>\n\n<div class=\"more js-separate\"></div>\n\n期待が高まっている「Windows 10」だけれど、フォントレンダリングに関しては、改善しているとは言え従来の Windows と差ほど変わりはなさそう。\nそうなると MacType のようなフォントレンダリングをサポートするツールが必要となってくる。\n\n<h2>インストール</h2>\n<a href=\"https://code.google.com/p/mactype/\">mactype - Google Code</a>からインストーラーをダウンロードしインストールする。\nこれまでの Windows OS と同様の手順で問題なくインストールすることができた。\n\n<h2>動作確認</h2>\n動作に問題はないか確認した。\n<a href=\"https://hiro0218.github.io/blog/images/Windows_10_Compare_MacType.png\" target=\"_blank\"><img src=\"https://hiro0218.github.io/blog/images/Windows_10_Compare_MacType.png\" alt=\"Windows_10_Compare_MacType\" width=\"1560\" height=\"565\"></a>\nVM上ではあるが、問題なくフォントレンダリングを改善してくれているようだった。\n\n<h2>おわり</h2>\nTechnical Preview での確認をしてみた。ただ今後も MacType が新しいOSである Windows 10 で上手く動いてくれる保証はない。\n","excerpt":"インストール / 動作確認 / おわり","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"MacType","slug":"MacType","path":"tags/MacType/"},{"name":"Windows 10","slug":"Windows-10","path":"tags/Windows-10/"}],"prev":{"title":"[PHP] 配列の重複を消す方法","path":"20141219153319.html"},"next":{"title":"[MySQL] 日付の範囲抽出（過去は含まず、現在未来を含む）する方法","path":"20141204150037.html"}},{"title":"[MySQL] 日付の範囲抽出（過去は含まず、現在未来を含む）する方法","path":"20141204150037.html","permalink":"https://b.0218.jp/20141204150037.html","date":"2014-12-04T15:00:37.000Z","updated":"2014-12-04T15:01:52.000Z","thumbnail":"","content":"<p>朦朧とする意識の中で作った SQL の覚書。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\n簡単な予約システム。\nfrom ～ to に  それぞれ予約時間が入っている。\n\n<h2>条件</h2>\n<ul>\n<li>to は今日以前で</li>\n<li>from は今日以後で</li>\n<li>from-to の範囲に今日を含む</li>\n</ul>\n\n<hr>\n\n<p>現在時刻: 2014/12/04 19:00</p>\n<table class=\"table\">\n<thead>\n<tr>\n  <th>　</th>\n  <th>from</th>\n  <th>　</th>\n  <th>to</th>\n</tr>\n</thead>\n<tbody><tr class=\"danger\">\n  <td class=\"text-center\">×</td>\n  <td>2014/12/02 19:00</td>\n  <td class=\"text-center\">～</td>\n  <td>2014/12/03 19:00</td>\n</tr>\n<tr class=\"danger\">\n  <td class=\"text-center\">×</td>\n  <td>2014/12/03 19:00</td>\n  <td class=\"text-center\">～</td>\n  <td>2014/12/04 18:00</td>\n</tr>\n<tr class=\"success\">\n  <td class=\"text-center\">○</td>\n  <td>2014/12/04 19:00</td>\n  <td class=\"text-center\">～</td>\n  <td>2014/12/05 19:00</td>\n</tr>\n<tr class=\"success\">\n  <td class=\"text-center\">○</td>\n  <td>2014/12/05 19:00</td>\n  <td class=\"text-center\">～</td>\n  <td>2014/12/06 19:00</td>\n</tr>\n<tr class=\"success\">\n  <td class=\"text-center\">○</td>\n  <td>2014/12/26 19:00</td>\n  <td class=\"text-center\">～</td>\n  <td>2014/12/29 19:00</td>\n</tr>\n</tbody></table>\n\n<p>表にするとこんな感じ</p>\n<h2>SQL</h2>\n<h3>MySQL</h3>\n\n<pre><code class=\"sql\">SELECT\n  *\nFROM\n  table\nWHERE\n  (column_from &amp;gt;= '2014/12/04 19:00' OR column_to &amp;gt;= '2014/12/04 19:00')</code></pre>\n<p>錯覚かもしれないけど、これでイケた。元気になったら見直ししたい。(must)</p>\n<h3>FuelPHPのクエリビルダ</h3>\nFuelPHP で作っていたので一緒に。\n\n<p>括弧の OR 条件ってクエリビルダで出来るのか分からなかったけれど、ちゃんとあった。えらい。</p>\n<pre><code class=\"php\">$now = Date::time()-&amp;gt;format('mysql');\n\nDB::select()-&amp;gt;from('table')\n            -&amp;gt;where_open()\n                -&amp;gt;where('column_from', '&amp;gt;=', $now)\n                -&amp;gt;or_where('column_to', '&amp;gt;=', $now)\n            -&amp;gt;where_close()\n            -&amp;gt;execute();</code></pre>\n","excerpt":"状況 / 条件 / SQL","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"},{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[Windows 10] MacTypeを使う方法","path":"20141215114240.html"},"next":{"title":"[AWS] EC2にWinSCPで接続する方法","path":"20141203120024.html"}},{"title":"[AWS] EC2にWinSCPで接続する方法","path":"20141203120024.html","permalink":"https://b.0218.jp/20141203120024.html","date":"2014-12-03T12:00:24.000Z","updated":"2014-12-04T15:00:55.000Z","thumbnail":"","content":"<p>AWS で発行された鍵(pem)は、WinSCP では扱えない。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>pemをppkに変換する</h2>\n<h3>PuTTY Key Generatorの場所</h3>\nPuTTY Key GeneratorはWinSCPのインストールディレクトリ直下のPuTTYにある。\n<pre>C:\\Program Files (x86)\\WinSCP\\PuTTY\\puttygen.exe</pre>\n\n<h3>PuTTY Key Generatorを使う</h3>\n<ol>\n <li>ツールメニューのConversionsからImport Keyで<code>*.pem</code>を読み込む<br>(ActionsのLoadからでもOK)\n </li><li>パスフレーズを入力する (空でも作れるけど)\n </li><li>[Save Private Key]をクリックして<code>*.ppk</code>として保存\n</li></ol>\n\n<h2>WinSCPに秘密鍵を設定する</h2>\n<ol>\n <li>パスワードの直下にある[設定(D)...]をクリックし「高度なサイトの設定」ウィンドウを開く\n </li><li>ツリーメニューのSSH-認証から[認証条件]のフィールド内の[秘密鍵(K)]から作った<code>*.ppk</code>を選択する。\n</li></ol>\n\n<p>あとは鍵を使わない場合と同じ要領で接続する。</p>\n","excerpt":"pemをppkに変換する / WinSCPに秘密鍵を設定する","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[],"prev":{"title":"[MySQL] 日付の範囲抽出（過去は含まず、現在未来を含む）する方法","path":"20141204150037.html"},"next":{"title":"[FuelPHP] Dateクラスの使い方について","path":"20141202113243.html"}},{"title":"[FuelPHP] Dateクラスの使い方について","path":"20141202113243.html","permalink":"https://b.0218.jp/20141202113243.html","date":"2014-12-02T11:32:43.000Z","updated":"2014-12-02T11:32:43.000Z","thumbnail":"","content":"<p>Date クラスを使うときに毎回調べたり、過去のソースをサルベージするのも面倒なので簡単にまとめてみる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>基本的な使い方</h2>\nDateクラスにもメソッドが色々とあるけれど、個人的によく使うものだけメモしておく。(個人的にタイムゾーンあたりは使わないので触れない)\n\n<h3>Date::forge</h3>\n<pre class=\"php\"><code>Date::forge(1417484097)</code></pre>\n\n<p>タイムスタンプを渡してやると以下のような Fuel\\Core\\Date オブジェクト を返す。</p>\n<pre>Variable #1:\n    (Object #35): Fuel\\Core\\Date ↵\n        protected server_gmt_offset (Integer): 32400\n        public display_timezone (String): \"Asia/Tokyo\" (10 characters)\n        protected timestamp (Integer): 1417484097\n        protected timezone (String): \"Asia/Tokyo\" (10 characters)\n</pre>\n\n<h3>Date::time</h3>\n<pre class=\"php\"><code>Date::time()</code></pre>\n\n<p>現在のタイムスタンプで<code>Date::forge()</code>している。<code>Date::forge( time() )</code>と同じ。<br>同様に Fuel\\Core\\Date オブジェクト が返ってくる。</p>\n<h3>Date::format</h3>\nFuel\\Core\\Dateオブジェクト (<code>Date::forge(1417484097)</code>や<code>Date::time()</code>) を指定されたフォーマットで返す(String)。\n\n<pre>Date::time()-&gt;format('mysql_date')\n// -&gt; \"2014-12-02\"\n</pre>\n\n<p>ちなみに指定できるパターンキーは以下の通り。fuel/core/config/date.php で定義されている。新たに定義を増やす場合は app/config で上書きして使えば良い。</p>\n<pre class=\"php\"><code>'patterns' =&gt; array(\n    'local'      =&gt; '%c',\n\n    'mysql'      =&gt; '%Y-%m-%d %H:%M:%S',\n    'mysql_date' =&gt; '%Y-%m-%d',\n\n    'us'         =&gt; '%m/%d/%Y',\n    'us_short'   =&gt; '%m/%d',\n    'us_named'   =&gt; '%B %d %Y',\n    'us_full'    =&gt; '%I:%M %p, %B %d %Y',\n    'eu'         =&gt; '%d/%m/%Y',\n    'eu_short'   =&gt; '%d/%m',\n    'eu_named'   =&gt; '%d %B %Y',\n    'eu_full'    =&gt; '%H:%M, %d %B %Y',\n\n    '24h'        =&gt; '%H:%M',\n    '12h'        =&gt; '%I:%M %p'\n)\n</code></pre>\n\n<p>パターンキーを使わないでもお馴染みのフォーマットで指定できる。</p>\n<pre class=\"php\"><code>Date::time()-&gt;format('%Y-%m-%d')\n// -&gt; \"2014-12-02\"\n</code></pre>\n\n<h3>Date::create_from_string</h3>\n指定の日付文字列から Fuel\\Core\\Dateオブジェクトを作成する。\n\n<pre>Date::create_from_string(\"2014-12-25\" , \"mysql_date\")</pre>\n\n<h3>Date::days_in_month</h3>\n指定の月に日数が何日あるか返す。うるう年の2月ぐらいしか使いどころがないようにも思えるが、逆にうるう年の2月にはかなり使えると思う。\n\n<pre class=\"php\"><code>Date::days_in_month(1, 2014)   // 31\nDate::days_in_month(2, 2014)   // 28\nDate::days_in_month(3, 2014)   // 31\nDate::days_in_month(4, 2014)   // 30\nDate::days_in_month(5, 2014)   // 31\nDate::days_in_month(6, 2014)   // 30\nDate::days_in_month(7, 2014)   // 31\nDate::days_in_month(8, 2014)   // 31\nDate::days_in_month(9, 2014)   // 30\nDate::days_in_month(10, 2014)  // 31\nDate::days_in_month(11, 2014)  // 30\nDate::days_in_month(12, 2014)  // 31\n</code></pre>\n\n<h3>Date::time_ago</h3>\nTwitterのツイートとかブログの記事とかの日付で重宝しそう。\n\n<pre class=\"php\"><code>Date::time_ago(strtotime(\"12 April 1964\"), strtotime(\"01 March 2012\"), 'year'); // 48 years ago</code></pre>\n\n<table class=\"table\">\n<thead>\n<tr>\n  <th>引数</th>\n  <th>説明</th>\n</tr>\n</thead>\n<tbody><tr>\n  <td>1</td>\n  <td>タイムスタンプを指定。(必須)</td>\n</tr>\n<tr>\n  <td>2</td>\n  <td>比較対象のタイムスタンプ。指定がない場合は現在時刻が適用。</td>\n</tr>\n<tr>\n  <td>3</td>\n  <td>結果の時間単位。’second’, ‘minute’, ‘hour’, ‘day’, ‘week’, ‘month’, ‘year’, ‘decade’ (10年) が指定可能。指定がない場合は、大きい単位で結果が返される。</td>\n</tr>\n</tbody></table>\n\n<p>ちなみに Date オブジェクトでも大丈夫みたい</p>\n<pre class=\"php\"><code>Date::time_ago( Date::forge(1294176140) )  // 4 years ago</code></pre>\n\n<h3>get_timestamp()</h3>\nDateオブジェクトからタイムスタンプ(int)を取得する。\n<pre class=\"php\"><code>Date::forge(1294176140)-&gt;get_timestamp(); // 1294176140</code></pre>\n<hr>\n\n<h2>おわり</h2>\nPHP の DateTimeクラスでも十分に戦えるけれど、FuelPHPの別クラスと併用するなら Dateクラスを使った方が何かと便利ではあるので、積極的に使っていきたい。\n","excerpt":"基本的な使い方 / おわり","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[AWS] EC2にWinSCPで接続する方法","path":"20141203120024.html"},"next":{"title":"[WordPress] jetpack.cssを読み込ませない方法","path":"20141201135322.html"}},{"title":"[WordPress] jetpack.cssを読み込ませない方法","path":"20141201135322.html","permalink":"https://b.0218.jp/20141201135322.html","date":"2014-12-01T13:53:22.000Z","updated":"2014-12-01T13:53:22.000Z","thumbnail":"","content":"<p>謎の jetpack.css が読み込まれていたので対処した。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>概要</h2>\n<a href=\"http://jetpack.me/\">Jetpack for WordPress</a> は、30数種類の機能をまとめたパッケージなプラグイン。中には有料の機能もあるが、大抵の機能が無料で且つ便利なものが多いのでWordPressユーザは利用している人が多いのではないだろうか。当サイトでも一部利用している。\n\n<p>以下は機能の一覧 <small>(2014/12/01 現在)</small></p>\n<ul>\n  <li>Beautiful Math</li>\n  <li>Custom Content Types</li>\n  <li>Enhanced Distribution</li>\n  <li>Extra Sidebar Widgets</li>\n  <li>Gravatar ホバーカード</li>\n  <li>Infinite Scroll</li>\n  <li>JSON API</li>\n  <li>Jetpack コメント</li>\n  <li>Jetpack シングルサインオン</li>\n  <li>Markdown</li>\n  <li>Monitor</li>\n  <li>Photon</li>\n  <li>Site Verification</li>\n  <li>Subscriptions</li>\n  <li>VideoPress</li>\n  <li>WP.me 短縮 URL</li>\n  <li>Widget Visibility</li>\n  <li>WordPress.com 統計情報</li>\n  <li>いいね</li>\n  <li>カスタム CSS</li>\n  <li>カルーセル</li>\n  <li>コンタクトフォーム</li>\n  <li>サイトアイコン</li>\n  <li>ショートコード埋め込み</li>\n  <li>スペル＆文法チェック</li>\n  <li>タイルギャラリー</li>\n  <li>パブリサイズ共有</li>\n  <li>メール投稿</li>\n  <li>モバイル用テーマ</li>\n  <li>一括検索</li>\n  <li>共有</li>\n  <li>通知</li>\n  <li>関連記事</li>\n  <li>VaultPress</li>\n</ul>\n\n<p>この手のプラグインは難しいことを考えずに導入できる所が便利である反面、裏で何をやっているのか分かり辛いところが怖いところでもある。脅威とまではいかないが、今回分かったの jetpack.css という CSS ファイルを読み込んでいること。<br>私のサイトでは<b>読まなくて問題ない</b>ファイルだたので読み込ませないようにした。</p>\n<h2>jetpack.css とは</h2>\njetpack.css は以下のように、プラグインのディレクトリから読み込まれている。\n<pre>http://～/wp-content/plugins/jetpack/css/jetpack.css?ver=3.2.1</pre>\nこのCSSファイル、minifyされているとはいえ、 52.0 KB <small>(2014/12/01 現在)</small> もある。それに CDN ならまだしも、ここで貴重な同時接続数を消費したくない。\n\n<h2>jetpack.css を取り除く</h2>\njetpackが出力する ogタグ をフックできたことを思い出す。さすが Automattic。\n考えるより [Jetpack css remove] で検索。すると <a href=\"https://www.twirlingumbrellas.com/wordpress/remove-deregister-jetpack-contact-form-styles/\">Remove / Deregister Jetpack Contact Form Styles</a> がヒット。\n\n<p>他にも色々とヒットしたが、Jetpack 3.2 には対応していない様子だったので上記のサイトを参考にした。</p>\n<h3>functions.php に追加するコード</h3>\n前述のサイトで紹介されていた以下のコードで対応できた。\n\n<pre>add_filter( 'jetpack_implode_frontend_css', '__return_false' );</pre>\n\n<p>参考: <a href=\"https://www.twirlingumbrellas.com/wordpress/remove-deregister-jetpack-contact-form-styles/\">Remove / Deregister Jetpack Contact Form Styles</a></p>\n<h2>注意点</h2>\n私の場合、 jetpack.css が必要なかったので問題ないが、jetpack.css には「カルーセル」や「関連記事」のスタイルが定義されていたので、これらデフォルトのスタイルを使用している場合は取り除かないようにするか、テーマのCSSに同じようなスタイルを追加してやる必要がある。 \n私の場合は、統計情報など管理面の機能を使用していたため影響はなかった。\n","excerpt":"概要 / jetpack.css とは / jetpack.css を取り除く / 注意点","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[FuelPHP] Dateクラスの使い方について","path":"20141202113243.html"},"next":{"title":"[コードエディタ] Bracketsが正式リリース","path":"20141105125846.html"}},{"title":"[コードエディタ] Bracketsが正式リリース","path":"20141105125846.html","permalink":"https://b.0218.jp/20141105125846.html","date":"2014-11-05T12:58:46.000Z","updated":"2014-11-05T12:58:46.000Z","thumbnail":"https://user-images.githubusercontent.com/3617124/81209911-13896480-900c-11ea-89ac-09d02c090b73.png","content":"<p><a href=\"http://brackets.io/\">Brackets</a> が正式リリースされた。<br>アップデートついでに色々とまとめてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>Bracketsとは</h2>\n\n<p><img src=\"https://user-images.githubusercontent.com/3617124/81209911-13896480-900c-11ea-89ac-09d02c090b73.png\" alt=\"brackets-logo\" loading=\"lazy\"></p>\n<p>Brackets は、Web アプリ開発向けのオープンソースコードエディタ(Adobe が一枚噛んでる)。「Adobe Edge Code」のベースになってるっぽい。</p>\n<p>Sublime Text ほど人気はないけれど、個人的には Sublime Text より使いやすくて使っている。ここ最近はかなり使いやすくなっている。</p>\n<h3>特徴</h3>\n<ul>\n<li>クロスプラットフォーム(Mac, Windows, Linux)</li>\n<li>日本語を標準サポート</li>\n<li>HTML/CSS/JavaScript/SCSS/LESSを標準サポート</li>\n<li>クイックドキュメント \nタグやスタイルに関するヘルプ表示</li>\n<li>クイック編集 \nタグを装飾するスタイルをインライン編集できるようにする(CSSファイルを開かずに済む)</li>\n<li>構文チェック(JSLint)</li>\n<li>ライブプレビュー (HTMLのリアルタイムプレビュー) \n同梱されたNode.jsが勝手にやってくれる</li>\n<li>画像のプレビュー \n相対パスの画像もインラインプレビューできる</li>\n<li>プラグイン(拡張機能)でカスタマイズ \nテーマもあるのでシンタックスハイライトも変えられる</li>\n</ul>\n\n<p>あとは<a href=\"https://github.com/adobe/brackets/wiki/How-to-Use-Brackets\">How to Use Brackets</a>に色々書いてある。</p>\n<p>シンタックスハイライトとかもいい感じで、PHP も JSON も MarkDown も大抵きちんとハイライトされる。</p>\n<p>個人サイトレベルの開発なら Brackets で十分戦えると思う。(そもそも大きめの開発なら IDE を使えばいい)</p>\n<h2>おすすめのプラグイン</h2>\n環境を構築・移行する時に必要になってくるのでメモがてら。\n\n<h3>Brackets Icons</h3>\n<blockquote>\n  File icons in Brackets’ file tree.\n</blockquote>\nファイルツリーに各ファイル形式によって違ったアイコンを付けてくれる。控えめなアイコン。\n\n<h3>Indentator</h3>\n<blockquote>\n  Re-indent a document using your current indentation settings.\n</blockquote>\n構造を崩さずにインデントを整えてくれる。\n\n<h3>Indent Guides</h3>\n<blockquote>\n  Show indent guides in the code editor.\n</blockquote>\nインデントのライン(線)を表示する。 \nインストールして有効にならない場合は以下のような感じの設定を環境設定ファイル(json)に追加してやる必要がある。\n<pre>\"brackets-indent-guides.enabled\": true,\n\"brackets-indent-guides.guideStyle\": \"dotted\"</pre>\n\n<h3>jsbeautifier</h3>\n<blockquote>\n  Beautify JavaScript, HTML, CSS, and more\n</blockquote>\n大抵の形式を整形してくれる。minifyされた奴を戻すのに便利。自動的に「保存時に整形する」のオプションもある。\n\n<h3>SVG Preview</h3>\n<blockquote>\n  Live preview SVG files in an inline panel while you edit them.\n</blockquote>\nBrackets上でSVGをプレビューしながら編集できる。\n\n<h3>Sidebar Plus</h3>\n<blockquote>\n  Hide sidebar using View-&gt;Hide Sidebar Or Ctrl+Alt+H. For immediate access, click at the left corner to open it and click on editor to collapse it\n</blockquote>\nサイドバー(作業中ファイル・ファイルツリー)を自動的に隠してくれる。 \nプラグインをインストールしたばかりの状態じゃ分かりづらいが、ツールバーの表示から「サイドバーを隠す(Ctrl+Alt+H)」で隠れるようになる。クリックで一時的に開くことができる。\n\n<h3>Rename JavaScript Identifier</h3>\n<blockquote>\n  Rename any JavaScript identifier. Place the cursor on an identifier and press Ctrl-R.\n</blockquote>\n「Ctrl+R」で変数名のリファクタリングができるようになる。\n\n<h3>Strip trailing spaces</h3>\n<blockquote>\n  A Brackets extension to strip traling whitespace at the end of the line on document save.\n</blockquote>\nツールバーの編集からチェックを入れておけば、ファイル末尾のスペースを削除してくれる。\n\n<h3>Tab To Space</h3>\n<blockquote>\n  Converts indentation to tabs or spaces.\n</blockquote>\nインデントをタブ・スペースに変換してくれる。\n\n<hr>\n\n<p>他には Emmet(入力補完)などもプラグインで対応できるのでわりと自分好みの環境が構築できる。また、Node.js を同梱しているからか、タスクランナー(Grunt/gulp)でやるような仕事も物によっては補ってくれるものも多い。</p>\n<h2>Brackets 1.0、登場!</h2>\nメジャーバージョンアップしたけれど、1.0自体には目新しい機能はあまりない模様。\n\n<blockquote>\n  <strong>カスタマイズ可能なキーボードショートカット</strong> \n  ユーザーの編集可能な JSON ファイルで、初期設定および拡張機能のショートカットのキーバインドを上書きできます。\n\n<p>  <strong>クイック編集の結果を折りたたむ</strong><br>  クイック編集の結果がファイル別にグループ化されるようになったため、不要な CSS ファイルの結果を簡単に隠すことができます。</p>\n<p>  <strong>コードヒントとクイック オープンの結果の向上</strong><br>  コードヒントとクイックオープンで入力内容の大文字と小文字に基づいて結果が提案されるようになったため、大文字または小文字を入力したときの結果が向上します。</p>\n<p>  <strong>パフォーマンスの改善</strong><br>  このリリースでは、リリース 0.44 のパフォーマンスが多くの点で改善されています。 </p>\n<footer><a href=\"https://github.com/adobe/brackets/wiki/Release-Notes:-1.0\">Release Notes: 1.0</a>より</footer>\n</blockquote>\n\n<h3>Extract (抽出)</h3>\n本体のダウンロード時に「+ Extract (Preview) by Adobe」と「without Extract」が選べるようになっている。\n\n<p>「+ Extract (Preview) by Adobe」をインストールするとプラグインに「Extract for Brackets (Preview)」が追加される。</p>\n<blockquote>\n  <strong>Extract for Brackets (Preview)</strong> \n  Brackets 内の Extract 機能のプライベートプレビュー。CSS の状況に応じたコードヒントを通じてデザインカンプからデザイン情報と アセットを抽出します。\n</blockquote>\n\n<p>先のアップデートで Photoshop や Dreamweaver に「抽出（Extract）」機能が追加されたので、これもその一環だと思われる。</p>\n<h3>機能</h3>\n<p>\n![image](https://user-images.githubusercontent.com/3617124/81212861-7e3c9f00-9010-11ea-9c1e-2c835874be79.png)\n<small><a href=\"http://helpx.adobe.com/creative-cloud/help/extract-for-brackets.html\">Work with Extract for Brackets (Preview)</a>より</small></p>\n\n<p>サンプルの PSD を簡単に触った感じだと、Photoshop から「抽出（Extract）」した PSD をプレビューしながら、そのコードヒントを取得できるような感じ。あと、そこから PSD 内の画像を抽出することもできるみたい。</p>\n<p>Adobe の公式ヘルプが<a href=\"http://helpx.adobe.com/creative-cloud/help/extract-for-brackets.html\">Work with Extract for Brackets (Preview)</a>あったので使う人は参考になるかもしれない。</p>\n<p>ヘルプを見てみるとサポートしているプロパティ一覧があった。これだけ対応していれば問題ないと思う。</p>\n<blockquote>\n  The following CSS properties are supported:\n  <ul>\n  <li>font (shorthand)</li>\n  <li>font-family</li>\n  <li>font-size</li>\n  <li>font-weight</li>\n  <li>line-height</li>\n  <li>text shadow</li>\n  <li>box shadow</li>\n  <li>opacity</li>\n  <li>transform</li>\n  <li>background (image)</li>\n  <li>background-color</li>\n  <li>border-radius</li>\n  <li>border-style</li>\n  <li>border-width</li>\n  <li>width</li>\n  <li>height</li>\n  <li>position properties top/left/bottom/right; position is relative to the document</li>\n  <li>color properties; both solid colors and gradients</li>\n  </ul>\n</blockquote>\n\n<p>こういう連携でデザイナーとコーダーの差が埋まればいいと思う。</p>\n<h2>最後</h2>\nエディタとかIDEとかは色々触ってみて自分にあった好きなものを使えばいいと思うんだけれど、BracketsはSublime Textみたいな複雑な日本語化とかが無いから簡単に触ってみたいっていう初心者にはおすすめできる。\n","excerpt":"Bracketsとは / おすすめのプラグイン / Brackets 1.0、登場! / 最後","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[],"prev":{"title":"[WordPress] jetpack.cssを読み込ませない方法","path":"20141201135322.html"},"next":{"title":"[JavaScript] セレクトボックスの選択しているテキストを取得する方法","path":"20141103152229.html"}},{"title":"[JavaScript] セレクトボックスの選択しているテキストを取得する方法","path":"20141103152229.html","permalink":"https://b.0218.jp/20141103152229.html","date":"2014-11-03T15:22:29.000Z","updated":"2018-08-25T23:38:01.000Z","thumbnail":"","content":"<p>セレクトボックスの value は POST する時は欲しいんだけれど、例えばバリデーションなんかでユーザ側に「この値を入力(選択)しましたよ」って表示したいときは text 部分の値が欲しい。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>前提</h2><p>こういうセレクトボックスがあった時に、<code>value=\"0\"</code>であれば<code>杉下右京</code>を取得したい。</p>\n<pre><code class=\"html\">&lt;select&gt;\n  &lt;option value=\"0\"&gt;杉下 右京&lt;/option&gt;\n  &lt;option value=\"1\"&gt;亀山 薫&lt;/option&gt;\n  &lt;option value=\"2\"&gt;神戸 尊&lt;/option&gt;\n  &lt;option value=\"3\"&gt;甲斐 享&lt;/option&gt;\n  &lt;option value=\"4\"&gt;冠城 亘&lt;/option&gt;\n&lt;/select&gt;</code></pre>\n<h2>実装</h2><iframe height=\"260\" scrolling=\"no\" title=\"Get SelectBox Option Text\" src=\"//codepen.io/hiro0218/embed/gdPXYE/?height=263&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/gdPXYE/'>Get SelectBox Option Text</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<pre><code class=\"js\">let result = document.querySelector(\".result\");\nlet select = document.querySelector(\"select\");\n\nselect.addEventListener(\"change\", function () {\n  let options = this.options;\n  result.textContent = options[options.selectedIndex].text;\n});</code></pre>\n<p>対象の select 要素で選択中の option 要素からテキストを取得だけ。</p>\n","excerpt":"前提 / 実装","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[コードエディタ] Bracketsが正式リリース","path":"20141105125846.html"},"next":{"title":"[FuelPHP] DBクラスの結果を1次元連想配列に変換する方法","path":"20141028155824.html"}},{"title":"[FuelPHP] DBクラスの結果を1次元連想配列に変換する方法","path":"20141028155824.html","permalink":"https://b.0218.jp/20141028155824.html","date":"2014-10-28T15:58:24.000Z","updated":"2014-10-30T14:26:07.000Z","thumbnail":"https://user-images.githubusercontent.com/3617124/50723419-bc763580-1120-11e9-824f-0534ae63eccb.png","content":"<p>多次元連想配列で返ってくるのはありがたいんだけれど、取得するカラムが 2 つだった時に 1 次元で返して欲しかったので色々したメモ。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>前提</h2><p>FuelPHP の DB クラスで結果は連想配列で取得できる。(デフォルト)</p>\n<h3>DB クラスを使う</h3><p>DB クラスを使ってテーブルの値を取得する。</p>\n<pre><code class=\"php\">$result = DB::select('user_id','user_name')-&gt;from('users')-&gt;execute();\n\n$result_array = $result-&gt;as_array();\n\nDebug::dump($result_array);</code></pre>\n<h3>取得結果</h3><p>取得した結果は以下のような感じの構成になっているはず。</p>\n<pre><code class=\"php\">array(\n   array(\n       'yamada' =&gt; '山田奈緒子'\n   ),\n   array(\n       'ueda'   =&gt; '上田次郎'\n   ),\n   array(\n       'yabe'   =&gt; '矢部謙三'\n   )\n);</code></pre>\n<p>個人的にこんな感じで欲しかったので FuelPHP のクラスを使って</p>\n<pre><code class=\"php\">array(\n  'yamada' =&gt; '山田奈緒子',\n  'ueda'   =&gt; '上田次郎',\n  'yabe'   =&gt; '矢部謙三'\n);</code></pre>\n<h2>取得</h2><p>Arr クラスの<code>assoc_to_keyval</code>を使う</p>\n<pre><code class=\"php\">$result = DB::select('user_id','user_name')-&gt;from('users')-&gt;execute();\n\n$result_array = $result-&gt;as_array();\n\n$result_array = Arr::assoc_to_keyval($result_array, 'user_id', 'user_name');</code></pre>\n<p>これで意図した配列になった。</p>\n<hr>\n<p><code>assoc_to_keyval</code>は key の添字と value の添字を指定しないといけない。ここでは DB クラスから取得してきた連想配列なのでテーブルのカラム名(物理)になっているのでそれを指定してやる必要がある。<br>これの指定をミスると空ぶってしまうので DB クエリでエイリアスを指定してやるとミスが減るかもしれない。</p>\n<pre><code class=\"php\">DB::select(array('user_id','namae'))-&gt;from('users')-&gt;execute();</code></pre>\n<h2>追記</h2><p><img src=\"https://user-images.githubusercontent.com/3617124/50723419-bc763580-1120-11e9-824f-0534ae63eccb.png\" alt=\"screenshot_2019-01-05 a pen by hiro\" loading=\"lazy\"></p>\n<h3>execute()-&gt;as_array(キー)を使う</h3><p>はてブにて、<code>id:Kenji_s</code>さんから「execute()-&gt;as_array(キー) で ok」というコメントを頂いたので<code>as_array(キー)</code>で確認してみました。</p>\n<pre><code class=\"php\">$result = DB::select('user_id','user_name')-&gt;from('users')-&gt;execute()-&gt;as_array('user_id','user_name');</code></pre>\n<p>前述と同じく意図した配列がスマートに取得できた。今後はこの方法でやることにした。</p>\n","excerpt":"前提 / 取得 / 追記","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[JavaScript] セレクトボックスの選択しているテキストを取得する方法","path":"20141103152229.html"},"next":{"title":"「Windows 10 Technical Preview」をアップデートした(Build 9860)\n","path":"20141023102545.html"}},{"title":"「Windows 10 Technical Preview」をアップデートした(Build 9860)\n","path":"20141023102545.html","permalink":"https://b.0218.jp/20141023102545.html","date":"2014-10-23T10:25:45.000Z","updated":"2014-10-23T10:25:45.000Z","thumbnail":"https://hiro0218.github.io/blog/images/Windows_10_Technical_Preview_build9860.png","content":"<p>2014 年 10 月 1 日に公開された「Windows 10 Technical Preview」の最初のアップデートがリリースされたようなので確認してみた。<br>(Build 9841 -&gt; Build 9860)</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>更新内容</h2>\n21日までに25万件以上のフィードバック、改善項目は約7,000件らしい。\n\n<blockquote><p>このビルドでは、ユーザーからのフィードバックを反映して約7000項目の改善を行った他、以下の新機能を追加した。</p><ul><li>Action Center：スマートフォンの通知センターと同じような機能で、メール着信やSNSの新投稿などを一元的に表示するもの\n</li><li>マルチディスプレイ環境でのキーボードショートカットでのアプリ移動\n</li><li>デスクトップ切り替えでのアニメーション効果\n</li></ul><footer>引用元:『<a href=\"http://www.itmedia.co.jp/news/articles/1410/22/news044.html\" target=\"_blank\">「Windows 10テクニカルプレビュー」、初アップデートで「アクションセンター」などが追加 - ITmedia ニュース</a>』より</footer>\n</blockquote>\n\n<p>他には早期アップデート設定ができるようになったみたい。<br>「Slow」や「Fast」など選べる。([PC Settings]の[Update and recovery]の[Preview builds]から)</p>\n<hr>\nちなみに今回のアップデート(Build 9860)が初めから適応されているISOは提供されない模様。\n\n<h2>アップデート</h2>\n<h3>自動アップデート</h3>\n基本的には Windows Update で自動アップデートされるみたい。\n\n<h3>アップデートする(手動)</h3>\n[PC Setting]からアップデートすることができる。\n<ul>\n <li>[PC Setting] \n  <ul>\n   <li>[Update and revovery]</li>\n   <li>[Preview builds] <br>自動で確認が始まらない場合は[Check Now]をクリックする</li>\n  </ul>\n </li>\n</ul>\nチェックが終了すると、ダウンロードができるようになる。\n\n<blockquote>Download new preview build <br>[Download Now]</blockquote>\n\n<p>[Download Now] をクリックしてダウンロードを開始する。<br>自分の環境ではそこそこ時間がかかった。<span class=\"text-muted\">(そもそも仮想環境だから遅いと言うのもあるが)</span></p>\n<p>ダウンロードが完了すると、[Install Now]が表示されるのでインストールを実行する。<br>インストールにはかなりの時間がかかった。<span class=\"text-muted\">(ちゃんとインストールが走っているのか心配になるレベル)</span></p>\n<p>インストール後、再起動し更新を適応する。これもしばらく時間がかかった。</p>\n<h2>感想</h2>\n<img src=\"https://hiro0218.github.io/blog/images/Windows_10_Technical_Preview_build9860.png\" alt=\"Windows_10_Technical_Preview_build9860\">\n<h3>アニメーション</h3>\nウィンドウを開いたり閉じたりした時のアニメーションが変わった。\n単純なフェードイン・アウトではなくてワンクッションある感じ。<span class=\"text-muted\">(的外れな例えをするなら easeIn と easeInOutBack ぐらい違う)</span>\n\n<p>軽快なアニメーションでフラットデザインにも合ってると思う。</p>\n<h3>Internet Explorer 11</h3>\n<h4>フォントレンダリング</h4>\nIEのフォントレンダリングが良い。\nこれは真っ新なWindows 10(TP)からそうだったんだけれど、他のアプリ(例えばFirefox)と比較したら段違いでフォントが綺麗に見える。(MacTypeのようなフォントレンダリングを使わないで)\n\n<p>綺麗になるのは良いが正直なところ、アプリでこんなに差が出るのも困るし、これは IE だけじゃなくて OS 全体でこのレベルで見られると嬉しい。</p>\n<h4>スクロールバー</h4>\n現状のIE11だとスクロールバーの位置はページの内側に重なっていて自動で非表示になるような動き。現状この動きだと、CSSで要素を<code>right: 0;</code>みたいなことするとスクロールバーに重なってしまうので非常に見づらかった。(MSNですらトップ上部のドロップダウンメニューもウィンドウサイズが小さいと完全に重なったりしている)\n\n<p>まぁ、これが改善されて正常に見られるような動きになった。</p>\n<hr>\n\n<p>今回、触ってて思ったんだけれど、Windows10 のデザインって<a href=\"http://www.google.com/design/spec/material-design/introduction.html\">Material Design</a>っぽい。</p>\n","excerpt":"更新内容 / アップデート / 感想","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows 10","slug":"Windows-10","path":"tags/Windows-10/"}],"prev":{"title":"[FuelPHP] DBクラスの結果を1次元連想配列に変換する方法","path":"20141028155824.html"},"next":{"title":"[FuelPHP] メソッドがPOSTかGETかを判定する方法","path":"20141020111929.html"}},{"title":"[FuelPHP] メソッドがPOSTかGETかを判定する方法","path":"20141020111929.html","permalink":"https://b.0218.jp/20141020111929.html","date":"2014-10-20T11:19:29.000Z","updated":"2014-10-20T11:19:29.000Z","thumbnail":"","content":"<p><code>post_index()</code>,<code>get_index()</code>などでルーティングできない設計の場合。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>従来の方法</h2>\n本来は以下のように接頭辞に<code>POST/GET</code>を指定することでルーティングすることができる。\n\n<pre><code class=\"php\">class Controller_Example extends Controller {\n  public function get_index() {\n    // HTTPメソッドがGETである場合に呼び出される\n  }\n\n  public function post_index() {\n    // HTTP メソッドが POST である場合に呼び出される\n  }\n}</code></pre>\n<h2>action_index()内での判定方法</h2>\n同一アクション内で<code>POST/GET</code>を判定したい場合は以下のように<code>Input::method()</code>を使用する。\n\n<pre><code class=\"php\">class Controller_Example extends Controller {\n  public function action_index() {\n      // GETの場合\n      if( Input::method() == 'GET' ) {\n\n      }\n      // POSTの場合\n      if( Input::method() == 'POST' ) {\n\n      }\n  }\n}</code></pre>\n<p>Input クラスの<code>method()</code>は HTTP メソッドを返却する。(GET, POST, DELETE なんかが取れる)</p>\n<table class=\"\">\n    <caption>method($default = 'GET')</caption>\n    <tbody>\n    <tr>\n        <th class=\"legend\">Static</th>\n        <td>Yes</td>\n    </tr>\n    <tr>\n        <th>Parameters</th>\n        <td>\n            <table class=\"parameters\">\n                <tbody><tr>\n                    <th>Param</th>\n                    <th>Default</th>\n                    <th class=\"description\">Description</th>\n                </tr>\n                <tr>\n                    <th><kbd>$default</kbd></th>\n                    <td><pre class=\"php\"><code data-result=\"[object Object]\" class=\"php\"><span class=\"string\">'GET'</span></code></pre></td>\n                    <td>Default HTTP method.</td>\n                </tr>\n            </tbody></table>\n        </td>\n    </tr>\n    <tr>\n        <th>Returns</th>\n        <td>string</td>\n    </tr>\n    <tr>\n        <th>Example</th>\n        <td>\n            <pre><code data-result=\"[object Object]\" class=\"php\">Input::method(); <span class=\"comment\">// \"GET\"</span></code></pre>\n        </td>\n    </tr>\n    </tbody>\n</table>\n引用: <a href=\"http://fuelphp.com/docs/classes/input.html\" target=\"_blank\">Input - Classes - FuelPHP Documentation</a>\n","excerpt":"従来の方法 / action_index()内での判定方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"「Windows 10 Technical Preview」をアップデートした(Build 9860)\n","path":"20141023102545.html"},"next":{"title":"[名探偵コナン] 世良真純の2番目の兄について","path":"20141019181630.html"}},{"title":"[名探偵コナン] 世良真純の2番目の兄について","path":"20141019181630.html","permalink":"https://b.0218.jp/20141019181630.html","date":"2014-10-19T18:16:30.000Z","updated":"2015-02-01T00:05:13.000Z","thumbnail":"","content":"<p>1 番上の兄は赤井秀一でほぼ確定だと思いますが(2014 年現在)、2 番目の兄は誰なのか伏線っぽいものをまとめてみました。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>2番目の兄の存在</h2>\n以下の発言からもう1人兄がいる事がわかる。\n<pre>世良「もう1人いるんだよ！」「頭キレキレの真ん中の兄貴が…」</pre>\n\n<p>続いて「死んだ兄(赤井?)やボクとは違ってパパ似だからボクとは似てないんだけどね…」と続くことから、</p>\n<ul>\n <li>1番目の兄と世良は似ていて、母似</li>\n <li>2番目の兄は父似、他の兄弟とは似ていない</li>\n</ul>\nという事がわかる。\n\n<h2>2番目の兄はコナンの存在を知っている</h2>\n以下、メールの会話\n<pre>世良「どうやら彼も真相に辿り着いたようだけど、ボクの推理と同じかどうか、最近少々自信喪失気味」\n？？「彼とは誰だ？  説明を求む！」\n世良「これが彼だよ！ 驚いた？」(コナンの写真付き)\n？？「彼なら問題はない」\n</pre>\n\n<p>世良と兄(と思われる)とのメールでのやりとりで、実際にコナンを知っていることが分かる。<br>ただ知っているだけではなく、コナンが頭の切れる少年だという事を知っている。</p>\n<h2>2番目の兄の年齢</h2>\n赤井秀一の年齢は分からないが、世良の年齢が詐称していないものをすれば、2番目の兄の年齢は17歳以上だと考えられる。\n\n<p>「赤女」の事件で、世良真純は代理で世良の兄の高校時代の友人から貸し別荘で「赤」にまつわる奇妙な出来事を解決してもらうように依頼された。<br>そこで各友人の年齢が<strong>28 ～ 29 歳</strong>だと分かる。留年などしていなければ、2 番目の兄の年齢も 28 ～ 29 歳だと思われる。</p>\n<h2>2番目の兄の候補</h2>\nここ数年で登場した、28～29歳でコナンの推理欲を知っている人物を挙げるとすると以下。\n<ul>\n <li>羽田秀吉 (28)</li>\n <li>安室透 (29)</li>\n</ul>\n\n<p>羽田秀吉については、沖矢(赤井)が「太閤名人 七冠達成!!」というニュース記事を見てニヤリとしている描写がある。兄弟かどうかは分からないが少なくとも接点はあるように思える<span class=\"text-muted\">(ただ接点という意味では安室もあるので差はないかと)</span>。<br>領域外の妹が名人戦の映っていた TV を消してご機嫌になっている描写があったが、直前に何を見ていたのか分からないので何とも言えない。</p>\n<h2>まとめ</h2>\n個人的には安室よりもチュウ吉の方が兄のように思える。\nただ、これまでの伏線を振り返ると、ジョディーがシェリーを飲んだり、沖矢がバーボンを飲んだり、読者が裏切られるパターンが多いので安易に考えない方がいいかもしれない。\n\n<h3>おまけ</h3>\n青山先生が「どうぶつの森」内で『セラちゃんはキチにいってよんでる』と明かしたらしい。\n「キチにい」が当てはまるのは秀吉だし、羽田秀吉が次男説は濃厚。\n","excerpt":"2番目の兄の存在 / 2番目の兄はコナンの存在を知っている / 2番目の兄の年齢 / 2番目の兄の候補 / まとめ","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[FuelPHP] メソッドがPOSTかGETかを判定する方法","path":"20141020111929.html"},"next":{"title":"[Linux] ユーザーを作成する方法","path":"20141016010517.html"}},{"title":"[Linux] ユーザーを作成する方法","path":"20141016010517.html","permalink":"https://b.0218.jp/20141016010517.html","date":"2014-10-16T01:05:17.000Z","updated":"2014-10-20T00:27:42.000Z","thumbnail":"","content":"<p>VPS を借りたのでユーザーを作った。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>ユーザー作成</h2>\n<h3>ユーザー追加</h3>\n<code>useradd</code>に続けて任意のユーザー名でユーザーを作る。\n<pre class=\"cmd\">[root@VPS ~]# useradd hiro</pre>\n\n<h3>パスワード設定</h3>\n<code>passwd</code>に続けて任意のユーザー名を指定してパスワードを設定する。\n<pre class=\"cmd\">[root@VPS ~]# passwd hiro\nユーザー hiro のパスワードを変更。\n新しいパスワード:\n新しいパスワードを再入力してください:\npasswd: 全ての認証トークンが正しく更新できました。\n</pre>\n\n<h2>sudo権限を付与</h2>\n<code>sudo</code>の設定ファイルを編集する\n<pre class=\"cmd\">[root@VPS ~]# visudo</pre>\n\n<p>以下を追加</p>\n<pre>hiro    ALL=(ALL)    ALL</pre>\n\n<p>分かりやすいように root の近くに追加した。<br><span class=\"text-muted\">↓ こんなのがある。</span></p>\n<pre># User privilege specification\nroot    ALL=(ALL)    ALL\n</pre>\n\n<h2>切り替え</h2>\nrootから作ったユーザーへ切り替えてみる。\n<pre class=\"cmd\">[root@VPS ~]# su hiro\n[hiro@VPS ~]$</pre>\n","excerpt":"ユーザー作成 / sudo権限を付与 / 切り替え","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Linux","slug":"Linux","path":"tags/Linux/"}],"prev":{"title":"[名探偵コナン] 世良真純の2番目の兄について","path":"20141019181630.html"},"next":{"title":"[FuelPHP] ルーティングで正規表現を使ってindexを消す方法","path":"20141014152858.html"}},{"title":"[FuelPHP] ルーティングで正規表現を使ってindexを消す方法","path":"20141014152858.html","permalink":"https://b.0218.jp/20141014152858.html","date":"2014-10-14T15:28:58.000Z","updated":"2014-10-20T11:21:13.000Z","thumbnail":"","content":"<p>かなりニッチな事案かもしれないけれど。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>前提</h2>\n<h3>構成</h3>\nユーザー画面と管理画面があって、それぞれを別々にしている構成のアプリがあった。\nコントローラはこんな感じ。\n<pre>controller\n├─admin\n│  └─user\n└─users\n    └─settings\n</pre>\n\n<p><code>admin/user</code>という機能には、ユーザーの一覧表示や新規作成、編集機能などがある。他のコントローラとの兼ね合いを考えた時にこの「ユーザー管理」のコントローラは<code>index.php</code>として各アクションに<code>action_list</code>, <code>action_new</code>, <code>action_edit</code>を追加していった。(<code>user/～</code>も同様)</p>\n<h3>URIの形式</h3>\nこの構成にしたときに困るのがURIでルーティングを設定しないでコイツを呼び出そうとすると、こんな感じになる。\n<pre>http://localhost/APP/admin/user/index/list</pre>\n\n<p>間にコントローラ名の index が入る形で格好悪い。</p>\n<h3>ルーティングをする</h3>\n<code>fuel/app/config/routes.php</code>でルーティングの設定ができる。\n<strong>前述のコントローラの構成</strong>でかつ<strong>間にindexを入れないようにする</strong>と\n<pre><code>'admin/user/list' =&gt; 'admin/user/index/list',\n'admin/user/new'  =&gt; 'admin/user/index/csv',\n'admin/user/edit' =&gt; 'admin/user/index/new',\n</code></pre>\n\n<p>単純に考えると、こんな感じで設定してやる必要がでてくる。<br>一応はこれで解決はする。</p>\n<h2>ルーティングの設定に正規表現を使う</h2>\n<code>action</code>の数だけルーティングの行数が増えていくのはつらい。\n\n<p>解決方法は<a href=\"http://fuelphp.jp/docs/1.7/general/routing.html\">公式ドキュメント(ルーティング)</a>に書いてあった。こいつは正規表現が使えるみたい。<br>今回のケースだと複雑な正規表現は書かなくて済みそうなので確認してみる。</p>\n<p>やや高度なルーティングとあるが、これを使う。難しくはない。</p>\n<blockquote>\n  <b>:any</b> - URI の任意の部分にマッチする\n<pre>'blog/(:any)' =&gt; 'blog/entry/$1', // /blog/entry_name が /blog/entry/entry_name に経路付けられる</pre>\n</blockquote>\n\n<p>サンプルを見ると<code>:any</code>の部分が<code>$1</code>に相当するみたい。</p>\n<p>これを踏まえた上で、今回の構成を吸収するように記述すると以下。</p>\n<pre>'admin/user/(:any)' =&gt; 'admin/user/index/$1',</pre>\n\n<p>これで<code>action</code>の数だけ書かないといけなかったルーティングの設定が 1 行で済むようになった。</p>\n<hr>\nまだ使うような余地はないけれど、正規表現を使ってもっと汎用的なルーティング設定もできそう。\n","excerpt":"前提 / ルーティングの設定に正規表現を使う","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"正規表現","slug":"正規表現","path":"tags/%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE/"},{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[Linux] ユーザーを作成する方法","path":"20141016010517.html"},"next":{"title":"「Windows 10 Technical Preview」をVirtualBoxにインストールしてみた所感\n","path":"20141007191925.html"}},{"title":"「Windows 10 Technical Preview」をVirtualBoxにインストールしてみた所感\n","path":"20141007191925.html","permalink":"https://b.0218.jp/20141007191925.html","date":"2014-10-07T19:19:25.000Z","updated":"2014-10-19T22:10:01.000Z","thumbnail":"","content":"<p>米国時間の 10 月 1 日に公開された Windows 10 Technical Preview。<br>さすがに実機にインストールするわけにはいかないので、VirtualBox を使ってインストールした。</p>\n\n<div class=\"more js-separate\"></div>\n\n<img src=\"images/Windows_10_Technical_Preview.png\" alt=\"Windows 10 Technical Preview\">\n<h2>環境</h2>\n<ul>\n  <li>Windows 8.1\n  </li><li>VirtualBox 4.3.12\n</li></ul>\n\n<h2>手順</h2>\n簡単にメモする(抜けがあるかもしれない)。\n\n<h3>Windows 10 Technical Previewをダウンロード</h3>\n以下の道筋でイメージのダウンロードページまで行く。\n<ol>\n <li><a href=\"http://windows.microsoft.com/ja-jp/windows/preview\" target=\"_blank\">Windows Technical Preview</a>へアクセス。[今すぐ開始] をクリック。</li>\n <li>Windows Insider Program へ着く。[Join now] をクリック、Microsoftアカウントでサインイン。<br>利用規約画面が表示されるので、内容を確認して [I Accept]。</li>\n <li>Windows Technical Preview のダウンロードページが表示される。</li>\n</ol>\n<!-- http://windows.microsoft.com/ja-jp/windows/preview-download -->\n\n<p>とりあえず、<b>英語 64 ビット (x64)</b>をダウンロードした。(残念ながら日本語は今のところない)<br>イメージのファイル名はこんな感じ。</p>\n<pre>WindowsTechnicalPreview-x64-EN-US.iso</pre>\n\n<h3>VirtualBoxにインストールする</h3>\n<ul>\n<li>VirtualBoxを起動して[新規(N)]ボタンをクリック\n  <ul>\n  <li>仮想マシンの作成\n    <ul>\n    <li>名前とオペレーティングシステム\n      <ul>\n      <li>名前: 任意 (例：Windows 10 TP)</li>\n      <li>タイプ: [Microsoft Windows]</li>\n      <li>バージョン: [Windows 8.1 (64bit)]</li>\n      </ul>\n    </li>\n    <li>メモリーサイズ\n      <ul>\n      <li>2048MB</li>\n      </ul>\n    </li>\n    <li>ハードドライブ\n      <ul>\n      <li>仮想ハードドライブを作成する</li>\n      </ul>\n    </li>\n    <li>ハードドライブのファイルタイプ\n      <ul>\n      <li>VDI(VirtualBox Disk Image)</li>\n      </ul>\n    </li>\n    <li>物理ハードドライブにあるストレージ\n      <ul>\n      <li>可変サイズ</li>\n      </ul>\n    </li>\n    <li>ファイルの場所とサイズ\n      <ul>\n      <li>初期値(サイズは25.00GBにした)</li>\n      </ul>\n    </li>\n    </ul>\n  </li>\n  </ul>\n</li>\n<li>作ったマシンを選択して[起動(T)]ボタンをクリック\n  <ul>\n  <li>起動ハードディスクを選択\n    <ul>\n    <li>ダウンロードした WindowsTechnicalPreview-x64-EN-US.iso を指定</li>\n    <li>[起動]</li>\n    </ul>\n  </li>\n  </ul>\n</li>\n</ul>\n<ul>\n<li>Windows Setup\n  <ul>\n  <li>Time and currency format: Japanese (Japan)</li>\n  <li>Keyboard or input method: Microsoft IME</li>\n  <li>Keyboard Type: Japanese Keyboard (106/109 Key)</li>\n  <li>[Install now]\n    <ul>\n    <li>License terms \n      <ul>\n      <li>I accept the license terms</li>\n      </ul>\n    </li>\n    <li>Which type of installation do you want?\n      <ul>\n      <li>Custom: Install Windows only (advanced)</li>\n      <li>ハードディスクはそのまま[Next]</li>\n      </ul>\n    </li>\n    </ul>\n  </li>\n  </ul>\n</li>\n</ul>\nあとはMicrosoftアカウントの設定とかOne Driveどうするかの設定がある。\nこれらの設定が完了すると、<pre>You can get new apps from the Store</pre>って表示が前面にでてくるので、待っているとデスクトップ画面が表示されて完了。\n\n<p>日本語のアプリケーションなども問題なくインストールして起動することができた。言語が英語だけれど、試してみる分には全く支障はない。</p>\n<h2>感想</h2>\nよくWindows 10の新機能で挙げられている以下の機能は簡単に試してみた。\n<ul>\n <li>スタートメニューの復活</li>\n <li>仮想デスクトップ</li>\n <li>画面分割表示の強化</li>\n</ul>\n\n<p>詳しくは「<a href=\"http://cloud.watch.impress.co.jp/docs/special/20141007_670072.html\" target=\"_blank\">【特別企画】「PC での使い勝手は大幅に改善」、Windows 10 ファーストインプレッション (企業にとっては Windows 10 は使いやすそう？) - クラウド Watch</a>」あたりを見る方が分かりやすいかも。(触ってない人は)</p>\n<hr>\n感想としては、「Windows 8をよりよくした」といった印象。「<strong>Windows 8のあるべき姿</strong>」を体現したというか、これが本来の「Windows 8」ではないかと思った。\n<span class=\"text-muted\">そもそも、「ウィンドウズ」なのに「Modern UI(メトロ)」が前面に出てくるって…、それは「モーダンズ」じゃないか。</span>\n\n<p>まず、Windows 8/8.1 の感想を述べておくと、酷評されているほど悪くはない。ショートカットキーやランチャーを普段から使う自分にとってスタートメニューの有無やメトロ UI などはさほど問題ではなかった。Windows としては色々と痒い所に手が届くので嫌いではない(起動も早いし)。<s>ただ、BIOS とか Hyper-V とか、開発する時に設定するときに色々とアレな部分が多くてトータルするとクソかなと思ったりもしている。</s></p>\n<p>Windows 10、より良くなっているが、Windows 8/8.1 の次のバージョンには違いないので、やっぱり Windows 7/XP ユーザはなかなか簡単には受け入れられないのではないかとも思ってしまう。とはいえ、従来の Windows らしさを取り戻した感じはかなりある。Windows 8/8.1 ほど癖はないので、Windows Vista/7 ユーザは Windows 10 に移行した方がストレスは少なさそう。</p>\n<p>まだまだ目新しい機能はないので、今後のリリースに期待することにする。<br>Windows 8/8.1 でフォントレンダリングがほんの少しマシになったので、この調子でフォントレンダリングにも力を入れてほしい。</p>\n","excerpt":"環境 / 手順 / 感想","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"VirtualBox","slug":"VirtualBox","path":"tags/VirtualBox/"},{"name":"Windows 10","slug":"Windows-10","path":"tags/Windows-10/"},{"name":"Windows 8","slug":"Windows-8","path":"tags/Windows-8/"}],"prev":{"title":"[FuelPHP] ルーティングで正規表現を使ってindexを消す方法","path":"20141014152858.html"},"next":{"title":"[PHP] 日付から年・月・日を取り出す方法","path":"20141007162420.html"}},{"title":"[PHP] 日付から年・月・日を取り出す方法","path":"20141007162420.html","permalink":"https://b.0218.jp/20141007162420.html","date":"2014-10-07T16:24:20.000Z","updated":"2015-02-28T23:24:18.000Z","thumbnail":"","content":"<p>データベースに入った日付を取得して、<strong>年・月・日</strong>のセレクトボックスにセットするときに作った。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\nデータベースには以下のようなフォーマットで格納されている。\n<pre>1970-02-18</pre>\n\n<pre><code class=\"php\">// DBから日付を取得した(仮定)\n$birthday = '1970-02-18';\n\n// 改めてフォーマットをハイフン区切りにする\n$birthday = date('Y-m-d', strtotime($birthday));\n\n// ハイフン区切りで取り出す\nlist($year, $month, $day) = explode('-', $birthday);</code></pre>\n<ol>\n<li>念のため、処理の前に Y-m-d（ハイフン区切り）にフォーマットしておく。</li>\n<li>ハイフンで区切って配列に突っ込んで取り出す。</li>\n</ol>\n<p><code>array[0]</code>, <code>array[1]</code>, <code>array[2]</code>みたいな感じでアクセスしてもいいけど、面倒なので<code>list()</code>で一気にやる。</p>\n<p>この手の奴は共通関数化しておく。</p>\n","excerpt":"方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"「Windows 10 Technical Preview」をVirtualBoxにインストールしてみた所感\n","path":"20141007191925.html"},"next":{"title":"[jQuery] 空のGETパラメータを送信しない方法","path":"20141007135727.html"}},{"title":"[jQuery] 空のGETパラメータを送信しない方法","path":"20141007135727.html","permalink":"https://b.0218.jp/20141007135727.html","date":"2014-10-07T13:57:27.000Z","updated":"2015-02-28T22:25:26.000Z","thumbnail":"","content":"<p>フォーム内の未入力の Input などのパラメータを精査する。</p>\n<div class=\"c-alert\">jQueryを使わない方法は、「<a href=\"https://b.0218.jp/20170409220848.html\">[JavaScript] 空のGETパラメータを送信しない方法</a>」</div>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<p>少し前に「<a href=\"https://b.0218.jp/20140930104851.html\">[PHP] GET で渡された空白パラメータを削除する方法</a>」という記事を書いた。<br>これはサーバサイドで<code>GET</code>の値を直接操作する方法で個人的にあまりやりたくない方法だった。</p>\n<p>そこでも書いているけれど、そもそも<strong>フロント側で空のパラメータは送信しなければ良い</strong>のでは無いかと考えていた。</p>\n<h2>方法</h2>\nサブミット時に空のパラメータだけ削除して送信する。\n\n<h3>jQueryプラグイン</h3>\n結果として、軽く調べるとjQueryプラグインがあったので大人しくそれを使うことにする。\n\n<p><a href=\"https://github.com/guimihanui/jQuery-cleanQuery\" target=\"_blank\">jQuery cleanQuery</a></p>\n<pre><code class=\"js\">$(\"form\").cleanQuery();</code></pre>\n<p>使い方は、上記のように指定のフォームに対して cleanQuery()をあてがうだけ。</p>\n<p>詳しい解説は<a href=\"http://qiita.com/guimihanui/items/1aeab53b3776ebec97ab\" target=\"_blank\">HTML - 値が空のパラメータがクエリー文字列に入らない GET のフォーム - Qiita</a>にあったので引用しておく。</p>\n<p>内部的には、サブミット時に以下の流れで処理をしている。</p>\n<ol>\n  <li>サブミットを中止</li>\n  <li>フォーム内のパラメータを取得</li>\n    <ul>\n      <li>取得したパラメータから値が空のものを取り除く</li>\n    </ul>\n  <li>正規化したパラメータをフォームのactionにくっ付けて遷移させる(GET)</li>\n</ol>\n\n<pre><code class=\"javascript\">/*\n * jQuery cleanQuery 2013-03-23\n * Authored by guimihanui\n * Licensed under the MIT License (http://www.opensource.org/licenses/mit-license.php)\n */\n\n(function ($) {\n  function cleanQuery(query) {\n    var arr = [];\n    $.each(query.split(\"&amp;\"), function (i, param) {\n      if (param.split(\"=\")[1]) {\n        arr.push(param);\n      }\n    });\n    return arr.join(\"&amp;\");\n  }\n\n  $.fn.cleanQuery = function () {\n    this.on(\"submit\", function (event) {\n      event.preventDefault();\n\n      var query = cleanQuery($(this).serialize());\n      location.href = this.action + \"?\" + query;\n    });\n\n    return this;\n  };\n})(jQuery);</code></pre>\n<h3>改変</h3>\n改悪かも。途中まで自分の作っていたコードもあったのだけれど、こちらのコードをベースに要件に沿うような形で改変させてもらった。(フォームを弄る別のソースと混ぜ込んだ形で使いたかったのでプラグインから切り離した)\n\n<pre><code class=\"javascript\">$(\".clean-query\").on(\"submit\", function (e) {\n  e.preventDefault();\n\n  var query = $(this).serialize();\n\n  location.href =\n    this.action +\n    \"?\" +\n    (function () {\n      var arr = [];\n      $.each(query.split(\"&amp;\"), function (i, p) {\n        if (p.split(\"=\")[1]) {\n          arr.push(p);\n        }\n      });\n      return arr.join(\"&amp;\");\n    })();\n});</code></pre>\n<p>やってる事は全く同じだけど、ここでしか使われない<code>cleanQuery()</code>を新たに記述するのもアレだったのでクロージャしてる。</p>\n<p>普通に使うのであれば大人しくプラグインを使った方が良いかもしれない。</p>\n","excerpt":"方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[PHP] 日付から年・月・日を取り出す方法","path":"20141007162420.html"},"next":{"title":"[JavaScript] Stringを判定する関数","path":"20141007002731.html"}},{"title":"[JavaScript] Stringを判定する関数","path":"20141007002731.html","permalink":"https://b.0218.jp/20141007002731.html","date":"2014-10-07T00:27:31.000Z","updated":"2015-10-10T17:25:50.000Z","thumbnail":"","content":"<p>PHP でいう<code>is_string</code>みたいなやつ。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>ソース</h2>\n<pre class=\"javascript\"><code>function isString(obj) {\n  return (typeof (obj) === \"string\" || obj instanceof String);\n}</code></pre>\n<code>isString</code>に噛ませてやれば<code>Boolean</code>で返してくれる。\n\n<h3>文字列型</h3>\n<pre class=\"javascript\"><code>var str = \"String\";\n\n</code><p><code>alert( isString(str) );<br>// -&gt; true<br></code></p></pre><p></p>\n<h3>数値型</h3>\n<pre class=\"javascript\"><code>var int = 0;\n\n</code><p><code>alert( isString(int) );<br>// -&gt; false<br></code></p></pre><p></p>\n","excerpt":"ソース","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[jQuery] 空のGETパラメータを送信しない方法","path":"20141007135727.html"},"next":{"title":"[MySQL] データベースと各テーブルのサイズ(容量)を確認する方法","path":"20141003140923.html"}},{"title":"[MySQL] データベースと各テーブルのサイズ(容量)を確認する方法","path":"20141003140923.html","permalink":"https://b.0218.jp/20141003140923.html","date":"2014-10-03T14:09:23.000Z","updated":"2014-10-03T14:09:23.000Z","thumbnail":"","content":"<p>DB の容量を確認する事案が出たので調べてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>データベースのサイズを確認する</h2>\n<h3>MB単位</h3>\n<pre class=\"sql\">SELECT\n    table_schema,\n    sum (data_length + index_length) / 1024 / 1024 as MB\nFROM\n    information_schema.tables\nGROUP BY\n    table_schema\nORDER BY\n    sum (data_length + index_length) desc;</pre>\n\n<pre class=\"cmd\">mysql&gt; SELECT table_schema, sum(data_length+index_length) /1024 /1024 as MB FROM information_schema.tables GROUP BY table_schema ORDER BY sum(data_length+index_length) desc;\n+--------------------+---------------+\n| table_schema       | MB            |\n+--------------------+---------------+\n| weather            | 3599.71875000 |\n| information_schema |    0.00878906 |\n+--------------------+---------------+\n2 rows in set (8.41 sec)\n</pre>\n\n<h3>GB単位</h3>\n<pre class=\"sql\">SELECT\n    table_schema,\n    sum (data_length + index_length) / 1024 / 1024 / 1024 as GB\nFROM\n    information_schema.tables\nGROUP BY\n    table_schema\nORDER BY\n    sum (data_length + index_length) desc;</pre>\n\n<pre class=\"cmd\">mysql&gt; SELECT table_schema, sum(data_length+index_length) /1024 /1024/1024 as GB FROM information_schema.tables GROUP BY table_schema ORDER BY sum(data_length+index_length) desc;\n+--------------------+----------------+\n| table_schema       | GB             |\n+--------------------+----------------+\n| weather            | 3.515350341797 |\n| information_schema | 0.000008583069 |\n+--------------------+----------------+\n2 rows in set (3.40 sec)\n</pre>\n\n<h2>特定のデータベースのサイズを確認する</h2>\n<pre class=\"sql\">SELECT\n    table_name,\n    engine,\n    table_rows as tbl_rows,\n    avg_row_length as rlen,\n    floor ((data_length + index_length) / 1024 / 1024) as allMB_総容量,\n    floor ((data_length) / 1024 / 1024) as dMB_データ容量,\n    floor ((index_length) / 1024 / 1024) as iMB_インデックス容量\nFROM\n    information_schema.tables\nWHERE\n    table_schema = database()\nORDER BY\n    (data_length + index_length) desc;</pre>\n\n<pre class=\"cmd\">mysql&gt; use weather;\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\nmysql&gt; SELECT\n    -&gt;   table_name, engine, table_rows as tbl_rows, avg_row_length as rlen,\n    -&gt;   floor((data_length+index_length)/1024/1024) as allMB_総容量,\n    -&gt;   floor((data_length)/1024/1024) as dMB_データ容量,\n    -&gt;   floor((index_length)/1024/1024) as iMB_インデックス容量\n    -&gt; FROM information_schema.tables\n    -&gt; WHERE table_schema=database()\n    -&gt; ORDER BY (data_length+index_length) desc;\n\n+------------+--------+----------+------+-----------------+---------------------+------------------------------+\n| table_name | engine | tbl_rows | rlen | allMB_総容量    | dMB_データ容量      | iMB_インデックス容量         |\n+------------+--------+----------+------+-----------------+---------------------+------------------------------+\n| ****       | InnoDB |  4748447 |  382 |            3403 |                1734 |                         1669 |\n| ******     | InnoDB |   536513 |  226 |             184 |                 115 |                           69 |\n| ******     | InnoDB |    11721 |  759 |              11 |                   8 |                            2 |\n| ******     | InnoDB |     2402 |  197 |               0 |                   0 |                            0 |\n| ******     | InnoDB |      373 |  307 |               0 |                   0 |                            0 |\n| ******     | InnoDB |      609 |  161 |               0 |                   0 |                            0 |\n| ******     | InnoDB |        5 | 3276 |               0 |                   0 |                            0 |\n| *******    | InnoDB |       23 |  712 |               0 |                   0 |                            0 |\n| *****      | InnoDB |        8 | 2048 |               0 |                   0 |                            0 |\n| ******     | InnoDB |        0 |    0 |               0 |                   0 |                            0 |\n| ******     | InnoDB |       27 |  606 |               0 |                   0 |                            0 |\n| *****      | InnoDB |        4 | 4096 |               0 |                   0 |                            0 |\n| ******     | InnoDB |        3 | 5461 |               0 |                   0 |                            0 |\n| ******     | InnoDB |        3 | 5461 |               0 |                   0 |                            0 |\n+------------+--------+----------+------+-----------------+---------------------+------------------------------+\n</pre>\n\n<h2>引用参考</h2>\n<a href=\"http://d.hatena.ne.jp/sho-yamasaki/20120405/1333640589\" target=\"_blank\">データベースとテーブルのサイズを確認する方法 - ふってもハレても</a>\n","excerpt":"データベースのサイズを確認する / 特定のデータベースのサイズを確認する / 引用参考","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[JavaScript] Stringを判定する関数","path":"20141007002731.html"},"next":{"title":"[FuelPHP] 変数などの内容を簡単に確認する方法","path":"20141002113825.html"}},{"title":"[FuelPHP] 変数などの内容を簡単に確認する方法","path":"20141002113825.html","permalink":"https://b.0218.jp/20141002113825.html","date":"2014-10-02T11:38:25.000Z","updated":"2014-11-19T15:00:03.000Z","thumbnail":"","content":"<p><code>Log::debug</code>なんかでログファイルに出力するのも手ではある。<br>ただこれだといちいちログファイルを確認しないといけないし、配列も見れない。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>確認する方法</h2>\nデバッグすれば良いんだけど、何かのついでにやりたい。\n\n<h3>Debug::dump() を使う</h3>\n例えばこんなコントローラがあったとする。\n```php\nclass Controller_Admin_User_Index extends Controller {\n  public function action_index() {\n    Debug::dump( Uri::segments() );\n  }\n}\n```\n確認したい情報を<code>Debug::dump()</code>に渡してやる。\n\n<p>例えばこんな感じで出力される。</p>\n<pre><b>APPPATH/classes/controller/admin/user.php @ line: 5</b>\n<b>Variable #1:</b>\n  (Array, 3 elements) ↵\n     <b>0</b> (String): \"<span class=\"text-danger\">admin</span>\" (5 characters)\n     <b>1</b> (String): \"<span class=\"text-danger\">users</span>\" (5 characters)\n     <b>2</b> (String): \"<span class=\"text-danger\">index</span>\" (5 characters)\n</pre>\n\n<h4>複数の変数・配列を一括で出力する</h4>\n引数に複数指定することができるのでそうする。\n```php\nDebug::dump($header, $footer);\n```\n<pre>Variable #1:\n  (Array, 4 elements) ↵\n     name (String): \"ナマーエ\" (18 characters)\n     from (String): \"2014/11/19 14:00\" (16 characters)\n     to (String): \"2014/11/29 14:30\" (16 characters)\n     point (String): \"0\" (1 characters)\n\n<p>Variable #2:<br>(Array, 1 element) ↵<br>0 (Array, 3 elements) ↵<br>title (String): “a” (1 characters)<br>type (String): “written” (7 characters)<br>choices (String): “” (0 characters)</p>\n<p></p></pre><p></p>\n","excerpt":"確認する方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[MySQL] データベースと各テーブルのサイズ(容量)を確認する方法","path":"20141003140923.html"},"next":{"title":"[PHP] GETで渡された空白パラメータを削除する方法","path":"20140930104851.html"}},{"title":"[PHP] GETで渡された空白パラメータを削除する方法","path":"20140930104851.html","permalink":"https://b.0218.jp/20140930104851.html","date":"2014-09-30T10:48:51.000Z","updated":"2015-02-28T23:24:16.000Z","thumbnail":"","content":"<p>気になって色々と試していたら出来たのでメモ。<br>たぶん自分では実装しないやつ。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n\n<pre><code class=\"php\">$_GET = array_filter($_GET, 'strlen');</code></pre>\n<p>配列内の空白を潰す要領で<code>$_GET</code>の空白値を潰して<code>$_GET</code>に入れなおす。</p>\n<hr>\nいわゆるスーパーグローバルを個人的にはこんな形でいじりたくない。\n未入力の値をサーバへ送らないようにJavaScriptなりで(フロントエンドで)制御してやる方が良いと思う。\n\n<h2>追加</h2>\nなぜ<code>$_GET</code>を弄っているのか言葉足らずだったので補足しておく。\n\n<p>単純に URI に付加されるクエリ文字列がきれいになるから。</p>\n<pre><code>?user_id=&amp;view_limit=50</code></pre>\n<p>↓</p>\n<pre><code>?view_limit=50</code></pre>\n<p>繰り返しになるけど、フロントで空のパラメータは送らないようにしよう。</p>\n","excerpt":"方法 / 追加","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[FuelPHP] 変数などの内容を簡単に確認する方法","path":"20141002113825.html"},"next":{"title":"[FuelPHP] メッセージを可変にする方法","path":"20140930103735.html"}},{"title":"[FuelPHP] メッセージを可変にする方法","path":"20140930103735.html","permalink":"https://b.0218.jp/20140930103735.html","date":"2014-09-30T10:37:35.000Z","updated":"2014-10-20T11:21:43.000Z","thumbnail":"","content":"<p>メッセージの可変値を指定文字列に置き換える方法</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>基本的に FuelPHP では Lang クラスを使ってメッセージを表示する。</p>\n<h2>使用方法</h2>\n色々と方法はあるけれど、<code>app/lang/ja/message.php</code>の<code>search_result_num</code>を読み込みたいときは、\n\n<pre><code class=\"php\">// 言語ファイルの読み込み\nLang::load('message', true);\n// 出力\necho Lang::get('message.search_result_num');</code></pre>\n<p>みたいな感じでやる。</p>\n<p>ただ、単純にこの方法で読み込んだ時はそのまま文字列を引っ張ってくるので柔軟なメッセージを返すことはできない。<br><b>message.php (例)</b></p>\n<pre class=\"linenums php\">&lt;?php\nreturn array (\n  'search_result_num' =&gt; '検索結果は●件です',\n);</pre>\n\n<h3>やりたいこと</h3>\n「検索結果は●件です」の件数部分を可変にしたい。\n\n<h2>可変値を置き換える</h2>\n<code>Lang::get</code>すると<code>String</code>が返ってくるから、それに対して置換する方法もある。\nただ、<code>Lang::get</code>にはそういうものも用意されているので、それを使う。\n\n<h3>方法</h3>\nまず、言語ファイルの方には以下のように可変値を書く。\n\n<pre><code class=\"php\">return array (\n  'search_result_num' =&gt; '検索結果は :num 件です',\n);</code></pre>\n<p>いつも通り読み込む</p>\n<pre><code class=\"php\">Lang::load('message', true);</code></pre>\n<p>出力する</p>\n<pre><code class=\"php\">echo Lang::get('message.search_result_num', array('num' =&gt; '1,200'));\n// ⇒ 検索結果は 1,200 件です</code></pre>\n<p>Lang::get の第 2 引数に、対象の可変値と渡す値を配列で指定してやる。</p>\n<p>自前で<code>replace</code>するより可読性は高いと思う。</p>\n<hr>\n一応、ドキュメントのLangクラスのページにも書いてあるけれど、パラメータが渡せることしか書いてなくて分かりづらい。\n","excerpt":"使用方法 / 可変値を置き換える","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[PHP] GETで渡された空白パラメータを削除する方法","path":"20140930104851.html"},"next":{"title":"[Windows] DNSキャッシュをクリアする方法","path":"20140929002826.html"}},{"title":"[Windows] DNSキャッシュをクリアする方法","path":"20140929002826.html","permalink":"https://b.0218.jp/20140929002826.html","date":"2014-09-29T00:28:26.000Z","updated":"2016-10-17T10:11:19.000Z","thumbnail":"","content":"<p>あまり使うことはないんだけれど、ネットワークの不調時とかドメイン変更した後とかにやる。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\nコマンドプロンプトを起動して、以下を実行。\n<pre>ipconfig /flushdns</pre>\n\n<pre class=\"cmd\">C:\\WINDOWS\\system32&gt;ipconfig /flushdns\n\nWindows IP 構成\n\nDNS リゾルバー キャッシュは正常にフラッシュされました。\n\nC:\\WINDOWS\\system32&gt;</pre>\n","excerpt":"方法","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[],"prev":{"title":"[FuelPHP] メッセージを可変にする方法","path":"20140930103735.html"},"next":{"title":"[au] 迷惑メールの報告方法","path":"20140928231211.html"}},{"title":"[au] 迷惑メールの報告方法","path":"20140928231211.html","permalink":"https://b.0218.jp/20140928231211.html","date":"2014-09-28T23:12:11.000Z","updated":"2014-09-28T23:12:11.000Z","thumbnail":"","content":"<p>長年 au を使っている。<br>迷惑メールの報告方法が曖昧だったのでまとめておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>概要</h2><table>\n<tbody>\n  <tr>\n    <th style=\"white-space: nowrap;\">宛先</th>\n    <td>au-meiwaku@kddi.com</td>\n  </tr>\n  <tr>\n    <th>対象</th>\n    <td>au携帯から送られる迷惑メールおよび、au携帯宛てに届いた迷惑メール</td>\n  </tr>\n  <tr>\n    <th>内容</th>\n    <td>以下のドメインのメールアドレスで送信されたEメールおよび、以下のドメイン宛てに送信されたEメールに関する情報<br>\n<ul><li>～@ezweb.ne.jp</li><li>～@～.ezweb.ne.jp</li></ul></td></tr><tr><th>方法</th><td>受信した携帯から転送\n    </td>\n  </tr>\n</tbody>\n</table>\n\n<h3>注釈</h3><ul>\n<li>携帯電話以外のパソコンなどからの転送情報には対応できない</li>\n<li>au 携帯以外からの迷惑メールについては、各携帯電話会社の窓口へ</li>\n</ul>\n<h2>方法</h2><p>報告する迷惑メールを前述の宛先へ、そのまま<strong>「転送」</strong>する。<span class=\"text-muted\">(件名に「Fw:」が付与されていても OK)</span></p>\n<ul>\n<li>スマホ: サーバ転送</li>\n<li>ガラケー: 転送</li>\n</ul>\n<h2>引用・参考</h2><ul>\n<li><a href=\"http://www.au.kddi.com/support/inquiry/mobile/mail/\">迷惑メール専用窓口 | スマートフォン・携帯電話に関するお問い合わせ | au</a></li>\n</ul>\n","excerpt":"概要 / 方法 / 引用・参考","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[],"prev":{"title":"[Windows] DNSキャッシュをクリアする方法","path":"20140929002826.html"},"next":{"title":"[JavaScript] Drag&Dropのイベント一覧","path":"20140927034307.html"}},{"title":"[JavaScript] Drag&Dropのイベント一覧","path":"20140927034307.html","permalink":"https://b.0218.jp/20140927034307.html","date":"2014-09-27T03:43:07.000Z","updated":"2015-02-28T22:30:28.000Z","thumbnail":"","content":"<p>例えば、<code>keyup</code>,<code>keydown</code>,<code>mouseleave</code>,<code>mouseout</code>とか色々あるけど、ドラッグ&amp;ドロップの情報がなかった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>一覧</h2>\n(本当にこれでいいのかわからないけど…)\n<b>ドラッグ＆ドロップ操作に関するイベント</b>\n<table><thead><tr><th>種類</th><th>イベント名</th><th>発生タイミング</th></tr></thead><tbody><tr><th rowspan=\"3\">ドラッグ</th><td>dragstart</td><td>ドラッグ開始時</td></tr><tr><td>drag</td><td>ドラッグ中</td></tr><tr><td>dragend</td><td>ドラッグ終了時</td></tr><tr><th rowspan=\"4\">ドロップ</th><td>dragenter</td><td>ドラッグ元の要素がドロップ可能な要素に入ったとき</td></tr><tr><td>dragover</td><td>ドラッグ元の要素がドロップ可能な要素内にあるとき</td></tr><tr><td>dragleave</td><td>ドラッグ元の要素がドロップ可能な要素から出たとき</td></tr><tr><td>drop</td><td>ドロップ中</td></tr></tbody></table>\n引用:[<a href=\"http://www.atmarkit.co.jp/ait/articles/1109/13/news144.html\" target=\"_blank\">連載：人気順に説明する初めてのHTML5開発：アドインなしで実現可能！ ドラッグ＆ドロップを使いこなそう (1/2) - ＠IT</a>]\n\n<h2>使い方</h2>\n(死ぬ)\n\n<pre><code class=\"js\">$(\"body\").on({\n  \"dragstart drag dragend dragenter dragover dragleave drop\": function (e) {\n    console.log(e);\n  },\n});</code></pre>\n","excerpt":"一覧 / 使い方","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[au] 迷惑メールの報告方法","path":"20140928231211.html"},"next":{"title":"[FuelPHP] ページネーションをBootstrapに合わせる方法","path":"20140926181854.html"}},{"title":"[FuelPHP] ページネーションをBootstrapに合わせる方法","path":"20140926181854.html","permalink":"https://b.0218.jp/20140926181854.html","date":"2014-09-26T18:18:54.000Z","updated":"2014-10-20T11:21:55.000Z","thumbnail":"","content":"<p>FuelPHP のページネーションは、デフォルトだと Bootstrap に適応されていない。<br>ただ Bootstrap の準備はされているので、特別スタイルを用意してやる必要はない。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>準備</h2>\n<code>fuel/core/config/pagination.php</code>を<code>fuel/app/config/</code>以下にコピー。\n今後は<code>fuel/app/config/</code>の<code>pagination.php</code>を編集する。\n\n<h2>Boostrapのスタイルに合わせる</h2>\nFuelPHPのページネーションのスタイルは、旧バージョンから使われている<b>default</b>の他に<b>bootstrap 3.x</b>と<b>bootstrap 2.x</b>が用意されている。\n\n<h3>ページネーションのテンプレート名</h3>\n予め用意されているテンプレートの名称は以下の通り\n<ul>\n <li>default\n </li><li>bootstrap\n </li><li>bootstrap3\n</li></ul>\n\n<h3>テンプレートを有効化する</h3>\nデフォルトでは<code>default</code>が有効になっている。\n<code>pagination.php</code>の以下の部分を\n<pre>'active' =&gt; 'default'</pre>\nbootstrap3もしくはbootstrapに書き換えればOK(使っているbootstrapに合わせる)\n<pre>'active' =&gt; 'bootstrap3'</pre>\n\n<p>私の場合は、<code>default</code>を使うことはないので以下のような感じで<code>bootstrap3</code>を<code>default</code>としている。</p>\n<pre><code>&lt;?php\n\nreturn array(\n\n    // the active pagination template\n    'active'                      =&gt; 'default',\n\n    // Twitter bootstrap 3.x template\n    'default'                   =&gt; array(\n        'wrapper'                 =&gt; \"&lt;ul class=\\\"pagination\\\"&gt;\\n\\t{pagination}\\n\\t&lt;/ul&gt;\\n\",\n\n        'first'                   =&gt; \"&lt;li&gt;{link}&lt;/li&gt;\",\n        'first-marker'            =&gt; \"««\",\n        'first-link'              =&gt; \"&lt;a href=\\\"{uri}\\\"&gt;{page}&lt;/a&gt;\",\n\n        'first-inactive'          =&gt; \"\",\n        'first-inactive-link'     =&gt; \"\",\n\n        'previous'                =&gt; \"&lt;li&gt;{link}&lt;/li&gt;\",\n        'previous-marker'         =&gt; \"«\",\n        'previous-link'           =&gt; \"&lt;a href=\\\"{uri}\\\" rel=\\\"prev\\\"&gt;{page}&lt;/a&gt;\",\n\n        'previous-inactive'       =&gt; \"&lt;li class=\\\"disabled\\\"&gt;{link}&lt;/li&gt;\",\n        'previous-inactive-link'  =&gt; \"&lt;a href=\\\"#\\\" rel=\\\"prev\\\"&gt;{page}&lt;/a&gt;\",\n\n        'regular'                 =&gt; \"&lt;li&gt;{link}&lt;/li&gt;\",\n        'regular-link'            =&gt; \"&lt;a href=\\\"{uri}\\\"&gt;{page}&lt;/a&gt;\",\n\n        'active'                  =&gt; \"&lt;li class=\\\"active\\\"&gt;{link}&lt;/li&gt;\",\n        'active-link'             =&gt; \"&lt;a href=\\\"#\\\"&gt;{page} &lt;span class=\\\"sr-only\\\"&gt;&lt;/span&gt;&lt;/a&gt;\",\n\n        'next'                    =&gt; \"&lt;li&gt;{link}&lt;/li&gt;\",\n        'next-marker'             =&gt; \"»\",\n        'next-link'               =&gt; \"&lt;a href=\\\"{uri}\\\" rel=\\\"next\\\"&gt;{page}&lt;/a&gt;\",\n\n        'next-inactive'           =&gt; \"&lt;li class=\\\"disabled\\\"&gt;{link}&lt;/li&gt;\",\n        'next-inactive-link'      =&gt; \"&lt;a href=\\\"#\\\" rel=\\\"next\\\"&gt;{page}&lt;/a&gt;\",\n\n        'last'                    =&gt; \"&lt;li&gt;{link}&lt;/li&gt;\",\n        'last-marker'             =&gt; \"»»\",\n        'last-link'               =&gt; \"&lt;a href=\\\"{uri}\\\"&gt;{page}&lt;/a&gt;\",\n\n        'last-inactive'           =&gt; \"\",\n        'last-inactive-link'      =&gt; \"\",\n    ),\n\n);</code></pre>\n","excerpt":"準備 / Boostrapのスタイルに合わせる","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"FuelPHP","slug":"FuelPHP","path":"tags/FuelPHP/"}],"prev":{"title":"[JavaScript] Drag&Dropのイベント一覧","path":"20140927034307.html"},"next":{"title":"[VAMPS] HALLOWEEN PARTY 2013のセットリスト(幕張2日目)","path":"20140926101734.html"}},{"title":"[VAMPS] HALLOWEEN PARTY 2013のセットリスト(幕張2日目)","path":"20140926101734.html","permalink":"https://b.0218.jp/20140926101734.html","date":"2014-09-26T10:17:34.000Z","updated":"2014-09-26T10:29:21.000Z","thumbnail":"","content":"<p>「2013 年 10 月 26 日(土) 千葉県 幕張メッセ国際展示場 9 ～ 11 ホール」で行われた”HALLOWEEN PARTY 2013”のセットリスト(幕張 2 日目)です。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>出演者</h2>\n<ul class=\"list-unstyled\">\n  <li><b>VAMPS</b></li>\n  <li><b>DAIGO</b></li>\n  <li><b>Tommy heavenly6</b></li>\n  <li><b>Acid Black Halloween</b> (HALLOWEEN JUNKY ORCHESTRA)\n   <ul>\n    <li>yasu (Acid Black Cherry) \n    </li><li>Shinya (DIR EN GREY) \n    </li><li>HIRO (Libraian、La'cryma Christi)\n    </li><li>Leda (ex. DELUHI)\n    </li><li>and more\n   </li></ul>\n  </li>\n  <li><b>HALLOWEEN JUNKY ORCHESTRA</b>\n   <ul>\n    <li>ROLLY\n    </li><li>青木隆治\n    </li><li>柩 (ナイトメア)\n    </li><li>明希 (シド)\n    </li><li>分島花音\n    </li><li>Anis\n    </li><li>and more\n   </li></ul>\n  </li>\n</ul>\n\n<h2>セットリスト</h2>\n<ul class=\"list-unstyled\">\n<li><b>DAIGO</b></li>\n<ol>\n<li>MARIA</li>\n<li>無限∞REBIRTH</li>\n<li>いつも抱きしめて</li>\n<li>SUMMER PARTY</li>\n</ol>\n</ul>\n\n<ul class=\"list-unstyled\">\n<li><b>Tommy heavenly6</b></li>\n<ol>\n<li>Intro\n</li><li>CALL ME PRINCESS\n</li><li>Pray\n</li><li>Lollipop Candy BAD girl\n</li><li>NEVER ENDING PARTY NIGHT\n</li><li>Hey my friend\n</li><li>Ruby Eyes\n</li></ol>\n</ul>\n\n<ul class=\"list-unstyled\">\n<li><b>Acid Black Halloween</b></li>\n<ol>\n<li>1954 LOVE/HATE\n</li><li>少女の祈り\n</li><li>罪と罰～神様のアリバイ～\n</li><li>SPELL MAGIC\n</li></ol>\n</ul>\n\n<ul class=\"list-unstyled\">\n<li><b>VAMPS</b></li>\n<ol>\n<li>RUMBLE～HALLOWEEN Ver.～\n</li><li>REVOLUTION II\n</li><li>DEVIL SIDE\n</li><li>GLAMOROUS SKY\n</li><li>HALLOWEEN PARTY～JAZZ Ver.～\n</li><li>TROUBLE\n</li><li>MIDNIGHT CELEBRATION\n</li></ol>\n</ul>\n\n<ul class=\"list-unstyled\">\n<li><b>HALLOWEEN JUNKY ORCHESTRA</b></li>\n<ol>\n<li>Penalty Waltz\n</li><li>Rhythm Game</li>\n<ul>\n<li>yasu - X (X JAPAN)\n</li><li>hyde - 叙情詩 (L'Arc〜en〜Ciel)\n</li></ul>\n\n<li>Lucy in the Sky with Diamonds\n</li><li>HALLOWEEN PARTY\n</li></ol>\n</ul>\n<hr>\n※ hydeの「叙情詩」はサビ部分をアカペラ\n\n<h2>その他</h2>\n<ul class=\"list-unstyled\">\n<li><b>青木隆治</b></li>\n<ol>\n<li>L'Arc〜en〜Cielメドレー\n</li></ol>\n</ul>\n","excerpt":"出演者 / セットリスト / その他","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"イベント","slug":"イベント","path":"tags/%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88/"}],"prev":{"title":"[FuelPHP] ページネーションをBootstrapに合わせる方法","path":"20140926181854.html"},"next":{"title":"[JavaScript] 小窓をディスプレイ中央に表示させる","path":"20140925011754.html"}},{"title":"[JavaScript] 小窓をディスプレイ中央に表示させる","path":"20140925011754.html","permalink":"https://b.0218.jp/20140925011754.html","date":"2014-09-25T01:17:54.000Z","updated":"2015-02-28T22:30:30.000Z","thumbnail":"","content":"<h2>コード</h2><pre><code class=\"js\">function openCenteringWindow() {\n  var _w = 480,\n    _h = 450,\n    _x = screen.width / 2 - _w / 2,\n    _y = screen.height / 2 - _h / 2;\n\n  window.open(\n    \"http://b.0218.jp/\",\n    \"\",\n    \"width=\" + _w + \", height=\" + _h + \", top=\" + _y + \", left=\" + _x\n  );\n  return false;\n}</code></pre>\n","excerpt":"コード","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[VAMPS] HALLOWEEN PARTY 2013のセットリスト(幕張2日目)","path":"20140926101734.html"},"next":{"title":"[JavaScript] 平仮名しか入力できないInputを実装する方法","path":"20140924165354.html"}},{"title":"[JavaScript] 平仮名しか入力できないInputを実装する方法","path":"20140924165354.html","permalink":"https://b.0218.jp/20140924165354.html","date":"2014-09-24T16:53:54.000Z","updated":"2018-08-26T14:29:23.000Z","thumbnail":"","content":"<p>“ひらがな”のみ入力許可とする Input を作ってみる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>ユースケース</h2><ul>\n<li>会員登録フォームなどの「ふりがな」</li>\n</ul>\n<h2>仕様</h2><ul>\n<li>許容文字: <code>\\u3040-\\u309f</code><br><code>ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎわゐゑをん</code></li>\n<li>ペースト許容しない</li>\n<li>ドラッグ&amp;ドロップ許容しない</li>\n</ul>\n<h2>デモ</h2><iframe height=\"260\" scrolling=\"no\" title=\"Input that only accepts Hiragana\" src=\"//codepen.io/hiro0218/embed/ZMQmYp/?height=265&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/ZMQmYp/'>Input that only accepts Hiragana</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<h2>実装</h2><pre><code class=\"javascript\">input.addEventListener(\"keyup\", function (e) {\n  let tmp = [];\n\n  this.value.split(\"\").forEach(function (item, i) {\n    if (item.match(/^[\\u3040-\\u309f]+$/)) {\n      tmp.push(item);\n    }\n  });\n\n  if (tmp.length &gt; 0) {\n    this.value = tmp.join(\"\");\n  } else {\n    this.value = \"\";\n  }\n});</code></pre>\n","excerpt":"ユースケース / 仕様 / デモ / 実装","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] 小窓をディスプレイ中央に表示させる","path":"20140925011754.html"},"next":{"title":"[JavaScript] チェックボックスとボタンのdisabledを連動させる方法","path":"20140924134842.html"}},{"title":"[JavaScript] チェックボックスとボタンのdisabledを連動させる方法","path":"20140924134842.html","permalink":"https://b.0218.jp/20140924134842.html","date":"2014-09-24T13:48:42.000Z","updated":"2018-08-25T16:43:46.000Z","thumbnail":"","content":"<p>チェックボックス(複数)のチェック状態を見て、サブミットボタンを有効・無効化させる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>ユースケース</h2><p>以下のようなケースでユーザにチェックボックスをチェックさせた上でボタンを押させたい。</p>\n<ul>\n<li>規約同意のチェックボックス</li>\n<li>サービス退会時の確認項目のチェックボックス</li>\n</ul>\n<h2>仕様</h2><ul>\n<li>チェックボックスは 1 つ〜複数</li>\n<li>チェックボックスが 1 つでもチェックされていない場合、ボタンは<code>disabled</code>(初期状態)</li>\n</ul>\n<h2>方法</h2><iframe height=\"300\" scrolling=\"no\" title=\"Linkage of checkbox and submit button\" src=\"//codepen.io/hiro0218/embed/yxeVvy/?height=317&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/yxeVvy/'>Linkage of checkbox and submit button</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<pre><code class=\"html\">&lt;input type=\"checkbox\" class=\"js-required-check\" id=\"inlineCheckbox1\" /&gt;\n&lt;button type=\"button\" disabled class=\"js-btn-submit\"&gt;Submit&lt;/button&gt;</code></pre>\n<pre><code class=\"js\">let checkboxies = document.querySelectorAll(\".js-required-check\");\nlet submitButton = document.querySelector(\".js-btn-submit\");\n\nArray.from(checkboxies, (el) =&gt; {\n  el.addEventListener(\"change\", function () {\n    if (getCheckedBoxLength() === checkboxies.length) {\n      submitButton.removeAttribute(\"disabled\");\n    } else {\n      submitButton.setAttribute(\"disabled\", \"disabled\");\n    }\n  });\n});\n\nconst getCheckedBoxLength = () =&gt;\n  document.querySelectorAll(\".js-required-check:checked\").length;</code></pre>\n","excerpt":"ユースケース / 仕様 / 方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] 平仮名しか入力できないInputを実装する方法","path":"20140924165354.html"},"next":{"title":"[サクラエディタ] SAKURAで開くを追加する","path":"20140923050840.html"}},{"title":"[サクラエディタ] SAKURAで開くを追加する","path":"20140923050840.html","permalink":"https://b.0218.jp/20140923050840.html","date":"2014-09-23T05:08:40.000Z","updated":"2016-02-19T09:39:43.000Z","thumbnail":"","content":"<p>Unicode 版か何かをインストールした場合だと、[SAKURA で開く]がコンテキストメニューに追加されなかったりするらしい。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>コンテキストメニューに追加する</h2><p>レジストリエディタを起動して、<code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\*\\shell</code> を辿って追加していくのも良いが、面倒臭いし、気軽に失敗できない。</p>\n<h3>自動的に追加させる</h3><p>コンテキストメニューが追加されるような情報の<code>.reg</code> (レジストリ情報が記載されたファイル)を実行することで自動的にキーを追加させられる。</p>\n<h3>.reg ファイル</h3><p>そもそも 32bit と 64bit でサクラエディタの格納場所が違うので区別する必要がある。<br>環境に合った以下のコードを任意の名前(*.reg)で保存して実行させれば OK</p>\n<p>現在、64bit は通常のインストーラには含まれていないので、基本的には 32bit を選択すれば良い。</p>\n<h4>32bit</h4><pre><code>Windows Registry Editor Version 5.00\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\*\\shell\\sakuraeditor\\command]\n@=\"\\\"C:\\\\Program Files (x86)\\\\sakura\\\\sakura.exe\\\" \\\"%1\\\"\"</code></pre>\n<h4>64bit</h4><pre><code>Windows Registry Editor Version 5.00\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\*\\shell\\sakuraeditor\\command]\n@=\"\\\"C:\\\\Program Files\\\\sakura\\\\sakura.exe\\\" \\\"%1\\\"\"</code></pre>\n<h2>配布</h2><p>大したものではないが、面倒なので reg ファイルを公開することにした。<br><a href=\"https://github.com/hiro0218/register-files/tree/master/oepn-with-sakura\">Github のページ</a>からダウンロードできる。</p>\n","excerpt":"コンテキストメニューに追加する / 配布","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"サクラエディタ","slug":"サクラエディタ","path":"tags/%E3%82%B5%E3%82%AF%E3%83%A9%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF/"}],"prev":{"title":"[JavaScript] チェックボックスとボタンのdisabledを連動させる方法","path":"20140924134842.html"},"next":{"title":"[Linux] コマンドを予約する方法","path":"20140923044709.html"}},{"title":"[Linux] コマンドを予約する方法","path":"20140923044709.html","permalink":"https://b.0218.jp/20140923044709.html","date":"2014-09-23T04:47:09.000Z","updated":"2014-09-23T04:47:09.000Z","thumbnail":"","content":"<p>コマンドを指定時間に実行させる。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>予約する</h2>\n<h3>atコマンドを使う</h3>\n<code>cron</code>だと指定の間隔で実行されて消えないので<code>at</code>を使う。\n<pre class=\"prettyprint\"># at 5:00 + 6 days\nat&gt; /root/hogeFoo.sh\nat&gt;\nat&gt; <eot>\njob 5 at 2014-12-23 05:00</eot></pre>\n\n<h3>確認</h3>\n<pre class=\"prettyprint\"># at -l\n5       2014-12-23 05:00 a root</pre>\n","excerpt":"予約する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Linuxコマンド","slug":"Linuxコマンド","path":"tags/Linux%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89/"}],"prev":{"title":"[サクラエディタ] SAKURAで開くを追加する","path":"20140923050840.html"},"next":{"title":"[eclipse(PDT)] 宣言が開けないときの対処法","path":"20140923043749.html"}},{"title":"[eclipse(PDT)] 宣言が開けないときの対処法","path":"20140923043749.html","permalink":"https://b.0218.jp/20140923043749.html","date":"2014-09-23T04:37:49.000Z","updated":"2014-09-23T04:37:49.000Z","thumbnail":"","content":"<p>関数の宣言が開かない。</p>\n<p>これ</p>\n<pre>ツールメニューの「ナビゲート(N)-&gt;宣言を開く(O)」\n(もしくは F3 / Ctrl+クリック)</pre>\n\n<div class=\"more js-separate\"></div>\n\n<h2>解決</h2>\nプロジェクト上で右クリックして、構成から[PHPサポート追加]をすればOK\n","excerpt":"解決","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Eclipse","slug":"Eclipse","path":"tags/Eclipse/"}],"prev":{"title":"[Linux] コマンドを予約する方法","path":"20140923044709.html"},"next":{"title":"[ブラウザ] Javaアップレットを実行許可する方法","path":"20140923042854.html"}},{"title":"[ブラウザ] Javaアップレットを実行許可する方法","path":"20140923042854.html","permalink":"https://b.0218.jp/20140923042854.html","date":"2014-09-23T04:28:54.000Z","updated":"2014-09-23T04:28:54.000Z","thumbnail":"","content":"<p>ブラウザ間の Java アプレットの実行許可について調べた。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>疑問</h2>\n「常に許可する」を選択すると、次回実行時よりアプレットが自動的に実行される。\nどうすればこれを解除できるのか…。\n\n<h2>調査したブラウザ</h2>\n<ul>\n<li>Firefox</li>\n<li>Google Chrome</li>\n</ul>\n\n<h2>調査結果</h2>\nそれぞれの設定は「サイト設定」で変更が可能。\n\n<h3>Firefox</h3>\n右クリック -&gt; ページの情報を表示 から「サイト別設定」で 「Java(TM) Platform SE7 U (例)」で確認できる。\nもしくは about:permissions から<a href=\"https://support.mozilla.org/ja/kb/how-do-i-manage-website-permissions#w_aoaiadag-web-aiaccnaegaaoaoucgoagegageggoacgaaiaoaoaeagka\">Webサイトの許可設定</a>を行う。\n\n<h3>Google Chrome</h3>\n右クリック -&gt; ページ情報を表示\n(もしくはロケーションバーの左のカギのアイコンをクリック)\n「プラグイン」の項目で確認できます\n参考: <a href=\"https://support.google.com/chrome/answer/95617?hl=ja\">https://support.google.com/chrome/answer/95617?hl=ja</a>\n","excerpt":"疑問 / 調査したブラウザ / 調査結果","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"},{"name":"Chrome","slug":"Chrome","path":"tags/Chrome/"}],"prev":{"title":"[eclipse(PDT)] 宣言が開けないときの対処法","path":"20140923043749.html"},"next":{"title":"[Apache] httpd.confの場所","path":"20140923040927.html"}},{"title":"[Apache] httpd.confの場所","path":"20140923040927.html","permalink":"https://b.0218.jp/20140923040927.html","date":"2014-09-23T04:09:27.000Z","updated":"2014-09-23T04:09:27.000Z","thumbnail":"","content":"<p>毎度、場所を忘れるのでメモ。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>httpd.conf のパス</h2>\n<pre class=\"prettyprint\">/etc/httpd/conf/httpd.conf</pre>\n","excerpt":"httpd.conf のパス","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Apache","slug":"Apache","path":"tags/Apache/"}],"prev":{"title":"[ブラウザ] Javaアップレットを実行許可する方法","path":"20140923042854.html"},"next":{"title":"[MySQL] バージョン5.1から5.5にアップデートしたら起動しない問題","path":"20140923040241.html"}},{"title":"[MySQL] バージョン5.1から5.5にアップデートしたら起動しない問題","path":"20140923040241.html","permalink":"https://b.0218.jp/20140923040241.html","date":"2014-09-23T04:02:41.000Z","updated":"2014-09-23T04:04:26.000Z","thumbnail":"","content":"<p>何も考えずに yum update したら MySQL が起動しなくなった。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>環境</h2>\nCentOS 6.5\nMySQL 5.1\n<h2>問題</h2>\n5.1から5.5にアップデート後にサービスを起動しても失敗する。\n<pre class=\"prettyprint\"># service mysqld start\nMySQL Daemon failed to start.\nStarting mysqld:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [FAILED]</pre>\nMySQLが起動しなくなった場合の対処法を色々と試すが進展なし。\n<h2>解決方法</h2>\nとりあえず、以下を記述した<code>my.cnf</code>を上書きしてみると、起動した。\n<pre>[mysqld]\ndatadir=/var/lib/mysql\nsocket=/var/lib/mysql/mysql.sock\nuser=mysql\nsymbolic-links=0\ncharacter-set-server=utf8\ndefault-storage-engine=InnoDB\n\n<p>[mysqld_safe]<br>log-error=/var/log/mysqld.log<br>pid-file=/var/run/mysqld/mysqld.pid</p>\n<p>[mysql]<br>default-character-set=utf8</p>\n<p></p></pre><br>どうやら5.5から無効になった記述があるみたい。<p></p>\n","excerpt":"環境 / 問題 / 解決方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"},{"name":"CentOS","slug":"CentOS","path":"tags/CentOS/"}],"prev":{"title":"[Apache] httpd.confの場所","path":"20140923040927.html"},"next":{"title":"[Tomcat] サービスが起動しない場合の対処法","path":"20140804145045.html"}},{"title":"[Tomcat] サービスが起動しない場合の対処法","path":"20140804145045.html","permalink":"https://b.0218.jp/20140804145045.html","date":"2014-08-04T14:50:45.000Z","updated":"2014-08-04T14:50:45.000Z","thumbnail":"","content":"<p>サービスを起動しようとすると「<strong>PID file exists, but process is not running</strong>」と出て立ち上がらない問題。<br>Tomcat が不正に kill された場合なんかに PID が残ったままで起こる。</p>\n<pre class=\"cmd\"># service tomcat6 restart\nStopping tomcat6:                                          [失敗]\nStarting tomcat6:                                          [失敗]\n\n# service tomcat6 status\nPID file exists, but process is not running                [失敗]\n</pre>\n\n<div class=\"more js-separate\"></div>\n\n<h2>解決方法</h2>\n概ね以下のような手順で起動することができる。\n<pre class=\"prettyprint\"># service httpd stop\nStopping httpd:                                            [  OK  ]\n\n<h1>rm -rf /var/lock/subysy/tomcat</h1><h1>rm -rf /var/run/tomcat.pid</h1><h1>service httpd start</h1><p>Starting httpd: [ OK ]</p>\n<h1>service tomcat start</h1><p>Starting tomcat: [ OK ]</p></pre><p></p>\n","excerpt":"解決方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Linux","slug":"Linux","path":"tags/Linux/"}],"prev":{"title":"[MySQL] バージョン5.1から5.5にアップデートしたら起動しない問題","path":"20140923040241.html"},"next":{"title":"[ShellScript] 指定の名称のファイルを再帰的に削除する方法","path":"20140720164610.html"}},{"title":"[ShellScript] 指定の名称のファイルを再帰的に削除する方法","path":"20140720164610.html","permalink":"https://b.0218.jp/20140720164610.html","date":"2014-07-20T16:46:10.000Z","updated":"2014-09-29T13:56:50.000Z","thumbnail":"","content":"<p>テンポラリファイルみたいなのを削除していくのにディレクトリを掘って消していくのは大変です。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>コード</h2>\nファイル名の先頭に\"tmp_\"が付くファイルを削除していきます。\n\n<pre><code>find -L /var/www/html/test/ -name &amp;quot;tmp_*&amp;quot; | xargs rm</code></pre>\n","excerpt":"コード","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"ShellScript","slug":"ShellScript","path":"tags/ShellScript/"},{"name":"Linux","slug":"Linux","path":"tags/Linux/"},{"name":"Linuxコマンド","slug":"Linuxコマンド","path":"tags/Linux%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89/"}],"prev":{"title":"[Tomcat] サービスが起動しない場合の対処法","path":"20140804145045.html"},"next":{"title":"[CSS] 蛍光ペンのような文字に重なった下線を引く方法","path":"20140720163748.html"}},{"title":"[CSS] 蛍光ペンのような文字に重なった下線を引く方法","path":"20140720163748.html","permalink":"https://b.0218.jp/20140720163748.html","date":"2014-07-20T16:37:48.000Z","updated":"2015-02-28T23:12:48.000Z","thumbnail":"","content":"<p><span style=\"background: linear-gradient(transparent 80%, #FF9 20%);\">蛍光ペンのような下線を引きたいと思います。</span><br><code>border</code>では上手くできないので<code>background</code>を使います。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>コード</h2>\n\n<pre><code class=\"css\">.target {\n  background: linear-gradient(transparent 80%, #ff9 20%);\n}</code></pre>\n","excerpt":"コード","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[ShellScript] 指定の名称のファイルを再帰的に削除する方法","path":"20140720164610.html"},"next":{"title":"[CSS] 選択した部分のスタイルを変える方法","path":"20140719025027.html"}},{"title":"[CSS] 選択した部分のスタイルを変える方法","path":"20140719025027.html","permalink":"https://b.0218.jp/20140719025027.html","date":"2014-07-19T02:50:27.000Z","updated":"2015-02-28T23:12:50.000Z","thumbnail":"","content":"<p>ドラッグで文字を選択した際の装飾を変更する。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>コード</h2><p>ブラウザによって記述が違う。IE8 は未対応だが、モダンブラウザであれば大抵使える。<br><a href=\"http://caniuse.com/#feat=css-selection\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Can I use… Support tables for HTML5, CSS3, etc</a></p>\n<p><code>background</code>だけじゃなくて<code>color</code>などのプロパティを指定する事もできる。</p>\n<pre><code class=\"css\">::selection {\n  background: #eee;\n}\n\n::-moz-selection {\n  background: #eee;\n}\n\n::-webkit-selection {\n  background: #eee;\n}</code></pre>\n<p>全体ではなく特定のダグに指定する場合は、以下のようにセレクタを指定する。<br>ベンダーごとの指定も同じようにする。</p>\n<pre><code class=\"css\">p::selection {\n  background: #eee;\n}</code></pre>\n","excerpt":"コード","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[CSS] 蛍光ペンのような文字に重なった下線を引く方法","path":"20140720163748.html"},"next":{"title":"[CSS] contentとかで使えるスペース","path":"20140715014510.html"}},{"title":"[CSS] contentとかで使えるスペース","path":"20140715014510.html","permalink":"https://b.0218.jp/20140715014510.html","date":"2014-07-15T01:45:10.000Z","updated":"2015-02-28T23:12:52.000Z","thumbnail":"","content":"<p>こんな風にやっても上手くスペースが入らない場合。</p>\n<pre><code class=\"css\">#hoge:after {\n  content: \" \";\n}</code></pre>\n\n<div class=\"more js-separate\"></div>\n\n<h2>使える文字列</h2>\nUnicode エスケープシーケンス(\\uXXXX)形式を指定してやる必要があります。\nスペースの場合は<code>\\00a0</code>\n\n<pre><code class=\"css\">#hoge:after {\n  content: \"\\00a0\";\n}</code></pre>\n","excerpt":"使える文字列","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[CSS] 選択した部分のスタイルを変える方法","path":"20140719025027.html"},"next":{"title":"[Java] Object型をString型に変換する","path":"20140710003131.html"}},{"title":"[Java] Object型をString型に変換する","path":"20140710003131.html","permalink":"https://b.0218.jp/20140710003131.html","date":"2014-07-10T00:31:31.000Z","updated":"2014-07-10T00:31:31.000Z","thumbnail":"","content":"<p>ぼーっと、こんな事やっちゃったので戒めとして…。</p>\n<pre class=\"java\"><code>Object obj = \"オブジェクト\";\nString str = (String)obj;\n</code></pre>\n\n<div class=\"more js-separate\"></div>\n\n<h2>Object を String に変換する</h2>\n<pre class=\"java\"><code>Object obj = \"オブジェクト\";\nString str = obj.toString();</code></pre>\n\n<h2>String を Object に変換する</h2>\n<pre class=\"java\"><code>String str = \"オブジェクト\";\nObject obj = str;</code></pre>\n","excerpt":"Object を String に変換する / String を Object に変換する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"}],"prev":{"title":"[CSS] contentとかで使えるスペース","path":"20140715014510.html"},"next":{"title":"[ACL] Sambaユーザの権限を変更する","path":"20140708234001.html"}},{"title":"[ACL] Sambaユーザの権限を変更する","path":"20140708234001.html","permalink":"https://b.0218.jp/20140708234001.html","date":"2014-07-08T23:40:01.000Z","updated":"2014-07-10T00:33:39.000Z","thumbnail":"","content":"<p>個人的なメモです。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>権限を見る</h2>\n<pre class=\"prettyprint\">$ getfacl ユーザー名</pre>\n\n<h2>権限を変える</h2>\n<pre class=\"prettyprint\">$ setfacl -m u:ユーザー名:rwx 設定ファイルのパス</pre>\n","excerpt":"権限を見る / 権限を変える","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[Java] Object型をString型に変換する","path":"20140710003131.html"},"next":{"title":"[PHP] $_FILES[hoge]がundefinedになる問題","path":"20140708232626.html"}},{"title":"[PHP] $_FILES[hoge]がundefinedになる問題","path":"20140708232626.html","permalink":"https://b.0218.jp/20140708232626.html","date":"2014-07-08T23:26:26.000Z","updated":"2015-02-28T23:24:20.000Z","thumbnail":"","content":"<p>はっきりとした理由は結局分かってはないんだけれど…。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\n1GBのファイルをアップロードできるアプリ。ファイルサイズが1GB以上の場合はエラーメッセージを返却する作り。\nしかし、1.2GBのファイルをアップロードしたときに $_FILES['hoge']が undefined になってしまった。\n\n<h2>仮説</h2>\nmemory_limit, post_max_size, upload_max_filesize のいずれか、もしくは全ての設定値が1.2GBに対して足りないため、$_FILES['hoge'] が作られないのではないか。(このとき、php.ini の設定は1GBのアップロードに最適化させていた)\n\n<h2>php.ini の設定</h2>\n1GBアップロードの想定はこんな感じで設定してた。\n<pre>memory_limit = 1230M\npost_max_size = 1130M\nupload_max_filesize = 1024M\n</pre>\n\n<p>2GB のアップロードに対応できる想定の値に変更。</p>\n<pre>memory_limit = 2460M\npost_max_size = 2260M\nupload_max_filesize = 2048M</pre>\n\n<h2>検証結果</h2>\n2GBまで対応させることで1.2GBのアップロードで問題が起きなくなった。\n1.2GBではなく2.2GBをアップロードすると同様の問題が発生するように想定できる。イタチごっこなので対応したい。\n\n<h2>対応</h2>\n「<a href=\"http://qiita.com/mpyw/items/939964377766a54d4682\" target=\"_blank\">PHP - ファイルアップロードの例外処理はこれぐらいしないと気が済まない - Qiita</a>」から丸パクリみたいな形になって恐縮だが、おおむね以下のような形で実装した。\n\n<ul>\n<li>$_FILES['upfile'] が存在するか確認</li>\n<li>$_FILES['upfile']['error'] の内容を確認\n→ 致命的っぽいエラーは Exception を投げる</li>\n<li>$_FILES['upfile']['size'] で定義した上限値との比較</li>\n</ul>\n\n<pre><code class=\"php\">try {\n    if (\n        !isset($_FILES['upfile']['error']) ||\n        !is_int($_FILES['upfile']['error'])\n    ) {\n        throw new RuntimeException('パラメータが不正です');\n    }\n\n    switch ($_FILES['upfile']['error']) {\n        case UPLOAD_ERR_OK: // OK\n            break;\n        case UPLOAD_ERR_NO_FILE:   // ファイル未選択\n            throw new RuntimeException('ファイルが選択されていません');\n        case UPLOAD_ERR_INI_SIZE:  // php.ini定義の最大サイズ超過\n        case UPLOAD_ERR_FORM_SIZE: // フォーム定義の最大サイズ超過\n            throw new RuntimeException('ファイルサイズが大きすぎます');\n        default:\n            throw new RuntimeException('その他のエラーが発生しました');\n    }\n\n    // ここで定義するサイズ上限のオーバーチェック\n    if ($_FILES['upfile']['size'] &gt; 1000000) {\n        $message = 'ファイルサイズが大きすぎます。';\n    }\n\n} catch (Exception $e) {\n    $message = $e-&gt;getMessage();\n}</code></pre>\n<p>php.ini で設定した値の上限を超えた場合、つまり今回のように $_FILES[‘hoge’] が見つからない場合は、以下の条件で拾う事ができるはず。</p>\n<pre><code>!isset($_FILES['upfile']['error'])</code></pre>\n","excerpt":"状況 / 仮説 / php.ini の設定 / 検証結果 / 対応","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[ACL] Sambaユーザの権限を変更する","path":"20140708234001.html"},"next":{"title":"[jQuery] hrefやnameなどの属性セレクタの指定方法","path":"20140630230317.html"}},{"title":"[jQuery] hrefやnameなどの属性セレクタの指定方法","path":"20140630230317.html","permalink":"https://b.0218.jp/20140630230317.html","date":"2014-06-30T23:03:17.000Z","updated":"2015-02-28T22:25:40.000Z","thumbnail":"","content":"<p>CSS で使われている前方、後方、部分一致セレクタと同じものが jQuery でも使うことが出来る。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>完全一致</h2><pre><code class=\"js\">$(\"a[href='hoge']\");</code></pre>\n<p>a 要素の href 属性の値が hoge である要素を選択</p>\n<h2>NOT(否定)</h2><pre><code class=\"js\">$(\"a[href!='hoge']\");</code></pre>\n<p>a 要素の href 属性の値が hoge でない要素を選択</p>\n<h2>前方一致</h2><pre><code class=\"js\">$(\"a[href＾='hoge']\");</code></pre>\n<p>a 要素の href 属性の値が hoge から始まる要素を選択</p>\n<h2>後方一致</h2><pre><code class=\"js\">$(\"a[href$='hoge']\");</code></pre>\n<p>a 要素の href 属性の値が hoge で終わる要素を選択</p>\n<h2>部分一致</h2><pre><code class=\"js\">$(\"a[href*='hoge']\");</code></pre>\n<p>a 要素の href 属性の値が hoge が含まれている要素を選択</p>\n","excerpt":"完全一致 / NOT(否定) / 前方一致 / 後方一致 / 部分一致","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[PHP] $_FILES[hoge]がundefinedになる問題","path":"20140708232626.html"},"next":{"title":"[JavaScript] IEでconsole.logでエラーが発生する問題の対策","path":"20140627131726.html"}},{"title":"[JavaScript] IEでconsole.logでエラーが発生する問題の対策","path":"20140627131726.html","permalink":"https://b.0218.jp/20140627131726.html","date":"2014-06-27T13:17:26.000Z","updated":"2020-07-08T22:30:33.000Z","thumbnail":"","content":"<p>以前の Internet Explorer では<code>console.log</code>は使えない（使えるようになったのは IE8 から）。</p>\n<p>本番環境で<code>console.log</code>を埋め込むことはないかもしれないが、埋め込む必要があり、旧 IE も動作環境に含める場合は下記の対応が必要になる。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>対策</h2><p>console オブジェクトと<code>console.log</code>関数を事前に作成する。</p>\n<pre><code class=\"js\">if (typeof console == \"undefined\" || typeof console.log == \"undefined\") {\n  console = {\n    log: function () {},\n  };\n}</code></pre>\n<h2>参考</h2><ul>\n<li><a href=\"http://qiita.com/1987yama3/items/c761cfc241033ffbfab5\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">JavaScript - console.log を埋め込むと IE でエラーになる - Qiita</a></li>\n<li><a href=\"http://source.pixiv.net/source/dic/javascript/pixpedia.js\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">http://source.pixiv.net/source/dic/javascript/pixpedia.js</a></li>\n</ul>\n","excerpt":"対策 / 参考","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"Internet Explorer","slug":"Internet-Explorer","path":"tags/Internet-Explorer/"}],"prev":{"title":"[jQuery] hrefやnameなどの属性セレクタの指定方法","path":"20140630230317.html"},"next":{"title":"[Adobe] aiファイルのレイヤーを保持してpsdファイルを書き出す。","path":"20140626192237.html"}},{"title":"[Adobe] aiファイルのレイヤーを保持してpsdファイルを書き出す。","path":"20140626192237.html","permalink":"https://b.0218.jp/20140626192237.html","date":"2014-06-26T19:22:37.000Z","updated":"2014-06-26T19:23:59.000Z","thumbnail":"https://hiro0218.github.io/blog/images/Photoshop-Write-Option.png","content":"<p>Illustrator の ai ファイルを Photoshop の psd ファイルに変換します。<br>Photoshop から読み込むだけだとレイヤーが維持されないのです…。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>まず、Illustrator を立ち上げて、ai ファイルを開きます。</p>\n<p>以下の手順で保存のダイアログが開きます。</p>\n<pre>ファイル -&gt; <b>書き出し</b></pre>\n\n<p>ファイルの種類は<b>[Photoshop (*.PSD)]</b>を選択し、<b>[書き出し]</b>ボタンをクリックします。</p>\n<p>以下のような[Photoshop 書き出しオプション]が表示されます。<br><img alt=\"Photoshop 書き出しオプション\" src=\"https://hiro0218.github.io/blog/images/Photoshop-Write-Option.png\"><br>このオプションの<b>[レイヤーを保持(L)]</b>を選択して<b>[OK]</b>ボタンをクリックします。</p>\n<p>以上です。</p>\n","excerpt":"","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[],"prev":{"title":"[JavaScript] IEでconsole.logでエラーが発生する問題の対策","path":"20140627131726.html"},"next":{"title":"[Linux] nkfをインストールしたときの覚書","path":"20140619152530.html"}},{"title":"[Linux] nkfをインストールしたときの覚書","path":"20140619152530.html","permalink":"https://b.0218.jp/20140619152530.html","date":"2014-06-19T15:25:30.000Z","updated":"2014-06-20T10:28:35.000Z","thumbnail":"","content":"<pre class=\"cmd\">nkf: コマンドが見つかりません</pre>\n\n<div class=\"more js-separate\"></div>\n\n<h2>インストールする方法</h2>\n以下を無心で叩く\n<pre class=\"cmd\">$ sudo yum install nkf</pre>\n\n<h2>ログ</h2>\n<pre class=\"cmd\"># sudo yum install nkf\nLoaded plugins: fastestmirror\nDetermining fastest mirrors\nepel/metalink                                            | 3.7 kB     00:00\n * base: www.ftp.ne.jp\n * epel: ftp.kddilabs.jp\n * extras: www.ftp.ne.jp\n * remi: remi.kazukioishi.net\n * updates: www.ftp.ne.jp\nbase                                                     | 3.7 kB     00:00\nepel                                                     | 4.4 kB     00:00\nepel/primary_db                                          | 6.1 MB     00:00\nextras                                                   | 3.4 kB     00:00\nremi                                                     | 2.9 kB     00:00\nremi/primary_db                                          | 689 kB     00:00\nupdates                                                  | 3.4 kB     00:00\nupdates/primary_db                                       | 3.1 MB     00:00\nzabbix                                                   |  951 B     00:00\nzabbix-non-supported                                     |  951 B     00:00\nSetting up Install Process\nResolving Dependencies\nThere are unfinished transactions remaining. You might consider running yum-complete-transaction first to finish them.\n--&gt; Running transaction check\n---&gt; Package nkf.x86_64 1:2.0.8b-6.2.el6 will be installed\n--&gt; Finished Dependency Resolution\n\n<p>Dependencies Resolved</p>\n<p>================================================================================<br>Package Arch Version Repository Size<br>================================================================================<br>Installing:<br>nkf x86_64 1:2.0.8b-6.2.el6 base 110 k</p>\n<h1>Transaction Summary</h1><p>Install 1 Package(s)</p>\n<p>Total download size: 110 k<br>Installed size: 241 k<br>Is this ok [y/N]: y<br>Downloading Packages:<br>nkf-2.0.8b-6.2.el6.x86_64.rpm | 110 kB 00:00<br>Running rpm_check_debug<br>Running Transaction Test<br>Transaction Test Succeeded<br>Running Transaction<br>Installing : 1:nkf-2.0.8b-6.2.el6.x86_64 1/1<br>Verifying : 1:nkf-2.0.8b-6.2.el6.x86_64 1/1</p>\n<p>Installed:<br>nkf.x86_64 1:2.0.8b-6.2.el6</p>\n<p>Complete!</p></pre><p></p>\n<p>これで nkf が使える。</p>\n<pre class=\"cmd\">$ # rpm -qa | grep nkf\nnkf-2.0.8b-6.2.el6.x86_64</pre>\n\n<pre class=\"cmd\">$ nkf -g test.csv\nASCII (LF)</pre>\n","excerpt":"インストールする方法 / ログ","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Linux","slug":"Linux","path":"tags/Linux/"}],"prev":{"title":"[Adobe] aiファイルのレイヤーを保持してpsdファイルを書き出す。","path":"20140626192237.html"},"next":{"title":"[JavaScript] 先頭の文字だけ大文字に変換する方法","path":"20140619145855.html"}},{"title":"[JavaScript] 先頭の文字だけ大文字に変換する方法","path":"20140619145855.html","permalink":"https://b.0218.jp/20140619145855.html","date":"2014-06-19T14:58:55.000Z","updated":"2016-11-09T15:42:07.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>仕様</h2><p>指定文字（英字）の最初の文字を”大文字”に変換する。</p>\n<p>hoge -&gt; <strong>H</strong>oge</p>\n<h3>キャメルケース（余談）</h3><p>先頭大文字 ≠ キャメルケース</p>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>表記例</th>\n<th>備考</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>アッパーキャメルケース<br>（パスカルケース）</td>\n<td>GetInputReader</td>\n<td>複合語の先頭を、大文字で書き始める</td>\n</tr>\n<tr>\n<td>ローワーキャメルケース<br>（単にキャメルケース）</td>\n<td>getInputReader</td>\n<td>複合語の先頭を、小文字で書き始める</td>\n</tr>\n</tbody></table>\n<p><a href=\"https://ja.wikipedia.org/wiki/%E3%82%AD%E3%83%A3%E3%83%A1%E3%83%AB%E3%82%B1%E3%83%BC%E3%82%B9\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">キャメルケース - Wikipedia</a> より引用。</p>\n<h2>コード</h2><pre><code class=\"javascript\">function toUpperFirstLetter(str) {\n  return str.charAt(0).toUpperCase() + str.substring(1).toLowerCase();\n}</code></pre>\n<p>先頭の文字を<code>toUpperCase()</code>で大文字に変換し、先頭の文字以外を<code>toLowerCase()</code>で小文字に変換している。</p>\n","excerpt":"仕様 / コード","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","path":"tags/JavaScript/"}],"prev":{"title":"[Linux] nkfをインストールしたときの覚書","path":"20140619152530.html"},"next":{"title":"[JavaScript] ドキュメント上の全角文字を置き換える方法","path":"20140616221048.html"}},{"title":"[JavaScript] ドキュメント上の全角文字を置き換える方法","path":"20140616221048.html","permalink":"https://b.0218.jp/20140616221048.html","date":"2014-06-16T22:10:48.000Z","updated":"2015-02-28T22:30:31.000Z","thumbnail":"","content":"<p>HTML ドキュメント上に存在する全角文字列を特定の文字に置き換えます。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>コード</h2>\n\n<pre><code class=\"js\">var zenkaku = /(?:[　！”＃＄％＆’（）＊＋，－．／：；＜＝＞？＠［￥］＾＿‘｛｜｝￣])|(?:[、。・゛゜´｀¨ヽヾゝゞ〃仝々〆〇ー―‐＼～～∥…‥“〔〕〈〉《》「」『』【】±×÷≠≦≧∞∴♂♀°′″℃￠￡§☆★○●◎◇◇◆□■△▲▽▼※〒→←↑↓〓])|(?:[０-９])|(?:[Ａ-Ｚ])|(?:[ａ-ｚ])|(?:[ぁ-ん])|(?:[ァ-ヶ])|(?:[Α-Ωα-ω])|(?:[А-Яа-я])|(?:[\\u2570-\\u25ff])|(?:[\\u3400-\\u4dbf\\u4e00-\\u9fff\\uf900-\\ufaff])/g;\ndocument.body.innerHTML = document.body.innerHTML.replace(zenkaku, \"*\");</code></pre>\n<h2>説明</h2>\n全角文字の正規表現は<a href=\"https://gist.github.com/tricknotes/3888158\">JavaScript での全角・半角の正規表現</a>から拝借しました。\n(「半角以外」みたいな正規表現でもいいかも)\n全角文字列を指定の文字(ここでは*)に置換しているだけです。\n","excerpt":"コード / 説明","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] 先頭の文字だけ大文字に変換する方法","path":"20140619145855.html"},"next":{"title":"[JavaScript] 文字を指定の文字列で置き換える","path":"20140616215208.html"}},{"title":"[JavaScript] 文字を指定の文字列で置き換える","path":"20140616215208.html","permalink":"https://b.0218.jp/20140616215208.html","date":"2014-06-16T21:52:08.000Z","updated":"2015-02-28T22:30:53.000Z","thumbnail":"","content":"<p>「あいうえお」を”*“(アスタリスク)で置き換えたい場合の奴です。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>コード</h2>\n<pre class=\"javascript\"><code>function repeatDesignate(a, b) {\n  return b.repeat(a.length);\n}</code></pre>\n特に引数のチェックをしてないので必要に応じてチェックしてください。\n\n<h3>使い方</h3>\n「あいうえお」を\"*\"(アスタリスク)で置き換えたい場合は以下のように指定します。\n<pre class=\"javascript\"><code>repeatDesignate(\"あいうえお\", \"*\");</code></pre>\nこれで「*****」が返ってきます。\n\n<p>使いどころは今のところ考えてないです…。</p>\n","excerpt":"コード","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] ドキュメント上の全角文字を置き換える方法","path":"20140616221048.html"},"next":{"title":"[PHP] ファイルパスから名称(ベースネーム)を取得する","path":"20140610162538.html"}},{"title":"[PHP] ファイルパスから名称(ベースネーム)を取得する","path":"20140610162538.html","permalink":"https://b.0218.jp/20140610162538.html","date":"2014-06-10T16:25:38.000Z","updated":"2015-02-28T23:24:36.000Z","thumbnail":"","content":"<p>以下のようなパスであれば</p>\n<pre>/usr/local/test/hoge.txt</pre>\n\n<p>→<b>hoge.txt</b></p>\n<p>以下のようなパスであれば</p>\n<pre>/usr/local/test/</pre>\n\n<p>→<b>test</b></p>\n<p>このように取得したいと思います。</p>\n<p>basename(ベースネーム)は pathinfo()関数で取得できるのですが、マルチバイトが含まれてる場合にどうも動きがよくありません。<span class=\"text-muted\">(PHP のバージョンアップで解消される問題ではあるようなのですが)</span><br>ですので、今回は自前でベースネームを取得する関数を実装します。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>ベースネーム取得関数</h2>\n<pre class=\"php\"><code>\nfunction get_basename($path) {\n  // スラッシュ区切りで配列に格納\n  $path_array = explode('/', $path);\n  // 空の要素を排除する\n  $path_array = array_filter($path_array, \"strlen\");\n  // 一番後ろの文字列を取得\n  return array_pop($path_array);\n}\n</code></pre>\n\n<h3>簡単な解説</h3>\n<b>/usr/local/test/hoge.txt</b>を「/」で区切って配列へ格納。\n<pre class=\"php\"><code>Array\n(\n    [0] =&gt; \n    [1] =&gt; usr\n    [2] =&gt; local\n    [3] =&gt; test\n    [4] =&gt; hoge.txt\n)</code></pre>\n\n<p>0 番目に空文字も格納されているのでそれを削除。</p>\n<p>最後に追加された文字を取得。(ここでは 4 番目)</p>\n<h2>使い方</h2>\n<pre class=\"php\"><code>\n$path = '/usr/local/test/hoge.txt';\nget_basename($path);\n// =&gt; hoge.txt\n</code></pre>\n","excerpt":"ベースネーム取得関数 / 使い方","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[JavaScript] 文字を指定の文字列で置き換える","path":"20140616215208.html"},"next":{"title":"[PHP] ファイルサイズを数値に直す関数","path":"20140610145031.html"}},{"title":"[PHP] ファイルサイズを数値に直す関数","path":"20140610145031.html","permalink":"https://b.0218.jp/20140610145031.html","date":"2014-06-10T14:50:31.000Z","updated":"2015-02-28T23:24:34.000Z","thumbnail":"","content":"<p>以前、<a href=\"https://b.0218.jp/20140424142720.html\">[JavaScript] ファイルサイズを数値に直す関数</a>という記事を書きましたが、今回はその PHP 版です。</p>\n<p>大まかな使用は前述の記事と同じです。</p>\n<pre>6B\n102KB\n2,500KB\n800MB\n2GB\n1TB\n</pre>\n\n<p>上記のような文字列にある程度対応できるような関数になります。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>ファイルサイズ変換関数</h2>\n<pre class=\"php\"><code>function filesize_format($size) {\n  // 変数宣言\n  $mul = 1024;\n  $suf_array = array();\n  $suf = '';\n  $num_array = array();\n  $num = 0;\n\n<p>  // カンマを外す<br>  $size = str_replace(‘,’, ‘’, $size);</p>\n<p>  // 単位を判定<br>  preg_match(‘/(B|KB|MB|GB|TB)/i’, $size, $suf_array);<br>  isset($suf_array[0]) ? $suf = strtoupper($suf_array[0]) : $suf;</p>\n<p>  // 数値を取り出す<br>  preg_match(‘/^[0-9]+(.[0-9]+)?/‘, $size, $num_array);<br>  isset($num_array[0]) ? $num = intval($num_array[0]) : $num;</p>\n</code><p><code>  // 計算<br>  switch ($suf) {<br>      case “B”:<br>      default :<br>          return $num;<br>      case “KB”:<br>          return $num * pow($mul, 1);<br>      case “MB”:<br>          return $num * pow($mul, 2);<br>      case “GB”:<br>          return $num * pow($mul, 3);<br>      case “TB”:<br>          return $num * pow($mul, 4);<br>  }<br>}</code></p></pre><br>指定文字のカンマを外して、数値と単位に分けて、単位によって計算をして値を返します。<p></p>\n<h2>使い方</h2>\n<pre class=\"php\"><code>$size = '2,048KB';\nfilesize_format($size);\n// =&gt; 2097152</code></pre>\n","excerpt":"ファイルサイズ変換関数 / 使い方","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[PHP] ファイルパスから名称(ベースネーム)を取得する","path":"20140610162538.html"},"next":{"title":"[JavaScript] アニメーションなしでページトップへスクロールさせる方法","path":"20140608173124.html"}},{"title":"[JavaScript] アニメーションなしでページトップへスクロールさせる方法","path":"20140608173124.html","permalink":"https://b.0218.jp/20140608173124.html","date":"2014-06-08T17:31:24.000Z","updated":"2015-03-13T03:19:38.000Z","thumbnail":"","content":"<p>今はページトップへの移動は、jQuery を使ったアニメーションスクロールが主流な感じです。 逆に JavaScript でただトップに移動させる方法を忘れてしまっていたのでメモです。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>jQuery を使ったスムーズスクロール</h2><p><code>$('body, html')</code>に関して深くは言及しないとして、こんな感じのコードを使われてることが多いかと思います。</p>\n<pre><code class=\"js\">$(\"body, html\").animate({ scrollTop: 0 }, 1500, \"linear\");</code></pre>\n<h2>JavaScript のページトップ移動</h2><p>アニメーションを省いて<code>scrollTop</code>に 0 を指定しているだけで、結果的にやってることは同じです。</p>\n<pre><code class=\"js\">document.body.scrollTop = document.documentElement.scrollTop = 0;</code></pre>\n<h3>注意</h3><p><code>body</code>に<code>scroll-behavior: smooth;</code>を指定しているとスムーズスクロール(惰性)になってしまうのでそれを意図しない場合は注意。</p>\n<pre><code class=\"css\">body {\n  scroll-behavior: smooth;\n}</code></pre>\n","excerpt":"jQuery を使ったスムーズスクロール / JavaScript のページトップ移動","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[PHP] ファイルサイズを数値に直す関数","path":"20140610145031.html"},"next":{"title":"[名探偵コナン] 赤井秀一(沖矢昴)が死んでる間にやってたこと","path":"20140607013751.html"}},{"title":"[名探偵コナン] 赤井秀一(沖矢昴)が死んでる間にやってたこと","path":"20140607013751.html","permalink":"https://b.0218.jp/20140607013751.html","date":"2014-06-07T01:37:51.000Z","updated":"2017-05-03T03:23:39.000Z","thumbnail":"","content":"<p>劇場版(異次元の狙撃手)を皮切りに「緋色シリーズ」で<b>赤井秀一</b>が<b>沖矢昴</b>と同一人物だということが判明しました。(ようやくの公式発表)</p>\n<p>そこで赤井秀一が来葉峠でキールに射殺され後、沖矢昴は何をしていたのか。正体を隠して生活している間、何をしていたのか振り返りたいと思います。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>一覧</h2>\n最新83巻までまとめました。\n<table>\n<thead>\n<tr>\n<th>事件名/コミックス</th>\n<th>やってたこと</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><b>赤白黄色と探偵団／W暗号ミステリー</b>\n<ul>\n   <li>第60巻\nFile3「赤白黄色」\nFile4「クロシロ君」\nFile5「新たな隣人」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>大家の子供に「赤い人」とアダ名を付けられる</li>\n   <li>住んでたアパートを放火される</li>\n   <li>子供(灰原)に無駄にプレッシャーを与える</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>推理対決! 新一vs.沖矢昴</b>\n<ul>\n   <li>第61巻\nFile8「紙飛行機」\nFile9「メッセージ」File10「レスキュー」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>紙飛行機に書かれた謎を解く</li>\n   <li>ニヤつきながらバーボンを飲む</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>魚が消える一角岩</b>\n<ul>\n   <li>第64巻\nFile1「一角岩」\nFile2「サバ・コイ・タイ・ヒラメ」\nFile3「殺気」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>船首に無表情で立ちながら登場</li>\n   <li>博士の代わりに子供たちを迎えに来る</li>\n   <li>海に落ちそうになった子供(灰原)を助ける</li>\n   <li>子供たちにごちそうを振る舞う約束をする</li>\n   <li>犯人にハッタリをかます</li>\n   <li>人質になった子供(歩美)を助ける</li>\n   <li>バーボンを飲みながらニヤける</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>黒き13の暗示[サジェスト]</b>\n<b>迫る黒の刻限[タイムリミット]</b>\n<b>赤く揺れる照準[ターゲット]</b>\n<ul>\n   <li>第67巻\nFile4「危険なエリア」\nFile5「赤と13の暗示」\nFile6「爆弾犯の狙い」\nFile7「吹雪の中の真実」\nFile8「静かなる戦い」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>赤井似の男(バーボンの変装)を発見してニヤける（自分の変装を見てニヤける）</li>\n   <li>狙撃準備をしているキャンティーを見つけて鼻で笑う</li>\n   <li>レストランに入って「爆弾で占拠されているのに何かを口にする気にはなれない」と言って出て行く</li>\n   <li>「(組織の人間には)熱くて苦いコーヒーをご馳走してやりたい」などと急に意味不明な事を言い出してウェイトレスを困らせる</li>\n   <li>ジョディとぶつかって「注意を怠った君にも否がある」と説教</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>緊急事態２５２</b>\n<ul>\n   <li>第72巻\nFile2「要救助者」\nFile3「危険なかくれんぼ」\nFile4「通話コード」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>阿笠邸を見張る</li>\n   <li>阿笠邸に勝手に入る</li>\n   <li>阿笠邸の電話を勝手に取る</li>\n   <li>カレーを作りすぎる</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>動画サイト誘拐事件</b>\n<ul>\n   <li>第74巻\nFile2「動画サイト」\nFile3「壺と猫」\nFile4「歩美の痕跡」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>2階の窓から外を覗く</li>\n   <li>子供(灰原・元太・光彦)の後をつける</li>\n   <li>阿笠邸を盗聴する</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>探偵たちの夜想曲[ノクターン]</b>\n<b>[事件／誘拐／推理／バーボン]</b>\n<ul>\n   <li>第76巻\nFile1「コロンボでの待ち合わせ」\nFile2「縒り合わせられた嘘と謎」\nFile3「探偵たちの夜想曲（ノクターン）」\nFile4「子供の好奇心と探偵の探究心」\nFile5「立体交差の思惑」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>クリームシチューのおすそ分けをしにくる</li>\n   <li>電話を盗み聞きする</li>\n   <li>ドライブ中にハンドルから手を離し、ドアから身を乗り出す謎の危険運転をして存在感をアピール</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>泡と湯気と煙</b>\n<ul>\n   <li>第77巻\nFile3「部屋にいた痕跡」\nFile4「泡と湯気と煙」\nFile5「商売道具」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>子供(コナン・灰原)をスキーに送る\nついでに一緒にスキー滑ろうとする</li>\n   <li>車で寝る（寝たふり?）</li>\n   <li>手を伸ばしてくるギリギリまで待って灰原の手を握る</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>工藤優作の未解決事件[コールド・ケース]</b>\n<ul>\n   <li>第77巻\nFile6「工藤優作の未解決事件［コールド・ケース]」\nFile7「金一君」\nFile8「コナン君だよね？」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>正体を隠してるくせに推理して目立つ</li>\n   <li>新一(コナン)の電話を盗み聞きしてニヤリ</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>灰原の秘密に迫る影</b>\n<ul>\n   <li>第77巻\nFile9「自分の領分」\nFile10「窮地の烽煙」\nFile11「灯下の孤影」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>\"バーボン\"でもないくせに、バーボン飲みながら毛利探偵事務所のPCをハッキング</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>漆黒の特急[ミステリートレイン]</b>\n<b>[発車／隧道／交差／終点]</b>\n<ul>\n   <li>第78巻\nFile1「ミステリートレイン[発車]」\nFile2「ミステリートレイン[隧道]」\nFile3「ミステリートレイン[一等]」\nFile4「ミステリートレイン[交差]」\nFile5「ミステリートレイン[遮断]」\nFile6「ミステリートレイン[排煙]」\nFile7「ミステリートレイン[終点]」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>女優(工藤有希子)とミステリートレインに乗ってる</li>\n   <li>女子小学生(灰原哀)を追い回して「姉妹だけあって行動が手に取るように分かる」とかドヤ顔で言っちゃう</li>\n   <li>バーボンに容赦なく手榴弾を投げる</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td><b>甘く冷たい宅配便</b>\n<ul>\n   <li>第80巻\nFile2「未配達の荷物」\nFile3「猫の宅配便」\nFile4「工藤様方配達便」</li>\n</ul>\n</td>\n<td>\n<ul>\n   <li>密かにコナンにスマホを渡す（クール便）</li>\n   <li>2階の窓から外を覗く（二度目）</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\nその後、緋色シリーズで正体が明かされます。\n\n<h2>番外</h2>\n「探偵たちの夜想曲[ノクターン］」でクリームシチューをお裾分けした昴さんに衝撃の事実が…。\n\n<ul><li>第89巻\nFile-11「握られたハサミ」</li></ul>\n<blockquote>沖矢「少々肉ジャガを作り過ぎてしまったようで…　お裾分けに…」\n(中略)\n灰原「いいけど……1人で残って出来損ないのこの料理を食べろっていうわけね？」\n沖矢「マズかったですか？」\n灰原「<b>この前あなたがお裾分けしてくれたクリームシチュー…　野菜が全然煮込まれてなくて…</b>」\n（中略）\n沖矢「ただ料理が不得手なだけですよ…　なんなら我々が帰るまで煮込み直して頂けると助かります…　入れた食材や調味料は間違ってないと思いますから…」\n灰原「……」\n</blockquote>\n\n<p>事件に関わりたいから出来損ないの料理を持ってきて…って感じなんだけれど、律儀に作ってるんだ…。冷凍でも作り置きでもしておけば良いじゃない……詰めが甘すぎるよ…。</p>\n<h2>結論</h2>\n<ul>\n   <li>お料理大好き<small>(作り過ぎる)</small></li>\n   <li>ポエム大好き</li>\n   <li>盗み聞き大好き</li>\n   <li>子供大好き<small>(面倒見がいい)</small></li>\n</ul>\n昴さん、女子力高い。\n<h2>余談</h2>\nたまに週末だけ有希子と暮らしていたらしい。\n\n<p>昴さん、大学行こう。</p>\n","excerpt":"一覧 / 番外 / 結論 / 余談","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[JavaScript] アニメーションなしでページトップへスクロールさせる方法","path":"20140608173124.html"},"next":{"title":"[WordPress] RSSフィードのdescriptionの文字数を調整する方法","path":"20140606103058.html"}},{"title":"[WordPress] RSSフィードのdescriptionの文字数を調整する方法","path":"20140606103058.html","permalink":"https://b.0218.jp/20140606103058.html","date":"2014-06-06T10:30:58.000Z","updated":"2015-10-07T11:30:11.000Z","thumbnail":"","content":"<p>RSS で配信する description は全文配信したくない方もいらっしゃるかと思います。</p>\n<p>そもそも日本語だと抜粋にしても不具合でうまく自動抜粋できなかったりするようですが…</p>\n<blockquote><b>抜粋の不具合</b>\n\n<p>単語間のスペース区切りで文字数をカウントしているため、本文が日本語の場合に自動抜粋がうまく短縮されません（手動抜粋、ティーザーには影響なし）。</p>\n<div align=\"right\">引用元:『<a href=\"http://goo.gl/FAeQ36\">日本語・マルチバイト特有の問題 - WordPress Codex 日本語版</a>』より</div>\n</blockquote>\n今回はコードを追加して任意の文字数で抜粋できるようにしたいと思います。\n\n<div class=\"more js-separate\"></div>\n\n<h2>追加するコード</h2>\nフィードでの各投稿の表示はフックできるようなので、以下のコードを<code>functions.php</code>に追加してみてください。\n\n<pre class=\"php\"><code>function adjust_text_for_feeds($content) {\n  return wp_trim_words($content, 100, '…');\n}\n\nadd_filter('the_excerpt_rss', 'adjust_text_for_feeds');\nadd_filter('the_content_feed', 'adjust_text_for_feeds');</code></pre>\n\n<h3>簡単な解説</h3>\nWordPressの独自関数:<code>wp_trim_words</code>で投稿内容をトリムします。\nちなみにWordPress 3.3以上でないと、この関数は実装されていないので注意。PHPで文字列省略する方法は「<a href=\"20140406203749.html\">[WordPress] 文字列を簡単に省略する方法</a>」に記載しています。\n\n<p>第二引数: 抜粋する文字数を指定<br>第三引数: 省略した際に付与したい文字列を指定可。(デフォルト値: <code>…</code>)</p>\n","excerpt":"追加するコード","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[名探偵コナン] 赤井秀一(沖矢昴)が死んでる間にやってたこと","path":"20140607013751.html"},"next":{"title":"[JavaScript] 要素を上から落ちるように表示させる方法","path":"20140604103343.html"}},{"title":"[JavaScript] 要素を上から落ちるように表示させる方法","path":"20140604103343.html","permalink":"https://b.0218.jp/20140604103343.html","date":"2014-06-04T10:33:43.000Z","updated":"2018-08-28T22:56:38.000Z","thumbnail":"","content":"<p>特定の要素を上から順々に表示していく。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>デモ</h2><iframe height=\"480\" scrolling=\"no\" title=\"an element appear to fall from above\" src=\"//codepen.io/hiro0218/embed/pObLQy/?height=477&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/pObLQy/'>an element appear to fall from above</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<h2>実装</h2><pre><code class=\"css\">.poping {\n  transform: none;\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.hide {\n  opacity: 0;\n  transform: translateY(-150%);\n}</code></pre>\n<pre><code class=\"js\">let target = document.querySelectorAll(\".poping\");\nlet count = 1;\n\nArray.from(target, (el) =&gt; {\n  setTimeout(() =&gt; {\n    el.classList.remove(\"hide\");\n  }, 400 * count++);\n});</code></pre>\n","excerpt":"デモ / 実装","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[WordPress] RSSフィードのdescriptionの文字数を調整する方法","path":"20140606103058.html"},"next":{"title":"[ShellScript] 空白を詰めてイコールの次の値を取得する方法","path":"20140603103349.html"}},{"title":"[ShellScript] 空白を詰めてイコールの次の値を取得する方法","path":"20140603103349.html","permalink":"https://b.0218.jp/20140603103349.html","date":"2014-06-03T10:33:49.000Z","updated":"2014-06-20T10:28:53.000Z","thumbnail":"","content":"<p>イコールの後にスペースを入れたり入れなかったりする輩がいて、単純にイコール後の値を取得できない場合も想定できるかと思います。<br>(それはそれで別の問題が発生しそうですが)</p>\n<p>そういう場合を想定して、予め空白を詰めて、イコールの次の値を取得します。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>始めに</h2>\nSambaの設定ファイル<b>smb.conf</b><small>(/etc/samba/smb.conf)</small>を例に解説したいと思います。\n\n<p><b>smb.conf</b>を覗くとこんな感じで設定値が書き込まれています。</p>\n<pre class=\"cmd\">workgroup = WORKGROUP\nserver string = Suzume ga Samba\nnetbios name = TEST\n</pre>\n\n<p>ここでは<b>workgroup</b>の値を取得します。</p>\n<h2>通常通り取得する</h2>\n以下のコマンドは、<code>awk</code>でスペース区切りの3番目の文字を取得します。\n<pre class=\"prettyprint\">grep \"workgroup \" /etc/samba/smb.conf | awk '{print $3}'</pre>\n\n<p>この場合、スペースの数によって値がズレてしまいます。<br>単純にイコールの次の値を取得すれば取得ミスは起こらないと思います。</p>\n<h2>イコールの次の値を取得する</h2>\n<code>sed</code>でスペースを潰して、<code>awk</code>の区切り文字を<code>=</code>に変えて2番目の文字を取得しています。\n<pre class=\"prettyprint\">grep \"workgroup \" /etc/samba/smb.conf | sed \"s/ //g\" | awk -F'=' '{print $2}'</pre>\n\n<p>これで憂慮せず<b>WORKGROUP</b>が取得できるかと思います。</p>\n","excerpt":"始めに / 通常通り取得する / イコールの次の値を取得する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"ShellScript","slug":"ShellScript","path":"tags/ShellScript/"},{"name":"Linux","slug":"Linux","path":"tags/Linux/"}],"prev":{"title":"[JavaScript] 要素を上から落ちるように表示させる方法","path":"20140604103343.html"},"next":{"title":"[PHP] startsWith, endsWith を実装する","path":"20140514163237.html"}},{"title":"[PHP] startsWith, endsWith を実装する","path":"20140514163237.html","permalink":"https://b.0218.jp/20140514163237.html","date":"2014-05-14T16:32:37.000Z","updated":"2015-02-28T23:24:31.000Z","thumbnail":"","content":"<p>Java で何の気なしに使っていた <code>startsWith</code>, <code>endsWith</code>。<br>PHP で同様のことをしようと思ったのですが、これに相当するメソッドはないんですね。<br>そういえば<code>preg_match</code>とかでチェックしていたような覚えがあります。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>そもそもstartsWith, endsWith とは</h2>\n<strong>指定の文字列で始まる/終わるかを判定するメソッド</strong>です。\n<blockquote>\n  <big><b>startsWith</b></big>\n  <pre>public boolean <b>startsWith</b>(String&nbsp;prefix)</pre>\n  <dl>\n  <dd>この文字列が、指定された接頭辞で始まるかどうかを判定します。\n  <p>\n  </p></dd><dd><dl>\n  </dl>\n  </dd>\n  <dd><dl>\n  <dt><b>パラメータ:</b></dt><dd><code>prefix</code> - 接頭辞\n  </dd><dt><b>戻り値:</b></dt><dd>引数によって表される文字シーケンス、この文字列によって表される文字シーケンスの接頭辞である場合は <code>true</code>、そうでない場合は <code>false</code>。引数が空の文字列の場合や、<a href=\"../../java/lang/String.html#equals(java.lang.Object)\"><code>equals(Object)</code></a> メソッドによる判定においてこの <code>String</code> オブジェクトに等しい場合にも <code>true</code> が返される</dd><dt><b>導入されたバージョン:</b></dt>\n    <dd>1. 0</dd>\n  </dl>\n  </dd>\n  </dl>\n  <hr>\n  <big><b>endsWith</b></big>\n  <pre>public boolean <b>endsWith</b>(String&nbsp;suffix)</pre>\n  <dl>\n  <dd>この文字列が、指定された接尾辞で終るかどうかを判定します。\n  <p>\n  </p></dd><dd><dl>\n  </dl>\n  </dd>\n  <dd><dl>\n  <dt><b>パラメータ:</b></dt><dd><code>suffix</code> - 接尾辞\n  </dd><dt><b>戻り値:</b></dt><dd>引数によって表される文字シーケンスが、このオブジェクトによって表される文字シーケンスの接尾辞である場合は <code>true</code>、そうでない場合は <code>false</code>。引数が空の文字列の場合や、<a href=\"../../java/lang/String.html#equals(java.lang.Object)\"><code>equals(Object)</code></a> メソッドによる判定においてこの <code>String</code> オブジェクトに等しい場合にも、結果は <code>true</code> になる</dd></dl>\n  </dd>\n  </dl>\n</blockquote>\n引用: <a href=\"http://docs.oracle.com/javase/jp/6/api/java/lang/String.html\">String (Java Platform SE 6)</a>\n\n<h3>使い方</h3>\n```java\nboolean result = str.startsWith(\"abc\");\nboolean result = str.endsWith(\"efg\");\n```\n\n<h2>実装する</h2>\nいろいろと試してみましたが以下の方法がシンプルな気がします。\n```php\nfunction startsWith($haystack, $needle)\n{\n    return $needle === \"\" || strpos($haystack, $needle) === 0;\n}\nfunction endsWith($haystack, $needle)\n{\n    return $needle === \"\" || substr($haystack, -strlen($needle)) === $needle;\n}\n\n<p>var_dump(startsWith(“hello world”, “hello”)); // true<br>var_dump(endsWith(“hello world”, “world”)); // true</p>\n<pre><code>\n引用: &lt;a href=\"http://stackoverflow.com/questions/834303/startswith-and-endswith-functions-in-php\"&gt;string - startsWith() and endsWith() functions in PHP - Stack Overflow&lt;/a&gt;\n\n同ページ内で一番評価の高い方法は以下です。\nやっていることはほぼほぼ同じようですね。こちらの方が何をやってるか分かりやすいかも。\n```php\nfunction startsWith($haystack, $needle)\n{\n     $length = strlen($needle);\n     return (substr($haystack, 0, $length) === $needle);\n}\n\nfunction endsWith($haystack, $needle)\n{\n    $length = strlen($needle);\n    if ($length == 0) {\n        return true;\n    }\n\n    return (substr($haystack, -$length) === $needle);\n}</code></pre>\n","excerpt":"そもそもstartsWith, endsWith とは / 実装する","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[ShellScript] 空白を詰めてイコールの次の値を取得する方法","path":"20140603103349.html"},"next":{"title":"[WordPress] 2ページ以降の記事の表示数を変える方法","path":"20140513115356.html"}},{"title":"[WordPress] 2ページ以降の記事の表示数を変える方法","path":"20140513115356.html","permalink":"https://b.0218.jp/20140513115356.html","date":"2014-05-13T11:53:56.000Z","updated":"2014-06-20T10:29:27.000Z","thumbnail":"","content":"<p>2 ページ以降は管理画面で設定ページ数より-1 ページの表示にします。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>functions.php に追加するコード</h2>\n<pre class=\"php\"><code>function my_parse_query($query) {\n  if( is_paged() ) {\n    $current_per = get_option('posts_per_page');\n    $query-&gt;set('posts_per_page', $current_per - 1);\n  }\n}\nadd_filter('parse_query', 'my_parse_query');</code></pre>\n\n<p><code>is_archive()</code>などでも同じ要領でページ数を任意のものに変えることができます。</p>\n","excerpt":"functions.php に追加するコード","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[PHP] startsWith, endsWith を実装する","path":"20140514163237.html"},"next":{"title":"[Firefox] ホイールクリックのスクロールが効かない時の対処法","path":"20140510005542.html"}},{"title":"[Firefox] ホイールクリックのスクロールが効かない時の対処法","path":"20140510005542.html","permalink":"https://b.0218.jp/20140510005542.html","date":"2014-05-10T00:55:42.000Z","updated":"2015-06-15T21:22:43.000Z","thumbnail":"https://user-images.githubusercontent.com/3617124/81211271-15542780-900e-11ea-83ae-32933d749c15.png","content":"<p>Firefox をセットアップし直すと、ホイールクリックのスクロールが反応しなくなった。</p>\n<figure>\n![ホイールクリック](https://user-images.githubusercontent.com/3617124/81211005-b7274480-900d-11ea-854d-c3fc0beeb31d.png)\n<figcaption>ホイールクリック</figcaption>\n</figure>\n\n\n<div class=\"more js-separate\"></div>\n\n<h2>有効化の手順</h2>\n機能のオン・オフはオプションで設定されてるみたいです。\n<ol>\n <li>メニューバーから ツール(T) -&gt; オプション(O) でオプションウィンドウを開く</li>\n <li>詳細 -&gt; 一般(タブ) -&gt; ブラウズ -&gt; <strong>「自動スクロール機能を使用する(A)」</strong>にチェックを入れる\n<img alt=\"Firefoxのオプションウィンドウ\" src=\"https://hiro0218.github.io/blog/images/Firefox-Option-before-v38.png\"></li>\n</ol>\n\n<h2>追記</h2>\nFirefox 38 以降からオプションが<code>about:preferences</code>になったのでスクリーンショットを追加。\n\n<p><img src=\"https://user-images.githubusercontent.com/3617124/81211271-15542780-900e-11ea-83ae-32933d749c15.png\" alt=\"Firefox（about:preferences）のオプション\" loading=\"lazy\"></p>\n","excerpt":"有効化の手順 / 追記","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"[WordPress] 2ページ以降の記事の表示数を変える方法","path":"20140513115356.html"},"next":{"title":"[PHP] 配列の情報をログファイルなどに書き出す方法","path":"20140509154738.html"}},{"title":"[PHP] 配列の情報をログファイルなどに書き出す方法","path":"20140509154738.html","permalink":"https://b.0218.jp/20140509154738.html","date":"2014-05-09T15:47:38.000Z","updated":"2015-02-28T23:24:29.000Z","thumbnail":"","content":"<p>簡単なデバッグ用に書き出したい場合がありました。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>コード</h2>\n\n<pre><code class=\"php\">$array = array ('a' =&gt; 'apple', 'b' =&gt; 'banana', 'c' =&gt; array ('x', 'y', 'z'));\n\nob_start();\nprint_r($array);\n$output = ob_get_contents();\nob_end_clean();\n\nfile_put_contents(\"/var/www/html/hoge/app/logs/20140509.log\", \\$output);</code></pre>\n<p><code>print_r()</code>は<code>var_dump()</code>でも何でも好きなやつで。<br><span class=\"text-muted\">もっと簡単な方法ありそう</span></p>\n","excerpt":"コード","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[Firefox] ホイールクリックのスクロールが効かない時の対処法","path":"20140510005542.html"},"next":{"title":"[名探偵コナン] 工藤新一が登場した話 一覧","path":"20140426213916.html"}},{"title":"[名探偵コナン] 工藤新一が登場した話 一覧","path":"20140426213916.html","permalink":"https://b.0218.jp/20140426213916.html","date":"2014-04-26T21:39:16.000Z","updated":"2014-06-20T10:29:43.000Z","thumbnail":"","content":"<p>登場した話というより、ほぼほぼ<strong>コナンが新一に戻る</strong>回です。</p>\n<p>原作者の青山剛昌先生曰く、「<small>(新一を出してって言われるけど)</small>いつも出てんじゃん！」らしいですが、ややこしいので無視して、高校生の新一が登場する話をまとめてみました。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>基本的に回想シーンのみの出演は省いています。</p>\n<h2>新一が登場した話一覧</h2>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th>事件名</th>\n<th>収録巻</th>\n<th>File</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ジェットコースター殺人事件</td>\n<td>第1巻</td>\n<td>File‐1「平成のホームズ」</td>\n</tr>\n<tr>\n<td>外交官殺人事件</td>\n<td>第10巻</td>\n<td>File‐2「西の名探偵」\nFile‐3「二人の推理」\nFile‐4「東の名探偵…!?」\nFile‐5「東の名探偵現る!?」</td>\n</tr>\n<tr>\n<td>空飛ぶ密室 工藤新一最初の事件</td>\n<td>第21巻</td>\n<td>File‐4「最初の挨拶」\nFile‐5「大空の密室」\nFile‐6「最後の切り札」\nFile‐7「胸に秘めて…」</td>\n</tr>\n<tr>\n<td>命がけの復活[第3の選択/黒衣の騎士]</td>\n<td>第26巻</td>\n<td>File‐1「迷える心」\nFile‐2「突然の侵入者」\nFile‐3「覆われた真実」\nFile‐4「命懸けの復活」</td>\n</tr>\n<tr>\n<td>命がけの復活[帰ってきた新一…&amp;約束の場所]</td>\n<td>第26巻</td>\n<td>File‐5「束の間の休息」\nFile‐6「穏やかな時間」\nFile‐7「思い出の場所」</td>\n</tr>\n<tr>\n<td rowspan=\"2\">工藤新一NY[ニューヨーク]の事件</td>\n<td>第34巻</td>\n<td>File‐11「ゴールデンアップル[1]」</td>\n</tr>\n<tr>\n<td>第35巻</td>\n<td>File‐1「ゴールデンアップル[2]」\nFile‐2「ゴールデンアップル[3]」\nFile‐3「ゴールデンアップル[4]」\nFile‐4「ゴールデンアップル[5]」</td>\n</tr>\n<tr>\n<td>黒の組織と真っ向勝負 満月の夜の二元ミステリー</td>\n<td>第42巻</td>\n<td>File‐5「満月の夜と黒い宴の罠」\nFile‐6「血塗られた幽霊船」\nFile‐7「透明人間現る!」\nFile‐8「工藤新一登場!?」\nFile‐9「仮面の下の真実」\nFile‐10「ラットゥンアップル」</td>\n</tr>\n<tr>\n<td rowspan=\"2\">平次の思い出</td>\n<td>第50巻</td>\n<td>File‐8「平次の思い出」\nFile‐9「雪女の計」\nFile‐10「謎のリフト」\nFile‐11「雪女の銀衣伝説」</td>\n</tr>\n<tr>\n<td>第51巻</td>\n<td>File‐1「吹雪の中の復讐」</td>\n</tr>\n<tr>\n<td>工藤新一少年の冒険</td>\n<td>第55巻</td>\n<td>File‐6「月下」\nFile‐7「黎明」\nFile‐8「白昼」\nFile‐9「落日」</td>\n</tr>\n<tr>\n<td>殺人犯、工藤新一/新一の正体に蘭の涙</td>\n<td>第62巻</td>\n<td>File‐5「憎悪の村」\nFile‐6「失われた記憶」\nFile‐7「工藤新一の殺人」\nFile‐8「死羅神様」\nFile‐9「止まらぬ涙」\nFile‐10「正体」</td>\n</tr>\n<tr>\n<td rowspan=\"2\">本当に聞きたいコト</td>\n<td>第62巻</td>\n<td>File‐11「ホントに聞きたいコト」</td>\n</tr>\n<tr>\n<td>第63巻</td>\n<td>File‐1「オレの推理」\nFile‐2「推理の答え」</td>\n</tr>\n<tr>\n<td rowspan=\"2\">ホームズの黙示録</td>\n<td>第71巻</td>\n<td>File‐3 「名探偵の弟子」\nFile‐4 「黙示録」\nFile‐5 「ラブは0」\nFile‐6 「ホームズに聞け」\nFile‐7 「ホームズの暗号」\nFile‐8 「もう1つのA」\nFile‐9 「女王からのメッセージ」\nFile‐10「真の標的」\nFile‐11「女王の真価」</td>\n</tr>\n<tr>\n<td>第72巻</td>\n<td>File‐1「厄介な難事件」</td>\n</tr>\n<tr>\n<td rowspan=\"2\">緋色の探偵のプロローグ</td>\n<td>第83巻</td>\n<td>File‐10「水色の想い出」</td>\n</tr>\n<tr>\n<td>第84巻</td>\n<td>File‐1「緋色の探偵」\nFile‐2「ピンク色の回答」</td>\n</tr>\n</tbody>\n</table>\n<h2>状態</h2>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th>事件名</th>\n<th>状態</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ジェットコースター殺人事件</td>\n<td>高校2年生</td>\n</tr>\n<tr>\n<td>外交官殺人事件</td>\n<td>コナンから元に戻る</td>\n</tr>\n<tr>\n<td>空飛ぶ密室 工藤新一最初の事件</td>\n<td>高校1年生</td>\n</tr>\n<tr>\n<td>命がけの復活[第3の選択/黒衣の騎士]</td>\n<td rowspan=\"2\" style=\"vertical-align:middle\">コナンから元に戻る</td>\n</tr>\n<tr>\n<td>命がけの復活[帰ってきた新一…&amp;約束の場所]</td>\n</tr>\n<tr>\n<td>工藤新一NY[ニューヨーク]の事件</td>\n<td>高校1年生</td>\n</tr>\n<tr>\n<td>黒の組織と真っ向勝負 満月の夜の二元ミステリー</td>\n<td>平次の変装</td>\n</tr>\n<tr>\n<td>平次の思い出</td>\n<td>中学3年生</td>\n</tr>\n<tr>\n<td>工藤新一少年の冒険</td>\n<td>小学1年生</td>\n</tr>\n<tr>\n<td>殺人犯、工藤新一/新一の正体に蘭の涙</td>\n<td rowspan=\"2\" style=\"vertical-align:middle\">コナンから元に戻る</td>\n</tr>\n<tr>\n<td>本当に聞きたいコト</td>\n</tr>\n<tr>\n<td>ホームズの黙示録</td>\n<td>コナンから元に戻る</td>\n</tr>\n<tr>\n<td>緋色の探偵のプロローグ</td>\n<td>高校2年生</td>\n</tr>\n</tbody>\n</table>\n","excerpt":"新一が登場した話一覧 / 状態","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[PHP] 配列の情報をログファイルなどに書き出す方法","path":"20140509154738.html"},"next":{"title":"[Firefox] http://(プロトコル)を表示する方法","path":"20140426163050.html"}},{"title":"[Firefox] http://(プロトコル)を表示する方法","path":"20140426163050.html","permalink":"https://b.0218.jp/20140426163050.html","date":"2014-04-26T16:30:50.000Z","updated":"2015-03-23T15:40:12.000Z","thumbnail":"","content":"<p>Firefox7 から URI の表示(ロケーションバー)で「http://」が省略されるようになった。</p>\n<p>Firefox を再セットアップしたのでメモしておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>手順</h2>\n<ol>\n <li><code>about:config</code>をロケーションバーに入力しエンターを押す</li>\n <li>警告ページがでた場合は「細心の注意を払って使用する」ボタンを押す</li>\n <li>検索(R): に <code>browser.urlbar.trimURLs</code> と入力</li>\n <li>表示された browser.urlbar.trimURLs(設定名)の値が「<code>true</code>」となっていることを確認\n<code>true</code>の場合は<code><b>false</b></code>に変更する</li>\n <li><s>Firefoxを<b>再起動</b>する</s> → 再起動しなくても反映されるようになったみたい</li>\n</ol>\n\n<p>以上で<b>http://</b>が表示されるようになる。</p>\n","excerpt":"手順","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"[名探偵コナン] 工藤新一が登場した話 一覧","path":"20140426213916.html"},"next":{"title":"[JavaScript] ファイルサイズを数値に直す関数","path":"20140424142720.html"}},{"title":"[JavaScript] ファイルサイズを数値に直す関数","path":"20140424142720.html","permalink":"https://b.0218.jp/20140424142720.html","date":"2014-04-24T14:27:20.000Z","updated":"2015-02-28T22:30:50.000Z","thumbnail":"","content":"<p>ファイルサイズなどの数値を比較するとき、カンマとか単位とか付いていると非常に面倒です。<br>こんな感じ。</p>\n<pre>6B\n102KB\n2,500KB\n800MB\n2GB\n1TB\n</pre>\n\n<p>上記のような文字列にある程度対応できるような関数を作ってみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>ファイルサイズ変換関数</h2>\n\n<pre><code class=\"js\">function fileSizeFormat(size) {\n  var s   = size.split(\",\").join(\"\");\n  var suf = ( (s.match(/(B|KB|MB|GB|TB)$/gi)||[])[0] || \"B\" ).toUpperCase();\n  var num = parseFloat(s.match(new RegExp(/^[0-9]+(\\.[0-9]+)?/))[0]);\n  var mul = 1024;\n\n  switch (suf) {\n  case \"B\":\n    return num;\n  case \"KB\":\n    return num _ Math.pow(mul, 1);\n  case \"MB\":\n    return num _ Math.pow(mul, 2);\n  case \"GB\":\n    return num _ Math.pow(mul, 3);\n  case \"TB\":\n    return num _ Math.pow(mul, 4);\n  }\n}</code></pre>\n<p>変な単位が来たときは B(バイト)にしています。あと、単位がない場合も B(バイト)とされます。</p>\n<p>「SI 接頭辞」や「2 進接頭辞」に応じて<b>1024</b>は<b>1000</b>などに変えてください。<br>また、ペタバイト(PB)・エクサバイト(EB)…など増やしていく場合は、それぞれ正規表現と<code>Switch</code>に追加していってください。</p>\n<h2>使い方</h2>\n\n<pre><code>var size = '2,048KB';\nfileSizeFormat(size);\n// =&gt; 2097152</code></pre>\n","excerpt":"ファイルサイズ変換関数 / 使い方","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[Firefox] http://(プロトコル)を表示する方法","path":"20140426163050.html"},"next":{"title":"[Java] UUIDやMACアドレスが正しいかチェックする","path":"20140424133801.html"}},{"title":"[Java] UUIDやMACアドレスが正しいかチェックする","path":"20140424133801.html","permalink":"https://b.0218.jp/20140424133801.html","date":"2014-04-24T13:38:01.000Z","updated":"2014-06-20T10:29:48.000Z","thumbnail":"","content":"<p>UUID や MAC アドレスのチェックをする機会があって色々と探したのですが無かったので自作しました。<br>備忘録として。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>UUIDをチェックする</h2>\n\n<pre><code class=\"java\">public static Boolean isUUID(String uuid) {\n  String reg = \"[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}\";\n\n  Pattern p = Pattern.compile(reg);\n  Matcher m = p.matcher(uuid);\n\n  return m.find();\n}</code></pre>\n<h3>桁数だけのチェック<small>追記</small></h3>\n\n<pre><code class=\"java\">boolean isUUID = false;\n\nif (uuid.length() == 36) {\n  String[] parts = uuid.split(\"-\");\n\n  if (parts.length == 5) {\n    if ((parts[0].length() == 8) &amp;&amp;\n        (parts[1].length() == 4) &amp;&amp;\n        (parts[2].length() == 4) &amp;&amp;\n        (parts[3].length() == 4) &amp;&amp;\n        (parts[4].length() == 12)) {\n      isUUID = true;\n    }\n  }\n}\n\nreturn isUUID;</code></pre>\n<p><code>-</code>繋ぎを<code>split</code>で分割して桁数を見ていきます。<br>今後、16 進数の数値が変わっても全体の各桁が変わらなければ使えるかな…?</p>\n<h2>MACアドレスをチェックする</h2>\n\n<pre><code class=\"java\">public static Boolean isMACAdrs(String macAdrs) {\n  String reg = \"^([0-9A-Fa-f]{2}[:-]){5}[0-9A-Fa-f]{2}$\";\n\n  Pattern p = Pattern.compile(reg);\n  Matcher m = p.matcher(macAdrs);\n\n  return m.find();\n}</code></pre>\n<h2>おわり</h2>\n手抜きですが両者の違いは正規表現でしかないです。\nあと正規表現は <b>static final String</b> でいいと思います。\n\n<p>開発環境が補完してくれるでしょうが以下の<code>import</code>もお忘れなく。</p>\n<pre><code class=\"java\">import java.util.regex.Matcher;\nimport java.util.regex.Pattern;</code></pre>\n","excerpt":"UUIDをチェックする / MACアドレスをチェックする / おわり","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"},{"name":"正規表現","slug":"正規表現","path":"tags/%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE/"}],"prev":{"title":"[JavaScript] ファイルサイズを数値に直す関数","path":"20140424142720.html"},"next":{"title":"[WordPress] 絵文字(Unicode6.0)が使えない問題","path":"20140423123227.html"}},{"title":"[WordPress] 絵文字(Unicode6.0)が使えない問題","path":"20140423123227.html","permalink":"https://b.0218.jp/20140423123227.html","date":"2014-04-23T12:32:27.000Z","updated":"2015-04-25T01:21:27.000Z","thumbnail":"https://user-images.githubusercontent.com/3617124/81210264-9dd1c880-900c-11ea-9cf6-7df3cf3a7c67.png","content":"<p>WordPress 4.2 より「拡張文字のサポート」として中国語・日本語・韓国語の文字、音楽・数学用の記号、象形文字を含む多くの新しい文字に対応しました。<br>この記事で紹介している DB のテーブルの文字コードを変えるという手法もアップデートの流れで行われているようです。</p>\n<pre class=\"sql\"><code>CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci</code></pre>\n\n<p>デフォルトで絵文字?が使えるようになったみたいです。</p>\n<hr>\n詳しい経緯は省きますが、2010年に Unicode6.0 に絵文字が登録され、ケータイでおなじみのの絵文字をPCでも閲覧できるようになりました。(環境によっては見られない場合があります)\n<p align=\"right\">詳細: <a href=\"http://ja.wikipedia.org/wiki/%E9%A1%94%E6%96%87%E5%AD%97\">顔文字 - Wikipedia</a></p>\n\n<p>Twitter なんかでは環境依存文字何それ世代が頻繁にこれらの文字を使ってるのを散見されます。見られる環境が一般的になっていけば使っても何ら問題はありません。今後、私も使っていきたいと思っています。</p>\n<p>以前、仕事でこの絵文字(Unicode6.0)がデータベースに登録できない問題がありました。それは WordPress でも発生しうる問題で、検証してみると見事に発生したので、今回はその問題と対処法について書きたいと思います。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>WordPressで絵文字(Unicode6.0)は使えるのか</h2>\n結論から述べますと<strong>使えません</strong>。\n\n<p>環境がある方は試しに<a href=\"http://ja.wikipedia.org/wiki/%E9%A1%94%E6%96%87%E5%AD%97#Unicode.E3.81.B8.E3.81.AE.E9.A1.94.E6.96.87.E5.AD.97.E3.81.AE.E7.99.BB.E9.8C.B2\">こちら</a>から絵文字を適当にコピペして記事を投稿してみてください。<br>おそらく、絵文字の部分が空になっているはずです。</p>\n<p><img src=\"https://user-images.githubusercontent.com/3617124/81210264-9dd1c880-900c-11ea-9cf6-7df3cf3a7c67.png\" alt=\"WordPressの投稿画面で絵文字を入力した図\" loading=\"lazy\"></p>\n<h2>なぜ使えないのか</h2>\n簡単に言うと、使用するテーブルの<code>CHARSET</code>に問題があります。\n\n<p>WordPress のデータベースを確認すると<code>CHARSET</code>は<code>utf8</code>となっています。</p>\n<pre class=\"cmd\">mysql&gt; SHOW CREATE DATABASE wp;\n+----------+-------------------------------------------------------------+\n| Database | Create Database                                             |\n+----------+-------------------------------------------------------------+\n| wp       | CREATE DATABASE `wp` /*!40100 DEFAULT CHARACTER SET <b>utf8</b>; */ |\n+----------+-------------------------------------------------------------+\n1 row in set (0.00 sec)</pre>\n\n<p>また、記事の登録されるテーブルも確認すると<code>CHARSET</code>は<code>utf8</code>となっています。</p>\n<pre class=\"cmd\">mysql&gt; show create table wp_posts \\G\n*************************** 1. row ***************************\n       Table: wp_posts\nCreate Table: CREATE TABLE `wp_posts` (\n  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\n  `post_author` bigint(20) unsigned NOT NULL DEFAULT '0',\n  `post_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n  `post_date_gmt` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n  `post_content` longtext NOT NULL,\n  `post_title` text NOT NULL,\n  `post_excerpt` text NOT NULL,\n  `post_status` varchar(20) NOT NULL DEFAULT 'publish',\n  `comment_status` varchar(20) NOT NULL DEFAULT 'open',\n  `ping_status` varchar(20) NOT NULL DEFAULT 'open',\n  `post_password` varchar(20) NOT NULL DEFAULT '',\n  `post_name` varchar(200) NOT NULL DEFAULT '',\n  `to_ping` text NOT NULL,\n  `pinged` text NOT NULL,\n  `post_modified` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n  `post_modified_gmt` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n  `post_content_filtered` longtext NOT NULL,\n  `post_parent` bigint(20) unsigned NOT NULL DEFAULT '0',\n  `guid` varchar(255) NOT NULL DEFAULT '',\n  `menu_order` int(11) NOT NULL DEFAULT '0',\n  `post_type` varchar(20) NOT NULL DEFAULT 'post',\n  `post_mime_type` varchar(100) NOT NULL DEFAULT '',\n  `comment_count` bigint(20) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`ID`),\n  KEY `post_name` (`post_name`),\n  KEY `type_status_date` (`post_type`,`post_status`,`post_date`,`ID`),\n  KEY `post_parent` (`post_parent`),\n  KEY `post_author` (`post_author`)\n) ENGINE=MyISAM AUTO_INCREMENT=1331 DEFAULT CHARSET=<b>utf8</b>;\n1 row in set (0.00 sec)</pre>\n\n<p>一見、utf8 でよさそうに見えますが、<strong>MySQL の utf8 は 4byte 超の文字を扱えない</strong>ようです。(3byte までだとか)<br>ですので、絵文字(Unicode6.0)が扱えないのです。(これだと絵文字に限らず漢字とかも登録できない文字があります)</p>\n<h2>解決方法</h2>\nMySQL 5.5.3 以降で、<code>CHARSET</code>に<code>utf8mb4</code>を指定してやれば4byte(UTF-8)の文字も扱えるようになります。\nWordPress 公式サイトに書かれてある動作環境では、「MySQLのバージョン <b>5.0</b>以上」としか書かれていないので、お使いの環境では<code>utf8mb4</code>を指定できないかもしれないのでご注意ください。\n\n<p class=\"c-alert\"><strong>注意</strong>: 以下の設定は、直接データベースに変更を加えます。復旧できるようにバックアップ等を行ってください。変更によって生じた如何なる損害に関しても、著者は責任を負いかねます。</p>\n\n<h3>WordPressの文字コード設定を変更する</h3>\n<code>wp-config.php</code>の変更を行います。\n<code>DB_CHARSET</code>, <code>DB_COLLATE</code>のそれぞれを以下のように変更します。\n<pre class=\"sql\"><code>\n/** データベースのテーブルを作成する際のデータベースのキャラクターセット */\ndefine('DB_CHARSET', 'utf8mb4');\n\n</code><p><code>/*_ データベースの照合順序 (ほとんどの場合変更する必要はありません) _/<br>define(‘DB_COLLATE’, ‘utf8mb4_general_ci’);<br></code></p></pre><p></p>\n<h3>データベースの文字コードを変更する</h3>\n<pre class=\"sql\"><code>alter database wp character set utf8mb4;</code></pre>\nデータベース名など各自の環境に合わせてください。\n\n<pre class=\"cmd\">mysql&gt; alter database wp character set utf8mb4;\nQuery OK, 1 row affected (0.02 sec)\n\nmysql&gt; SHOW CREATE DATABASE wp;\n+----------+----------------------------------------------------------------+\n| Database | Create Database                                                |\n+----------+----------------------------------------------------------------+\n| wp       | CREATE DATABASE `wp` /*!40100 DEFAULT CHARACTER SET <b>utf8mb4</b> */ |\n+----------+----------------------------------------------------------------+\n1 row in set (0.00 sec)</pre>\n\n<h3>テーブルの文字コードを変更する</h3>\n<pre class=\"sql\"><code>alter table wp_posts convert to character set utf8mb4;</code></pre>\nここでは<code>wp_posts</code>を例にしていますが、別のテーブルで使用する場合は同じ操作をおこなってください。\n<pre class=\"cmd\">mysql&gt; alter table wp_posts convert to character set utf8mb4;\nQuery OK, 985 rows affected (0.20 sec)\nRecords: 985  Duplicates: 0  Warnings: 0\n\n<p>mysql&gt; show create table wp_posts \\G *<strong>*******</strong>****<strong>*******</strong> 1. row *<strong>*******</strong>****<strong>*******</strong><br>Table: wp_posts<br>Create Table: CREATE TABLE <code>wp_posts</code> (<br><code>ID</code> bigint(20) unsigned NOT NULL AUTO_INCREMENT,<br><code>post_author</code> bigint(20) unsigned NOT NULL DEFAULT '0',<br><code>post_date</code> datetime NOT NULL DEFAULT '0000-00-00 00:00:00',<br><code>post_date_gmt</code> datetime NOT NULL DEFAULT '0000-00-00 00:00:00',<br><code>post_content</code> longtext NOT NULL,<br><code>post_title</code> mediumtext NOT NULL,<br><code>post_excerpt</code> mediumtext NOT NULL,<br><code>post_status</code> varchar(20) NOT NULL DEFAULT 'publish',<br><code>comment_status</code> varchar(20) NOT NULL DEFAULT 'open',<br><code>ping_status</code> varchar(20) NOT NULL DEFAULT 'open',<br><code>post_password</code> varchar(20) NOT NULL DEFAULT '',<br><code>post_name</code> varchar(200) NOT NULL DEFAULT '',<br><code>to_ping</code> mediumtext NOT NULL,<br><code>pinged</code> mediumtext NOT NULL,<br><code>post_modified</code> datetime NOT NULL DEFAULT '0000-00-00 00:00:00',<br><code>post_modified_gmt</code> datetime NOT NULL DEFAULT '0000-00-00 00:00:00',<br><code>post_content_filtered</code> longtext NOT NULL,<br><code>post_parent</code> bigint(20) unsigned NOT NULL DEFAULT '0',<br><code>guid</code> varchar(255) NOT NULL DEFAULT '',<br><code>menu_order</code> int(11) NOT NULL DEFAULT '0',<br><code>post_type</code> varchar(20) NOT NULL DEFAULT 'post',<br><code>post_mime_type</code> varchar(100) NOT NULL DEFAULT '',<br><code>comment_count</code> bigint(20) NOT NULL DEFAULT '0',<br>PRIMARY KEY (<code>ID</code>),<br>KEY <code>post_name</code> (<code>post_name</code>),<br>KEY <code>type_status_date</code> (<code>post_type</code>,<code>post_status</code>,<code>post_date</code>,<code>ID</code>),<br>KEY <code>post_parent</code> (<code>post_parent</code>),<br>KEY <code>post_author</code> (<code>post_author</code>)<br>) ENGINE=MyISAM AUTO_INCREMENT=1331 DEFAULT CHARSET=<b>utf8mb4</b>;<br>1 row in set (0.02 sec)</p></pre><p></p>\n<h2>おわり</h2>\n以上の設定変更で絵文字(Unicode6.0)が使えるようになります。\nXAMPP for Windows で確認したので Linux環境とかではまた動作が異なることも考えられますが、おそらく大丈夫かと思います。参考までに。\n\n<p>テストしていて気付いたのですが、無理に使わずに<strong>文字参照</strong>を使えばこれらの設定変更不要でした…。<br>文末ですが、リスキーだと感じた方は<code>&amp;#x1F649;</code>のような形で埋め込むことをお勧めします。<span style=\"font-size:120%;\">🙉</span></p>\n","excerpt":"WordPressで絵文字(Unicode6.0)は使えるのか / なぜ使えないのか / 解決方法 / おわり","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[Java] UUIDやMACアドレスが正しいかチェックする","path":"20140424133801.html"},"next":{"title":"より良いjQueryのコードを記述するには","path":"20140421135603.html"}},{"title":"より良いjQueryのコードを記述するには","path":"20140421135603.html","permalink":"https://b.0218.jp/20140421135603.html","date":"2014-04-21T13:56:03.000Z","updated":"2015-02-28T22:26:02.000Z","thumbnail":"","content":"<p>より良い jQuery のコードを書くためにいくつかの方法を提言している<a href=\"http://flippinawesome.org/2013/11/25/writing-better-jquery-code/\">Writing Better jQuery Code</a>を紹介します。</p>\n<p>リンク切れの部分は省略しております。また、本文についても意訳や誤訳で若干意味が異なっている部分等あるかもしれません。予めご了承ください。</p>\n<p>詳細は翻訳元をご確認ください。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>変数のキャッシング</h2>\nDOMのトラバーサルは負荷が掛かりますので、それらを再利用する際は選択した要素をキャッシュするようにしてみてください。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\nh = $('#element').height();\n$('#element').css('height',h-20);\n\n// good\n$element = $('#element');\nh = $element.height();\n$element.css('height',h-20);</code></pre>\n<h2>グローバルを避ける</h2>\njQueryを使って、一般的にはJavaScriptと同様に、変数が適切に関数内でスコープが設定されていることを確認することをお勧めします。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\n$element = $('#element');\nh = $element.height();\n$element.css('height',h-20);\n\n// good\nvar $element = $('#element');\nvar h = $element.height();\n$element.css('height',h-20);</code></pre>\n<h2>ハンガリアン記法を使う</h2>\n変数の前に$記号を置くことで、このアイテムはjQueryオブジェクトが含まれていることを認識しやすくなります。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\nvar first = $('#first');\nvar second = $('#second');\nvar value = \\$first.val();\n\n// better - we use to put \\$ symbol before jQuery-manipulated objects\nvar $first = $('#first');\nvar $second = $('#second'),\nvar value = \\$first.val();</code></pre>\n<h2>変数チェーンを使う(単独変数パターン)</h2>\n複数の変数文を持つのではではなく、単一のステートメントにそれらを組み合わせることができます。最後に割り当てられた値なしの変数を置くことをお勧めします。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">var \n  $first = $('#first'),\n  $second = $('#second'),\n  value = $first.val(),\n  k = 3,\n  cookiestring = 'SOMECOOKIESPLEASE',\n  i,\n  j,\n  myArray = {};</code></pre>\n<h2>‘On’が好ましい</h2>\njQueryの最近のバージョンでは、 <code>click()</code> のような関数が <code>on('click')</code> の省略形であるように変更されています。 以前のバージョンでは <code>click()</code> は <code>bind()</code> の為の省略形という実装とは異なっていた。jQueryの1.7の時点では、 <code>on()</code> がイベントハンドラを取り付けるための好ましい方法である。しかしながら、一貫性を保つために、単に一律に <code>on()</code> を使用することができます。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\n$first.click(function(){\n  $first.css('border','1px solid red');\n\\$first.css('color','blue');\n});\n\n$first.hover(function(){\n  $first.css('border','1px solid red');\n})\n\n// better\n$first.on('click',function(){\n  $first.css('border','1px solid red');\n\\$first.css('color','blue');\n})\n\n$first.on('hover',function(){\n  $first.css('border','1px solid red');\n})</code></pre>\n<h2>JavaScriptを凝縮する</h2>\n一般に、可能な限りの機能を組み合わせることを試みることが好ましい。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\n$first.click(function(){\n  $first.css('border','1px solid red');\n\\$first.css('color','blue');\n});\n\n// better\n$first.on('click',function(){\n  $first.css({\n'border':'1px solid red',\n'color':'blue'\n});\n});</code></pre>\n<h2>チェーンを使う</h2>\n上記のルールに続き、jQueryはチェーンメソッドを簡単に利用できます。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\n$second.html(value);\n$second.on('click',function(){\nalert('hello everybody');\n});\n$second.fadeIn('slow');\n$second.animate({height:'120px'},500);\n\n// better\n$second.html(value);\n$second.on('click',function(){\nalert('hello everybody');\n}).fadeIn('slow').animate({height:'120px'},500);</code></pre>\n<h2>コードの可読性を保つ</h2>\nスクリプトを凝縮し、連鎖を利用しようとすると、コードが時々読めなくなります。可読性を保つためにタブや改行をしてみてください。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\n$second.html(value);\n$second.on('click',function(){\nalert('hello everybody');\n}).fadeIn('slow').animate({height:'120px'},500);\n\n// better\n$second.html(value);\n$second\n.on('click',function(){ alert('hello everybody');})\n.fadeIn('slow')\n.animate({height:'120px'},500);</code></pre>\n<h2>短絡評価が好ましい</h2>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Short-Circuit_Evaluation\">短絡評価</a>は左から右から評価式で &amp;&amp; (AND)または || (OR) の演算子を使用します。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\nfunction initVar($myVar) {\n  if(!$myVar) {\n$myVar = $('#selector');\n}\n}\n\n// better\nfunction initVar($myVar) {\n  $myVar = $myVar || $('#selector');\n}</code></pre>\n<h2>ショートカットが好ましい</h2>\n符号化のショートカットを利用することはコードを凝縮させる方法の一つです。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\nif(collection.length &gt; 0){..}\n\n// better\nif(collection.length){..}</code></pre>\n<h2>重い操作を行うとするときに、要素を切り離す</h2>\nもし、あなたはDOM要素の重い操作を行おうとしている場合は、最初にそれを切り離してから、それを再追加することをお勧めします。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\nvar\n$container = $(\"#container\"),\n$containerLi = $(\"#container li\"),\n\\$element = null;\n\n$element = $containerLi.first();\n//... a lot of complicated things\n\n// better\nvar\n$container = $(\"#container\"),\n$containerLi = $container.find(\"li\"),\n\\$element = null;\n\n$element = $containerLi.first().detach();\n//...a lot of complicated things\n\n$container.append($element);</code></pre>\n<h2>トリックを知ること</h2>\n経験が少ないあなたがjQueryメソッドを使用する場合、それを使用することが好ましいか、より高速な方法があるかどうか、<a href=\"http://api.jquery.com/\">ドキュメント</a>を確認するようにしてください。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\n\n\\$('#id').data(key,value);\n\n// better (faster)\n\n\\$.data('#id',key,value);</code></pre>\n<h2>サブクエリキャッシュの親を使用</h2>\n先に述べたように、DOMのトラバーサルは負荷のかかる操作です。通常は、親要素をキャッシュし子要素を選択する際に、これらのキャッシュされた要素を再利用することをお勧めします。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\nvar\n$container = $('#container'),\n$containerLi = $('#container li'),\n$containerLiSpan = $('#container li span');\n\n// better (faster)\nvar\n$container = $('#container '),\n$containerLi = $container.find('li'),\n$containerLiSpan= $containerLi.find('span');</code></pre>\n<h2>ユニバーサルセレクタを避ける</h2>\n他のセレクタと組み合わせたときに、ユニバーサルセレクタ(ワイルドカード)は非常に遅いです。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\n\n\\$('.container &gt; \\*');\n\n// better\n\n\\$('.container').children();</code></pre>\n<h2>暗黙ユニバーサルセレクタを避ける</h2>\nセレクタをやめたとき、ユニバーサルセレクタ（*）はまだ含まれています。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\n\\$('.someclass :radio');\n\n// better\n\\$('.someclass input:radio');</code></pre>\n<h2>セレクタを最適化</h2>\n例えば、IDを使用すると既に十分に具体的であるので、さらなるセレクタを具体的に追加する必要がありません。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\n$('div#myid'); \n$('div#footer a.myLink');\n\n// better\n$('#myid');\n$('#footer .myLink');</code></pre>\n<h2>複数のIDを探索しない</h2>\n繰り返しますが、適切に使用したときIDは複数の子孫セレクタの追加を必要としません。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad\n\\$('#outer #inner');\n\n// better\n\n\\$('#inner');</code></pre>\n<h2>最新バージョンを使用すること</h2>\n最新バージョンは、通常は最高のものです：時には軽く、時には速く。明らかに、あなたがサポートしているコードとの互換性を考慮する必要があります。たとえば、バージョン2.0からはIE6/7/8のための多くのサポートがないという事を留意してください。\n\n<h2>推奨されないメソッドを使用しないこと</h2>\n常にそれぞれの新しいバージョン用の<a href=\"http://api.jquery.com/category/deprecated/\">非推奨のメソッド</a>から目を離さず、それらを使用しないようにすることが重要です。\n\n<!-- prettier-ignore -->\n<pre><code class=\"js\">// bad - live is deprecated\n\\$('#stuff').live('click', function() {\nconsole.log('hooray');\n});\n\n// better\n\\$('#stuff').on('click', function() {\nconsole.log('hooray');\n});</code></pre>\n<p>CDN から jQuery のコードをロードする<br>Google の CDN は、すぐに、ユーザーの最寄りのキャッシュの場所からスクリプトを提供します。 Google の CDN を使用するには次の URL を使用します。<br><a href=\"http://code.jQuery.com/jQuery-latest.min.js\">http://code.jQuery.com/jQuery-latest.min.js</a></p>\n<h2>必要に応じてネイティブJavaScriptとjQueryを組み合わせる</h2>\n前に述べていたように、jQueryはJavaScriptのであり、これは、ネイティブJavaScriptはjQueryで行うのと同じことを行うことができることを意味します。 ネイティブJavaScript(もしくは<a href=\"http://vanilla-js.com/\">vanilla</a>)で書くことで、しばしば読みにくくし、保守しやすくないコードと長いファイルになってしまいます。 しかし、それは高速なコードを意味しています。どんなフレームワークも、ネイティブのJavaScriptの動作よりも小さく軽く、速くなることはないこと覚えておいてください。\n\n<p>この JavaScript と jQuery の性能差に起因して、私は<a href=\"http://www.leebrimelow.com/native-methods-jQuery/\">jQuery の機能に相当するネイティブ</a>を使用して、それらの両方を混合は賢明な方法でとてもお勧めします。</p>\n<h2>最終的な考慮事項</h2>\n最後に、私は他の優良事例が多数含まれている<a href=\"http://net.tutsplus.com/tutorials/JavaScript-ajax/10-ways-to-instantly-increase-your-jQuery-performance/\">jQueryのパフォーマンス</a>に関する記事をお勧めします。その話題についてより深く見たい場合は面白いでしょう。\n\n<p>jQuery が必要条件と選択ではないことに注意してください。 あなたがそれを使用している理由を考えてみましょう。 DOM 操作? Ajax? テンプレート? CSS アニメーション? セレクタエンジン? 場合によっては、<a href=\"http://microjs.com/\">マイクロ JavaScript フレームワーク</a>や、具体的ニーズに合わせて調整した<a href=\"http://net.tutsplus.com/tutorials/JavaScript-ajax/how-to-build-your-own-custom-jQuery/\">jQuery のカスタムビルド</a>を検討する価値があるかもしれないです。</p>\n<p>この記事は <a href=\"http://blog.mathewdesign.com/2013/11/14/writing-performant-and-quality-jquery-code/\">http://blog.mathewdesign.com/2013/11/14/writing-performant-and-quality-jquery-code/</a> に掲載されていました。</p>\n<hr>\n<p>Thanks to Mathew Carella.</p>\n","excerpt":"変数のキャッシング / グローバルを避ける / ハンガリアン記法を使う / 変数チェーンを使う(単独変数パターン) / ‘On’が好ましい","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[WordPress] 絵文字(Unicode6.0)が使えない問題","path":"20140423123227.html"},"next":{"title":"input要素以外でも線(アウトライン)が表示される問題","path":"20140418142551.html"}},{"title":"input要素以外でも線(アウトライン)が表示される問題","path":"20140418142551.html","permalink":"https://b.0218.jp/20140418142551.html","date":"2014-04-18T14:25:51.000Z","updated":"2015-02-28T23:41:09.000Z","thumbnail":"","content":"<p><b>Google Chrome</b>では input にフォーカス(:focus)すると青い線(アウトライン)が表示されます。これは Chrome のデフォルトスタイルシート(user agent stylesheet)にて<code>outline</code>が設定されているためです。</p>\n<p>これとは別に input でない要素でもこの青い線(アウトライン)が表示されることがありました。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>input要素系の青い線</h2>\n<h3>解決法</h3>\ninput要素らの線を消す方法ですが、以下のように消します。\n<pre class=\"css\"><code>input[type=\"text\"], \ninput[type=\"password\"], \ntextarea, \nselect {\n    outline: none;\n}</code></pre>\n\n<p>デフォルトスタイルシートの設定を上書きしている形です。<br>これを使用する場合は、オリジナルの CSS より前に記述すると良いです。<span class=\"text-muted\">(リセット CSS のような感じ)</span></p>\n<h2>input以外の要素の青い線</h2>\n<h3>原因</h3>\ninput要素以外でも線(アウトライン)が表示される問題は何が原因なのか。\n私の経験上、その問題の要素には<u><code>tabindex</code>属性が付与</u>されています。\n\n<p>確かに<code>tabindex</code>属性があるとフォーカスするべき要素なのでしょうが、だからといって要素に線(アウトライン)が付いてしまうのは見栄えが悪い場合が多いです。</p>\n<h5 class=\"h4\">ちなみにtabindex属性とは</h5>\nこの<code>tabindex</code>属性は、<kbd>Tabキー</kbd>によるフォーカスの移動順序を指定することができます。\n要は<code>tabindex</code>属性が指定されると、指定した順番でフォーカスが可能になり、また本来フォーカスできない要素でもフォーカスが可能になるのです。\n\n<h3>解決法</h3>\n<strong>1. <code>tabindex</code>属性をやめる</strong>\n<code>tabindex</code>属性を使用しないのであれば、この属性を外すだけで解決です。\n\n<p><strong>2. <code>tabindex</code>属性の付いた要素に対して線を付けない</strong><br>CSS を追加して発生する影響が気になるのであれば、その要素に対して<code>outline</code>を<code>none</code>にしましょう。</p>\n<pre class=\"css\"><code>\n.example:focus {\n  outline: none;\n}</code></pre>\n\n<p><strong>3. 全ての要素に対してフォーカスに線は付けない</strong><br>要素ごとに CSS を当てていくのがめんどう、よく分からない、細かいことは気にしないのであれば。</p>\n<pre class=\"css\"><code>\n*:focus {\n  outline: none;\n}</code></pre>\n\n<hr>\n<p>input 要素のフォーカス時に線が付くのは知っていましたが、まさか<code>tabindex</code>属性の付いた要素に対しても線が付いてしまうとは。</p>\n","excerpt":"input要素系の青い線 / input以外の要素の青い線","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"Chrome","slug":"Chrome","path":"tags/Chrome/"}],"prev":{"title":"より良いjQueryのコードを記述するには","path":"20140421135603.html"},"next":{"title":"[jQuery] オリジナルのeasingを作る方法","path":"20140418010738.html"}},{"title":"[jQuery] オリジナルのeasingを作る方法","path":"20140418010738.html","permalink":"https://b.0218.jp/20140418010738.html","date":"2014-04-18T01:07:38.000Z","updated":"2015-02-28T22:26:00.000Z","thumbnail":"","content":"<p>jQuery には標準で<code>linear</code>と<code>swing</code>の easing 関数があります。<br>「jQuery Easing Plugin」を併用することで 32 種類の easing 関数を使うことができます。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>「jQuery Easing Plugin」は非常に便利なプラグインですが、正直なところ 32 種類すべてを使うようなことはまずありません。<br>必要に応じた関数を拝借するのも手かもしれません。<small>(ライセンスについては各自ご確認ください)</small></p>\n<h2>easing関数をカスタマイズする</h2>\n<pre class=\"javascript\"><code>$.extend($.easing,{\n    easeInQuad: function (x, t, b, c, d) {\n        return c*(t/=d)*t + b;\n    },\n    originalEasing: function (x, t, b, c, d) {\n        return -c *(t/=d)*(t-2) + b;\n    }\n});</code></pre>\n\n<p>例えば、予め上記の<code>$.extend</code>ように定義しておくことで、以下のようにオリジナルの easing を使用することができます。</p>\n<pre class=\"javascript\"><code>$('#hoge').animate({ 'marginLeft': '50px' }, 300, 'originalEasing');</code></pre>\n","excerpt":"easing関数をカスタマイズする","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"input要素以外でも線(アウトライン)が表示される問題","path":"20140418142551.html"},"next":{"title":"[Windows 7] VisualStyleを適応する方法","path":"20140417011610.html"}},{"title":"[Windows 7] VisualStyleを適応する方法","path":"20140417011610.html","permalink":"https://b.0218.jp/20140417011610.html","date":"2014-04-17T01:16:10.000Z","updated":"2014-10-20T00:42:05.000Z","thumbnail":"https://fc09.deviantart.net/fs5/i/2004/296/1/6/Brushed_Standard_Plastic_Black_by_hiro_style.jpg","content":"<p>Windows 7 でも色々と試してみて一番楽だった方法を紹介します。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>Windows 7 は VisualStyle を変更することができます。標準ではマイクロソフト製の VisualStyle しか変更可能でないため、クラッシックスタイルや Aero しか楽しむことができません。しかし、Windows にパッチを当てることで有志の作成したオリジナルの VisualStyle を適応することも可能になります。</p>\n<p>Windows XP の全盛期<small>(私の中では～ 2006 年ぐらい)</small>までは色々なサードパティ製の VisualStyle が沢山あり、それを適応して XP をどれだけシャレオツにするか、みたいなのが流行っていました。<small>(私の周りだけかもしれないですが)</small></p>\n<p>ちなみに当時 Mac 風にしていた Windows XP がこちらです。<br><img style=\"min-width: 100%;\" alt=\"VisauStyle を適応した Windows XP\" src=\"https://fc09.deviantart.net/fs5/i/2004/296/1/6/Brushed_Standard_Plastic_Black_by_hiro_style.jpg\"></p>\n<h2>注意</h2>\nこの VisualStyle を適応できるようにするためにはシステムファイルに手を加える必要がでてきます。もちろんパッチを当てるので自らシステムファイルを触る必要はありませんが、事前にバックアップやシステムの復元ポイントを作成しておく方が無難かと思います。ほとんどの場合、問題はないかと思いますが、自己責任でお願いいたします。\n\n<h3>復元ポイントの作成</h3>\n復元ポイントの作成については、マイクロソフトのページ(<a href=\"http://windows.microsoft.com/ja-jp/windows7/create-a-restore-point\">復元ポイントを作成する</a>)をご覧ください。\n<blockquote><ol><li>[システム] を開くには、[スタート] ボタン [スタート] ボタンの画像 をクリックし、[コンピューター]を右クリックしてから、[プロパティー] をクリックします。</li>\n<li>左側のウィンドウで、[システムの保護] をクリックします。 管理者のアクセス許可が必要です\n管理者のパスワードまたは確認を求められた場合は、パスワードを入力するか、確認情報を提供します。</li>\n<li>[システムの保護] タブをクリックして、[作成] をクリックします。</li>\n<li>[システムの保護] ダイアログ ボックスで、説明を入力して [作成] をクリックします。</li>\n</ol></blockquote>\n復元ポイントの作成は簡単なので事前に作成しておくことをお勧めします。\n\n<h2>パッチの適応方法</h2>\n<h3>パッチのダウンロード</h3>\n前述の通り、そのままではサードパーティ製の VisualStyle を適応する事は出来ません。それを可能にするパッチは色々と配布されていますが、今回は「<strong>Universal Theme Patcher</strong>」を使用します。Universal Theme Patcher は <a href=\"http://deepxw.blogspot.jp/2008/11/universal-theme-patcher.html\">こちら</a> からダウンロードすることができます。(ダウンロードできない場合は<a href=\"http://universal-theme-patcher.en.lo4d.com/\">こちら</a>)\n紹介するパッチは英語ですが、32bit環境であれば日本語翻訳を配布されている方がいます。<a href=\"http://otinc.hp2.jp/?tag=universalthemepatcher\">こちら</a> からどうぞ。\n\n<h3>パッチの適応</h3>\nダウンロードして解答すると2つの実行ファイルがありますので、環境に合わせて実行してください。\n　<b>32bit</b>: <code>UniversalThemePatcher-x86.exe</code>\n　<b>64bit</b>: <code>UniversalThemePatcher-x64.exe</code>\n<ol>\n<li>実行するとダイアログが表示されます。日本語がない場合はEnglish(英語)を選択するのが無難でしょう。</li>\n<li>ダイアログでOKをクリックするとパッチの適応ウィンドウが表示されます。\n「Patch」ボタンをクリックすることで <code>themeservice.dll</code> / <code>themeui.dll</code> / <code>uxtheme.dll</code> を適応することができます。\nちなみに「Restore」ボタンで改変前の状態に戻す事ができます。</li>\n</ol>\nこれら全ての適応が完了すると再起動をするかどうかの確認ダイアログが表示されます。\n状況に応じて再起動して、適応を完了して下さい。\n\n<h3>Windows 7 の VisualStyle を探す</h3>\n先ほどのパッチを当てれば VisualStyle は適応できるようになっているはずです。\nXP の VisualStyle などは日本人の有志の方が作ってるものがたくさんあったのですが、7などではほとんど見かけませんね。探すのであれば<a href=\"http://www.deviantart.com/customization/skins/windows7/#catpath=customization/skins/windows7/visualstyle&amp;order=9\">deviantART</a>がおすすめです。\n\n<h3>VisualStyle を適応する</h3>\n<a href=\"http://www.deviantart.com/customization/skins/windows7/#catpath=customization/skins/windows7/visualstyle&amp;order=9\">deviantART</a>などで VisualStyle を探してください。\nダウンロードして解凍すると大抵の場合「theme」フォルダがありますので、その中の「○○.theme」ファイルを「C:\\Windows\\Resources\\Themes」に移動(コピー)させてください。それからその「○○.theme」を実行するとテーマが適用されます。\n\n<p>スタートボタンなどの変更はまた別の機会に。</p>\n","excerpt":"注意 / パッチの適応方法","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Visual Style","slug":"Visual-Style","path":"tags/Visual-Style/"},{"name":"Windows XP","slug":"Windows-XP","path":"tags/Windows-XP/"},{"name":"Windows 7","slug":"Windows-7","path":"tags/Windows-7/"}],"prev":{"title":"[jQuery] オリジナルのeasingを作る方法","path":"20140418010738.html"},"next":{"title":"[名探偵コナン] ハンガー事件のあらすじと本当の犯行動機","path":"20140416000235.html"}},{"title":"[名探偵コナン] ハンガー事件のあらすじと本当の犯行動機","path":"20140416000235.html","permalink":"https://b.0218.jp/20140416000235.html","date":"2014-04-16T00:02:35.000Z","updated":"2014-06-20T10:29:57.000Z","thumbnail":"","content":"<p>巷で「<strong>コナンの動機は酷過ぎる</strong>」と揶揄される「ハンガー事件」。<br>簡単にまとめてみました。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>いわゆる「ハンガー事件」と言われているストーリーのタイトルは、「<strong>消えた凶器捜索事件</strong>」。<br>原作ストーリーではなくアニメオリジナルストーリー(135 話)である。</p>\n<h2>あらすじ</h2>\n探偵団は五島緑<small>(以下、犯人)</small>と三井美香<small>(以下、被害者)</small>が言い争っている現場に出くわす。\n被害者は犯人の店(美容室)を辞めて別の店に移ろうとしているらしい。\n\n<p>顔見知りであった歩美は、被害者が辞める前に髪を切ってもらうことになる。<br>約束の日時に探偵団が被害者宅を訪ねると、被害者は何者かに首を絞められ殺害されていた。</p>\n<h2>凶器</h2>\n犯人が用いた凶器が「ハンガー」である。このハンガーは被害者が犯人に投げつけたものであり突発的な犯行であったことを物語っている。\nこの話のタイトルにもなっている「<b>消えた凶器</b>」だが、犯人がゴミ捨て場に捨てたものを<u>カラスが巣作りのため持ち去っており</u>、そこにたどり着くまで「捜索」することとなる。\n\n<h2>犯行動機</h2>\nよく言われる「<b>ハンガーを投げられたから殺した</b>」というのはもちろん<b>誤り</b>である。\nハンガーが引き金にはなっているが、投げつけられたから殺したわけではない。\n\n<p>犯人が目暮警部に自供するのだが、言葉足らずのためアニメを見ずに話だけ聞くと「ハンガーを投げつけられたから」と捉えられかねない。<br>実際、目暮警部にも「そんなくだらん理由で！」と一喝されている。</p>\n<blockquote>「あの子、私にハンガーを投げつけたんです。店を辞めないでと頼みに行った私に。\n……許せなかったんです。私への恩も忘れてハンガーを投げつけたあの子が。」</blockquote>\n\n<p>感情的になっている犯人に冷静に動機を語れというのも無理な話かもしれない。今回の犯人の動機としては「<strong>恩を忘れて</strong>」というのが一番大きいのではないだろうか。</p>\n<h2>ちなみに</h2>\nこの話は、原作の要なストーリーに挟まれたオリジナルストーリーである。\n<ul>\n<li>黒の組織から来た女</li>\n<li>大学教授殺人事件</li>\n<li>競技場無差別脅迫事件</li>\n<li>奇術愛好家殺人事件</li>\n<li><strong>消えた凶器捜索事件</strong></li>\n<li>青の古城探索事件</li>\n</ul>\nこの話の次の話「青の古城探索事件」が<strong>視聴率歴代ナンバーワン</strong>らしい。\n","excerpt":"あらすじ / 凶器 / 犯行動機 / ちなみに","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"},{"name":"アニメ","slug":"アニメ","path":"tags/%E3%82%A2%E3%83%8B%E3%83%A1/"}],"prev":{"title":"[Windows 7] VisualStyleを適応する方法","path":"20140417011610.html"},"next":{"title":"[WordPress] @から始まるTwitterのユーザーID(メンション)にリンクを付ける方法","path":"20140414184042.html"}},{"title":"[WordPress] @から始まるTwitterのユーザーID(メンション)にリンクを付ける方法","path":"20140414184042.html","permalink":"https://b.0218.jp/20140414184042.html","date":"2014-04-14T18:40:42.000Z","updated":"2014-06-20T10:30:00.000Z","thumbnail":"","content":"<p>記事内の Twitter のユーザー ID のリンクをいちいち貼るのは面倒です。<br>また過去のリンク貼り忘れの記事にいちいち貼り直すのも面倒です。</p>\n<p>自動的に @から始まる Twitter ユーザー ID にリンクを貼るようにしたいと思います。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>追加するコード</h2>\n<code>functions.php</code>に以下のコードを追加します。\n<pre class=\"linenums php\">function filter_twitter_mention($content) {\n       return preg_replace('/(?&lt;![\\\\w])(@|＠)([\\\\w]{1,15})/', \"&lt;a href=\\\"http://twitter.com/$2\\\"&gt;$1$2&lt;/a&gt;\", $content);\n}\nadd_filter('the_content', 'filter_twitter_mention');\n</pre>\n正規表現で@から始まるTwitterのユーザーIDらしき文字列にリンクを被せるような動きです。\n\n<p>ハッシュタグも同じ要領でリンク付けができるのですが、本文内で&lt;a href=”#”&gt;hoge&lt;/a&gt;みたいにアンカーが使われていた場合の振り分けを考えないといけないので面倒くさそうです。</p>\n<h2>参考</h2>\nメンションを抽出する正規表現は、<a href=\"http://qiita.com/shr_em/items/f9282becc6e431d65e25\" target=\"_blank\">PHP - TwitterのURL抽出の正規表現 - Qiita</a>の<b>おまけ　@(メンション)判定</b>を参考にさせて頂きました。\n<blockquote><b>名前およびユーザー名は何文字まで？</b>\n<ul>\n  <li><strong>ユーザー名は、最大15文字です。</strong></li>\n  <li>名前は、最大20文字です。</li>\n</ul>\n<footer>引用元:『<a href=\"https://support.twitter.com/articles/249172\">Twitterヘルプセンター | ユーザー名の変更方法</a>』より</footer></blockquote>\n正規表現を見てて思ったんですが、そういえばユーザーIDの最大文字数は15文字なんでしたね。\n<h2>追記</h2>\n記事の本文だけではなくて、コメントにも同様の処理をしたい場合は以下のコードを合わせて追加すると良いです。\n\n<pre><code class=\"php\">add_filter('comment_text', 'filter_twitter_mention');</code></pre>\n","excerpt":"追加するコード / 参考 / 追記","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"正規表現","slug":"正規表現","path":"tags/%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE/"}],"prev":{"title":"[名探偵コナン] ハンガー事件のあらすじと本当の犯行動機","path":"20140416000235.html"},"next":{"title":"[WordPress] 投稿一覧で記事のステータスで色付けをする方法","path":"20140414183436.html"}},{"title":"[WordPress] 投稿一覧で記事のステータスで色付けをする方法","path":"20140414183436.html","permalink":"https://b.0218.jp/20140414183436.html","date":"2014-04-14T18:34:36.000Z","updated":"2014-06-20T10:30:02.000Z","thumbnail":"","content":"<p>フィルタリングも出来るんですが、やっぱりパッと見で各ステータスが分かるといいですよね。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>追加するコード</h2>\n<code>functions.php</code>に以下のコードを追加します。\n<pre class=\"linenums php\">function post_status_style(){\necho &lt;&lt;&lt; EOF\n&lt;style type=\"text/css\"&gt;\n&lt;!--\n  .status-publish {}  /* 公開済 */\n  .status-draft   { background: #F6D4D8 !important; }  /* 下書き */\n  .status-private { background: #E3E3E3 !important; }  /* 非公開 */\n  .status-pending { background: #C6EDDB !important; }  /* 承認待ち */\n  .status-future  { background: #C9E8F1 !important; }  /* 公開予約済 */\n--&gt;\n&lt;/style&gt;\nEOF;\n}\nadd_action('admin_head', 'post_status_style');</pre>\n\n<p>管理画面のヘッダに CSS を追加するような動きになっています。</p>\n<p>私の場合、「公開済み(.status-publish)」に色付けはしなくても良いかと思ったので付けていません。<br>付けたい場合は他のステータスと同様に付けてみるといいです。<br>また、<code>background</code>しか弄っていませんが、<code>color</code>とかもいけますし、<code>:hover</code>した時のスタイルも変えてみるといいかもです</p>\n","excerpt":"追加するコード","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[WordPress] @から始まるTwitterのユーザーID(メンション)にリンクを付ける方法","path":"20140414184042.html"},"next":{"title":"[WordPress] 自動更新を無効化する方法","path":"20140414181923.html"}},{"title":"[WordPress] 自動更新を無効化する方法","path":"20140414181923.html","permalink":"https://b.0218.jp/20140414181923.html","date":"2014-04-14T18:19:23.000Z","updated":"2014-06-20T10:30:04.000Z","thumbnail":"","content":"<p>WordPress の自動更新は非常に便利な機能ですが、独自でニッチな修正を入れている状況などでは手動で更新したい場合があります。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2><code>wp-config.php</code>に加えるコード</h2>\nそれぞれのコードを<code>wp-config.php</code>に加えればOKです。\n\n<h3>すべての更新を無効化</h3>\n<pre class=\"php\"><code>define('WP_AUTO_UPDATE_CORE', false);</code></pre>\n<code>true</code>にするとすべて更新が有効化されます。\n","excerpt":"wp-config.phpに加えるコード","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[WordPress] 投稿一覧で記事のステータスで色付けをする方法","path":"20140414183436.html"},"next":{"title":"[WordPress] URLの末尾にスラッシュを追加する方法","path":"20140413154158.html"}},{"title":"[WordPress] URLの末尾にスラッシュを追加する方法","path":"20140413154158.html","permalink":"https://b.0218.jp/20140413154158.html","date":"2014-04-13T15:41:58.000Z","updated":"2014-06-20T10:30:06.000Z","thumbnail":"","content":"<p>WordPress で生成される URI は基本的に末尾にはスラッシュは付いていません。<br>実現できるプラグインは沢山あるようですが、<code>functions.php</code>に追加した方が色々と良いです。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>デフォルトのURI</h2>\nアーカイブ(カテゴリ・タグ)ページなどのURIの末尾は、以下のような URI になっています。\n\n<pre><code>https://b.0218.jp/2014/04\nhttps://b.0218.jp/category/wordpress\nhttps://b.0218.jp/tag/wordpress</code></pre>\n<p>以下のように URI の末尾にスラッシュを付けたいと思います。</p>\n<pre><code>https://b.0218.jp/2014/04<b>/</b><code></code></code></pre><code><code>\n\n<h2>functions.php に追加するコード</h2>\n以下の様なコードを<code>functions.php</code>に追加します。\n```php\nfunction add_slash_uri_end($uri, $type) {\n  if ($type != 'single') {\n    $uri = trailingslashit($uri);\n  }\n  return $uri;\n}\nadd_filter('user_trailingslashit', 'add_slash_uri_end', 10, 2);\n```\n\n<p>2 行目で個別記事を除外します。これで、パーマリンク設定をカスタム構造が「○○.html」などの場合、「<a href=\"http://host/%E2%97%8B%E2%97%8B.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">http://host/○○.html</a><b>/</b>」みたいに不格好になってしまうことを防ぐことが出来ます。<br><code>trailingslashit</code>関数内で<code>untrailingslashit</code>関数を使って末尾のスラッシュや空白文字が取り除くようです。そのため、末尾がスラッシュで終わっている場合であっても以下のようにスラッシュ重複されない。</p>\n<pre><code>https://b.0218.jp/2014/04<b>//</b></code></pre>\n</code></code>","excerpt":"デフォルトのURI / functions.php に追加するコード","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[WordPress] 自動更新を無効化する方法","path":"20140414181923.html"},"next":{"title":"[CSS] 国内の主要サイトのfont-familyを調べてみた","path":"20140413040834.html"}},{"title":"[CSS] 国内の主要サイトのfont-familyを調べてみた","path":"20140413040834.html","permalink":"https://b.0218.jp/20140413040834.html","date":"2014-04-13T04:08:34.000Z","updated":"2015-02-28T23:12:55.000Z","thumbnail":"","content":"<p>日本語の<code>font-family</code>を設定するにあたり、他のサイトはどうなっているのか気になったので調べてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>日本の主要サイトとは</h2>\nそもそも、日本の主要サイトとは何ぞや。まずはそこから調べてみた。\n日本なら Yahoo! Japan とか……? 何も根拠が無いのに調べても無駄なので、サイトのアクセス数などの調査として有名な <a href=\"http://www.alexa.com/\">Alexa</a>を参考にすることにした。\n<h3>Alexa - Top Sites in Japan</h3>\n「<a href=\"http://www.alexa.com/topsites/countries/JP\">Alexa - Top Sites in Japan</a>」に Top Sites in Japan として国別のランキングが載っている。\n他にもカテゴリ別やら世界ランキングなどあるが、今回の調査で軸にあるのは<code>font-family</code>に設定されている日本語フォントなので国別ランキング(日本)で調べることにする。\n<h3>日本の主要サイト<small>(2014年4月現在)</small></h3>\n今現在の主要サイトは以下の通り。\n<ol>\n<li><a href=\"http://www.yahoo.co.jp/\">Yahoo.co.jp</a></li>\n<li><a href=\"https://www.google.co.jp/\">Google.co.jp</a></li>\n<li><a href=\"https://www.google.com/\">Google.com</a></li>\n<li><a href=\"http://www.amazon.co.jp/\">Amazon.co.jp</a></li>\n<li><a href=\"https://www.youtube.com/\">Youtube.com</a></li>\n<li><a href=\"http://fc2.com/\">Fc2.com</a></li>\n<li><a href=\"https://www.facebook.com/\">Facebook.com</a></li>\n<li><a href=\"http://www.rakuten.co.jp/\">Rakuten.co.jp</a></li>\n<li><a href=\"http://ja.wikipedia.org/wiki/%E3%83%A1%E3%82%A4%E3%83%B3%E3%83%9A%E3%83%BC%E3%82%B8\">Wikipedia.org</a></li>\n<li><a href=\"http://ameblo.jp/\">Ameblo.jp</a></li>\n<li><a href=\"http://www.livedoor.com/\">Livedoor.com</a></li>\n<li><a href=\"http://www.nicovideo.jp/\">Nicovideo.jp</a></li>\n<li><a href=\"http://www.goo.ne.jp/\">Goo.ne.jp</a></li>\n<li><a href=\"http://matome.naver.jp/\">Naver.jp</a></li>\n<li><a href=\"http://twitter.com/\">Twitter.com</a></li>\n</ol>\n10サイトとしたかったが、いくつか調査として問題がありそうだったのでトップ15サイトをピックアップした。\n\n<p>Google.com だが、ここは Google.co.jp にリダイレクトされているし、そもそも Google.com の方は日本語が含まれていないので調査対象から外すことにする。</p>\n<p>Wikipedia.org はトップページが各言語へのランディングとなっているので日本語のトップページを調査する。</p>\n<p>Naver.jp は “<a href=\"http://www.naver.jp/&quot;\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">http://www.naver.jp/\"</a> でアクセスすると「検索・辞書関連サービス終了のお知らせ」にページに飛んでしまう。<a href=\"http://www.alexa.com/siteinfo/naver.jp\">Alexa の”Where do visitors go on naver.jp?”</a>を確認すると、matome.naver.jp (96.64%) とあるので調査するのは “matome.naver.jp” とする。トラフィック情報を確認すると、2013 年～現在までアクセスは順調に伸びている。検索サービスが終了した 2013 年 12 月 18 日以降もトラフィックに影響がないことを考えると「Naver まとめ」を調べて良さそう。</p>\n<p>また、国内で人気のブログサービスがランキングの中に含まれており、そこのトップページの<code>font-family</code>を調べるのは少々気になるが埒が明かないのでこれらについては調査する。</p>\n<h2>font-family 一覧</h2>\n各サイトの CSS の font-family を調べた。\n計算後の値を拾ってみた。<span class=\"text-muted\">もしかしたらズレがあるかもしれない。</span>\n<h3>Yahoo.co.jp</h3>\n<pre class=\"css\"><code>font-family: \"MS PGothic\",\"Osaka\",Arial,sans-serif;</code></pre>\n<h3>Google.co.jp</h3>\n<pre class=\"css\"><code>font-family: arial,sans-serif;</code></pre>\n<h3>Amazon.co.jp</h3>\n<pre class=\"css\"><code>font-family: Arial,Verdana,\"Helvetica Neue\",Helvetica,sans-serif;</code></pre>\n<h3>Youtube.com</h3>\n<pre class=\"css\"><code>font-family: arial,sans-serif;</code></pre>\n<h3>Fc2.com</h3>\n<pre class=\"css\"><code>font-family: Verdana,Arial,Helvetica,sans-serif;</code></pre>\n<h3>Facebook.com</h3>\n<pre class=\"css\"><code>font-family: Helvetica,Arial,'lucida grande',tahoma,verdana,arial,\"hiragino kaku gothic pro\",meiryo,\"ms pgothic\",sans-serif;</code></pre>\n<h3>Rakuten.co.jp</h3>\n<pre class=\"css\"><code>font-family: 'MS PGothic';</code></pre>\n<h3>Wikipedia.org</h3>\n<pre class=\"css\"><code>font-family: sans-serif;</code></pre>\n<h3>Ameblo.jp</h3>\n<pre class=\"css\"><code>font-family: \"メイリオ\", Meiryo, \"ＭＳ Ｐゴシック\", Arial, Helvetica, sans-serif;</code></pre>\n<h3>Livedoor.com</h3>\n<pre class=\"css\"><code>font-family: 'ヒラギノ角ゴ Pro W3','Hiragino Kaku Gothic Pro','Meiryo UI','メイリオ',Meiryo,'ＭＳ Ｐゴシック',sans-serif;</code></pre>\n<h3>Nicovideo.jp</h3>\n<pre class=\"css\"><code>font-family: \"ヒラギノ角ゴ Pro W3\", \"Hiragino Kaku Gothic Pro\", \"メイリオ\", Meiryo, Osaka, \"ＭＳ Ｐゴシック\", \"MS PGothic\", sans-serif;</code></pre>\n<h3>Goo.ne.jp</h3>\n<pre class=\"css\"><code>font-family: Osaka,Arial,Helvetica,sans-serif;</code></pre>\n<h3>Naver.jp</h3>\n<pre class=\"css\"><code>font-family: Meiryo,\"MS PGothic\",arial,sans-serif;</code></pre>\n<h3>Twitter.com</h3>\n<pre class=\"css\"><code>font-family: Arial,\"ヒラギノ角ゴ Pro W3\",\"Hiragino Kaku Gothic Pro\",Osaka,\"メイリオ\",Meiryo,\"ＭＳ Ｐゴシック\",\"MS PGothic\",sans-serif;</code></pre>\n\n<hr>\n<h2>関連</h2><ul>\n<li><a href=\"https://b.0218.jp/20161112185002.html\">国内主要サイトの font-family を調べた in 2016</a></li>\n<li><a href=\"https://b.0218.jp/20170420164222.html\">EC サイトの font-family を調べた in 2017</a></li>\n</ul>\n","excerpt":"日本の主要サイトとは / font-family 一覧 / 関連","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"},{"name":"フォント","slug":"フォント","path":"tags/%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88/"},{"name":"調査","slug":"調査","path":"tags/%E8%AA%BF%E6%9F%BB/"}],"prev":{"title":"[WordPress] URLの末尾にスラッシュを追加する方法","path":"20140413154158.html"},"next":{"title":"[ShellScript] 都道府県の名称でディレクトリを作成する(一覧)","path":"20140411233252.html"}},{"title":"[ShellScript] 都道府県の名称でディレクトリを作成する(一覧)","path":"20140411233252.html","permalink":"https://b.0218.jp/20140411233252.html","date":"2014-04-11T23:32:52.000Z","updated":"2014-10-20T13:20:44.000Z","thumbnail":"","content":"<p>テストでディレクトリを作成する必要があったんですが、<code>mkdir 北海道 ... mkdir 青森県... </code>みたいなことやってらんねぇのでシェルを作りました。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>mkdir_prefecture.sh</h2>\n\n<pre><code class=\"sh\">#!/bin/sh\n\ndeclare -a array=(\"北海道\" \"青森県\" \"岩手県\" \"宮城県\" \"秋田県\" \"山形県\" \"福島県\" \"茨城県\" \"栃木県\" \"群馬県\" \"埼玉県\" \"千葉県\" \"東京都\" \"神奈川県\" \"新潟県\" \"富山県\" \"石川県\" \"福井県\" \"山梨県\" \"長野県\" \"岐阜県\" \"静岡県\" \"愛知県\" \"三重県\" \"滋賀県\" \"京都府\" \"大阪府\" \"兵庫県\" \"奈良県\" \"和歌山県\" \"鳥取県\" \"島根県\" \"岡山県\" \"広島県\" \"山口県\" \"徳島県\" \"香川県\" \"愛媛県\" \"高知県\" \"福岡県\" \"佐賀県\" \"長崎県\" \"熊本県\" \"大分県\" \"宮崎県\" \"鹿児島県\" \"沖縄県\")\n\ni=0\nfor e in ${array[@]}; do\n    mkdir \"${e}\"\nlet i++\ndone</code></pre>\n<p>3 行目で配列に名称を突っ込んで、ループで<code>mkdir</code>してるだけです。</p>\n","excerpt":"mkdir_prefecture.sh","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"ShellScript","slug":"ShellScript","path":"tags/ShellScript/"}],"prev":{"title":"[CSS] 国内の主要サイトのfont-familyを調べてみた","path":"20140413040834.html"},"next":{"title":"[WordPress] サムネイルを一括で解除する方法(設定の削除)","path":"20140410163534.html"}},{"title":"[WordPress] サムネイルを一括で解除する方法(設定の削除)","path":"20140410163534.html","permalink":"https://b.0218.jp/20140410163534.html","date":"2014-04-10T16:35:34.000Z","updated":"2014-06-20T10:30:14.000Z","thumbnail":"","content":"<p>プラグインなどで一括で記事にサムネイルを設定することができますが、誤った画像を設定してしまった場合、それらすべてを解除していくのは骨です。時間の無駄です。<br>今回はデータベースから直接解除してみたいと思います。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>サムネイルが設定されている記事を確認する</h2>\n以下のSQL文でサムネイルが設定されている記事が確認することができます。\n```sql\nSELECT * FROM `wp_postmeta` WHERE `meta_key` = '_thumbnail_id';\n```\n\n<p>上記の SQL 実行で以下のような結果が取得できます。</p>\n<table class=\"table table-bordered\"><thead><tr><th>meta_id</th><th>post_id</th><th>meta_key</th><th>meta_value</th></tr></thead><tbody><tr><td>1600</td><td>347</td><td>_thumbnail_id</td><td>1182</td></tr><tr><td>1599</td><td>357</td><td>_thumbnail_id</td><td>1182</td></tr><tr><td>1598</td><td>547</td><td>_thumbnail_id</td><td>1182</td></tr><tr><td>1597</td><td>553</td><td>_thumbnail_id</td><td>1182</td></tr><tr><td>1596</td><td>582</td><td>_thumbnail_id</td><td>1182</td></tr><tr><td>1595</td><td>598</td><td>_thumbnail_id</td><td>1182</td></tr></tbody></table>\n\n<p>また、記事のタイトルなどと紐づけて抽出したい場合は<code>post_id</code>で join すれば良いのではないかと思います。</p>\n<h2>特定のサムネイル設定を削除する</h2> \n<code>wp_postmeta</code>の<code>meta_value</code>の値がサムネイルのIDです。これを条件に削除を実行します。\nサムネイルIDが何であるかについては、管理画面などからご確認ください。\n```sql\nDELETE FROM `wp_postmeta` WHERE `meta_key` = '_thumbnail_id' AND `meta_value` = '＜サムネイルID＞';\n```\n\n<h2>すべてのサムネイル設定を削除する</h2> \nすべてのサムネイル設定を削除する場合は以下です。\n```sql\nDELETE FROM `wp_postmeta` WHERE `meta_key` = '_thumbnail_id';\n```\n","excerpt":"サムネイルが設定されている記事を確認する / 特定のサムネイル設定を削除する / すべてのサムネイル設定を削除する","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[ShellScript] 都道府県の名称でディレクトリを作成する(一覧)","path":"20140411233252.html"},"next":{"title":"[JavaScript] 数値をカンマ区切りにする方法","path":"20140407190825.html"}},{"title":"[JavaScript] 数値をカンマ区切りにする方法","path":"20140407190825.html","permalink":"https://b.0218.jp/20140407190825.html","date":"2014-04-07T19:08:25.000Z","updated":"2015-02-28T22:30:48.000Z","thumbnail":"","content":"<p>JavaScript で数値にカンマを付けたり外したり…<br>一般のサイトなんかではあまり使わないかもしれないですが、業務アプリとかだと日常茶飯事だったりします。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>整理がてらメモにあったものを公開しておきたいと思います。</p>\n<h2>見づらい</h2>\n新人の頃に作ったアプリで使われていたカンマ区切りのロジック。\n非常に見づらいです。頑張って作ったのでしょう。\n\n<pre><code class=\"js\">function insertComma(num) {\n  while (num != (num = num.replace(/^(-?\\d+)(\\d{3})/, \"$1,$2\")));\n  return num;\n}</code></pre>\n<h2>理想的な方法</h2>\n最近はこんな感じでカンマ区切りしてます。保守もしやすくてイイ感じです。\n\n<pre><code class=\"js\">function insertComma(num) {\n  return String(num).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n}</code></pre>\n<h2>ちょっとクールな方法</h2>\n一応、こういう方法もあるっぽいです。\n確認したところ、最新のブラウザでは有効でした。\n\n<pre><code class=\"js\">function insertComma(num) {\n  return num.toLocaleString();\n}\n// Chrome 33\n// Firefox 28\n// Internet Explorer 11</code></pre>\n","excerpt":"見づらい / 理想的な方法 / ちょっとクールな方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[WordPress] サムネイルを一括で解除する方法(設定の削除)","path":"20140410163534.html"},"next":{"title":"[jQuery] imgタグを含まないaタグ(外部リンク)にtarget=_blankを付けてアイコンを表示する方法","path":"20140407104331.html"}},{"title":"[jQuery] imgタグを含まないaタグ(外部リンク)にtarget=_blankを付けてアイコンを表示する方法","path":"20140407104331.html","permalink":"https://b.0218.jp/20140407104331.html","date":"2014-04-07T10:43:31.000Z","updated":"2015-02-28T22:25:58.000Z","thumbnail":"","content":"<p>かなり欲張りなタイトルですが、こういう感じです。</p>\n<ol>\n  <li>外部リンクである&lt;a&gt;タグに<code>target=_blank</code>を付ける</li>\n  <li>外部リンクである&lt;a&gt;タグの後にアイコンを付ける\n    <ul>\n      <li>ただし&lt;img&gt;を包括する&lt;a&gt;タグは除く</li>\n    </ul>\n  </li>\n</ol>\n\n<div class=\"more js-separate\"></div>\n\n<h2>検索したら出てきた方法</h2>\n<pre class=\"linenums js\">$('a[href^=\"http://\"]').not('a[href^=\"http://hoge.hoge/\"]').click(function(){\n  window.open($(this).attr('href'), '_blank');\n  return false;\n}).not(':has(img)').addClass('icon-class');\n</pre>\n外部リンクである&lt;a&gt;タグをクリックした際に<code>target=_blank</code>を付けてるようです。\nこれでも問題はないのですが、ドメインを変更やローカル環境でのテストなどメンテナンスが面倒くさいです。\n\n<h2>私の場合</h2>\n色々と方法はあるかと思いますが、個人的にはシンプルでメンテナンスのしやすい以下の方法で解決しています。\n<pre class=\"linenums js\">var host = new RegExp('/' + window.location.host + '/');\n\n<p>$('a').each(function () {<br>  if (!host.test(this.href)) {<br>    var $this = $(this);<br>    // 外部リンクに target=_blank を付ける<br>    $this.attr(\"target\", \"_blank\");<br>// 画像を包括していない&amp;lt;a&amp;gt;タグにアイコンを付ける<br>$this.not(':has(img)').append($.parseHTML('&lt;span class=\"icon-popup\" /&gt;'));<br>}<br>});</p>\n<p></p></pre><p></p>\n<ol>\n  <li>各&lt;a&gt;タグを検索します。<span class=\"text-muted\">実際は .find() などで検索範囲を狭めるのが良いです</span></li>\n  <ol>\n    <li>正規表現を使い、表示しているページのホストと&lt;a&gt;タグの<code>href</code>がと<strong>マッチしないか</strong>をチェックします。</li>\n    <li>マッチしない場合(=外部リンク)、target=_blankを付けます。</li>\n    <li>マッチしない場合(=外部リンク)で、画像を包括していないなら&lt;a&gt;タグにアイコンを付けます。</li>\n  </ol>\n</ol>\n","excerpt":"検索したら出てきた方法 / 私の場合","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[JavaScript] 数値をカンマ区切りにする方法","path":"20140407190825.html"},"next":{"title":"[WordPress] 文字列を簡単に省略する方法","path":"20140406203749.html"}},{"title":"[WordPress] 文字列を簡単に省略する方法","path":"20140406203749.html","permalink":"https://b.0218.jp/20140406203749.html","date":"2014-04-06T20:37:49.000Z","updated":"2014-06-20T10:30:18.000Z","thumbnail":"","content":"<p>PHP で文字列を省略する方法はご存知かもしれないですが、自前で実装するのはちょっと面倒。<br>でも WordPress には便利な独自関数があります。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>PHPの場合</h2>\n通常は以下の様な<u>感じで</u>文字列の省略は行います。\n\n<pre><code class=\"php\">$tag = '';\n$title = get_the_title();\n$chara = get_bloginfo('charset');\n\nif( mb_strlen($title, $chara) &gt; 30 ) {\n  $tag .= mb_substr($title, 0, 30, $chara) .'…';\n} else {\n  $tag .= \\$title;\n}\n\necho \\$tag;</code></pre>\n<h2>WordPressの関数を使う場合</h2>\nWordPressの独自関数<code>wp_trim_words()</code>を使えば以下の1行でOKです。\n<strong>英数字もマルチバイト文字も1字としてきちんとカウントしてくれる</strong>ので便利です。\n\n<pre><code class=\"php\">echo wp_trim_words( get_the_title(), 30, '…' );</code></pre>\n<p>第 3 引数は省略可で、省略記号を指定できます。</p>\n","excerpt":"PHPの場合 / WordPressの関数を使う場合","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[jQuery] imgタグを含まないaタグ(外部リンク)にtarget=_blankを付けてアイコンを表示する方法","path":"20140407104331.html"},"next":{"title":"[JavaScript] 表示ページのファイル名を取得する方法","path":"20140404132553.html"}},{"title":"[JavaScript] 表示ページのファイル名を取得する方法","path":"20140404132553.html","permalink":"https://b.0218.jp/20140404132553.html","date":"2014-04-04T13:25:53.000Z","updated":"2015-02-28T22:30:47.000Z","thumbnail":"","content":"<p>ファイル名を取得する場合、サーバサイドで取得しておくパターンとフロントエンドで取得するパターンがあるかと思います。<br>表示されているページのファイル名を取得して何かする事といえば、メニューの装飾をページによって変える、とかそれぐらいしか思い浮かびませんが…</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n色々と方法はあるかと思いますが、ここでは簡単にPHPとJavaScriptでの方法を記載します。\n\n<h3>PHP</h3>\n<pre class=\"php\"><code>basename($_SERVER['SCRIPT_NAME']);</code></pre>\n\n<p><code>$_SERVER['SCRIPT_NAME']</code>で現在のスクリプトのパスを取得し、そのパスから<code>basename</code>で最後にある名前の部分を取得。</p>\n<h3>JavaScript</h3>\n<pre class=\"javascript\"><code>function getFileName() {\n    return window.location.href.split('/').pop();\n}</code></pre>\n\n<p><code>window.location.pathname</code>でホスト以下のパスを取得し、それを<code>split('/')</code>で「/(スラッシュ)」区切りで配列に入れ、<code>pop()</code>で配列の最後の値を取得する。</p>\n<h6>正規表現</h6>\nこういう方法もあるっぽいです。\n<pre class=\"javascript\"><code>function getFileName() {\n    return window.location.href.match(\".+/(.+?)([\\?#;].*)?$\")[1];\n}\n</code></pre>\n","excerpt":"方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[WordPress] 文字列を簡単に省略する方法","path":"20140406203749.html"},"next":{"title":"[Excel] 「プログラムにコマンドを送信しているときにエラーが発生しました」の対処法\n","path":"20140401094943.html"}},{"title":"[Excel] 「プログラムにコマンドを送信しているときにエラーが発生しました」の対処法\n","path":"20140401094943.html","permalink":"https://b.0218.jp/20140401094943.html","date":"2014-04-01T09:49:43.000Z","updated":"2014-09-26T10:30:36.000Z","thumbnail":"","content":"<p>Excel ファイルをダブルクリックして開く際に、「プログラムにコマンドを送信しているときに、エラーが発生しました。」というエラーが発生。ファイルを開けない問題が発生したので解決策をメモ。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>原因</h2>\n<blockquote>この問題は、Excel で [Dynamic Data Exchange (DDE) を使用する他のアプリケーションを無視する] の設定が有効になっている場合に発生することがあります。<footer>引用: <a href=\"http://support.microsoft.com/kb/211494/ja\">Excel エラー: プログラムにコマンドを送信しているときに、エラーが発生しました</a></footer></blockquote>\n何か設定を変更したときにいじったのかもしれないです。\n\n<h2>解決方法</h2>\n<a href=\"http://support.microsoft.com/kb/211494/ja\">Microsoftのサポートページ</a>を確認します。\n<h3>Fix it で解決する</h3>「<b><a href=\"http://support.microsoft.com/kb/211494/ja#fixit4me\">Fix it で解決する</a></b>」を確認し、自環境にあったFix itで問題個所を修正します。\n\n<h3>自分で解決する</h3>\nMicrosoftのサポートページの「<b><a href=\"http://support.microsoft.com/kb/211494/ja#letmefixit\">自分で解決する</a></b>」にもある通りです。\n\n<p><b>Microsoft Excel 2007 <small>（例）</small></b>の場合:</p>\n<ol>\n<li>Microsoft Office ボタンをクリックし、[Excel のオプション] をクリックします。</li>\n<li>[詳細設定] をクリックし、[全般] の [Dynamic Data Exchange (DDE) を使用する他のアプリケーションを無視する] チェック ボックスをオフにします。</li>\n<li>[OK] をクリックします。</li>\n</ol>\n","excerpt":"原因 / 解決方法","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"},{"name":"Excel","slug":"Excel","path":"tags/Excel/"}],"prev":{"title":"[JavaScript] 表示ページのファイル名を取得する方法","path":"20140404132553.html"},"next":{"title":"iPod classic のセンターボタンが反応しなくなった時の対処法\n","path":"20140310171916.html"}},{"title":"iPod classic のセンターボタンが反応しなくなった時の対処法\n","path":"20140310171916.html","permalink":"https://b.0218.jp/20140310171916.html","date":"2014-03-10T17:19:16.000Z","updated":"2014-09-26T10:31:30.000Z","thumbnail":"","content":"<p>センターボタンが効かなくなった時の顛末です。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>そもそも原因は何なのか。ソフトかハードか、問題を切り分ける為に色々と試してみました。</p>\n<h2>iPod classicの再起動(リセット)</h2>\nクリックホイール付きの iPod の再起動(リセット)方法は以下の通りです。\n<blockquote><ol>\n <li>ホールドスイッチをオンにしてからオフにします (「HOLD」の位置にスライドしてから、元に戻します)。</li>\n <li>メニューボタンとセンター (選択) ボタンを、Apple ロゴが表示するまで、同時に 6 ～ 8 秒間押したままにします。場合によってはこの手順を繰り返す必要があります。</li>\n</ol>\n<p align=\"right\">引用: <a href=\"http://support.apple.com/kb/HT1320?viewlocale=ja_JP\">iPod のリセット方法</a></p></blockquote>\n\n<p>本来はこの方法で再起動(リセット)が行われるのですが、今回のようにセンターボタンが反応しない状態だとそもそもリセットができません。念のため試してみるということで。</p>\n<h2>iPod classic の初期化</h2>\niPodをPCに繋げて、iTunes で「復元」を押します。\n<p align=\"right\">参考: <a href=\"http://support.apple.com/kb/ht1339?viewlocale=ja_JP\">iPod を工場出荷時の設定に戻す</a></p>\n\n<p>ソフトの方に何か問題があれば、この復元でどうにかなるんじゃないかと根拠のない淡い希望を抱いていたのですがダメでした。<br>iPod で「決定」が押せないので、初期化後の言語設定から進めなくなりました…。</p>\n<h2>iPod classic の修理(交換)</h2>\nこれまでの操作で自己解決は無理だと判断。\n諦めて修理に出す事にしました。\n\n<h3>値段</h3>\nでは、修理にいくら掛かるのか。公式サイトを確認すると以下のような記述が…。\n\n<table class=\"table table-bordered\" style=\"table-layout: fixed;\">\n<caption>iPod classic 160 GB (Late 2009) </caption>\n<tbody><tr><th>修理サービス料金 (税込) </th><td>¥10,800</td></tr>\n<tr><th>バッテリー交換料金 (税込)</th><td>¥4,800</td></tr>\n</tbody></table>\n<p align=\"right\">引用: <a href=\"http://goo.gl/wKvt5\">Apple - サポート - 修理サービス Q&amp;A センター</a></p>\n\n<p>また、これが保証期間内(購入日から 1 年以内)であれば修理サービスは無償のようです。</p>\n<h3>修理</h3>\n修理といっても、部品の修理とかではなく、「<strong>本体の交換</strong>」です。愛着があってもそれを渡して新品のiPodを10,800円で購入するという形になります。\n\n<h2>Apple Storeで修理(交換)</h2>\n「在宅自己交換修理サービス」なるものがあるようですが、お近くにApple Storeがあれば店舗で交換してもらった方が早いと思います。在庫があれば交換してくれると思います。\n\n<p>直接、Apple Store に足を運んでも良いのですが混んでいることが予想されるため、予約をしておいた方が無難です。</p>\n<h3>Genius Barの予約</h3>\n技術的な相談はApple Storeの<a href=\"https://www.apple.com/jp/retail/geniusbar/\">Genius Bar</a>で行います。<a href=\"https://www.apple.com/jp/retail/geniusbar/\">こちらのページ</a>の「<strong>Genius Barを予約する</strong>」から予約を進めていきます。\n\n<p>あとは指定の時間に、指定の Apple Store の Genius Bar に、壊れかけの iPod classic を持ちこむだけです。</p>\n<p>私の場合、「ボタンの接続部分が壊れているので交換になります」という旨の話をされて交換する運びとなりました。<br>保証期間を過ぎていたので 10,800 円を払うことになったのですが、新品を購入すると考えたら安いものです。(部品修理とかの方が安く上がりそうではありますが…)</p>\n","excerpt":"iPod classicの再起動(リセット) / iPod classic の初期化 / iPod classic の修理(交換) / Apple Storeで修理(交換)","categories":[{"name":"ガジェット","slug":"ガジェット","path":"categories/%E3%82%AC%E3%82%B8%E3%82%A7%E3%83%83%E3%83%88/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"},{"name":"apple","slug":"apple","path":"tags/apple/"},{"name":"iPod","slug":"iPod","path":"tags/iPod/"}],"prev":{"title":"[Excel] 「プログラムにコマンドを送信しているときにエラーが発生しました」の対処法\n","path":"20140401094943.html"},"next":{"title":"[Firefox] スクラッチパッドでjQueryを読み込む方法","path":"20140223224728.html"}},{"title":"[Firefox] スクラッチパッドでjQueryを読み込む方法","path":"20140223224728.html","permalink":"https://b.0218.jp/20140223224728.html","date":"2014-02-23T22:47:28.000Z","updated":"2015-02-28T23:39:05.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>適応範囲</h2><ul>\n<li>Web コンソール</li>\n<li>スクラッチパッド</li>\n</ul>\n<h2>方法</h2><pre><code class=\"javascript\">var e = document.createElement(\"script\");\ne.src = \"//code.jquery.com/jquery-2.1.0.min.js\";\ndocument.head.appendChild(e);</code></pre>\n","excerpt":"適応範囲 / 方法","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"},{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"iPod classic のセンターボタンが反応しなくなった時の対処法\n","path":"20140310171916.html"},"next":{"title":"WindowsにプリインストールされているInternet Explorerの一覧\n","path":"20140218122654.html"}},{"title":"WindowsにプリインストールされているInternet Explorerの一覧\n","path":"20140218122654.html","permalink":"https://b.0218.jp/20140218122654.html","date":"2014-02-18T12:26:54.000Z","updated":"2014-10-20T00:39:21.000Z","thumbnail":"","content":"<p>リリース時にインストールされている Internet Explorer を一覧化しました。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>WindowsにプリインストールされているInternet Explorer</h2>\n<table class=\"table\" style=\"text-align:center\">\n  <thead>\n    <tr>\n      <th></th>\n      <th>IE5</th>\n      <th>IE5.5</th>\n      <th>IE6</th>\n      <th>IE7</th>\n      <th>IE8</th>\n      <th>IE9</th>\n      <th>IE10</th>\n      <th>IE11</th>\n   </tr>\n </thead>\n  <tbody>\n    <tr>\n      <th>Windows 2000 Professional</th>\n      <td class=\"info text-center\">○</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n   </tr>\n    <tr>\n      <th>Windows XP</th>\n      <td></td>\n      <td></td>\n      <td class=\"info text-center\">○</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n   </tr>\n    <tr>\n      <th>Windows Vista</th>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td class=\"info text-center\">○</td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n   </tr>\n    <tr>\n      <th>Windows 7</th>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td class=\"info text-center\">○</td>\n      <td></td>\n      <td></td>\n      <td></td>\n   </tr>\n    <tr>\n      <th>Windows 8</th>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td class=\"info text-center\">○</td>\n      <td></td>\n   </tr>\n    <tr>\n      <th>Windows 8.1</th>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td></td>\n      <td class=\"info text-center\">○</td>\n   </tr>\n </tbody>\n</table>\n\n<h2>リリース時以下のバージョンへダウングレードはできない</h2>\nたとえば、Windows 7であればリリース時はIE8ですが、それをIE7にダウングレードすることはできません。\n","excerpt":"WindowsにプリインストールされているInternet Explorer / リリース時以下のバージョンへダウングレードはできない","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Internet Explorer","slug":"Internet-Explorer","path":"tags/Internet-Explorer/"}],"prev":{"title":"[Firefox] スクラッチパッドでjQueryを読み込む方法","path":"20140223224728.html"},"next":{"title":"[WinSCP] 日本語化の手順","path":"20140204155514.html"}},{"title":"[WinSCP] 日本語化の手順","path":"20140204155514.html","permalink":"https://b.0218.jp/20140204155514.html","date":"2014-02-04T15:55:14.000Z","updated":"2014-06-20T10:30:28.000Z","thumbnail":"","content":"<h2>ダウンロード</h2>\nまず、WinSCPのダウンロードは公式「<a href=\"http://winscp.net/eng/download.php\">WinSCP :: Downloads</a>」から行います。\n<p class=\"c-alert\">WinSCPのバージョンは最新の 5.5.1 です(今現在)</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>インストール</h2>\n前述のページからダウンロードしてきたインストーラーからマシンへインストール。\nとりあえず言語は「English」で開始します。\n完了すると英語のWinSCPが実行可能になります。\n\n<h2>言語ファイルの取得</h2>\n「<a href=\"http://winscp.net/eng/translations.php\">WinSCP :: Translations</a>」より、言語ファイルを入手します。\n\n<p>日本語は</p><pre>-&gt; Japanese</pre>を選択してダウンロードします。<p></p>\n<p>WinSCP のインストールされているディレクトリ直下に言語ファイル(WinSCP.jp)をおきます。<br>インストーラーの初期位置であれば以下</p>\n<pre>C:\\Program Files\\WinSCP</pre>\n\n<h2>日本語化</h2>\nWinSCPを起動し、 [Tools] -&gt; [Preferences...] -&gt; [Environment] -&gt; [Languages] を開く。\n[Japanese - 日本語(日本)] が表示されていれば、それを選択して[OK]で日本語化されます。\n","excerpt":"ダウンロード / インストール / 言語ファイルの取得 / 日本語化","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[],"prev":{"title":"WindowsにプリインストールされているInternet Explorerの一覧\n","path":"20140218122654.html"},"next":{"title":"[LESS] コンパイルできない(process out of memory)","path":"20140202032101.html"}},{"title":"[LESS] コンパイルできない(process out of memory)","path":"20140202032101.html","permalink":"https://b.0218.jp/20140202032101.html","date":"2014-02-02T03:21:01.000Z","updated":"2014-07-20T15:20:37.000Z","thumbnail":"","content":"<p>以下の様なエラーで LESS ファイルのコンパイルができなくなりました。</p>\n<pre><b>Compile error</b>\nFATAL ERROR: JS Allocation failed - process out of memory</pre>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>色々と原因を調べていたんですが、単純に<code>@import</code>で読み込んだファイル間で変数が重複してただけみたいでした…。</p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"[WinSCP] 日本語化の手順","path":"20140204155514.html"},"next":{"title":"[PHP] cURLのPOSTでファイルアップロードする方法","path":"20140117004504.html"}},{"title":"[PHP] cURLのPOSTでファイルアップロードする方法","path":"20140117004504.html","permalink":"https://b.0218.jp/20140117004504.html","date":"2014-01-17T00:45:04.000Z","updated":"2015-02-28T23:24:27.000Z","thumbnail":"","content":"<p>cURL でのファイルアップロード方法が分からず試行錯誤してました。</p>\n<p>色々と調べて<code>$f = fopen($_FILES[$file_data]['tmp_name'], 'r');</code>を<code>curl_setopt($conn, CURLOPT_INFILE, $f);</code>で指定してみたりもしましたが上手くいきませんでした…。<br><span class=\"text-muted\">もしかしたら別の環境では上手くいくのかしら…?</span></p>\n<p>最終的に上手く動いてくれた方法の覚書です。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><pre><code class=\"php\">&lt;?php\n// API\n$url = 'http://api-server/';\n\n$tmpfile  = $_FILES[$file_data]['tmp_name'];\n$filename = $_FILES[$file_data]['name'];\n\n$data = array(\n    'filedata_param' =&gt; '@' . $tmpfile . ';filename=' . $filename\n);\n\n$conn = curl_init();\n\ncurl_setopt($conn, CURLOPT_SSL_VERIFYPEER, false);\ncurl_setopt($conn, CURLOPT_SSL_VERIFYHOST, false);\ncurl_setopt($conn, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($conn, CURLOPT_URL, $url);\ncurl_setopt($conn, CURLOPT_POST, true);\ncurl_setopt($conn, CURLOPT_POSTFIELDS, $data);\n\n$res = curl_exec($conn);\n\ncurl_close($conn);</code></pre>\n<p>そもそも cURL でアップロードするファイルを指定する時は<code>file=@file.zip;type=application/x-zip-compressed</code>な感じで指定してやる必要があるわけで。<br>それと同じように PHP でも指定してやると上記のようになります。</p>\n","excerpt":"方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[LESS] コンパイルできない(process out of memory)","path":"20140202032101.html"},"next":{"title":"[PHP] cURLでAPIにPOSTして値を取得する(multipart対応)","path":"20140115131833.html"}},{"title":"[PHP] cURLでAPIにPOSTして値を取得する(multipart対応)","path":"20140115131833.html","permalink":"https://b.0218.jp/20140115131833.html","date":"2014-01-15T13:18:33.000Z","updated":"2015-02-28T23:24:25.000Z","thumbnail":"","content":"<p>cURL を使用して値を取ってきます。<br>環境に cURL が入ってない場合は<a href=\"http://jp2.php.net/manual/ja/curl.installation.php\">こちら</a>からどうぞ。</p>\n<p>受け手の enctype が<code>multipart/form-data</code>だった時のソースなので、そういう対応です。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<pre><code class=\"php\">// API\n$url = \"http://api-server/\";\n\n// ポストするデータ\n$data = array(\n  \"user\" =&gt; 'user_id',\n  \"pass\" =&gt; 'password'\n);\n\n// セッションを初期化\n$conn = curl_init();\n\n// オプション\ncurl_setopt($conn, CURLOPT_SSL_VERIFYPEER, false);\ncurl_setopt($conn, CURLOPT_SSL_VERIFYHOST, false);\ncurl_setopt($conn, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($conn, CURLOPT_URL,  $url);\ncurl_setopt($conn, CURLOPT_POST, true);\ncurl_setopt($conn, CURLOPT_POSTFIELDS, $data);\n\n// 実行\n$res = curl_exec($conn);\n\n// close\ncurl_close($conn);</code></pre>\n<p>返ってきた<code>$res</code>をごにょごにょします。</p>\n<p>証明書の確認をしなかったり、色々と蛇足があるかもしれませんが参考までにどうぞ。</p>\n","excerpt":"","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[PHP] cURLのPOSTでファイルアップロードする方法","path":"20140117004504.html"},"next":{"title":"[名探偵コナン] 作者による「黒の組織のボス」についての発言","path":"20140111183101.html"}},{"title":"[名探偵コナン] 作者による「黒の組織のボス」についての発言","path":"20140111183101.html","permalink":"https://b.0218.jp/20140111183101.html","date":"2014-01-11T18:31:01.000Z","updated":"2014-06-20T10:30:38.000Z","thumbnail":"","content":"<p>青山剛先生が 1 月 4 日のファン交流イベントで「黒ずくめ」に言及する一幕があったそうなのでまとめてみる。<br>そのニュース記事は以下。</p>\n<blockquote><p>人気漫画「名探偵コナン」が2014年で連載20周年を迎える。物語もゆっくりとクライマックスに向かう中、作中最大の謎「黒ずくめの組織」の実態は未だ明らかにされていない。</p>\n<p>そうした中、作者である青山剛昌さんが1月4日のファン交流イベントで「黒ずくめ」に言及する一幕があった。組織のボスについて「もう登場している」「阿笠博士じゃない」などと話したことで、インターネット上ではさっそく注目を集めている。</p>\n<div class=\"hide\">\n\n<p><big>物語の根幹「黒の組織」20 年経っても謎のまま</big></p>\n<p>94年に週刊少年サンデーで連載がスタートした「名探偵コナン」は、主人公の江戸川コナンが数々の難事件を解決するミステリー漫画だ。見た目は小学生の男の子だが、その正体は高校生探偵の工藤新一。ある日、謎の黒ずくめの男達による取引現場を目撃したことで毒薬を飲まされ、小学生の姿にされてしまったのだ。以来、新一は仮の名前を名乗りながら、父が探偵事務所を営む幼馴染の毛利蘭の家に居候し、黒ずくめの男達の行方を追っている。</p>\n<p>新一をおびやかした張本人である「黒ずくめの組織」は、FBIやCIAが長年追い続けている国際的な犯罪組織として描かれている。とはいえ、その実態は謎に包まれたままだ。連載開始以来、度々登場してはいるものの、何らかの目的のために大金を集めていること、システム開発や薬品開発を進めていること、仲間であっても用済みであれば躊躇せず始末することなど、断片的な情報しか与えられていない。12年5月から黒ずくめの正体に迫る新シリーズが始まったが、現在もそのミステリーは続き、「あの方」と呼ばれるボスの正体も分からない。</p>\n<p>そうした中、青山さんが出身地である鳥取県北栄町で行ったファン交流イベントで、ボスについてのヒントを語った。その様子を朝日新聞デジタルが1月6日に紹介すると、インターネット上ではさっそく話題になった。</p>\n\n<p><big>ボスの顔出しには「それはちょっと秘密で」</big></p>\n<p>記事によると、会場に集まったファンからは「黒ずくめ」にまつわる質問が複数出た。青山さんはボスの性別について聞かれた際、「それは言えませんねえ」と苦笑いしながらも「もう登場してますよ。阿笠博士じゃありません」と答えたという。さらに、「ボスが登場しているっていうのは顔もですか」という質問には「どうだろうねえ。それはちょっと秘密で。お楽しみに。やべーな」と笑みをこぼしながら、はぐらかしたようだ。</p>\n<p>もっとも、今回出たヒントは初めて明らかになったものではない。ネットでも噂が広まっていた「阿笠博士＝黒幕」説は、11年10月にクラブサンデー公式ブログが「阿笠博士じゃないよ（笑）」という青山さんの言葉を伝えている。また、ボスがすでに登場しているという点についても、06年1月に「実は、ボスの名前はすでに原作のどこかにでている。捜してみて下さい」と青山さんが朝日新聞の記事内で語ったとの報告がある。さらに12年6月には、MSN産経ニュースのインタビューで「今までにフルネームで登場している人です」とも答えていた。これらを踏まえると、今回のヒントは、ボスの「登場」が顔も含めたものかどうかは不明なため、有力な新情報にはならなかったようだ。</p>\n<p>それでもインターネット上は大盛り上がりだ。青山さんの口から語られた久々のヒントをもとに予想合戦が繰り広げられている。特に、新一の実の父である工藤優作や、FBI捜査官のジェイムズ・ブラック、大富豪の故人・烏丸蓮耶、阿笠博士の伯母である阿笠定子などは有力視されていて、それぞれの根拠を列挙してコナン並みの推理を披露するファンもいるほどだ。他にも「実は工藤新一と江戸川コナンは別人」「アガサ博士の本名は違うのです とかいって結局アガサ博士なんだろ」といった見方を示す人もいた。</p>\n</div>\n<div align=\"right\">引用 [<a href=\"http://www.j-cast.com/2014/01/07193564.html?p=all\" target=\"_blank\">「名探偵コナン」黒の組織ボスは一体誰？　「もう登場してる」「阿笠博士じゃない」作者のヒントで大盛り上がり : J-CASTニュース</a>]</div></blockquote>\n\n<div class=\"more js-separate\"></div>\n\n<h2>青山剛昌「黒の組織ボスはもう登場してる。阿笠博士じゃない」</h2>\n<h2>「黒ずくめ」にまつわる質問</h2>\n<ul><li>Q. ボスの性別は？</li>\n<li>A. それは言えませんが、もう登場してますよ。阿笠博士じゃありません。</li>\n</ul>\n<ul><li>Q. ボスが登場しているっていうのは顔もですか？</li>\n<li>A. どうだろうねえ。それはちょっと秘密で。</li>\n</ul>\n\n<h2>「阿笠博士＝黒幕」説について</h2>\n青山先生の発言: \n<ul>\n<li>06年01月「実は、ボスの名前はすでに原作のどこかにでている。捜してみて下さい」<small>(朝日新聞 より)</small></li>\n<li>11年10月「阿笠博士じゃないよ（笑）」<small>(クラブサンデー公式ブログ より)</small></li>\n<li>12年06月「今までにフルネームで登場している人です」<small>(MSN産経ニュース より)</small></li>\n</ul>\n\n<h2>ボスの予想合戦</h2>\n記事で紹介されている有力候補\n<ul>\n<li>工藤優作<small>(新一の実の父)</small></li>\n<li>ジェイムズ・ブラック<small>(FBI捜査官</small>)</li>\n<li>烏丸蓮耶<small>(大富豪の故人)</small></li>\n<li>阿笠定子<small>(阿笠博士の伯母)</small></li>\n</ul>\n","excerpt":"青山剛昌「黒の組織ボスはもう登場してる。阿笠博士じゃない」 / 「黒ずくめ」にまつわる質問 / 「阿笠博士＝黒幕」説について / ボスの予想合戦","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[PHP] cURLでAPIにPOSTして値を取得する(multipart対応)","path":"20140115131833.html"},"next":{"title":"[SVN] subversionのレポジトリ名称を変更する","path":"20140109150333.html"}},{"title":"[SVN] subversionのレポジトリ名称を変更する","path":"20140109150333.html","permalink":"https://b.0218.jp/20140109150333.html","date":"2014-01-09T15:03:33.000Z","updated":"2014-06-20T10:30:40.000Z","thumbnail":"","content":"<p>プロジェクトの名称が変更になったのでレポジトリの名称を変更する事にしました。<br>(幸い始まる直前だったので空の状態でした…)</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>名称の変更手順</h2>\n\n<h3>新しいレポジトリを作成する</h3>\n<pre class=\"bash\"><code>svnadmin create [新しい名前]</code></pre>\n\n<h3>旧データをコピーする</h3>\n<pre class=\"bash\"><code>svnadmin dump [古い名前] | svnadmin load [新しい名前]</code></pre>\n\n<h3>subversion設定ファイルの名称を変更する</h3>\n<pre class=\"bash\"><code>vi /etc/httpd/conf.d/subversion.conf</code></pre>\n\n<h3>リポジトリのパーミッションをApacheに変更</h3>\n<pre class=\"bash\"><code>chown -R apache:apache [新しい名前]</code></pre>\n\n<h3>Apacheの再起動</h3>\n<pre class=\"bash\"><code>/etc/rc.d/init.d/httpd restart</code></pre>\n\n<p>色々と試行錯誤したりしたので上記の手順だけでは不十分かもしれません。<br>参考までに…</p>\n","excerpt":"名称の変更手順","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[名探偵コナン] 作者による「黒の組織のボス」についての発言","path":"20140111183101.html"},"next":{"title":"[名探偵コナン] 毛利蘭がピンチになった映画一覧","path":"20140105233333.html"}},{"title":"[名探偵コナン] 毛利蘭がピンチになった映画一覧","path":"20140105233333.html","permalink":"https://b.0218.jp/20140105233333.html","date":"2014-01-05T23:33:33.000Z","updated":"2016-01-11T20:42:31.000Z","thumbnail":"","content":"<p>毎年、コナンの映画の予告があるたびに<big>「助けて…新一…」</big>ってセリフを耳にしますよね。</p>\n<p>もしかして全映画で蘭はピンチになってるんじゃないか…?<br>気になったので簡単に一覧化してみました。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>蘭がピンチになった映画一覧</h2>\n<h3>基本</h3>\n<table class=\"table table-bordered\">\n  <thead>\n    <tr>\n      <th style=\"width:80px\"></th>\n      <th>題名</th>\n      <th style=\"width:80px\">ピンチ</th>\n      <th>備考</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>第1作</th>\n      <td>時計じかけの摩天楼</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>崩壊した爆弾の仕掛けられた建物に閉じ込めらる</td>\n    </tr>\n    <tr>\n      <th>第2作</th>\n      <td>14番目の標的</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>溺れる・人質になる・撃たれる</td>\n    </tr>\n    <tr>\n      <th>第3作</th>\n      <td>世紀末の魔術師</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>撃たれる(当たってない)</td>\n    </tr>\n    <tr>\n      <th>第4作</th>\n      <td>瞳の中の暗殺者</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>撃たれる(当たってない)・記憶喪失・命を狙われる</td>\n    </tr>\n    <tr>\n      <th>第5作</th>\n      <td>天国へのカウントダウン</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>建物を爆破される(ダイブで脱出)</td>\n    </tr>\n    <tr>\n      <th>第6作</th>\n      <td>ベイカー街の亡霊</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>脳を破壊されそうになる(「コクーン」に乗った子供たち含む)</td>\n    </tr>\n    <tr>\n      <th>第7作</th>\n      <td><span class=\"text-error\">迷宮の十字路</span></td>\n      <td class=\"text-xs-center\">-</td>\n      <td>　</td>\n    </tr>\n    <tr>\n      <th>第8作</th>\n      <td>銀翼の奇術師</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>ジェット機が落ちそうになる(他乗客含む)</td>\n    </tr>\n    <tr>\n      <th>第9作</th>\n      <td>水平線上の陰謀</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>沈没しかけた船に取り残される</td>\n    </tr>\n    <tr>\n      <th>第10作</th>\n      <td>探偵たちの鎮魂歌</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>爆弾着けられた(主要メンバー含む)</td>\n    </tr>\n    <tr>\n      <th>第11作</th>\n      <td>紺碧の棺</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>トレジャーハンターに追い詰められる</td>\n    </tr>\n    <tr>\n      <th>第12作</th>\n      <td>戦慄の楽譜</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>建物を爆破される(特に被害なし)</td>\n    </tr>\n    <tr>\n      <th>第13作</th>\n      <td>漆黒の追跡者</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>組織のメンバーに倒される</td>\n    </tr>\n    <tr>\n      <th>第14作</th>\n      <td>天空の難破船</td>\n      <td class=\"text-xs-center\">△</td>\n      <td>ウイルス感染(実は漆のかぶれ)</td>\n    </tr>\n    <tr>\n      <th>第15作</th>\n      <td><span class=\"text-error\">沈黙の15分</span></td>\n      <td class=\"text-xs-center\">-</td>\n      <td>　</td>\n    </tr>\n    <tr>\n      <th>第16作</th>\n      <td>11人目のストライカー</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>スタジアムの観戦者含む</td>\n    </tr>\n    <tr>\n      <th>第17作</th>\n      <td>絶海の探偵</td>\n      <td class=\"text-xs-center\">◎</td>\n      <td>一人だけ海に落とされ遭難・行方不明</td>\n    </tr>\n    <tr>\n      <th>第18作</th>\n      <td>異次元の狙撃手</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>弾丸が頬をかすめる・犯人に人質にされかける</td>\n    </tr>\n    <tr>\n      <th>第19作</th>\n      <td>業火の向日葵</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>貯水タンクから流れ出た水に飲まれ気を失う</td>\n    </tr>\n    <tr>\n      <th>第20作</th>\n      <td>純黒の悪夢</td>\n      <td class=\"text-xs-center\">-</td>\n      <td></td>\n    </tr>\n  </tbody>\n</table>\n「迷宮の十字路」と「沈黙の15分」では蘭は特にピンチにはなっていませんでした。<span class=\"text-muted\">(他にもピンチかどうか微妙な作品はありますが)</span>\n\n<p>「迷宮の十字路」では、蘭はそっちのけで平次と和葉がピンチになっています。<br>「もしかして、本物の新一が復活するときはピンチにならないのでは…?」と思ったりもしたのですが、何気に「沈黙の 15 分」でも大してピンチにはなっていませんでした。</p>\n<p>ちなみに「絶海の探偵」ではシリーズ史上最もピンチになってます。</p>\n<h3>番外編</h3>\n<table class=\"table table-bordered\">\n  <thead>\n    <tr>\n      <th>題名</th>\n      <th style=\"width:80px\">ピンチ</th>\n      <th>備考</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>ルパン三世VS名探偵コナン THE MOVIE</td>\n      <td class=\"text-xs-center\">○</td>\n      <td>ベルツリータワーから落ちかけたエミリオを助けようとして自身も落ちかける</td>\n    </tr>\n  </tbody>\n</table>\n","excerpt":"蘭がピンチになった映画一覧","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"},{"name":"劇場版","slug":"劇場版","path":"tags/%E5%8A%87%E5%A0%B4%E7%89%88/"}],"prev":{"title":"[SVN] subversionのレポジトリ名称を変更する","path":"20140109150333.html"},"next":{"title":"[WordPress] Jetpackで停止できないモジュールを停止する方法","path":"20140105180009.html"}},{"title":"[WordPress] Jetpackで停止できないモジュールを停止する方法","path":"20140105180009.html","permalink":"https://b.0218.jp/20140105180009.html","date":"2014-01-05T18:00:09.000Z","updated":"2014-06-20T10:30:45.000Z","thumbnail":"","content":"<p>Wordpress のプラグインに Jetpack とは、WordPress.com の機能をプラグイン化したものです。<br>いくつかのモジュールには<span class=\"text-info\">[停止ボタン]</span>がありますが、[さらに詳しく][設定]しかボタンがなく停止できないモジュールがいくつかあります。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>停止する方法</h2>\n例として「パブリサイズ共有」を挙げます。(他も同様の方法です)\n<ol>\n<li>「パブリサイズ共有」の[さらに詳しく]を選択します</li>\n<li>直下にスライドで説明が表示されます</li>\n<li>[さらに詳しく]ボタンの隣の[設定]ボタンが<strong>[停止]に変更されます</strong></li>\n<li>[停止]ボタンを選択することでモジュールを停止することができます</li>\n<li><div class=\"c-alert\"><b>パブリサイズ共有</b> を無効化しました。モジュールボックス内の「有効化」ボタンで、いつでも再有効化できます。</div>\n上記のようにアラートが表示されれば無事に停止できています</li>\n</ol>\n","excerpt":"停止する方法","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[名探偵コナン] 毛利蘭がピンチになった映画一覧","path":"20140105233333.html"},"next":{"title":"[Windows] 指定した拡張子を再帰的に削除する方法","path":"20140101040056.html"}},{"title":"[Windows] 指定した拡張子を再帰的に削除する方法","path":"20140101040056.html","permalink":"https://b.0218.jp/20140101040056.html","date":"2014-01-01T04:00:56.000Z","updated":"2014-10-20T00:42:14.000Z","thumbnail":"","content":"<p>再帰的、つまり「<strong>指定の階層以下全て</strong>」という意味です。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>方法</h2>\n<pre class=\"prettyprint\">del /s *.txt</pre>\nこれで指定のディレクトリ以下全ての ～.txt ファイルが削除されます。\n","excerpt":"方法","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windowsコマンド","slug":"Windowsコマンド","path":"tags/Windows%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89/"}],"prev":{"title":"[WordPress] Jetpackで停止できないモジュールを停止する方法","path":"20140105180009.html"},"next":{"title":"[Windows] 指定のファイルサイズでダミーファイルを作る方法","path":"20140101035102.html"}},{"title":"[Windows] 指定のファイルサイズでダミーファイルを作る方法","path":"20140101035102.html","permalink":"https://b.0218.jp/20140101035102.html","date":"2014-01-01T03:51:02.000Z","updated":"2014-10-20T00:42:24.000Z","thumbnail":"","content":"<p>ダミーファイルを作成するのはエンジニアしかいないと思いますがメモとして…。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>Windows 環境で指定のファイルサイズでダミーファイルを作成するにはコマンドプロンプトでコマンドを叩く必要があります。</p>\n<h2>方法</h2>\n基本として、以下のコマンドを使います。\n<pre class=\"prettyprint\">fsutil file createnew ファイル名 ファイルサイズ(バイト)</pre>\n\n<h2>蛇足</h2>\n個人的に必要とするのは巨大なサイズのファイルです。\n数百MB程度ならローカルに転がっていたりします。(それが適材かは別として…)\nですので、1GB以上の作成コマンドを残しておきます。\n\n<p>1GiB</p>\n<pre class=\"prettyprint\">fsutil file createnew ファイル名 1073741824</pre>\n\n<p>5GiB</p>\n<pre class=\"prettyprint\">fsutil file createnew ファイル名 5368709120</pre>\n\n<p>10GiB</p>\n<pre class=\"prettyprint\">fsutil file createnew ファイル名 10737418240</pre>\n\n<p>以上で使われてる数値は端数の計算がめんどくさいギビバイト(gibibyte)単位です。<br>ギガバイトは 0 を足していただければ…。</p>\n","excerpt":"方法 / 蛇足","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windowsコマンド","slug":"Windowsコマンド","path":"tags/Windows%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89/"}],"prev":{"title":"[Windows] 指定した拡張子を再帰的に削除する方法","path":"20140101040056.html"},"next":{"title":"[Java] ファイル名に使用不可能な文字列","path":"20131230201620.html"}},{"title":"[Java] ファイル名に使用不可能な文字列","path":"20131230201620.html","permalink":"https://b.0218.jp/20131230201620.html","date":"2013-12-30T20:16:20.000Z","updated":"2014-06-20T10:30:53.000Z","thumbnail":"","content":"<p>ファイル名には使用不可能な文字列がいくつかあります。<br>プログラムでファイルを作るときはこれらを考慮しなければいけないわけで。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p><a href=\"http://goo.gl/bgi6k7\" target=\"_blank\">ファイル名 - Wikipedia</a>で確認すると<b>不可能な記号</b>の他に禁止文字列も存在するようです。</p>\n<blockquote>\n<div class=\"table-responsive\">\n<table class=\"table table-bordered\"><tbody><tr><th nowrap=\"nowrap\">記号</th><th>記号名</th><th>使用が不可能な理由</th></tr><tr><td>/</td><td><a href=\"http://ja.wikipedia.org/wiki/%E3%82%B9%E3%83%A9%E3%83%83%E3%82%B7%E3%83%A5_(%E8%A8%98%E5%8F%B7)\" title=\"スラッシュ (記号)\">スラッシュ</a></td><td>パス名コンポーネント分離符として、<a href=\"http://ja.wikipedia.org/wiki/UNIX\" title=\"UNIX\">UNIX</a>などのOSや<a href=\"http://ja.wikipedia.org/wiki/MS-DOS\" title=\"MS-DOS\">MS-DOS</a>と<a href=\"http://ja.wikipedia.org/wiki/Microsoft_Windows\" title=\"Microsoft Windows\">Windows</a>では使用不可能。</td></tr><tr><td>\\</td><td><a href=\"http://ja.wikipedia.org/wiki/%E3%83%90%E3%83%83%E3%82%AF%E3%82%B9%E3%83%A9%E3%83%83%E3%82%B7%E3%83%A5\" title=\"バックスラッシュ\">バックスラッシュ</a></td><td>同様にパス名コンポーネント分離符として、MS-DOSとWindowsでは使用不可能。</td></tr><tr><td>&nbsp;?</td><td nowrap=\"nowrap\"><a href=\"http://ja.wikipedia.org/wiki/%E7%96%91%E5%95%8F%E7%AC%A6\" title=\"疑問符\">クエスチョンマーク</a></td><td><a href=\"http://ja.wikipedia.org/wiki/%E3%83%AF%E3%82%A4%E3%83%AB%E3%83%89%E3%82%AB%E3%83%BC%E3%83%89_(%E6%83%85%E5%A0%B1%E5%87%A6%E7%90%86)\" title=\"ワイルドカード (情報処理)\">ワイルドカード</a>(不特定だと示す記号)として使われるため、Windowsと<a href=\"http://ja.wikipedia.org/wiki/AmigaOS\" title=\"AmigaOS\">AmigaOS</a>では使用不可能。</td></tr><tr><td>*</td><td><a href=\"http://ja.wikipedia.org/wiki/%E3%82%A2%E3%82%B9%E3%82%BF%E3%83%AA%E3%82%B9%E3%82%AF\" title=\"アスタリスク\">アスタリスク</a></td><td>同様にワイルドカードとして、MS-DOSとWindowsでは使用不可能。</td></tr><tr><td>&nbsp;:</td><td><a href=\"http://ja.wikipedia.org/wiki/%E3%82%B3%E3%83%AD%E3%83%B3_(%E8%A8%98%E5%8F%B7)\" title=\"コロン (記号)\">コロン</a></td><td><a href=\"http://ja.wikipedia.org/wiki/%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96%E3%83%AC%E3%82%BF%E3%83%BC\" title=\"ドライブレター\">ドライブレター</a>に使用される、またはパス名分離符であるなどの理由から、Windows、AmigaOS、<a href=\"http://ja.wikipedia.org/wiki/Mac_OS\" title=\"Mac OS\">Mac OS</a>では使用不可能。</td></tr><tr><td>|</td><td><a href=\"http://ja.wikipedia.org/wiki/%E3%83%90%E3%83%BC%E3%83%86%E3%82%A3%E3%82%AB%E3%83%AB%E3%83%90%E3%83%BC\" title=\"バーティカルバー\">バーティカルバー</a></td><td><a href=\"http://ja.wikipedia.org/wiki/%E3%83%91%E3%82%A4%E3%83%97_(%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF)\" title=\"パイプ (コンピュータ)\">パイプ</a>の記号なので、Windowsで使用不可能。</td></tr><tr><td>\"</td><td><a href=\"http://ja.wikipedia.org/wiki/%E5%BC%95%E7%94%A8%E7%AC%A6\" title=\"引用符\">引用符</a></td><td><a href=\"http://ja.wikipedia.org/wiki/%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9\" title=\"スペース\">スペース</a>を含むファイル名の始まりと終わりを指定するのに使われるため、Windowsで使用不可能。</td></tr><tr><td>&lt;</td><td><a href=\"http://ja.wikipedia.org/wiki/%E4%B8%8D%E7%AD%89%E5%BC%8F\" title=\"不等式\">小なり記号</a></td><td><a href=\"http://ja.wikipedia.org/wiki/%E3%83%AA%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88\" title=\"リダイレクト\">リダイレクト</a>の記号として使われるので、UNIX系ではエスケープの必要な場合がある。<a href=\"http://ja.wikipedia.org/wiki/NT_File_System\" title=\"NT File System\">NTFS</a>では使用不可。</td></tr><tr><td>&gt;</td><td><a href=\"http://ja.wikipedia.org/wiki/%E4%B8%8D%E7%AD%89%E5%BC%8F\" title=\"不等式\">大なり記号</a></td><td>&lt;と同様に、UNIX系ではエスケープが必要な場合がある。NTFSでは使用不可。</td></tr><tr><td>.</td><td><a href=\"http://ja.wikipedia.org/wiki/%E7%B5%82%E6%AD%A2%E7%AC%A6\" title=\"終止符\">終止符</a></td><td>ファイル名の最後に打ち込んだ場合、その後に<a href=\"http://ja.wikipedia.org/wiki/%E6%8B%A1%E5%BC%B5%E5%AD%90\" title=\"拡張子\">拡張子</a>が続くと解釈されるなどのトラブルとなってしまうため、MS-DOSで使用不可能。</td></tr></tbody></table></div>\n\n<pre>CON, PRN, AUX, CLOCK$, NUL\nCOM0, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9\nLPT0, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, LPT9</pre>\n</blockquote>\n\n<p><code>CLOCK$</code>とありますが、自機で試したところ上手くいきませんでした。試しに<code>LOCK$</code>でやってみたところ上手くいきましたので、もしかしたらこちらが正解かもしれないです。<span class=\"text-muted\">(環境差かもしれないですが)</span></p>\n<h2>Java配列に入れる</h2>\n<pre class=\"linenums java\">/**\n * 禁則文字列\n */\n\n<p>// 使用不可能な記号<br>public static final String[] PROHIBITED_SYMBOLS = {<br>\"\\\", \"/\", \":\", \"*\", \"?\", \"&amp;#039;\", \"&amp;quot;\", \"&lt;\", \"&gt;\"<br>};</p>\n<p>// Windows と MS-DOS の予約デバイス名<br>public static final String[] PROHIBITED_CHARACTERS = {<br>\"CON\", \"PRN\", \"AUX\", \"CLOCK$\", \"NUL\",<br>\"COM0\", \"COM1\", \"COM2\", \"COM3\", \"COM4\", \"COM5\", \"COM6\", \"COM7\", \"COM8\", \"COM9\",<br>\"LPT0\", \"LPT1\", \"LPT2\", \"LPT3\", \"LPT4\", \"LPT5\", \"LPT6\", \"LPT7\", \"LPT8\", \"LPT9\"<br>};</p>\n<p></p></pre><p></p>\n","excerpt":"Java配列に入れる","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"}],"prev":{"title":"[Windows] 指定のファイルサイズでダミーファイルを作る方法","path":"20140101035102.html"},"next":{"title":"[Windows] 急に音が聞こえなくなった時の解決方法","path":"20131105225637.html"}},{"title":"[Windows] 急に音が聞こえなくなった時の解決方法","path":"20131105225637.html","permalink":"https://b.0218.jp/20131105225637.html","date":"2013-11-05T22:56:37.000Z","updated":"2014-10-20T00:42:36.000Z","thumbnail":"","content":"<p>普通に作業していたら音が急に聞こえなくなって、プレイヤーを再起動しても直らない。<br>あまり理由は考えてないですが、オーディオの<strong>サービスを再起動</strong>したら直ります。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>スタートメニューから検索で「<strong>サービス</strong>」と検索するのが一番手っ取り早いです。</p>\n<p>サービスから「<strong>Windows Audio Endpoint Builder</strong>」を選択し、再起動をします。<br>(これを再起動すると「<strong>Windows Audio</strong>」も同時に再起動されます)</p>\n<p>これで解決しない場合は、別の問題かもしれません。<br>大人しく再起動します。</p>\n","excerpt":"","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[],"prev":{"title":"[Java] ファイル名に使用不可能な文字列","path":"20131230201620.html"},"next":{"title":"[WinSCP] 保存したセッションデータ移行","path":"20131105120110.html"}},{"title":"[WinSCP] 保存したセッションデータ移行","path":"20131105120110.html","permalink":"https://b.0218.jp/20131105120110.html","date":"2013-11-05T12:01:10.000Z","updated":"2014-06-20T10:30:54.000Z","thumbnail":"","content":"<p>毎回、WinSCP のセッションデータの移行方法を忘れてしまうのでメモします。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>移行元での操作</h2>\n<ol>\n<li>WinSCPを起動</li>\n<li>「WinSCP ログイン」ウィンドウが表示される</li>\n<li>詳細設定(A)にチェックを入れる</li>\n<li>左ペインの「設定」から「そのほかのWinSCPの設定　　環境設定」をクリックする</li>\n<li>「環境設定」ウィンドウが表示される</li>\n<li>左下の「エクスポート(X)」をクリックし、iniファイルを任意の場所に保存</li>\n</ol>\n\n<h2>移行先での操作</h2>\n<ol>\n<li>移行元でエクスポートしたiniファイルを\nWinSCPのインストールしたディレクトリ<small>(デフォルト: C:Program FilesWinSCP)</small>に配置する</li>\n<li>WinSCPを起動すると保存したセッションの一覧に移行したデータが表示され選択できる</li>\n</ol>\n","excerpt":"移行元での操作 / 移行先での操作","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"メモ","slug":"メモ","path":"tags/%E3%83%A1%E3%83%A2/"}],"prev":{"title":"[Windows] 急に音が聞こえなくなった時の解決方法","path":"20131105225637.html"},"next":{"title":"[PHP] 配列(Array)操作時のNotice: Undefined offset","path":"20131101143637.html"}},{"title":"[PHP] 配列(Array)操作時のNotice: Undefined offset","path":"20131101143637.html","permalink":"https://b.0218.jp/20131101143637.html","date":"2013-11-01T14:36:37.000Z","updated":"2015-02-28T23:24:23.000Z","thumbnail":"","content":"<p>ある配列をループで回してたらこんなエラーがでました。</p>\n<pre><strong>Notice:  Undefined offset:</strong> 1 in <b>hoge.php</b> on line <b>269</b></pre>\n\n<p>指定された添え字がおかしいって事なんだろうけど、1 で引っかかるのは明らかにおかしい…。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>原因はarray_unique()</h2>\nとにかく、配列を<code>print_r()</code>してみることに。\n\n<pre><code>Array(\n  [0]  =&gt; 0010522\n  [29] =&gt; 0020173\n  [30] =&gt; 0020181\n  [31] =&gt; 0020231\n  [32] =&gt; 0020242\n  [33] =&gt; 0020252\n  [34] =&gt; 0020284\n   .\n   .\n   .\n)</code></pre>\n<p>見事に添え字が飛んでます。<br>飛んでる値を見るに重複分を消すために使った<code>array_unique()</code>が原因だと思われます。</p>\n<h2>解決方法</h2>\nどうしても添え字は飛ばないようにしたいですし、<code>array_unique()</code>を使わないで添え字を飛ばさず実装するのはめんどいです。\n\n<p>添え字を埋める方法を Google 先生に聞いたところ<code>array_values()</code>を使えばいいとのこと！<br><a href=\"http://goo.gl/1dbrrA\" target=\"_blank\">PHP: array_values - Manual</a></p>\n<pre><code class=\"php\">// 1.重複を削除したら…\n$array = array_unique($array);\n// 2.添え字を振りなおす！\n$array = array_values($array);</code></pre>\n<p>こんな感じで OK です。</p>\n","excerpt":"原因はarray_unique() / 解決方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[],"prev":{"title":"[WinSCP] 保存したセッションデータ移行","path":"20131105120110.html"},"next":{"title":"[JavaScript] 理由:Uncaught TypeError: Object [hoge] has no method &#8216;replace&#8217;","path":"20131024100432.html"}},{"title":"[JavaScript] 理由:Uncaught TypeError: Object [hoge] has no method &#8216;replace&#8217;","path":"20131024100432.html","permalink":"https://b.0218.jp/20131024100432.html","date":"2013-10-24T10:04:32.000Z","updated":"2015-02-28T22:30:46.000Z","thumbnail":"","content":"<pre><strong>Uncaught TypeError: Object [hoge] has no method 'replace'</strong></pre>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>状況</h2><p>“.”や”-“を取り除く関数を実行した際に発生</p>\n<pre><code class=\"javascript\">function trimSymbol(numStr) {\n  return numStr.replace(/./g, \"\").replace(/-/, \"\");\n}</code></pre>\n<h2>理由</h2><p>Object に対して、String の<code>replace()</code>を使用した事が原因。<br>前述のコードだと<code>numStr</code>が String ではなく Object だった。</p>\n<p>参考: <a href=\"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">String.prototype.replace() - JavaScript | MDN:</a></p>\n<h2>解決方法</h2><p>String 型に変換するか、String 型以外は弾くような処理をする必要がある。</p>\n<p>単純な解決方法は以下。</p>\n<pre><code class=\"javascript\">function trimSymbol(num) {\n  return String(num).replace(/./g, \"\").replace(/-/, \"\");\n}</code></pre>\n<p>やはり万全を期して、型チェックをしてから確認を行うべき。</p>\n","excerpt":"状況 / 理由 / 解決方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"エラー","slug":"エラー","path":"tags/%E3%82%A8%E3%83%A9%E3%83%BC/"}],"prev":{"title":"[PHP] 配列(Array)操作時のNotice: Undefined offset","path":"20131101143637.html"},"next":{"title":"[JavaScript] サニタイジング(エスケープ) メソッド","path":"20131021184513.html"}},{"title":"[JavaScript] サニタイジング(エスケープ) メソッド","path":"20131021184513.html","permalink":"https://b.0218.jp/20131021184513.html","date":"2013-10-21T18:45:13.000Z","updated":"2015-02-28T22:30:24.000Z","thumbnail":"","content":"<p>「<strong>“サニタイジング jquery”</strong>」などのような検索ワードで当ブログへのアクセスが沢山ありますので、JavaScript や jQuery でサニタイジングメソッドを実装してみました。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>JavaScriptでエスケープ</h2>\n<pre class=\"javascript\"><code>function htmlentities(str) {\n    return String(str).replace(/&amp;/g, \"&amp;amp;\")\n              .replace(/\"/g, \"&amp;quot;\")\n              .replace(/&lt;/g, \"&amp;lt;\")\n              .replace(/&gt;/g, \"&amp;gt;\");\n}</code></pre>\n\n<p>分かりやすいように上記のように書きましたが、以下のように短くできます。</p>\n<pre class=\"javascript\"><code>function htmlentities(str) {\n    return String(str).replace(/&amp;/g, \"&amp;amp;\").replace(/\"/g, \"&amp;quot;\").replace(/&lt;/g, \"&amp;lt;\").replace(/&gt;/g, \"&amp;gt;\");\n}</code></pre>\n\n<p>特に処理をしないのであれば、こちらの方がスマートですかね。</p>\n<h2>jQueryでエスケープ</h2>\nちょっと見当が付かなかったのですが、調べてみると色々とあるようです。\n<pre class=\"javascript\"><code>$.htmlentities = function(val) {\n    return $(\"&lt;div/&gt;\").text(val).html();\n}</code></pre>\n\n<p>jQuery 上で生成した<code>div</code>にテキストとして値を挿入。<br>そこから<code>html()</code>(innerHTML)で値を取得するという荒業です。<br>素直に<code>replace()</code>した方が無難ではないかと個人的に思います。</p>\n<p>ちなみに jQuery には<code><strong>$.parseHTML()</strong></code>なんてメソッドがありますが、こちらはサニタイジングとは毛色が異なりますのでご注意を。<br><span class=\"text-muted\">(&lt;script&gt;などを無効化してくれるようなやつです)</span></p>\n","excerpt":"JavaScriptでエスケープ / jQueryでエスケープ","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[JavaScript] 理由:Uncaught TypeError: Object [hoge] has no method &#8216;replace&#8217;","path":"20131024100432.html"},"next":{"title":"[ShellScript] Shit-JISをUTF-8に変換する(改行コード込)","path":"20131021150903.html"}},{"title":"[ShellScript] Shit-JISをUTF-8に変換する(改行コード込)","path":"20131021150903.html","permalink":"https://b.0218.jp/20131021150903.html","date":"2013-10-21T15:09:03.000Z","updated":"2014-06-20T10:31:07.000Z","thumbnail":"","content":"<p>お客様から頂くファイルって Shit-JIS がジャスティスだったりすること山の如しです。<span class=\"text-muted\">個人的な見解です</span><br>テキストエディタから変換しても良いのですが、1GB なファイルなんて開けないので Linux シェルでキメます。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>nkf コマンドで文字コードを変換する</h2>\n\n<pre>nkf [オプション] [ファイル名]</pre>\n\n<p>● オプション</p>\n<pre>　文字コード\n　 -e : EUC-JP\n　 -j : ISO-2022-JP\n　 -s : Shift-JIS\n　\n　改行コード\n　 -Lu : UNIX\n　 -Lw : Windows\n　 -Lm : Mac</pre>\n\n<p>単純に上記のオプションの合わせ技で OK です。</p>\n<pre class=\"linenums\">nkf -LuSw [変換前ファイル名] &gt; [出力先のファイル名]</pre>\n","excerpt":"nkf コマンドで文字コードを変換する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[JavaScript] サニタイジング(エスケープ) メソッド","path":"20131021184513.html"},"next":{"title":"[MySQL] SELECT結果を連番を付けてINSERTする方法","path":"20131021143738.html"}},{"title":"[MySQL] SELECT結果を連番を付けてINSERTする方法","path":"20131021143738.html","permalink":"https://b.0218.jp/20131021143738.html","date":"2013-10-21T14:37:38.000Z","updated":"2014-06-22T21:25:30.000Z","thumbnail":"","content":"<p>別テーブルからの INSERT なんて</p>\n<pre class=\"linenums sql\">INSERT INTO HOGE_TABLE \nSELECT ID, PASSWORD, ..., ..., \nFROM FOO;</pre>\n\n<p>こんな感じでやってしまえば入っちゃいますよね。</p>\n<p>別テーブルから INSERT しつつ、連番も付けたい場合、どうすればいいか…<br>挿入先の行数をカウントしてプラス 1…　こんな感じですかね…</p>\n<pre class=\"linenums sql\">INSERT INTO HOGE_TABLE \nSELECT (SELECT COUNT(NUMBER)+1 FROM HOGE_TABLE), ID, PASSWORD, ..., ..., \nFROM FOO;</pre>\n\n<p>ただ、これだとこんな感じで上手く連番になってくれません。</p>\n<pre>+--------+------+-----------+------+\n| NUMBER |   ID |  PASSWORD |  ... |\n+--------+------+-----------+------+\n|      1 |    1 |  password |  ... |\n|      1 |    2 |  password |  ... |\n|      1 |    3 |  password |  ... |\n|      1 |    4 |  password |  ... |\n|      1 |    5 |  password |  ... |\n|      1 |    6 |  password |  ... |\n|      1 |    7 |  password |  ... |\n|      1 |    8 |  password |  ... |\n+--------+------+-----------+------+\n</pre>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>ユーザ定義変数を利用する</h2>\nユーザ定義変数を使ってみます。\n詳しくは「<a href=\"http://goo.gl/FFKP5l\" target=\"_blank\">MySQL :: MySQL 5.1 リファレンスマニュアル (オンラインヘルプ) :: 5.4 ユーザー定義変数</a>」\n上記のリファレンスによると、以下のように使えるようです。\n<pre>mysql&gt; SET @v1 = b'1000001';\nmysql&gt; SET @v2 = CAST(b'1000001' AS UNSIGNED), @v3 = b'1000001'+0;\nmysql&gt; SELECT @v1, @v2, @v3;\n+------+------+------+\n| @v1  | @v2  | @v3  |\n+------+------+------+\n| A    |   65 |   65 |\n+------+------+------+\n</pre>\nまた、変数はクライアントが切断されたときに自動的に開放されるとのこと。\n\n<p>文字列も使えたりするみたいですが、今回は連番。数値と計算式を入れてみます。<br>なにやら SET も 1 文にまとめられるようですので以下のようにしてみました。</p>\n<pre class=\"linenums sql\">INSERT INTO HOGE_TABLE \nSELECT ( @row:=@row+1 ) AS NUMBER, ID, PASSWORD, ..., ...\nFROM   ( SELECT @row:=0 ) AS DUMMY, FOO; </pre>\n\n<p>これで連番が挿入できます。普通に連番を作りたい場合もこれで良いのではないかと思います。<br>個人的に<code>COALESCE(MAX(連番を入れるカラム)+1,1)</code>なんかより見やすくて好きです。</p>\n","excerpt":"ユーザ定義変数を利用する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[ShellScript] Shit-JISをUTF-8に変換する(改行コード込)","path":"20131021150903.html"},"next":{"title":"[MySQL] TRUNCATE TABLE ERROR 1064 (42000): You have an error in your SQL syntax;","path":"20131021115803.html"}},{"title":"[MySQL] TRUNCATE TABLE ERROR 1064 (42000): You have an error in your SQL syntax;","path":"20131021115803.html","permalink":"https://b.0218.jp/20131021115803.html","date":"2013-10-21T11:58:03.000Z","updated":"2014-06-20T10:31:11.000Z","thumbnail":"","content":"<p>こういうキーワードで当ブログへ飛んでくる方が結構いらっしゃいます。</p>\n<pre><strong>\"TRANCATE TABLE\"</strong> ERROR 1064 (42000): You have an error in your SQL syntax;</pre>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<p>TR<b>A</b>NCATE ではなく TR<b>U</b>NCATE です。<br>打ち間違えのようですが、お間違いなく…。</p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"},{"name":"エラー","slug":"エラー","path":"tags/%E3%82%A8%E3%83%A9%E3%83%BC/"}],"prev":{"title":"[MySQL] SELECT結果を連番を付けてINSERTする方法","path":"20131021143738.html"},"next":{"title":"[Eclipse] Tomcatが起動しない。FATAL ERROR in native method: ～ AGENT_ERROR_TRANSPORT_INIT","path":"20131017103737.html"}},{"title":"[Eclipse] Tomcatが起動しない。FATAL ERROR in native method: ～ AGENT_ERROR_TRANSPORT_INIT","path":"20131017103737.html","permalink":"https://b.0218.jp/20131017103737.html","date":"2013-10-17T10:37:37.000Z","updated":"2014-06-20T10:31:12.000Z","thumbnail":"","content":"<p>Eclipse の Tomcat を起動が以下のエラーで起動しなくなりました。</p>\n<pre><strong>FATAL ERROR in native method: JDWP No transports initialized, jvmtiError=AGENT_ERROR_TRANSPORT_INIT(197)</strong></pre>\n\n<div class=\"more js-separate\"></div>\n\n<h2>対処</h2>\n1. <code>eclipse.exe -clean.cmd</code>を叩いて\n<pre>start .eclipse.exe -clean %*</pre>\n\n<ol start=\"2\">\n<li>プロジェクトをクリーンしたら無事起動するようになりました。</li>\n</ol>\n<p><span class=\"text-muted\">eclipse.exe -clean.cmd をしなくてもプロジェクトのクリーンだけでいけるかもしれない…</span></p>\n<p><span class=\"text-danger\">以上は一例です。別の理由が原因の場合もありますので注意。</span></p>\n<h2>追記</h2>\nLAN を2つ接続している際も突然発生しました。\n使用しなくても良い方を外してみると上手く起動しました。\n(原因はそっちかもしれないです)\n\n<h2>追記</h2>\nそれでも解決しなくてNetstatでFirefox.exeがいろいろと占用してたのでFirefoxを再起動。そうしたら上手く起動しました。\n","excerpt":"対処 / 追記 / 追記","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"エラー","slug":"エラー","path":"tags/%E3%82%A8%E3%83%A9%E3%83%BC/"}],"prev":{"title":"[MySQL] TRUNCATE TABLE ERROR 1064 (42000): You have an error in your SQL syntax;","path":"20131021115803.html"},"next":{"title":"[Firefox] リロードしてもチェックボックス等の値が維持されてしまう問題の対処法","path":"20130906134141.html"}},{"title":"[Firefox] リロードしてもチェックボックス等の値が維持されてしまう問題の対処法","path":"20130906134141.html","permalink":"https://b.0218.jp/20130906134141.html","date":"2013-09-06T13:41:41.000Z","updated":"2015-02-28T23:39:03.000Z","thumbnail":"","content":"<p>Firefox でページのリロードをした際に、インプットに入力したテキストやチェックボックスの値などが維持された状態で表示されてしまう。(静的な HTML の場合)<br>もちろん、スーパーリロードをした際は初期化されて表示されます。</p>\n<p>色々と解決方法があって、状況に応じて使い分けたり併用したりしてます。<br>ただ、これらの設定だけじゃ不十分な場合もあります。</p>\n<h2>サーバサイド</h2><pre><code>Cache-Control: no-store</code></pre>\n<h3>PHP</h3><pre><code class=\"php\">header(\"Cache-Control: no-cache, no-store\");</code></pre>\n<h2>フロントエンド</h2><h3>JavaScript</h3><pre><code class=\"js\">var input = document.querySelector(\"input\");\ninput.setAttribute(\"autocomplete\", \"off\");</code></pre>\n<h4>jQuery</h4><pre><code class=\"js\">$(\"input, select, textarea\").attr(\"autocomplete\", \"off\");</code></pre>\n<h3>HTML</h3><p>HTML の<code>&lt;head&gt;</code>内で指定する場合</p>\n<pre><code class=\"html\">&lt;meta http-equiv=\"Pragma\" content=\"no-cache\" /&gt;\n&lt;meta http-equiv=\"Cache-Control\" content=\"no-cache\" /&gt;\n&lt;meta http-equiv=\"Expires\" content=\"-1\" /&gt;</code></pre>\n<p><code>&lt;input&gt;</code>に直接指定する場合</p>\n<pre><code class=\"html\">&lt;input type=\"text\" name=\"hoge\" autocomplete=\"off\" /&gt;</code></pre>\n<p><code>&lt;form autocomplete=\"off\"&gt;～&lt;/form&gt;</code> のような感じでも使えるみたい。</p>\n","excerpt":"サーバサイド / フロントエンド","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"}],"prev":{"title":"[Eclipse] Tomcatが起動しない。FATAL ERROR in native method: ～ AGENT_ERROR_TRANSPORT_INIT","path":"20131017103737.html"},"next":{"title":"フラットデザインの反対","path":"20130903190608.html"}},{"title":"フラットデザインの反対","path":"20130903190608.html","permalink":"https://b.0218.jp/20130903190608.html","date":"2013-09-03T19:06:08.000Z","updated":"2014-10-19T22:27:24.000Z","thumbnail":"","content":"<p>「<strong>スキューモーフィック デザイン</strong>」</p>\n<p>忘れてしまうのでメモ。</p>\n<blockquote>スキュアモーフィックデザインとは、主にコンピュータシステムのユーザーインターフェース（UI）において、実物に似た質感の再現を目指したリアルなデザインのことである。<div align=\"right\">引用元:『<a href=\"http://goo.gl/zbuJdw\" target=\"_blank\">スキュアモーフィックデザインとは 「スキュアモーフィックUI」 (skeuomorphic design)： - IT用語辞典バイナリ</a>』より</div></blockquote>\n","excerpt":"","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"メモ","slug":"メモ","path":"tags/%E3%83%A1%E3%83%A2/"}],"prev":{"title":"[Firefox] リロードしてもチェックボックス等の値が維持されてしまう問題の対処法","path":"20130906134141.html"},"next":{"title":"[JavaScript] JSファイルやCSSファイルを遅延読込をする方法","path":"20130823111501.html"}},{"title":"[JavaScript] JSファイルやCSSファイルを遅延読込をする方法","path":"20130823111501.html","permalink":"https://b.0218.jp/20130823111501.html","date":"2013-08-23T11:15:01.000Z","updated":"2014-06-20T10:31:27.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><h3>CSS</h3><pre><code class=\"javascript\">var link = document.createElement(\"link\");\nlink.type = \"text/css\";\nlink.rel = \"stylesheet\";\nlink.href = \"ファイル名.css\";\ndocument.head.appendChild(link);</code></pre>\n<h3>JavaScript</h3><pre><code class=\"javascript\">var script = document.createElement(\"script\");\nscript.async = true;\nscript.defer = true;\nscript.src = \"ファイル名.js\";\ndocument.head.appendChild(script);</code></pre>\n<hr>\n<p>script 要素の async, defer の説明はこちらが分かりやすいかも。<br>→ <a href=\"http://goo.gl/eKQpd\" target=\"_blank\">HTML5 の script 要素で async, defer を使ってパフォーマンスアップ - IT-Walker on hatena</a><br>上記のスクリプトでは async と defer を同時に指定しています。その説明も</p>\n<blockquote>asyncとdeferを同時に指定すると、ブラウザasyncをサポートしているならその動作を、asyncをサポートしていないならdefer時の動作を行わせることが出来ます。asyncをサポートしていない古いブラウザ上でも、非同期でJavaScript実行されるように代替動作をさせることが出来る訳です。（ただし、読み込み中ページはブロックする）<div align=\"right\">引用元:『<a href=\"http://d.hatena.ne.jp/Syunpei/20091006\" target=\"_blank\">HTML5のscript要素でasync, deferを使ってパフォーマンスアップ - IT-Walker on hatena</a>』より</div></blockquote>\nとありますので興味のある方は読んでみるといいかも。\n","excerpt":"方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"フラットデザインの反対","path":"20130903190608.html"},"next":{"title":"[JavaScript] 簡単なlocalhostの判別方法","path":"20130822164308.html"}},{"title":"[JavaScript] 簡単なlocalhostの判別方法","path":"20130822164308.html","permalink":"https://b.0218.jp/20130822164308.html","date":"2013-08-22T16:43:08.000Z","updated":"2015-02-28T22:30:43.000Z","thumbnail":"","content":"<p>「ローカル環境だけで実行させる」とか、そういう時にしか使わないと思いますが…。</p>\n\n<div class=\"more js-separate\"></div>\n\n<pre class=\"javascript\"><code>var hostName = document.location.hostname;\nif( hostName == \"localhost\" || hostName == \"127.0.0.1\" ){\n    alert(\"Local server!\");\n}</code></pre>\n","excerpt":"","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[JavaScript] JSファイルやCSSファイルを遅延読込をする方法","path":"20130823111501.html"},"next":{"title":"<b>と<strong>の違い","path":"20130821165449.html"}},{"title":"<b>と<strong>の違い","path":"20130821165449.html","permalink":"https://b.0218.jp/20130821165449.html","date":"2013-08-21T16:54:49.000Z","updated":"2021-01-02T17:24:31.000Z","thumbnail":"","content":"<p>受け手は気にする必要はありませんが、送り手としては、これらを必要に応じて使い分けられると良いかもしれません。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>違い</h2><ul>\n<li><code>&lt;b&gt;</code>は太字（スタイル）</li>\n<li><code>&lt;strong&gt;</code>は重要性を意味する（セマンティック）<br>テキスト読み上げ</li>\n</ul>\n<h3>strong</h3><p>入れ子にして重要性を変えることができる。</p>\n<pre><code class=\"html\">&lt;p&gt;&lt;strong&gt;Warning.&lt;/strong&gt; This dungeon is dangerous.\n&lt;strong&gt;Avoid the ducks.&lt;/strong&gt; Take any gold you find.\n&lt;strong&gt;&lt;strong&gt;Do not take any of the diamonds&lt;/strong&gt;,\nthey are explosive and &lt;strong&gt;will destroy anything within\nten meters.&lt;/strong&gt;&lt;/strong&gt; You have been warned.&lt;/p&gt;</code></pre>\n<h2>参考</h2><ul>\n<li><a href=\"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-strong-element\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-strong-element</a></li>\n<li><a href=\"https://momdo.github.io/html/text-level-semantics.html#the-strong-element\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://momdo.github.io/html/text-level-semantics.html#the-strong-element</a></li>\n<li><a href=\"https://web.archive.org/web/20091124170143/http://lists.evolt.org/archive/Week-of-Mon-20010521/032901.html\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">https://web.archive.org/web/20091124170143/http://lists.evolt.org/archive/Week-of-Mon-20010521/032901.html</a></li>\n</ul>\n","excerpt":"違い / 参考","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"}],"prev":{"title":"[JavaScript] 簡単なlocalhostの判別方法","path":"20130822164308.html"},"next":{"title":"[Windows7] ファイルの関連付けを変更する方法","path":"20130821164528.html"}},{"title":"[Windows7] ファイルの関連付けを変更する方法","path":"20130821164528.html","permalink":"https://b.0218.jp/20130821164528.html","date":"2013-08-21T16:45:28.000Z","updated":"2014-10-20T00:42:47.000Z","thumbnail":"","content":"<p><strong>Windows 7 の関連付け</strong>は以下の手順で変更します。</p>\n\n<div class=\"more js-separate\"></div>\n\n<ol>\n<li>スタートメニューから「既定のプログラム」を開く\n→ <em>コントロール パネルすべてのコントロール パネル項目既定のプログラム</em></li>\n<li>[ファイルの種類またはプロトコルのプログラムの関連付け」をクリック\n→ <em>コントロール パネルすべてのコントロール パネル項目既定のプログラム関連付けを設定する</em></li>\n<li>「ファイルの種類またはプロトコルのプログラムの関連付けます」が開く</li>\n<li>関連付けを変更したい拡張子を選択し、「プログラムの変更」ボタンをクリック。\n使用するプログラムを選択して「OK」ボタンを押します。 </li>\n</ol>\n","excerpt":"","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows7","slug":"Windows7","path":"tags/Windows7/"}],"prev":{"title":"<b>と<strong>の違い","path":"20130821165449.html"},"next":{"title":"2GB 以上のファイルをダウンロードする際の問題点について\n","path":"20130821162938.html"}},{"title":"2GB 以上のファイルをダウンロードする際の問題点について\n","path":"20130821162938.html","permalink":"https://b.0218.jp/20130821162938.html","date":"2013-08-21T16:29:38.000Z","updated":"2014-06-20T10:31:33.000Z","thumbnail":"","content":"<p>古いブラウザでは、2GB を超えるファイルのダウンロードをする際には注意が必要となります。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>2GB 以上のファイルのダウンロードに失敗する</h2>\n<p>「<a href=\"http://goo.gl/0pxfRd\" target=\"_blank\">[XP] 2GB 以上のファイルのダウンロードに失敗します - マイクロソフト コミュニティ</a>」より\n</p><blockquote><b>質問</b>\n&gt; Internet Explorer 6 を使用して 2GB を超えるファイルをダウンロードしようとすると失敗します。\n&gt;どうすればダウンロードできるようになるでしょうか ?</blockquote> \n<blockquote><b>答え</b>\n&gt; それぞれの、Internet Explorer におけるファイル ダウンロードの上限は次の通りです。\n&gt; Internet Explorer 6: 2GB\n&gt; Internet Explorer 7: 4GB\n&gt; Internet Explorer 8: 上限なし </blockquote>\n<p></p>\n要するに、古いブラウザを使用している際には注意です。\nまた、Norton Internet Security を使用しているとダウンロードに失敗する情報もあります。(古い情報)\n\n<h2>ファイルの保存先</h2>\n保存先が FAT32形式で作成された場合、1ファイルにつき4GB以上のファイルは保存する事ができません。\n\n<hr>\nアップロードでは、また状況が異なります。\n","excerpt":"2GB 以上のファイルのダウンロードに失敗する / ファイルの保存先","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"},{"name":"ブラウザ","slug":"ブラウザ","path":"tags/%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6/"},{"name":"Internet Explorer","slug":"Internet-Explorer","path":"tags/Internet-Explorer/"}],"prev":{"title":"[Windows7] ファイルの関連付けを変更する方法","path":"20130821164528.html"},"next":{"title":"[CSS] z-index の上限値","path":"20130530161519.html"}},{"title":"[CSS] z-index の上限値","path":"20130530161519.html","permalink":"https://b.0218.jp/20130530161519.html","date":"2013-05-30T16:15:19.000Z","updated":"2015-02-28T23:12:54.000Z","thumbnail":"","content":"<p>z-index「私の上限値は 21 億 4748 万 3647 です…ですが、もちろんフルパワーであなたと戦う気はありませんからご心配なく…」</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>z-index の上限値は 2147483647 です。</p>\n<p>何の数字だろう。まぁ、32 ビットの上限値とかそんなんだろう……と軽く調べてみました。<br>Wikipedia の 32 ビットのページによると、</p>\n<blockquote>32ビットに格納できる符号なし整数の範囲は、0 から 4,294,967,295 である。2の補数で表現できる符号付き整数は −2,147,483,648 から 2,147,483,647 を格納できる。<div align=\"right\">引用元:『<a href=\"http://ja.wikipedia.org/wiki/32%E3%83%93%E3%83%83%E3%83%88\" target=\"_blank\">32ビット - Wikipedia</a>』より</div></blockquote>\nとあるので、-2147483647 ～ 2147483647 の範囲が指定できるのではないでしょうか… <span class=\"text-muted\">(適当)</span>\nただ、最低でも42億9496万7294個以上の要素があるページなんて現実的ではないので\nこれを使い切ることはなさそうです。\n","excerpt":"","categories":[{"name":"CSS","slug":"CSS","path":"categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"}],"prev":{"title":"2GB 以上のファイルをダウンロードする際の問題点について\n","path":"20130821162938.html"},"next":{"title":"[jQuery] visibleToggle()を実装する方法","path":"20130529160937.html"}},{"title":"[jQuery] visibleToggle()を実装する方法","path":"20130529160937.html","permalink":"https://b.0218.jp/20130529160937.html","date":"2013-05-29T16:09:37.000Z","updated":"2017-03-22T22:44:02.000Z","thumbnail":"","content":"<h2>概要</h2><p>jQuery の<code>toggle()</code> は、指定要素を非表示・表示を切り替えるイベントである。jQuery として<code>toggle()</code> は、v1.9 で廃止されてしまったが、<code>toggle()</code>系のイベントといえば、他に<code>toggleClass()</code>、<code>slideToggle()</code>、<code>fadeToggle()</code>などがあり、これらも同じように状態を切り替える（toggle）イベントである。</p>\n<p><code>toggle()</code>に関していえば、display プロパティの<code>none</code> / <code>block</code>を切り替える。ただ、display が none になると、「要素が存在しない」状態になるため、要素が隣接しているとレイアウトが崩れてしまう場合が多い。単純に要素を視覚的に非表示させたい場合に使用するのは visibility プロパティである。</p>\n<p>jQuery に、visibility プロパティを操作する API は今のところはないため、作成する。</p>\n<h2>コード</h2><p>以下のコードを定義する。</p>\n<pre><code class=\"javascript\">(function ($) {\n  $.fn.visibleToggle = function () {\n    return this.css(\"visibility\", function (i, visible) {\n      return visible == \"visible\" ? \"hidden\" : \"visible\";\n    });\n  };\n})(jQuery);</code></pre>\n<p>そして、以下のように使用することで要素の visibility プロパティを切り替える事ができる。</p>\n<pre><code class=\"javascript\">$(\"#VisibleTest\").visibleToggle();</code></pre>\n<h3>実装内容</h3><p>指定要素の visibility プロパティの状態によって<code>visible</code> / <code>hidden</code> を切り替える。</p>\n","excerpt":"概要 / コード","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[CSS] z-index の上限値","path":"20130530161519.html"},"next":{"title":"[WordPress] アーカイブのリンクに記事件数を包括する方法","path":"20130521115431.html"}},{"title":"[WordPress] アーカイブのリンクに記事件数を包括する方法","path":"20130521115431.html","permalink":"https://b.0218.jp/20130521115431.html","date":"2013-05-21T11:54:31.000Z","updated":"2017-05-02T23:54:58.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>概要</h2><p>アーカイブのリンクは、以下のような出力になっている。</p>\n<div class=\"sandbox\">\n<ul>\n<li><a href=\"#\">ウェブサービス</a> (1)\n <ul class=\"children\">\n  <li><a href=\"#\">Twitter</a> (1)\n </li></ul>\n</li>\n</ul>\n</div>\n\n<p>「記事件数」が<code>&lt;a&gt;</code>タグに包括されていない為、<code>&lt;a&gt;</code>に対して<code>display: block</code>を指定したい場合など使い勝手が悪い。</p>\n<p>この「記事件数」を<code>&lt;a&gt;</code>タグに包括させるようにしたい。</p>\n<h2>方法</h2><pre><code class=\"php\">// アーカイブのリンクをカウント数まで含める\nfunction alt_archives_link($output) {\n  $output = preg_replace('/[\\[()\\]]/', '', $output);\n  $output = preg_replace('@&lt;/a&gt; ([\\d]+)@', '(\\1)&lt;/a&gt;', $output);\n\n  return $output;\n}\nadd_filter( 'get_archives_link', 'alt_archives_link', 10,2 );</code></pre>\n","excerpt":"概要 / 方法","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"[jQuery] visibleToggle()を実装する方法","path":"20130529160937.html"},"next":{"title":"サクラエディタを開いた時の文字コードをUTF-8にする方法\n","path":"20130501155621.html"}},{"title":"サクラエディタを開いた時の文字コードをUTF-8にする方法\n","path":"20130501155621.html","permalink":"https://b.0218.jp/20130501155621.html","date":"2013-05-01T15:56:21.000Z","updated":"2015-10-15T13:30:04.000Z","thumbnail":"https://hiro0218.github.io/blog/images/SakuraEditor-2100-Preferences.png","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>デフォルト設定</h2><p>サクラエディタのファイルーオープン時の文字コードは、デフォルトだと<code>SJIS</code>である。</p>\n<h2>ショートカットで文字コードを指定</h2><p>サクラエディタのショートカットのリンク先を以下にする。</p>\n<pre><code>\"C:\\Program Files\\sakura\\sakura.exe\" -CODE=4</code></pre>\n<h3>デメリット</h3><p>あくまで、文字コードが<code>UTF-8</code>になるのは、ショートカットからの起動時のみ。</p>\n<p>メニューから新規作成すると文字コードは<code>SJIS</code>になってしまう。</p>\n<hr>\n<h2>エディタでデフォルトの文字コードを設定</h2><p>特定のバージョン以降では、エディタの設定からデフォルトの文字コードを指定する事が可能。</p>\n<h3>Ver. 2.0.4.0 以降</h3><p>以下の設定で<code>UTF-8</code>へ変更が可能。</p>\n<pre><code>設定(O) &gt; タイプ別設定(Y) &gt; 「支援」タブ &gt; 「デフォルトの文字コード」</code></pre>\n<img src=\"https://hiro0218.github.io/blog/images/SakuraEditor-2040-Preferences.png\" alt=\"サクラエディタ 2.0.4.0 設定画面\">\n\n<p>それ以前のバージョンの場合、起動時に実行するマクロに UTF-8 を指定する必要がある模様。</p>\n<h3>Ver. 2.1.0.0 以降</h3><p>設定画面の仕様変更により、前述の方法と変更になった。</p>\n<pre><code>設定(O) &gt; タイプ別設定(Y) &gt; 「ウィンドウ」タブ &gt; 「デフォルトの文字コード」</code></pre>\n<img src=\"https://hiro0218.github.io/blog/images/SakuraEditor-2100-Preferences.png\" alt=\"サクラエディタ 2.1.0.0 設定画面\">\n","excerpt":"デフォルト設定 / ショートカットで文字コードを指定 / エディタでデフォルトの文字コードを設定","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"サクラエディタ","slug":"サクラエディタ","path":"tags/%E3%82%B5%E3%82%AF%E3%83%A9%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF/"}],"prev":{"title":"[WordPress] アーカイブのリンクに記事件数を包括する方法","path":"20130521115431.html"},"next":{"title":"[HTML] セレクトボックスの隠れた文字を表示させる方法","path":"20130314192139.html"}},{"title":"[HTML] セレクトボックスの隠れた文字を表示させる方法","path":"20130314192139.html","permalink":"https://b.0218.jp/20130314192139.html","date":"2013-03-14T19:21:39.000Z","updated":"2015-05-30T03:16:36.000Z","thumbnail":"","content":"<div class=\"c-alertalert-danger&quot;\">Firefox Developer Edition 40.0a2 (2015-05-19) で自動的に幅が調整されるようになったことを確認。</div>\n\n<p>SELECT 要素に横幅を指定した結果、長い文字列だと切れて表示されなくなる場合があります。</p>\n<p>選択(クリック)された時に、プルダウン部分を大きくさせます。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>コード</h2><pre><code class=\"html\">&lt;select\n  name=\"hoge\"\n  style=\"width:50px!important;\"\n  onFocus=\"this.style.width='50px'\"\n  onBlur=\"this.style.width='100px'\"\n&gt;\n  &lt;option value=\"1\"&gt;1111111111111111111111111111111111111111&lt;/option&gt;\n  &lt;option value=\"2\"&gt;2222222222222222222222222222222222222222&lt;/option&gt;\n  &lt;option value=\"3\"&gt;3333333333333333333333333333333333333333&lt;/option&gt;\n&lt;/select&gt;</code></pre>\n<p><code>SELECT</code>の width と<code>onFocus</code>で指定する width の値が同じであれば良いのです。こうすることで<code>onBlur</code>でプルダウン部分(<code>&lt;option&gt;</code>)を広げた時に一緒に親(<code>&lt;SELECT&gt;</code>)が広がらないようにしています。</p>\n<p>ご参考までにどうぞ。</p>\n","excerpt":"コード","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"}],"prev":{"title":"サクラエディタを開いた時の文字コードをUTF-8にする方法\n","path":"20130501155621.html"},"next":{"title":"[Java] 日付から年度を求める方法","path":"20130314095400.html"}},{"title":"[Java] 日付から年度を求める方法","path":"20130314095400.html","permalink":"https://b.0218.jp/20130314095400.html","date":"2013-03-14T09:54:00.000Z","updated":"2014-06-20T10:31:50.000Z","thumbnail":"","content":"<blockquote>企業会計においては、期間の日数、期間の始期及び終期は各事業者が決定するが、期間は1年間とされることが一般的である。公共機関についても、期間は1年間とされるのが通例であり、日本では、後述の財政法及び地方自治法の規定により<b>毎年4月1日から翌年の3月31日までの期間</b>とされている。<div align=\"right\">引用元:『<a href=\"http://goo.gl/Kd6he\" target=\"_blank\">会計年度 - Wikipedia</a>』より</div></blockquote>\nご存じの通り、「年度」は「<b>4月1日から翌年の3月31日までの期間</b>」を指します。\n\n<p>投げられた年月日に対して、それは前年度なのか今年度なのかを判定し、その年度を返します。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<pre><code class=\"java\">// 会計年度 作成\nDate date1 = new Date(); // 投げられたDateとする\nDate fiscalYear = null;\nSimpleDateFormat sdf = new SimpleDateFormat(\"MM\");\n\ntry {\n // 月の取得\n String dateStr = sdf.format(date1);\n int JanFebMarCheck = Integer.parseInt(dateStr);\n\n // 1～3月の場合、前年度となるので 西暦から-1する\n if (JanFebMarCheck &lt; 4) {\n  Calendar nextCal = Calendar.getInstance();\n  nextCal.setTime(date1);\n  nextCal.add(Calendar.YEAR, -1);\n  fiscalYear = nextCal.getTime();\n }\n\n} catch (Exception e) {\n e.printStackTrace();\n}</code></pre>\n<p>参考までに。</p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"}],"prev":{"title":"[HTML] セレクトボックスの隠れた文字を表示させる方法","path":"20130314192139.html"},"next":{"title":"[MacType] ブラウザで有効にならない時の対処法","path":"20130302170449.html"}},{"title":"[MacType] ブラウザで有効にならない時の対処法","path":"20130302170449.html","permalink":"https://b.0218.jp/20130302170449.html","date":"2013-03-02T17:04:49.000Z","updated":"2017-03-30T20:47:27.000Z","thumbnail":"","content":"<p>他のアプリケーションはきちんとアンチエイリアスが適応されているのに、適応されない場合がある。今回の場合はブラウザ。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>原因はいくつかあるみたい。</p>\n<h2>解決方法</h2><h3>MacType のプロファイル(*.ini)を確認する</h3><p>MacType のプロセス除外のセクション<code>[UnloadDll]</code>に以下のような記述がないか確認する。</p>\n<pre><code>[UnloadDll]\nFirefox.exe</code></pre>\n<p>このような項目があった場合は、該当箇所を削除して ini ファイルを保存して、MacType を再起動する。<br>Firefox に限らず Chrome とか他のアプリケーションとか。</p>\n<p>これで有効にならなかった場合は次へ。</p>\n<h3>Firefox の場合</h3><h4>ハードウェアアクセラレーションを無効にする</h4><p>パフォーマンスを考えると、ハードウェアアクセラレーションは有効にしておきたいが、あくまでフォントのレンダリングを重視する場合はこの機能をオフにする。</p>\n<pre>ツール -&gt; オプション -&gt; 詳細パネル -&gt; 一般タブ -&gt; <strong>「ハードウェアアクセラレーション機能を使用する (可能な場合)」</strong></pre>\n\n<p><strong>ハードウェアアクセラレーション機能</strong>のチェックを外して、Firefox を再起動する。</p>\n<blockquote>ハードウェアアクセラレーション機能を使用する (可能な場合): Firefox は、動画やアニメーションなどのページを表示するために、コンピュータに搭載されたグラフィックカードの処理装置を利用することができます。この種類のデータの表示は、コンピュータのメインの処理装置よりもグラフィックカードの処理装置のほうが高速に処理できるため、この機能を有効にすることにより、Firefox の動作が速くなります。このオプション は既定 でチェックが入っていますが、すべてのグラフィックカードで利用できる機能ではありません。機能が利用可能な場合に有効になります。詳しくは、<a href=\"http://goo.gl/eYM1r\">ハードウェアアクセラレーションについて</a> のブログ記事 (英語) を参照してください。<footer>引用元:『<a href=\"http://goo.gl/3sLBv\" target=\"_blank\">設定ウィンドウ - 詳細パネル | Firefox ヘルプ</a>』より</footer></blockquote>\n\n<p>Firefox だけじゃなくて別のブラウザやアプリケーションでもハードウェアアクセラレーションの機能をオフにするだけで MacType が有効になる可能性も考えられる。(Google Chrome にも「ハードウェア アクセラレーションが使用可能な場合は使用する」という項目がある)</p>\n<h4>Direct2D を無効にする</h4><p>アドレスバーに<code>about:config</code>と入力しし設定画面を開く。<code>gfx.direct2d.disabled</code>で検索する。値を<code>true</code>に変更して(初期値は<code>false</code>)、Firefox を再起動する。</p>\n<blockquote>Direct2D は GDI、GDI+、および Direct3D と相互運用性のある高速かつ高精細な 2D グラフィックスを提供する API で、Windows 7 と Windows Server 2008 R2 以降の Windows に実装されている Microsoft DirectX の一部である。Windows Vista と Windows Server 2008 用もリリースされている。 Windows Vista 以降、ハードウェア アクセラレーションが廃止され、Direct3D 上でのソフトウェア実装となってしまった GDI、および XP 以前からソフトウェア実装であった GDI+ の後継 API として位置づけられている。<footer>引用元:『<a href=\"http://ja.wikipedia.org/wiki/Direct2D\" target=\"_blank\">Direct2D - Wikipedia</a>』より</footer></blockquote>\n\n<h4>Firefox 51 以降</h4><ol>\n<li><code>about:config</code>を開く</li>\n<li><code>gfx.content.azure.backends</code>を検索</li>\n<li>値を<code>direct2d1.1,skia,cairo</code>→<code>direct2d1.1,cairo</code>に変更</li>\n</ol>\n<hr>\n<h3>Google Chromeの場合</h3>\n前述のFirefox同様の方法でも解決するかも。\n\n<h4>DirectWrite を無効にする</h4>\nChromeの場合、自分の環境では<code>DirectWrite</code>を無効にすると解決した。\nアドレスバーに<code>chrome://flags/</code>と入力し設定画面を開く。<code>DirectWrite</code>を探して無効にする。\n\n<p>こんな欄が見つかるけど、「無効を有効にする」みたいな意味で「有効にする」にすれば無効にできる。</p>\n<pre><b>DirectWrite を無効にする</b> Windows\n試験運用版の DirectWrite フォント レンダリング システムの使用を無効にします。 #disable-direct-write\n有効にする</pre>\n","excerpt":"解決方法","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"ブラウザ","slug":"ブラウザ","path":"tags/%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6/"},{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"},{"name":"MacType","slug":"MacType","path":"tags/MacType/"}],"prev":{"title":"[Java] 日付から年度を求める方法","path":"20130314095400.html"},"next":{"title":"[Java] Date型の日付を次の日(翌日)にする方法","path":"20130228234815.html"}},{"title":"[Java] Date型の日付を次の日(翌日)にする方法","path":"20130228234815.html","permalink":"https://b.0218.jp/20130228234815.html","date":"2013-02-28T23:48:15.000Z","updated":"2014-06-20T10:31:53.000Z","thumbnail":"","content":"<p>操作している翌日の日付が欲しい場合など。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>コード</h2>\n```java\nDate nextDate = null;\nCalendar nextCal = Calendar.getInstance();\nnextCal.setTime(targetDate);\nnextCal.add(Calendar.DAY_OF_MONTH, 1);\nnextDate = nextCal.getTime();\n```\n<span class=\"text-muted\">targetDate(Date型)には次の日にしたい日付が入ってるとします</span>\n\n<p><code>Date 型</code>だと操作が面倒なので、<code>Date 型</code>の日付を<code>Calendar 型</code>にぶちこんで操作します。</p>\n","excerpt":"コード","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"}],"prev":{"title":"[MacType] ブラウザで有効にならない時の対処法","path":"20130302170449.html"},"next":{"title":"[PowerPoint] VBAでPDF変換する方法(PPT to PDF)","path":"20130118095008.html"}},{"title":"[PowerPoint] VBAでPDF変換する方法(PPT to PDF)","path":"20130118095008.html","permalink":"https://b.0218.jp/20130118095008.html","date":"2013-01-18T09:50:08.000Z","updated":"2014-06-20T10:31:55.000Z","thumbnail":"","content":"<pre class=\"linenums\">Dim prng As PrintRange\nActivePresentation.PrintOptions.Ranges.ClearAll\nSet prng = ActivePresentation.PrintOptions.Ranges.Add(1, 3)\n'1～3ページを指定（スライド数が指定よりも少ない場合はエラー）\n\nActivePresentation.ExportAsFixedFormat \"C:hogehoge.pdf\", _\nppFixedFormatTypePDF, , , , , , prng, ppPrintSlideRange, , , , , , False</pre>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[Java] Date型の日付を次の日(翌日)にする方法","path":"20130228234815.html"},"next":{"title":"PDFやXPSなど、その他のファイル形式のサポートを有効にする\n","path":"20130111165956.html"}},{"title":"PDFやXPSなど、その他のファイル形式のサポートを有効にする\n","path":"20130111165956.html","permalink":"https://b.0218.jp/20130111165956.html","date":"2013-01-11T16:59:56.000Z","updated":"2014-06-20T10:31:57.000Z","thumbnail":"","content":"<p>Office2007 をインストール</p>\n<p>適当な Office アプリを開きます。</p>\n<pre>名前を付けて保存 &gt; [PDF または XPS]</pre>\n\n<p>がない…<br><b>[他のファイル形式用のアドインを探す]</b><br>がある！</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>[他のファイル形式用のアドインを探す] クリックするとヘルプが開きます。</p>\n<p>Microsoft のページからアドインをダウンロードする…</p>\n<pre style=\"border:none;background:none;margin:0;line-height:1;\">＿人人人人人人人＿\n＞　リンク切れ　＜\n￣Y^Y^Y^Y^Y^Y￣</pre>\n\n<p>リンクぐらい維持してて欲しいですね。<span class=\"text-muted\">(接続が悪かっただけかもしれないですが…)</span></p>\n<p>素直に『<a href=\"http://www.microsoft.com/ja-jp/download/details.aspx?id=7\" target=\"_blank\">2007 Microsoft Office プログラム用 Microsoft PDF/XPS 保存アドイン</a>』から<b>SaveAsPDFandXPS.exe</b> をダウンロードしましょう。</p>\n","excerpt":"","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[],"prev":{"title":"[PowerPoint] VBAでPDF変換する方法(PPT to PDF)","path":"20130118095008.html"},"next":{"title":"[PHP] Fatal error: Class COM not found in ～ について","path":"20130110131343.html"}},{"title":"[PHP] Fatal error: Class COM not found in ～ について","path":"20130110131343.html","permalink":"https://b.0218.jp/20130110131343.html","date":"2013-01-10T13:13:43.000Z","updated":"2015-02-28T23:24:21.000Z","thumbnail":"","content":"<p>あの環境では動くのに、この環境では動かないって事あると思います。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>私の場合、こんなエラーでした。</p>\n<pre class=\"linenums\">Fatal error: Class 'COM' not found in hoge.php on line 42</pre>\n\n<p>「COM っていうクラスが見つからない」って言われてますね。</p>\n<p>調べてみると以下のようなページを発見。</p>\n<blockquote>インストール手順\nPHP 5.3.15 / 5.4.5 以降は、php_com_dotnet.dll を php.ini で有効にしておかないとこれらの関数を使えないようになりました。 それまでのバージョンの PHP では、この拡張モジュールがデフォルトで有効になっていました。\n使いたい COM オブジェクト (MS Word など) は別途インストールしておかないといけません。 そういった COM オブジェクトは PHP にバンドルされていませんし、 そもそもバンドルできません。 <div align=\"right\">引用元:『<a href=\"http://www.php.net/manual/ja/com.installation.php\" target=\"_blank\">PHP: インストール手順 - Manual</a>』より</div></blockquote>\n『PHP 5.3.15 / 5.4.5 以降は、php_com_dotnet.dll を php.ini で有効にしておかないとこれらの関数を使えないようになりました。』だと…。\nそれじゃ有効にしようじゃないか…。では、どうすればいいのか…。\n\n<h2>解決方法</h2>\n<b>間違い</b>\n色々と検索してみると、\n<blockquote><span class=\"text-error\">[COM_DOT_NET]\nextension=php_com_dotnet.dll</span></blockquote>\nこんな風に追加しろみたいな事が書かれていますが、<b>これでは有効にできません</b>。\n\n<blockquote> [2012-12-20 12:29 UTC] David dot Gausmann at measX dot com\nThis ticket has already been closed...\nThe error in your configuration is the \"[COM_DOT_NET]\".\nThe \"extension=php_com_dotnet.dll\" entry should belong to the \"[PHP]\" section.\nIf you write them under different sections (such as \"[COM_DOT_NET]\") PHP won't load these extensions.<div align=\"right\">引用元:『<a href=\"https://bugs.php.net/bug.php?id=62623\" target=\"_blank\">PHP :: Doc Bug #62623 :: Class 'COM' not found</a>』より</div></blockquote>\n上記の通り、 \"<b>[COM_DOT_NET]</b>\"じゃなくて\"<b>[PHP]</b>\" のセクション内に書きましょう。\n\n<pre style=\"border:none;background:none;\"><span class=\"text-success\">;;;;;;;;;;;;;;;;;;;;;;\n; Dynamic Extensions ;\n;;;;;;;;;;;;;;;;;;;;;;</span></pre>のあたりに <b>extension=php_hoge.dll</b> みたいなのが沢山書かれてあるのでその辺に追加してやります。\n\n<p>以上。</p>\n","excerpt":"解決方法","categories":[{"name":"PHP","slug":"PHP","path":"categories/PHP/"}],"tags":[{"name":"エラー","slug":"エラー","path":"tags/%E3%82%A8%E3%83%A9%E3%83%BC/"}],"prev":{"title":"PDFやXPSなど、その他のファイル形式のサポートを有効にする\n","path":"20130111165956.html"},"next":{"title":"Amazonの商品画像の切り取りについて\n","path":"20130103231901.html"}},{"title":"Amazonの商品画像の切り取りについて\n","path":"20130103231901.html","permalink":"https://b.0218.jp/20130103231901.html","date":"2013-01-03T23:19:01.000Z","updated":"2014-06-20T10:32:00.000Z","thumbnail":"https://images-na.ssl-images-amazon.com/images/I/71mk1aDjW+L._SL300_CR10,70,85,120_.jpg","content":"<p><a href=\"http://goo.gl/ufFGl\" target=\"_blank\"><img src=\"https://images-na.ssl-images-amazon.com/images/I/71mk1aDjW%2BL._SL300_.jpg\"></a><br>こんな画像があります。</p>\n<p>これを切り取りたいと思います。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>こういうアドレスに(上の画像の URL)</p>\n<pre class=\"linenums\">https://images-na.ssl-images-amazon.com/images/I/71mk1aDjW+L._SL300_.jpg</pre>\n\n<p>こんな『<b>CR10,70,85,120_.jpg</b>』な文字列を追加します。</p>\n<p><a href=\"http://goo.gl/ufFGl\" target=\"_blank\"><img src=\"https://images-na.ssl-images-amazon.com/images/I/71mk1aDjW+L._SL300_CR10,70,85,120_.jpg\"></a></p>\n<pre class=\"linenums\">https://images-na.ssl-images-amazon.com/images/I/71mk1aDjW+L._SL300_<b>CR10,70,85,120_.jpg</b></pre>\n\n<p>こんな感じ。</p>\n<h2>解説</h2>\n<pre class=\"linenums\">CR10,70,85,120_.jpg</pre>\n<pre>&gt; CRあ,い,う,え_.jpg\n<b>あ</b> = <span class=\"text-info\"><b>左から位置</b></span>\n<b>い</b> = <span class=\"text-info\"><b>上から位置</b></span>\n<b>う</b> = <span class=\"text-info\"><b>横幅</b></span>\n<b>え</b> = <span class=\"text-info\"><b>縦幅</b></span></pre>\n","excerpt":"解説","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[PHP] Fatal error: Class COM not found in ～ について","path":"20130110131343.html"},"next":{"title":"[Windows] カーソルキーを長押ししても止まる現象について","path":"20130102003358.html"}},{"title":"[Windows] カーソルキーを長押ししても止まる現象について","path":"20130102003358.html","permalink":"https://b.0218.jp/20130102003358.html","date":"2013-01-02T00:33:58.000Z","updated":"2014-10-20T00:43:05.000Z","thumbnail":"","content":"<p>カーソルキーなどを長押ししても進まず止まる現象がありました。<span class=\"text-muted\">(別の PC を使ったときに)</span><br>これはキーボードの不具合などではありません。<br>Windows7 での解決法を以下に。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>キーのフィルター機能が原因かもしれません。</p>\n<p>キーのフィルター機能のチェックを外すには、「コンピューターの簡単操作センター」を開きます。<br>パスは以下です。(ペーストで開けるかと思います)</p>\n<pre>コントロール パネルコンピューターの簡単操作コンピューターの簡単操作センターキーボードを使いやすくします</pre>\n\n<p>「コンピューターの簡単操作センター」の【キーボードを使いやすくします】を開くと、</p>\n<pre>☑フィルターキー機能を有効にします(I)\n　速いキー入力または繰り返し入力されたキー入力は無視または減速して、\n　キーボードのリピート間隔を調整します。\n</pre>\n\n<p>このような項目がありますのでチェックを外します。</p>\n<blockquote><b>フィルタ キー機能を有効にする。</b>このオプションは、Windows へのログオン時にフィルタ キー機能を実行するよう設定します。短い間隔で続けて生じるキーボード操作、または意図せずに数秒間押され続けるキーボード操作を無視するよう、Windows を設定できます。\n<div align=\"right\">[引用]『<a href=\"http://windows.microsoft.com/ja-JP/windows-vista/Make-the-keyboard-easier-to-use\" target=\"_blank\">キーボードを使いやすくする</a>』</div></blockquote>\n","excerpt":"","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"}],"prev":{"title":"Amazonの商品画像の切り取りについて\n","path":"20130103231901.html"},"next":{"title":"手元にPCがない場合のFirefox Syncをセットアップ方法\n","path":"20121229215721.html"}},{"title":"手元にPCがない場合のFirefox Syncをセットアップ方法\n","path":"20121229215721.html","permalink":"https://b.0218.jp/20121229215721.html","date":"2012-12-29T21:57:21.000Z","updated":"2014-06-20T10:32:06.000Z","thumbnail":"","content":"<p>既にアカウントを持っていて、手元に PC がない場合の Firefox Sync セットアップ方法です。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>ツール &gt; オプション &gt; Sync &gt; <code>Sync をセットアップ</code></p>\n<p><b>「Firefox Sync のセットアップ」ウィンドウ</b><br>→ アカウントを持っています<br>　下の「他の Sync デバイスを持っていない」</p>\n<p><b>「サインイン」ウィンドウ</b><br>アカウント(A) / パスワード(P) を入力する画面が出てくるので<br>それと Firefox Sync キーを入力する</p>\n<p>以上</p>\n","excerpt":"","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"[Windows] カーソルキーを長押ししても止まる現象について","path":"20130102003358.html"},"next":{"title":"[JavaScript] 8をparseIntすると0になる問題の対処法","path":"20121228142102.html"}},{"title":"[JavaScript] 8をparseIntすると0になる問題の対処法","path":"20121228142102.html","permalink":"https://b.0218.jp/20121228142102.html","date":"2012-12-28T14:21:02.000Z","updated":"2015-02-28T22:30:41.000Z","thumbnail":"","content":"<p>8 が 0 になってしまう問題が発生した際に嵌まったのでメモ</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<pre><code class=\"js\">var hoge = \"08\";\nvar piyo = parseInt(hoge);\n// =&gt; 0</code></pre>\n<p>こんな風に単純に数値型にしてくれるだけではなく、</p>\n<pre><code>parseInt(\"10\")         --&gt;  10\nparseInt(\"2008year\")   --&gt;  2008\nparseInt(\"-77point\")   --&gt;  -77</code></pre>\n<div align=\"right\">[引用参考]『<a href=\"http://goo.gl/jhqb\">parseInt関数 - グローバル関数 - JavaScript入門</a>』より</div>\n\n<p>こんな風に適当な基数に変換してくれます。</p>\n<pre><code>parseInt(\"0x37\")       --&gt;  55\nparseInt(\"37\")         --&gt;  37</code></pre>\n<p>問題はここで、<br>先頭に 0 のある<code>hoge</code>は 8 進数と判断されて 0 に変換されしまったのです。</p>\n<p>parseInt は基数を指定できます。(指定できる値は「2」「8」「10」「16」)<br>ですので、きちんと 10 進数を指定してやれば</p>\n<pre><code class=\"js\">var piyo = parseInt(hoge, 10);</code></pre>\n<p>0 には変換されずに期待通りの値が取得できるはずです。</p>\n<p>要はちゃんと<strong>基数</strong>を指定しろって事ですね。</p>\n","excerpt":"","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"手元にPCがない場合のFirefox Syncをセットアップ方法\n","path":"20121229215721.html"},"next":{"title":"[Java] 特殊文字のサニタイジング(エスケープ) メソッド","path":"20121227183142.html"}},{"title":"[Java] 特殊文字のサニタイジング(エスケープ) メソッド","path":"20121227183142.html","permalink":"https://b.0218.jp/20121227183142.html","date":"2012-12-27T18:31:42.000Z","updated":"2014-06-20T10:32:12.000Z","thumbnail":"","content":"<p>サニタイジングメソッドを共通化しておこうかと。</p>\n\n<div class=\"more js-separate\"></div>\n\n<blockquote>サニタイジングとは、テキストデータ上の「&amp;」や「&gt;」など特殊文字を一般的な文字列に変換する処理のことである。サニタイジング（sanitizing）はもともと「消毒する」「無害化する」などの意味を持つ英語である。\n<div align=\"right\">引用元：<a href=\"http://goo.gl/dMLsl\">サニタイジングとは 「サニタイズ」 (sanitizing, sanitize)： - IT用語辞典バイナリ</a></div></blockquote>\n\n<pre><code class=\"java\">public static String sanitizing(String str) {\n\n  if (null == str || \"\".equals(str)) {\n    return str;\n  }\n  str = str.replaceAll(\"&amp;\", \"&amp;amp;\");\n  str = str.replaceAll(\"&lt;\", \"&amp;lt;\");\n  str = str.replaceAll(\"&gt;\", \"&amp;gt;\");\n  str = str.replaceAll(\"\"\", \"&amp;quot;\");\n  str = str.replaceAll(\"'\", \"&amp;#39;\");\n\n  return str;\n}</code></pre>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"}],"prev":{"title":"[JavaScript] 8をparseIntすると0になる問題の対処法","path":"20121228142102.html"},"next":{"title":"Apple IDをクレジットカードなしで登録する方法","path":"20121226231704.html"}},{"title":"Apple IDをクレジットカードなしで登録する方法","path":"20121226231704.html","permalink":"https://b.0218.jp/20121226231704.html","date":"2012-12-26T23:17:04.000Z","updated":"2014-06-20T10:32:17.000Z","thumbnail":"","content":"<p>「Apple ID をクレジットカードなしで登録する方法」が公式(<a href=\"http://goo.gl/yRrnl\">クレジットカードを使わずに iTunes Store、App Store、iBookstore、および Mac App Store アカウントを作成する方法</a>)に載っていました。<br>ただし、公式で書かれている方法は、<b>既存の Apple ID では使えない</b>ようです。<br><span class=\"text-warning\">既存の Apple ID の場合は、クレジット情報を登録した後に、情報を削除するしかなさそうです。</span><span class=\"text-muted\">(支払方法 (クレジットカード) セクションで「なし」を選択)</span></p>\n<h2>リンク先に書かれてる方法は以下です。</h2>\n<ul>\n<li>コンピュータでアカウントを作成する</li>\n<li>iPhone、iPad、iPod touch でアカウントを作成する</li>\n</ul>\n\n<h2>コンピュータでアカウントを作成する</h2>\nこちらの方法、要は<span class=\"text-info\">『「無料App」をダウンロードするタイミングで「Apple ID」を作る』</span>です。\n適当に「無料App」を探してダウンロードするタイミングで表示されるポップアップウインドウの「Apple ID を作成」からIDを作成します。\n(そのまま進んでいくと、『お支払い方法』を選択する項目が出るので「なし」を選択します)\n\n<h2>iPhone、iPad、iPod touch でアカウントを作成する</h2>\nこちらもPCから作成する手順とほぼ同じです。\nApp Storeで無料アプリの「App をインストール」をタップして、「Apple ID を新規作成」からIDを作成していきます。\n","excerpt":"リンク先に書かれてる方法は以下です。 / コンピュータでアカウントを作成する / iPhone、iPad、iPod touch でアカウントを作成する","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"apple","slug":"apple","path":"tags/apple/"}],"prev":{"title":"[Java] 特殊文字のサニタイジング(エスケープ) メソッド","path":"20121227183142.html"},"next":{"title":"[Windows] 「GodMode（ゴッドモード）」について","path":"20121225152431.html"}},{"title":"[Windows] 「GodMode（ゴッドモード）」について","path":"20121225152431.html","permalink":"https://b.0218.jp/20121225152431.html","date":"2012-12-25T15:24:31.000Z","updated":"2014-10-20T00:44:27.000Z","thumbnail":"","content":"<p>「GodMode (ゴッドモード)」とは Windows7 の隠し機能のひとつ。</p>\n\n<div class=\"more js-separate\"></div>\n\n<blockquote>通称「GodMode (ゴッドモード)」と呼ばれるもので、正式な機能名ではないのだが通例としてこの名前が通用するようになってきているようだ。GodModeの名称は最初にこの機能を紹介したとみられているWindows 7 GodMode (ドイツ語)のブログでこの名前が使われているところからきているという。\n<div align=\"right\"><cite>引用元：<a href=\"http://news.mynavi.jp/news/2010/01/07/011/index.html\" target=\"_blank\">Windows 7\"ゴッドモード\"を有効にする方法 | エンタープライズ | マイナビニュース</a></cite></div></blockquote>\n\n<p>「GodMode」を利用するには、まずフォルダを作成し、そのフォルダ名を以下のように変更する。</p>\n<pre><code>GodMode.{ED7BA470-8E54-465E-825C-99712043E01C}</code></pre>\n<p><span class=\"text-muted\">GodMode の部分は別の名称でもかまわない。</span></p>\n<p>ちなみに以下のようなものもある。</p>\n<table class=\"table table-bordered\"><thead><tr><th>文字列 </th><th>コントロールパネル </th><th>項目名 </th></tr></thead><tbody><tr><th>{00C6D95F-329C-409a-81D7-C46C66EA7F33} </th><td>位置センサーとその他のセンサー </td><td>規定の位置 </td></tr><tr><th>{0142e4d0-fb7a-11dc-ba4a-000ffe7ab428} </th><td>生体認証デバイス </td><td>－ </td></tr><tr><th>{025A5937-A6BE-4686-A844-36FE4BEC8B6D} </th><td>電源オプション </td><td>電源プランの選択 </td></tr><tr><th>{05d7b0f4-2121-4eff-bf6b-ed3f69b894d9} </th><td>通知領域アイコン </td><td>タスクバーのアイコンのカスタマイズ </td></tr><tr><th>{1206F5F1-0569-412C-8FEC-3204630DFB70} </th><td>資格情報マネージャー </td><td>Windows資格情報の管理 </td></tr><tr><th>{15eae92e-f17a-4431-9f28-805e482dafd4} </th><td>プログラムと機能 </td><td>ネットワークからプログラムをインストール </td></tr><tr><th>{17cd9488-1228-4b2f-88ce-4298e93e0966} </th><td>既定のプログラム </td><td>－ </td></tr><tr><th>{1D2680C9-0E2A-469d-B787-065558BC7D43} </th><td>アセンブリキャッシュビューア </td><td>－ </td></tr><tr><th>{1FA9085F-25A2-489B-85D4-86326EEDCD87} </th><td>ネットワークと共有センター </td><td>ワイヤレスネットワークの管理 </td></tr><tr><th>{208D2C60-3AEA-1069-A2D7-08002B30309D} </th><td>ネットワークと共有センター </td><td>WORKGROUPの検索 </td></tr><tr><th>{20D04FE0-3AEA-1069-A2D8-08002B30309D} </th><td>ネットワークと共有センター </td><td>このコンピューター </td></tr><tr><th>{2227A280-3AEA-1069-A2DE-08002B30309D} </th><td>デバイスとプリンター（プリンタとFAX） </td><td>－ </td></tr><tr><th>{241D7C96-F8BF-4F85-B01F-E2B043341A4B} </th><td>RemoteAppとデスクトップ接続 </td><td>－ </td></tr><tr><th>{4026492F-2F69-46B8-B9BF-5654FC07E423} </th><td>Windowsファイアウォール </td><td>ファイアウォールの状態の確認 </td></tr><tr><th>{78F3955E-3B90-4184-BD14-5397C15F1EFC} </th><td>パフォーマンスの情報とツール </td><td>Windowsエクスペリエンスインデックスの確認 </td></tr></tbody></table><div align=\"right\"><cite>引用元：<a href=\"http://builder.japan.zdnet.com/os-admin/sp_windows-7/20406428/\" target=\"_blank\">「GodMode」だけではなかった、Windows 7の隠し機能（2）</a></cite></div>\n","excerpt":"","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[],"prev":{"title":"Apple IDをクレジットカードなしで登録する方法","path":"20121226231704.html"},"next":{"title":"[.htaccess] wwwあり・なしを統一する","path":"20121225142045.html"}},{"title":"[.htaccess] wwwあり・なしを統一する","path":"20121225142045.html","permalink":"https://b.0218.jp/20121225142045.html","date":"2012-12-25T14:20:45.000Z","updated":"2014-06-20T10:32:20.000Z","thumbnail":"","content":"<p>www のあり・なしを<code>.htaccess</code>で統一させます。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>初版</h2>\n<h3>wwwに統一</h3>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^(0218.jp)(:80)? [NC]\nRewriteRule ^(.*) http://www.0218.jp/$1 [R=301,L]</code></pre>\n<h3>wwwなしに統一</h3>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^(www.0218.jp)(:80)? [NC]\nRewriteRule ^(.*) http://0218.jp/$1 [R=301,L]</code></pre>\n<h2>2版</h2>\nこちらの方が汎用的かもしれません。\n<h3>wwwに統一</h3>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTPS} !=on\nRewriteCond %{HTTP_HOST} !^www\\..+$ [NC]\nRewriteCond %{HTTP_HOST} (.+)$ [NC]\nRewriteRule ^(.*)$ http://www.%1/$1 [R=301,L]</code></pre>\n<h3>wwwなしに統一</h3>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTPS} !=on\nRewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]\nRewriteRule ^(.*)$ http://%1/$1 [R=301,L]</code></pre>\n","excerpt":"初版 / 2版","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[Windows] 「GodMode（ゴッドモード）」について","path":"20121225152431.html"},"next":{"title":"「jQuery Table Sort」をカンマの入った数値に対応させる方法\n","path":"20121221141231.html"}},{"title":"「jQuery Table Sort」をカンマの入った数値に対応させる方法\n","path":"20121221141231.html","permalink":"https://b.0218.jp/20121221141231.html","date":"2012-12-21T14:12:31.000Z","updated":"2015-02-28T22:25:46.000Z","thumbnail":"","content":"<p>「<a href=\"http://joequery.github.com/Stupid-Table-Plugin/\">jQuery Table Sort</a>」は、テーブルにソート機能を加えるだけのシンプルなプラグインです。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>こんな感じで使用します。<span class=\"text-muted\">(詳しい使い方は配布元を見て頂くとして)</span></p>\n<h2>JS</h2>\n<pre class=\"linenums\">$(\"#simpleTable\").stupidtable();</pre>\n\n<h2>HTML</h2>\n<pre class=\"linenums\">&lt;table id=\"simpleTable\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n        &lt;th data-sort=\"int\"&gt;int&lt;/th&gt;\n        &lt;th data-sort=\"float\"&gt;float&lt;/th&gt;\n        &lt;th data-sort=\"string\"&gt;string&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n  ...\n  ... (rest of the table)</pre>\n\n<h2>対応しているソート機能</h2>\n<ul>\n<li>int</li>\n<li>float</li>\n<li>string</li>\n</ul>\n以上の3つのみです。\n配布元には「出来る限りプラグインを軽くするためにこれだけしか用意してません。てか、これで十分っしょ？(意訳)」\nって書いてあります。\n\n<h2>本題</h2>\n確かにソートの種類はこれだけで十分なんですけど、\nこのint や string では、1,000 とか 1,989 みたいに「,」が入っていると上手くソートしてくれない。\nプラグインのソースを見てみる。↓これじゃ単純な数値しかソートできませんよねぇ。\n<pre class=\"linenums:16\">sortFns = $.extend({}, {\n  \"int\":function(a,b){ return parseInt(a, 10) - parseInt(b,10); },\n  \"float\":function(a,b){ return parseFloat(a) - parseFloat(b); },\n  \"string\":function(a,b){ if (a&lt;b) return -1; if (a&gt;b) return +1; return 0;}\n}, sortFns);</pre>\n\n<p>どうしたらよいか。追加でソート機能が欲しいなら「自分で用意してね(意訳)」と書いてあります。<br>めんどくさいなぁ、と言いつつ 30 秒ぐらいで出来ました。<br>JS はこうやって書いて、</p>\n<pre class=\"linenums\">$(\"#simpleTable\").stupidtable({\n\"intComma\":function(a,b){ \n  var aNum = a.replace( /,/g, \"\" );\n  var bNum = b.replace( /,/g, \"\" );\n\n  return parseInt(aNum, 10) - parseInt(bNum,10); \n  }\n});</pre>\n\n<p>ソートしたい(カンマのあるカラム)は、こうやって書いてください</p>\n<pre class=\"linenums\">&lt;th data-sort=\"intComma\"&gt;int&lt;/th&gt;</pre>\n\n<p>ちなみに<code>\"intComma\"</code>はお好きな名前に変えても OK です。</p>\n<p>裏ではカンマを除いた数値で並び替えをしてるので、<br>昇順降順きちんと並び替える事ができるはずです。</p>\n","excerpt":"JS / HTML / 対応しているソート機能 / 本題","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"[.htaccess] wwwあり・なしを統一する","path":"20121225142045.html"},"next":{"title":"[Apache] ベーシック認証の設定についての覚書","path":"20121219174736.html"}},{"title":"[Apache] ベーシック認証の設定についての覚書","path":"20121219174736.html","permalink":"https://b.0218.jp/20121219174736.html","date":"2012-12-19T17:47:36.000Z","updated":"2014-06-20T10:32:23.000Z","thumbnail":"","content":"<p>個人的な防備録です。</p>\n\n<div class=\"more js-separate\"></div>\n\n<pre class=\"linenums\"># htpasswd -c /ファイルを置くパス/.htpasswd username(usernameという名前のユーザ)</pre>\n\n<p><span class=\"text-muted\">⇒ パスワードに何を設定するか訊かれる。</span></p>\n<p><b>httpd.conf</b>（/etc/httpd/conf/httpd.conf）に以下を追加する。</p>\n<pre class=\"linenums\">&lt;Directory \"認証を行うディレクトリ\"&gt;\n   AuthType Basic\n   AuthName \"認証の名前\"\n   AuthUserFile /さっき作ったファイルを置いてあるパス/.htpasswd\n   Require user username\n&lt;/Directory&gt;\n</pre>\n\n<p>最後に httpd を再起動する。</p>\n<pre class=\"linenums\"># service httpd restart</pre>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Apache","slug":"Apache","path":"tags/Apache/"}],"prev":{"title":"「jQuery Table Sort」をカンマの入った数値に対応させる方法\n","path":"20121221141231.html"},"next":{"title":"名探偵コナンのヒドい動機への補足解説\n","path":"20121215030342.html"}},{"title":"名探偵コナンのヒドい動機への補足解説\n","path":"20121215030342.html","permalink":"https://b.0218.jp/20121215030342.html","date":"2012-12-15T03:03:42.000Z","updated":"2016-11-10T01:18:43.000Z","thumbnail":"","content":"<p>名探偵コナンは、動機を「くだらない理由で人殺す奴が多すぎる」などと言われる事が多い。ただ、「犯人への感情移入をさせない為にあえて軽くしている」という噂もある。[要出典]<br>くだらないと言われる動機の殆どが、ストーリーの詳細を省いてるため余計酷く見えたり、また意味が異なっているものが沢山ある。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>動機の参考元</h2><p>インターネット上には、色々と書かれているが、『<a href=\"http://getnews.jp/archives/102182\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">そんな理由で殺人を!?　動機がヒドすぎる『名探偵コナン』の犯人 TOP10</a>』に掲載されている動機について、補足をしてみたいと思う。</p>\n<h3>一覧</h3><p>挙げられている動機の一覧。</p>\n<ul>\n<li>1 位　「ハンガーを投げつけられたから」（135 話：消えた凶器捜索事件）</li>\n<li>2 位　「元カレの髪形を別の女の趣味に合わせることが嫌だったから」（508 話：弁護士妃英理の証言（後編））</li>\n<li>3 位　「本格将棋ゲームの製作で「待った」の選択肢を提案されたから」（308 話：残された声無き証言）</li>\n<li>4 位　「要するにオタク同士の意見の食い違い」（58 話：ホームズフリーク殺人事件）</li>\n<li>5 位　「愛する女性と秘密（犯罪）を共有することが愛情表現と思っていたから」（劇場版 10：探偵たちの鎮魂歌）</li>\n<li>6 位　「自分のアトリエから見える富士山が建造物でさえぎられてしまったから」（劇場版 5：天国へのカウントダウン）</li>\n<li>7 位　「被害者の演じる役そのものが好きだったが、その役を彼が自ら降りたから」（288 話：工藤新一 NY の事件（解決編））</li>\n<li>8 位　「自分の美学に反する建築物を破壊したかったから」（劇場版 1：時計じかけの摩天楼）</li>\n<li>9 位　「ソムリエを大勢の前で馬鹿にされたから」（劇場版 2：14 番目の標的）</li>\n<li>10 位　「役立たずと馬鹿にされたから」（360 話：不思議な春のかぶと虫）</li>\n</ul>\n<h2>動機と話</h2><h3>1 位:「ハンガーを投げつけられたから」</h3><p>■135 話：消えた凶器捜索事件<br>→ ハンガーを投げつけられて殺意が芽生えたわけではない。<br>　 ハンガーは殺害へのきっかけにすぎない。元々仕事上でいざこざがあり、あくまでもハンガーはトリガーである。</p>\n<h3>2 位:「元カレの髪形を別の女の趣味に合わせることが嫌だったから」</h3><p>■508 話：弁護士妃英理の証言（後編）<br>→ その通り<br>　 犯人「誰にも切らせたくなかった、切りたくなかった。だからああするしかなかった」（黒髪でショートを金髪でミディアムに変えた！）</p>\n<h3>3 位:「本格将棋ゲームの製作で「待った」の選択肢を提案されたから」</h3><p>■308 話：残された声無き証言<br>→ 多額の投資をした『名人を倒せるような将棋ソフト』に「待ったは何回がいいと思う？」って言われた。</p>\n<h3>4 位:「要するにオタク同士の意見の食い違い」</h3><p>■58 話：ホームズフリーク殺人事件<br>→ その通り<br>　 犯人「アイリーン・アドラーはそんな事言わない！」</p>\n<h3>5 位:「愛する女性と秘密（犯罪）を共有することが愛情表現と思っていたから」</h3><p>■ 劇場版 10 作目：探偵たちの鎮魂歌<br>→ その通り<br>　 ただ、殺人は未遂(別の犯人が殺した事を自分でやったと思っていた)で、銀行強盗はしている。<br>　 <span class=\"text-muted\">コナン「あなたは最低の人間ですよ」</span></p>\n<h3>6 位:「自分のアトリエから見える富士山が建造物でさえぎられてしまったから」</h3><p>■ 劇場版 5：天国へのカウントダウン<br>→ その通り<br>　 自分の絵を売られるぐらいで人を殺そうとは思わないが、富士山をビルで真っ二つにされるのは許せない</p>\n<h3>7 位:「被害者の演じる役そのものが好きだったが、その役を彼が自ら降りたから」</h3><p>■288 話：工藤新一 NY の事件（解決編）<br>→ その通り</p>\n<h3>8 位:「自分の美学に反する建築物を破壊したかったから」</h3><p>■ 劇場版 1：時計じかけの摩天楼<br>→ その通り<br>　 制約上シンメトリーにできなかった過去の<u>自分の</u>建築物を破壊。</p>\n<h3>9 位:「ソムリエを大勢の前で馬鹿にされたから」</h3><p>■ 劇場版 2：14 番目の標的<br>→ 上記の件によるストレスや交通事故(轢き逃げされた)ことで「味覚障害」になってしまい、それらの原因となった人間を殺そうとした。</p>\n<h3>10 位:「役立たずと馬鹿にされたから」</h3><p>■360 話：不思議な春のかぶと虫<br>→ その通り<br>　 そもそも犯人は被害者と共謀し盗みを働いており、そこで馬鹿にされていた。</p>\n<hr>\n<h3>〆</h3><p>動機よりもトリックに重きを置いている場合もあるかもしれない。特に劇場版だとアクションがメインになってるのだろう。</p>\n<p>『迷宮の十字路』で殺人を犯しまくった犯人「俺はもともと弁慶よりも義経のほうが好きやった。義経になりたかったんや！」<br>？？？</p>\n","excerpt":"動機の参考元 / 動機と話","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"prev":{"title":"[Apache] ベーシック認証の設定についての覚書","path":"20121219174736.html"},"next":{"title":"[WordPress3.5] プラグインの自動更新ができなくなった","path":"20121214102700.html"}},{"title":"[WordPress3.5] プラグインの自動更新ができなくなった","path":"20121214102700.html","permalink":"https://b.0218.jp/20121214102700.html","date":"2012-12-14T10:27:00.000Z","updated":"2014-06-20T10:32:26.000Z","thumbnail":"","content":"<p>自動更新で Wordpress のバージョンを上げたところ、プラグインやテーマなどを自動更新してくれる機能が使えなくなりました。<br>使えなくなったと言うのは、アップグレードの通知は出るんですけど、いざ更新ボタンを押すと真っ白な画面(サイドバーなどは出てる)になって更新ができないといった状態です。</p>\n<p>こんな便利機能が使えないのは辛いので調べまわりましたが、収穫はありませんでした。<br>バージョンアップが原因だろうと思ったので、ファイルを上書きし直してみる事に。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p><b>update.php</b>のある<b>wp-includes フォルダ</b>の php ファイルを上書きしてみましたが、変化なし。<br>次に<span class=\"text-success\"><b>wp-admin フォルダの php ファイルを全て上書きしてみたところ、自動更新の機能が復活しました。</b></span></p>\n<p>結果として原因はよく分からないのですが、WordPress の自動更新が上手くいってなかった、って事でしょうか…<br>とにかくこれで解決して良かった。</p>\n","excerpt":"","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"}],"prev":{"title":"名探偵コナンのヒドい動機への補足解説\n","path":"20121215030342.html"},"next":{"title":"[JavaScript] 空白をトリミング(trim)する方法","path":"20121213003023.html"}},{"title":"[JavaScript] 空白をトリミング(trim)する方法","path":"20121213003023.html","permalink":"https://b.0218.jp/20121213003023.html","date":"2012-12-13T00:30:23.000Z","updated":"2015-02-28T22:30:37.000Z","thumbnail":"","content":"<p>jQuery とは違い、Javascript には trim 関数が無いので、<br>replace を使って空白をトリミング(取り除く)する。</p>\n<pre><code class=\"js\">var str = str.replace(/(^s+)|(s+$)/g, \"\");</code></pre>\n<p>ちなみに jQuery はこんな感じ。</p>\n<pre><code class=\"js\">var str = jQuery.trim(str);</code></pre>\n","excerpt":"","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[WordPress3.5] プラグインの自動更新ができなくなった","path":"20121214102700.html"},"next":{"title":"[MySQL] 年度内の最新月を取得する","path":"20121212225835.html"}},{"title":"[MySQL] 年度内の最新月を取得する","path":"20121212225835.html","permalink":"https://b.0218.jp/20121212225835.html","date":"2012-12-12T22:58:35.000Z","updated":"2014-06-20T10:32:29.000Z","thumbnail":"","content":"<p>こんなテーブルから最新月(年月)を 1 つ抽出します。</p>\n<pre><code class=\"bash\">+------+-------+\n| year | month |\n+------+-------+\n| 2012 |    11 |\n| 2012 |     3 |\n| 2013 |     3 |\n| 2012 |    12 |\n| 2013 |     1 |\n+------+-------+</code></pre>\n\n<div class=\"more js-separate\"></div>\n\n\n<pre><code class=\"sql\">SELECT DISTINCT year, month\nFROM            sample\nWHERE           year*100+month between 201204 and 201303\nORDER BY        year DESC, month DESC\nLIMIT 1</code></pre>\n<p>3 行目の <code>201204</code> や <code>201303</code> は適度に変更してください。<br><span class=\"text-muted\">(2012 年 4 月～ 2013 年 3 月を表してます/年度)</span></p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[JavaScript] 空白をトリミング(trim)する方法","path":"20121213003023.html"},"next":{"title":"[Eclipse] フォーマッター機能の改行文字数を変更する方法","path":"20121210104133.html"}},{"title":"[Eclipse] フォーマッター機能の改行文字数を変更する方法","path":"20121210104133.html","permalink":"https://b.0218.jp/20121210104133.html","date":"2012-12-10T10:41:33.000Z","updated":"2014-06-20T10:32:30.000Z","thumbnail":"","content":"<h2>手順:</h2>\n<pre>メニューバー：　ウィンドウ(W) &gt; 設定(P)\n　　　　　　　　　&gt; Java &gt; コード・スタイル &gt; フォーマッター\n　　　　　　　　　&gt; アクティブなプロファイル(C): 編集(E)\n　　　　　　　　　&gt; 行折返し(G) &gt; 一般設定 &gt; <b>行の最大幅(I): 「80」</b>←\n</pre>\n","excerpt":"手順:","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Eclipse","slug":"Eclipse","path":"tags/Eclipse/"}],"prev":{"title":"[MySQL] 年度内の最新月を取得する","path":"20121212225835.html"},"next":{"title":"[TinyPNG] 画像が開けない","path":"20121208165736.html"}},{"title":"[TinyPNG] 画像が開けない","path":"20121208165736.html","permalink":"https://b.0218.jp/20121208165736.html","date":"2012-12-08T16:57:36.000Z","updated":"2014-06-20T10:32:34.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>TinyPNG とは</h2><p>「<a href=\"http://tinypng.org/\"><b>TinyPNG</b></a>」は画像サイズ(PNG 形式)を小さくしてくれるサービス。</p>\n<h2>環境</h2><ul>\n<li>Windows</li>\n</ul>\n<h2>現象</h2><p>TinyPNG を利用して、PNG を圧縮して保存すると以下のようなエラーダイアログが表示された。</p>\n<blockquote>\n<p><span class=\"text-danger\">『Windows フォトビューアーでこの画像を開けません。ファイルが破損しているか、大きすぎる可能性があります』</span></p>\n</blockquote>\n<h2>原因</h2><p>ファイル名が<b>「新しいキャンバス.png」</b>だったのが原因。</p>\n<p>ファイル名を 2 バイト文字から「test.png」に変更して再実行すると問題なく開くことができた。</p>\n","excerpt":"TinyPNG とは / 環境 / 現象 / 原因","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[],"prev":{"title":"[Eclipse] フォーマッター機能の改行文字数を変更する方法","path":"20121210104133.html"},"next":{"title":"[正規表現] 特定の単語がある行を削除する方法","path":"20121207161714.html"}},{"title":"[正規表現] 特定の単語がある行を削除する方法","path":"20121207161714.html","permalink":"https://b.0218.jp/20121207161714.html","date":"2012-12-07T16:17:14.000Z","updated":"2016-02-19T14:42:01.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<p>置換(Ctrl+R)の<code>置換前(N)</code>に</p>\n<pre><code>^.*任意の単語.*\\n</code></pre>\n<p>を入れ、<code>置換後(P)</code>は空欄のままで置換します。<br><span class=\"text-muted\">(※ 正規表現(E)のチェックは入れた状態です)</span></p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"正規表現","slug":"正規表現","path":"tags/%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE/"}],"prev":{"title":"[TinyPNG] 画像が開けない","path":"20121208165736.html"},"next":{"title":"[MacType] 「Invalid image size」の解決方法","path":"20121206213644.html"}},{"title":"[MacType] 「Invalid image size」の解決方法","path":"20121206213644.html","permalink":"https://b.0218.jp/20121206213644.html","date":"2012-12-06T21:36:44.000Z","updated":"2015-01-06T21:40:32.000Z","thumbnail":"","content":"<p>MacType を起動時に発生する<strong>「Invalid image size」</strong></p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>状況</h2>\nMacType の起動時に<strong>「Invalid image size」</strong>というエラーダイアログが出ると<em>アンチエイリアスが効かなくなる</em>。\n\n<h2>解決方法</h2>\n直近で変更した点は<strong>ウィンドウのタイトルバーをサイズ変更</strong>した。(タイトルバーを縮めた)\nタイトルバーをデフォルトに戻して、MacType の再起動で解決。\n","excerpt":"状況 / 解決方法","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"},{"name":"MacType","slug":"MacType","path":"tags/MacType/"}],"prev":{"title":"[正規表現] 特定の単語がある行を削除する方法","path":"20121207161714.html"},"next":{"title":"JBoss の起動/終了 コマンド","path":"20121206183215.html"}},{"title":"JBoss の起動/終了 コマンド","path":"20121206183215.html","permalink":"https://b.0218.jp/20121206183215.html","date":"2012-12-06T18:32:15.000Z","updated":"2014-06-20T10:32:41.000Z","thumbnail":"","content":"<p>いつも忘れちゃって困るので覚書します。</p>\n<pre><code>/etc/init.d/jboss (start|stop|restart)</code></pre>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[],"prev":{"title":"[MacType] 「Invalid image size」の解決方法","path":"20121206213644.html"},"next":{"title":"[Java] 文字列と数値型の変換","path":"20121205113225.html"}},{"title":"[Java] 文字列と数値型の変換","path":"20121205113225.html","permalink":"https://b.0218.jp/20121205113225.html","date":"2012-12-05T11:32:25.000Z","updated":"2014-06-20T10:32:43.000Z","thumbnail":"","content":"<p>Eclipse の入力候補なんかで出せちゃうのできちんと覚えてないのでメモしておきます。<br>今後、何かの役に立てれば…。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>文字列から数値型に変換</h2>\n\n<pre><code>Integer.parseInt(str)\nShort.parseShort(str)\nByte.parseByte(str)\nLong.parseLong(str)\nFloat.parseFloat(str)\nDouble.parseDouble(str)</code></pre>\n<h2>数値から文字列に変換</h2>\n\n<pre><code>String.valueOf(int)\nString.valueOf(short)\nString.valueOf(byte)\nString.valueOf(long)\nString.valueOf(float)\nString.valueOf(double)</code></pre>\n","excerpt":"文字列から数値型に変換 / 数値から文字列に変換","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"}],"prev":{"title":"JBoss の起動/終了 コマンド","path":"20121206183215.html"},"next":{"title":"[Apache POI] カンマ区切りや小数点を表示するセルスタイル(CellStyle)","path":"20121205112442.html"}},{"title":"[Apache POI] カンマ区切りや小数点を表示するセルスタイル(CellStyle)","path":"20121205112442.html","permalink":"https://b.0218.jp/20121205112442.html","date":"2012-12-05T11:24:42.000Z","updated":"2014-06-20T10:32:45.000Z","thumbnail":"","content":"<h2>カンマ区切りで表示する</h2><pre><code class=\"java\">hoge.setDataFormat(HSSFDataFormat.getBuiltinFormat(\"#,##0\"));</code></pre>\n<h2>小数点第 2 位まで表示する</h2><pre><code class=\"java\">foo.setDataFormat(HSSFDataFormat.getBuiltinFormat(\"0.00\"));</code></pre>\n","excerpt":"カンマ区切りで表示する / 小数点第 2 位まで表示する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"},{"name":"Apache POI","slug":"Apache-POI","path":"tags/Apache-POI/"}],"prev":{"title":"[Java] 文字列と数値型の変換","path":"20121205113225.html"},"next":{"title":"サクラエディタの改行コードの変更方法\n","path":"20121204111528.html"}},{"title":"サクラエディタの改行コードの変更方法\n","path":"20121204111528.html","permalink":"https://b.0218.jp/20121204111528.html","date":"2012-12-04T11:15:28.000Z","updated":"2017-03-29T05:17:36.000Z","thumbnail":"https://i.imgur.com/dz114tN.png?1","content":"<h2>環境</h2><ul>\n<li>Windows 10</li>\n<li>サクラエディタ ver2.2.0.1</li>\n</ul>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>初期設定で改行コードを変える</h2><p>デフォルト設定なので、次にエディタを起動した際も指定した改行コードになる。</p>\n<pre><code>メニューバー &gt; 設定 &gt; タイプ別設定 &gt; ウィンドウタブ &gt; [デフォルトの文字コード]グループの「改行コード」</code></pre>\n<p><img src=\"https://i.imgur.com/Y0Oosab.png\" alt=\"sakura editor - type settings\" loading=\"lazy\"></p>\n<h2>保存時に改行コードを指定して保存する</h2><p>今回の編集にのみ改行コードを指定したい場合。</p>\n<pre><code>メニューバー &gt; ファイル(F) &gt; 名前を付けて保存(A)...</code></pre>\n<p><img src=\"https://i.imgur.com/g3Gcwgo.png\" alt=\"sakura editor - save as dialog\" loading=\"lazy\"></p>\n<h2>編集中に改行コードを指定する</h2><p>指定した改行コードを次回の改行時から反映する。</p>\n<pre><code>メニューバー &gt; 設定(O) &gt; 入力改行コード指定(E)</code></pre>\n<p><img src=\"https://i.imgur.com/dz114tN.png?1\" alt=\"sakura editor - setting menu\" loading=\"lazy\"></p>\n","excerpt":"環境 / 初期設定で改行コードを変える / 保存時に改行コードを指定して保存する / 編集中に改行コードを指定する","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"サクラエディタ","slug":"サクラエディタ","path":"tags/%E3%82%B5%E3%82%AF%E3%83%A9%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF/"}],"prev":{"title":"[Apache POI] カンマ区切りや小数点を表示するセルスタイル(CellStyle)","path":"20121205112442.html"},"next":{"title":"[Windows] ウィンドウのメニューを開いた状態でスクリーンショットを撮る方法","path":"20121204101230.html"}},{"title":"[Windows] ウィンドウのメニューを開いた状態でスクリーンショットを撮る方法","path":"20121204101230.html","permalink":"https://b.0218.jp/20121204101230.html","date":"2012-12-04T10:12:30.000Z","updated":"2014-10-20T00:43:22.000Z","thumbnail":"https://hiro0218.github.io/blog/images/Open-Menu-Active-Window.png","content":"<p>ディスプレイ全体やアクティブウィンドウを撮りたい時は、<br>特別にソフトを用意しなくても、<b>プリントスクリーン（PrtSc）キー</b>を使うのが便利です。</p>\n<p>機種によっては、<code>PrtSc キー</code>だけで撮れたり、<code>PrtSc キー</code>と<code>Fn キー</code>の同時押しが必要な場合があります。<br>しかしながら、アクティブウィンドウを撮る際に、<code>Alt キー</code>を同時に使うことは避けられません。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>アクティブウィンドウのメニューバーを開いた状態でスクリーンショットを撮る方法</h2>\n普通に撮ろうとしても撮れないのは、Altキーを押すとメニューバーがアクティブになってしまうからです。<span class=\"text-muted\">(スクリーンショットを撮る時に既にアクティブにさせてるので、Altを押すとメニューが閉じてしまう)</span>\n\n<h3>手順</h3>\nAltキーを押しながらCtrlキーを押し、クリックでメニューを開き、そのままの状態で、PrtScキーでスクリーンショットを撮ります。\n\n<p>これで以下のように、アクティブウィンドウのメニューを撮ることができます。<br><img src=\"https://hiro0218.github.io/blog/images/Open-Menu-Active-Window.png\"></p>\n","excerpt":"アクティブウィンドウのメニューバーを開いた状態でスクリーンショットを撮る方法","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[],"prev":{"title":"サクラエディタの改行コードの変更方法\n","path":"20121204111528.html"},"next":{"title":"Wordを画像に変換する方法","path":"20121202234710.html"}},{"title":"Wordを画像に変換する方法","path":"20121202234710.html","permalink":"https://b.0218.jp/20121202234710.html","date":"2012-12-02T23:47:10.000Z","updated":"2014-06-20T10:32:51.000Z","thumbnail":"","content":"<p>簡潔に説明すると、<br>Word → PDF → 画像ファイル(jpeg など)<br>といった感じです。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>手順</h2>\n<ol>\n<li>Wordを開き、PDF形式で保存します。([名前を付けて保存]を押してPDF形式で保存)\n詳しくは<a href=\"http://goo.gl/qeVYC\">Office プログラムで PDF 形式で保存する [Office.com]</a>を参照</li>\n<li>Wordから変換したPDFを画像ファイルに変換します。\n<a href=\"http://goo.gl/Wb6DR\">「pdf 画像 変換 - Google 検索」</a>などで検索するとソレ用のソフトが出てきますのでお好みでどうぞ。</li>\n</ol>\n\n<p>PDF から画像変換がちょっと面倒です。これだけの為に画像変換ソフトをインストールするのはちょっと嫌ですし…。<br><span style=\"color:#888;\">(私の場合は、<b>Photoshop</b>があるのでそれで変換しました。これはページ数が少ない場合は楽です)</span></p>\n<p>「<a href=\"http://www.docspal.com/\">DocsPal</a>」という Web サービスを使ってみるのも手です。</p>\n<p>Web 上で簡単にファイルをコンバートすることができる Web サービスです。最大同時に 5 つまでのファイルを変換可能です。</p>\n<p><span style=\"color:#888;\">ちなみに、Word だけではなく Excel も同じ手順で画像変換出来ますね。</span></p>\n","excerpt":"手順","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[],"prev":{"title":"[Windows] ウィンドウのメニューを開いた状態でスクリーンショットを撮る方法","path":"20121204101230.html"},"next":{"title":"[jQuery] Input[readonly] でBackSpaceを効かなくする方法","path":"20121129101619.html"}},{"title":"[jQuery] Input[readonly] でBackSpaceを効かなくする方法","path":"20121129101619.html","permalink":"https://b.0218.jp/20121129101619.html","date":"2012-11-29T10:16:19.000Z","updated":"2015-02-28T22:25:44.000Z","thumbnail":"","content":"<p>IE 固有の問題で、ReadOnly 属性の Input 要素にフォーカスが当たってる時に BackSpace でページが戻ってしまうというのがあります。IE11 でも健在のようです。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>jQuery</h2>\n\n<pre><code class=\"js\">$(\"input[readonly]\").on(\"keydown\", function (e) {\n  if ((e.which &amp;&amp; e.which === 8) || (e.keyCode &amp;&amp; e.keyCode === 8)) {\n    return false;\n  }\n});</code></pre>\n<h2>Javascript</h2>\n\n<pre><code class=\"js\">window.document.onkeydown = function keydown() {\n  if (window.event.keyCode == 8) {\n    return false;\n  }\n};</code></pre>\n","excerpt":"jQuery / Javascript","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"jQuery","slug":"jQuery","path":"tags/jQuery/"}],"prev":{"title":"Wordを画像に変換する方法","path":"20121202234710.html"},"next":{"title":"[Java] Apache POIでエクセルファイル(.xls)を出力する","path":"20121126130658.html"}},{"title":"[Java] Apache POIでエクセルファイル(.xls)を出力する","path":"20121126130658.html","permalink":"https://b.0218.jp/20121126130658.html","date":"2012-11-26T13:06:58.000Z","updated":"2014-06-20T10:32:55.000Z","thumbnail":"","content":"<p>単純に、呼び出されたら <code>hogehoge</code> というシートを持った <code>hoge.xls</code> が出力されるだけです。</p>\n<pre><code class=\"java\">protected void doPost(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n  Workbook wb          = new HSSFWorkbook();\n  Sheet sheet1         = wb.createSheet(\"hogehoge\");\n  FileOutputStream out = null;\n  String fileName      = \"hoge.xls\";\n\n  try {\n    out = new FileOutputStream(fileName);\n    wb.write(out);\n\n  } catch (IOException e) {\n    System.out.println(e.toString());\n\n  } finally {\n    try {\n      out.close();\n\n    } catch (IOException e) {\n      System.out.println(e.toString());\n\n    }\n  }\n\n  res.setContentType(\"application/octet-stream\");\n  res.setHeader(\"Content-Disposition\", \"attachment; filename=\"+ fileName);\n  res.setHeader(\"Content-Description\", \"file download\");\n  res.setContentType(\"application/vnd.ms-excel\");\n\n  wb.write(res.getOutputStream());\n}</code></pre>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"},{"name":"Excel","slug":"Excel","path":"tags/Excel/"},{"name":"Apache POI","slug":"Apache-POI","path":"tags/Apache-POI/"}],"prev":{"title":"[jQuery] Input[readonly] でBackSpaceを効かなくする方法","path":"20121129101619.html"},"next":{"title":"[CSS] 究極のIE対策","path":"20121124034307.html"}},{"title":"[CSS] 究極のIE対策","path":"20121124034307.html","permalink":"https://b.0218.jp/20121124034307.html","date":"2012-11-24T03:43:07.000Z","updated":"2020-10-19T16:51:36.000Z","thumbnail":"","content":"<p>さよなら IE。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>条件付きコメント</h2><p>条件付きコメントを利用。</p>\n<pre><code class=\"html\">&lt;!--[if IE]&gt;\n  &lt;style type=\"text/css\"&gt;\n    * {\n      display: none;\n    }\n  &lt;/style&gt;\n&lt;![endif]--&gt;</code></pre>\n<p>ただし、条件付きコメントは IE9 以下のみで有効。</p>\n<h2>メディアクエリを利用して IE10〜IE11 に対応する</h2><pre><code class=\"css\">@media all and (-ms-high-contrast: none) {\n  * {\n    display: none;\n  }\n}</code></pre>\n","excerpt":"条件付きコメント / メディアクエリを利用して IE10〜IE11 に対応する","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"CSS","slug":"CSS","path":"tags/CSS/"},{"name":"HTML","slug":"HTML","path":"tags/HTML/"},{"name":"Internet Explorer","slug":"Internet-Explorer","path":"tags/Internet-Explorer/"}],"prev":{"title":"[Java] Apache POIでエクセルファイル(.xls)を出力する","path":"20121126130658.html"},"next":{"title":"[JavaScript] 数字しか入力できないInputを実装する方法","path":"20121122150141.html"}},{"title":"[JavaScript] 数字しか入力できないInputを実装する方法","path":"20121122150141.html","permalink":"https://b.0218.jp/20121122150141.html","date":"2012-11-22T15:01:41.000Z","updated":"2018-08-25T22:56:43.000Z","thumbnail":"","content":"<div class=\"c-alert\">以前はjQueryで実装していたが、JavaScriptで再実装し記事をリライト</div>\n\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>仕様</h2><ul>\n<li>0〜9 までの数値のみを許容する<br>入力完了後に文字列を削除</li>\n<li>ペースト許容しない</li>\n<li>ドラッグ&amp;ドロップ許容しない</li>\n</ul>\n<h2>デモ</h2><iframe height=\"265\" scrolling=\"no\" title=\"Input that only accepts numbers\" src=\"//codepen.io/hiro0218/embed/ZMQJrV/?height=265&amp;theme-id=light&amp;default-tab=result&amp;embed-version=2\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\">See the Pen <a href='https://codepen.io/hiro0218/pen/ZMQJrV/'>Input that only accepts numbers</a> by hiro (<a href='https://codepen.io/hiro0218'>@hiro0218</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n\n<h2>実装</h2><pre><code class=\"js\">let input = document.querySelector(\".numeric-input\");\n\n// disable event function\nconst disableEvent = (e) =&gt; {\n  e.preventDefault();\n  e.stopPropagation();\n};\n\n// disable paste\ninput.addEventListener(\"paste\", disableEvent);\n\n// disable drag&amp;drop\ninput.addEventListener(\"drop\", disableEvent);\n\n// remove string\ninput.addEventListener(\"keyup\", function (e) {\n  let tmp = [];\n\n  this.value.split(\"\").forEach(function (item, i) {\n    if (item.match(/[0-9]/gi)) {\n      tmp.push(item);\n    }\n  });\n\n  if (tmp.length &gt; 0) {\n    this.value = tmp.join(\"\");\n  } else {\n    this.value = \"\";\n  }\n});</code></pre>\n","excerpt":"仕様 / デモ / 実装","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[CSS] 究極のIE対策","path":"20121124034307.html"},"next":{"title":"[JavaScript] Submit時の確認ダイアログの表示方法","path":"20121122141818.html"}},{"title":"[JavaScript] Submit時の確認ダイアログの表示方法","path":"20121122141818.html","permalink":"https://b.0218.jp/20121122141818.html","date":"2012-11-22T14:18:18.000Z","updated":"2015-10-08T13:18:46.000Z","thumbnail":"","content":"<p>確認ダイアログ<code>confirm</code>を表示させる。</p>\n<div class=\"sandbox\"><input type=\"button\" value=\"送信\" onclick=\"return confirm(&quot;本当に移動しますか&quot;);\" class=\"btn btn-info\"></div>\n\n<div class=\"more js-separate\"></div>\n\n<h2>表示方法</h2>\n状況によって書き方は変わるが、昔からある書き方は以下の様な感じ。\n\n<pre class=\"html\"><code>&lt;input type='submit' value='送信' onclick='return confirm(\"本当に移動しますか\");'/&gt;</code></pre>\n\n<hr>\n\n<p>複雑な条件分岐がある場合、JavaScript の方は別に書いた方が良い。</p>\n<pre class=\"html\"><code>&lt;script type=\"text/javascript\"&gt;\n  function funcHoge() {\n    if (window.confirm('本当に移動しますか')) {\n      // location.href = \"hoge.php\";\n    } else {\n      // hogehoge\n    }\n  }\n&lt;/script&gt;\n\n&lt;input type='submit' value='送信' onclick=\"funcHoge()\"/&gt;</code></pre>\n","excerpt":"表示方法","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"}],"prev":{"title":"[JavaScript] 数字しか入力できないInputを実装する方法","path":"20121122150141.html"},"next":{"title":"[Excel] 関数を使ってメールアドレスのドメインを抽出する方法","path":"20121119234620.html"}},{"title":"[Excel] 関数を使ってメールアドレスのドメインを抽出する方法","path":"20121119234620.html","permalink":"https://b.0218.jp/20121119234620.html","date":"2012-11-19T23:46:20.000Z","updated":"2019-03-13T18:26:55.000Z","thumbnail":"https://i.imgur.com/tiqSeQC.png","content":"<h2>概要</h2><figure>\n<img src=\"https://i.imgur.com/tiqSeQC.png\" alt=\"Excelのスクリーンショット\" title=\"Excelを使ってメールアドレスからドメインを抽出する\">\n</figure>\n\n<p><code>hoge@example.com</code>からドメイン部分（@マーク以下）の<code>example.com</code>を抽出する方法。</p>\n<h2>動作環境</h2><ul>\n<li>Excel</li>\n<li>Google スプレッドシート<br>（Excel の関数が使える）</li>\n</ul>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>関数</h2><p>セル A1 の列に「メールアドレス」の文字列を入力、セル B1 の行に下記の関数を入力する。</p>\n<pre><code>=RIGHT(A1,LEN(A1)-FIND(\"@\",A1))</code></pre>\n<h3>補足</h3><ol>\n<li><code>RIGHT</code>は文字数を指定して、右端から指定した文字数分の文字列を抽出</li>\n<li><code>FIND</code>を使って取得した、@マークより前の文字数を引くことでドメイン名を抽出する</li>\n</ol>\n<pre><code>=RIGHT(文字列,[文字数])</code></pre>\n<pre><code>=FIND(検索文字列,対象,開始位置)</code></pre>\n","excerpt":"概要 / 動作環境 / 関数","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Excel","slug":"Excel","path":"tags/Excel/"},{"name":"Google スプレッドシート","slug":"Google-スプレッドシート","path":"tags/Google-%E3%82%B9%E3%83%97%E3%83%AC%E3%83%83%E3%83%89%E3%82%B7%E3%83%BC%E3%83%88/"}],"prev":{"title":"[JavaScript] Submit時の確認ダイアログの表示方法","path":"20121122141818.html"},"next":{"title":"MySQLSyntaxErrorException のエラー箇所\n","path":"20121119162408.html"}},{"title":"MySQLSyntaxErrorException のエラー箇所\n","path":"20121119162408.html","permalink":"https://b.0218.jp/20121119162408.html","date":"2012-11-19T16:24:08.000Z","updated":"2014-06-20T10:33:06.000Z","thumbnail":"","content":"<p>原因は SQL が間違ってるよ、って事です。</p>\n<pre class=\"prettyprint\">15:40:54,372 ERROR [STDERR] com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ' hoge_name = foo_name  AND hoge_id = foo_id  AND hoge_status ' at line 1</pre>\n\n<p>エラー君がこの辺が怪しいよ、って教えてくれています。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>すぐ分かるような間違いでも、こんな書き方してたりすると気付き難いし<br>知らず知らずの内に間違えてたりします。</p>\n<pre><code class=\"java\">String sql = \"SELECT      *      \" +\n             \"FROM   example     \" +\n             \"WHERE  hoge_id = ? \";</code></pre>\n<p>私の場合、</p>\n<pre><code>SELECT * FROM example&lt;big&gt;WHEN&lt;/big&gt; hoge_name = foo_name  AND hoge_id = foo_id  AND hoge_status ...</code></pre>\n<p>のように<code>WHEN</code>がくっ付いていました。<br>スペースを空けたつもりが…</p>\n<p>防備録というか、戒めとして。</p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"},{"name":"エラー","slug":"エラー","path":"tags/%E3%82%A8%E3%83%A9%E3%83%BC/"}],"prev":{"title":"[Excel] 関数を使ってメールアドレスのドメインを抽出する方法","path":"20121119234620.html"},"next":{"title":"[Java] Servletとの非同期通信(Ajax)で文字化けした時の対処方法","path":"20121116114040.html"}},{"title":"[Java] Servletとの非同期通信(Ajax)で文字化けした時の対処方法","path":"20121116114040.html","permalink":"https://b.0218.jp/20121116114040.html","date":"2012-11-16T11:40:40.000Z","updated":"2014-06-20T10:33:09.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>現象</h2><p><code>㈱</code>が<code>?</code>に文字化けした。　<span class=\"text-muted\">(株)</span></p>\n<pre><code>「ホゲホゲ㈱」⇒「ホゲホゲ?」</code></pre>\n<h2>環境</h2><ul>\n<li>文字コードが<code>Shift-JIS</code></li>\n<li>発生は、IE のみ</li>\n</ul>\n<p>ちなみに文字コードが<code>UTF-8</code>であれば問題なかった。</p>\n<h2>解決方法</h2><p>現象としては、文字コードを<code>Windows-31J</code>にすると、IE だけ文字化けする。<br>調べてみると、IE は<code>Windows-31J</code>でないと駄目みたい(IE9 でもこの仕様っぽい)で、IE に対応するには文字コードの指定を<code>csWindows31J</code>してやる必要がある。</p>\n<p>以下のコードを Servlet に追加。</p>\n<pre><code class=\"java\">response.setContentType(\"text/html; charset=csWindows31J\");</code></pre>\n","excerpt":"現象 / 環境 / 解決方法","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"}],"prev":{"title":"MySQLSyntaxErrorException のエラー箇所\n","path":"20121119162408.html"},"next":{"title":"[MySQL] 連番をINSERTと同時に挿入する方法","path":"20121112133354.html"}},{"title":"[MySQL] 連番をINSERTと同時に挿入する方法","path":"20121112133354.html","permalink":"https://b.0218.jp/20121112133354.html","date":"2012-11-12T13:33:54.000Z","updated":"2014-06-20T10:33:11.000Z","thumbnail":"","content":"<p>連番を挿入する場合、色々な方法があるかと思いますが、<br><code>AUTO_INCREMENT</code> なんかだと欠番が出来ちゃうし…<br>MAX 関数で取得した最大値+1 を INSERT 時に一緒に挿入して…だと<br>同時アクセスされた時にうまく値をもってこれなかったりするし、<br>それに 2 回 SQL を発行しないといけないし…<br>…一発でスマートにやりたいものです。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>それを実現してくれるのが</p>\n<pre class=\"prettyprint\">SELECT COALESCE(MAX(連番を入れるカラム)+1,1)</pre>\n\n<p>です。</p>\n<p>コイツを INSERT 文に入れてやります。</p>\n<pre><code class=\"sql\">INSERT INTO テーブル名( 連番を入れるカラム, EXAMPLE_ID, EXAMPLE_NAME )\nSELECT COALESCE(MAX(連番を入れるカラム)+1,1), ?, ?\nFROM テーブル名;</code></pre>\n<p>これで好きな値と一緒に連番が振れるようになります。</p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[Java] Servletとの非同期通信(Ajax)で文字化けした時の対処方法","path":"20121116114040.html"},"next":{"title":"劇場版 名探偵コナン 歴代主題歌とキャッチコピー一覧","path":"20121104002325.html"}},{"title":"劇場版 名探偵コナン 歴代主題歌とキャッチコピー一覧","path":"20121104002325.html","permalink":"https://b.0218.jp/20121104002325.html","date":"2012-11-04T00:23:25.000Z","updated":"2015-06-28T21:40:41.000Z","thumbnail":"","content":"<p>劇場版 名探偵コナンの歴代主題歌（アーティスト）とキャッチコピーを一覧化しました。<br>犯人も一覧化し直したいのですが、最近の犯人は複数だったり過去に犯罪を犯した人がたくさん出てきたりして難しいので保留中です。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>第 1 作～第 21 作 まで</p>\n<h2>歴代 主題歌一覧</h2>\n<table class=\"table table-hover\">\n<thead>\n<tr>\n  <th></th>\n  <th>題名</th>\n  <th>主題歌</th>\n  <th>アーティスト</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <th>第1作</th>\n  <td>時計じかけの摩天楼 </td>\n  <td>Happy Birthday </td>\n  <td>杏子 </td>\n</tr>\n<tr>\n  <th>第2作</th>\n  <td>14番目の標的 </td>\n  <td>少女の頃に戻ったみたいに </td>\n  <td>ZARD </td>\n</tr>\n<tr>\n  <th>第3作</th>\n  <td>世紀末の魔術師 </td>\n  <td>ONE </td>\n  <td>B'z </td>\n</tr>\n<tr>\n  <th>第4作</th>\n  <td>瞳の中の暗殺者 </td>\n  <td>あなたがいるから </td>\n  <td>小松未歩 </td>\n</tr>\n<tr>\n  <th>第5作</th>\n  <td>天国へのカウントダウン </td>\n  <td>always </td>\n  <td>倉木麻衣 </td>\n</tr>\n<tr>\n  <th>第6作</th>\n  <td>ベイカー街の亡霊 </td>\n  <td>Everlasting </td>\n  <td>B'z </td>\n</tr>\n<tr>\n  <th>第7作</th>\n  <td>迷宮の十字路 </td>\n  <td>Time after time〜花舞う街で〜 </td>\n  <td>倉木麻衣 </td>\n</tr>\n<tr>\n  <th>第8作</th>\n  <td>銀翼の奇術師 </td>\n  <td>Dream×Dream </td>\n  <td>愛内里菜 </td>\n</tr>\n<tr>\n  <th>第9作</th>\n  <td>水平線上の陰謀 </td>\n  <td>夏を待つセイル（帆）のように </td>\n  <td>ZARD </td>\n</tr>\n<tr>\n  <th>第10作</th>\n  <td>探偵たちの鎮魂歌 </td>\n  <td>ゆるぎないものひとつ </td>\n  <td>B'z </td>\n</tr>\n<tr>\n  <th>第11作</th>\n  <td>紺碧の棺 </td>\n  <td>七つの海を渡る風のように </td>\n  <td>愛内里菜&amp;三枝夕夏 </td>\n</tr>\n<tr>\n  <th>第12作</th>\n  <td>戦慄の楽譜 </td>\n  <td>翼を広げて </td>\n  <td>ZARD </td>\n</tr>\n<tr>\n  <th>第13作</th>\n  <td>漆黒の追跡者 </td>\n  <td>PUZZLE </td>\n  <td>倉木麻衣 </td>\n</tr>\n<tr>\n  <th>第14作</th>\n  <td>天空の難破船 </td>\n  <td>Over Drive </td>\n  <td>GARNET CROW </td>\n</tr>\n<tr>\n  <th>第15作</th>\n  <td>沈黙の15分 </td>\n  <td>Don't Wanna Lie </td>\n  <td>B'z </td>\n</tr>\n<tr>\n  <th>第16作</th>\n  <td>11人目のストライカー </td>\n  <td>ハルウタ </td>\n  <td>いきものがかり </td>\n</tr>\n<tr>\n  <th>第17作</th>\n  <td>絶海の探偵</td>\n  <td>ワンモアタイム</td>\n  <td>斉藤和義</td>\n</tr>\n<tr>\n  <th>第18作</th>\n  <td>異次元の狙撃手</td>\n  <td>ラブサーチライト</td>\n  <td>柴咲コウ</td>\n</tr>\n<tr>\n  <th>第19作</th>\n  <td>業火の向日葵</td>\n  <td>オー!リバル</td>\n  <td>ポルノグラフィティ</td>\n</tr>\n<tr>\n  <th>第20作</th>\n  <td>純黒の悪夢</td>\n  <td>世界はあなたの色になる</td>\n  <td>B'z</td>\n</tr>\n<tr>\n  <th>第21作</th>\n  <td>から紅の恋歌</td>\n  <td>渡月橋 〜君 想ふ〜</td>\n  <td>倉木麻衣</td>\n</tr>\n</tbody>\n</table>\n\n<h2>歴代 キャッチコピー 一覧</h2>\n<table class=\"table table-hover\">\n<thead>\n<tr>\n  <th></th>\n  <th>題名</th>\n  <th>キャッチコピー</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n  <th>第1作</th>\n  <td>時計じかけの摩天楼 </td>\n  <td>「真実はいつもひとつ!」\n  「死ぬ時は、一緒だぜ…」 </td>\n</tr>\n<tr>\n  <th>第2作</th>\n  <td>14番目の標的 </td>\n  <td>「次に狙われるのはだれだ!?」 </td>\n</tr>\n<tr>\n  <th>第3作</th>\n  <td>世紀末の魔術師 </td>\n  <td>「世紀末最大の謎を解くのは誰だ!?」 </td>\n</tr>\n<tr>\n  <th>第4作</th>\n  <td>瞳の中の暗殺者 </td>\n  <td>「蘭の瞳に隠された狙撃犯（スナイパー）を探せ!」\n  「Need not to know....」 </td>\n</tr>\n<tr>\n  <th>第5作</th>\n  <td>天国へのカウントダウン </td>\n  <td>「脱出不可能!危険な罠の時間を止めろ!!」 </td>\n</tr>\n<tr>\n  <th>第6作</th>\n  <td>ベイカー街の亡霊 </td>\n  <td>「待ってろ…絶対、また逢えっから…」 </td>\n</tr>\n<tr>\n  <th>第7作</th>\n  <td>迷宮の十字路 </td>\n  <td>「私たち、やっと逢えたんだね…」\n  「工藤新一、古都の謎に挑む!?」 </td>\n</tr>\n<tr>\n  <th>第8作</th>\n  <td>銀翼の奇術師 </td>\n  <td>「運命だったのさ、俺たちの出逢いはな…」\n  「これが、運命なのか…」 </td>\n</tr>\n<tr>\n  <th>第9作</th>\n  <td>水平線上の陰謀 </td>\n  <td>「忘れはしねぇよ、オマエのことだけは…」\n  「オマエを、絶対に守る」 </td>\n</tr>\n<tr>\n  <th>第10作</th>\n  <td>探偵たちの鎮魂歌 </td>\n  <td>「探偵たちよ、安らかに眠れ」\n  「さよなら、コナン」 </td>\n</tr>\n<tr>\n  <th>第11作</th>\n  <td>紺碧の棺 </td>\n  <td>「そこに浮かぶのは、誰だ…」\n  「コナン君、どこにいるの?」 </td>\n</tr>\n<tr>\n  <th>第12作</th>\n  <td>戦慄の楽譜 </td>\n  <td>「この歌声を、消させはしない。」\n  「この指が奏でるのは、真実を導く旋律（しらべ）…」 </td>\n</tr>\n<tr>\n  <th>第13作</th>\n  <td>漆黒の追跡者 </td>\n  <td>「逃げ切れねぇ、か…」\n  「江戸川コナン、最も危険な事件」 </td>\n</tr>\n<tr>\n  <th>第14作</th>\n  <td>天空の難破船 </td>\n  <td>「捕まった……!?」\n  「怪盗VS名探偵－華麗なる冒険の空」 </td>\n</tr>\n<tr>\n  <th>第15作</th>\n  <td>沈黙の15分 </td>\n  <td>「生き延びるんだ、絶対に…」\n  「ラスト15分、予測不能!」\n  「生きてたら、また会えるぜ」 </td>\n</tr>\n<tr>\n  <th>第16作</th>\n  <td>11人目のストライカー </td>\n  <td>「オマエら、ちゃんとついて来んだぞ!」\n  「フィールド震撼!その謎にニッポンが熱くなる!!」 </td>\n</tr>\n<tr>\n  <th>第17作</th>\n  <td>絶海の探偵</td>\n  <td>「それ、マズくね!?」\n  「限界突破! 究極のスパイミステリー!」\n  「危険すぎる緊急ミッション!標的(ターゲット)は日本全土!」</td>\n</tr>\n<tr>\n  <th>第18作</th>\n  <td>異次元の狙撃手</td>\n  <td>「奴…だったのか!?」\n  「工藤新一、遊びは終わりだ!」<small>(予告編第1弾)</small>\n  「遊びは終わりだ、名探偵」<small>(予告編第2弾)</small>\n  「夜空を貫く正義の弾丸! その眼に映る禁断の謎（パンドラ・ミステリー）!!」\n  「ターゲットは誰だ!?暴かれる超危険な真実!!」\n  「禁断の真実への扉が、いま、音を立てて開き始める…!」</td>\n</tr>\n<tr>\n  <th>第19作</th>\n  <td>業火の向日葵</td>\n  <td>「華麗なる芸術的（アート）ミステリー!!」\n  「お前に解けるか……この芸術が!!」</td>\n</tr>\n<tr>\n  <th>第20作</th>\n  <td>純黒の悪夢</td>\n  <td>「黒に染まれ」\n  「ダブルフェイスはここまでだ」\n  「暴かれるダブルフェイス」\n  「暴かれたダブルフェイス！宿命が導く、頂上決戦（バトルロイヤル）ミステリー!!」</td>\n</tr>\n<tr>\n  <th>第21作</th>\n  <td>から紅の恋歌</td>\n  <td>「待っとれ 死んでも守ったる───」\n  「ふたひらの運命を引き裂く哀しき歌―紅に染まる巡恋（チェインドラブ）ミステリー」</td>\n</tr>\n</tbody>\n</table>\n","excerpt":"歴代 主題歌一覧 / 歴代 キャッチコピー 一覧","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"},{"name":"劇場版","slug":"劇場版","path":"tags/%E5%8A%87%E5%A0%B4%E7%89%88/"}],"prev":{"title":"[MySQL] 連番をINSERTと同時に挿入する方法","path":"20121112133354.html"},"next":{"title":"[MySQL] INSERTとUPDATEの判定 …?","path":"20121103204848.html"}},{"title":"[MySQL] INSERTとUPDATEの判定 …?","path":"20121103204848.html","permalink":"https://b.0218.jp/20121103204848.html","date":"2012-11-03T20:48:48.000Z","updated":"2014-06-20T10:33:15.000Z","thumbnail":"","content":"<p>INSERT と UPDATE の判定するロジックを書いてもいいんですが<br>MySQL にはもっと便利なものがあります。<strong>REPLACE 文</strong>です。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>REPLACE は、<br>挿入先にデータが存在しない場合は <code>INSERT</code> 、<br>データが存在する場合は <code>UPDATE</code> を実行します。</p>\n<p>色々と書き方はありますが、INSERT 文は</p>\n<pre><code class=\"sql\">INSERT INTO テーブル名 (フィールド名 , フィールド名) VALUES(値 , 値);</code></pre>\n<p>こんな感じ。</p>\n<p>REPLACE 文も同じように</p>\n<pre><code class=\"sql\">REPLACE INTO テーブル名 (フィールド名 , フィールド名) VALUES(値 , 値);</code></pre>\n<p>こんな感じで書けます。</p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"劇場版 名探偵コナン 歴代主題歌とキャッチコピー一覧","path":"20121104002325.html"},"next":{"title":"[MySQL] 既存のテーブルからテーブル定義を取得する","path":"20121014022732.html"}},{"title":"[MySQL] 既存のテーブルからテーブル定義を取得する","path":"20121014022732.html","permalink":"https://b.0218.jp/20121014022732.html","date":"2012-10-14T02:27:32.000Z","updated":"2014-06-20T10:33:16.000Z","thumbnail":"","content":"<p>サーバの調子が悪いのでローカルでちゃっちゃと同じテーブル作って INSERT しよう思ったら<br>検証用で作ったからテーブル定義書が無いとか何とか…</p>\n<p>テーブルの詳細情報みながら CREATE TABLE 文作る…?<br>これはめんどう。そんな時に便利な SQL がちゃんとあるようで。</p>\n<pre><code class=\"sql\">SHOW CREATE TABLE テーブル名</code></pre>\n<pre><code class=\"sql\">CREATE TABLE `テーブル名` (\n  `カラム1` datetime NOT NULL,\n  `カラム2` varchar(15) NOT NULL,\n  `カラム3` varchar(100) NOT NULL,\n  `カラム4` varchar(5) NOT NULL,\n  `カラム5` varchar(5) NOT NULL,\n  PRIMARY KEY  (`カラム3`,`カラム4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;</code></pre>\n<p>こんな感じで CREATE 文が結果として返ってきます。</p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[MySQL] INSERTとUPDATEの判定 …?","path":"20121103204848.html"},"next":{"title":"[MySQL] テーブル名が小文字になってしまうので大文字にしたい","path":"20121014022533.html"}},{"title":"[MySQL] テーブル名が小文字になってしまうので大文字にしたい","path":"20121014022533.html","permalink":"https://b.0218.jp/20121014022533.html","date":"2012-10-14T02:25:33.000Z","updated":"2014-06-20T10:33:18.000Z","thumbnail":"","content":"<p>Windows 機に MySQL(XAMPP 付属も)を入れて、いざデータベース作成すると<br>何故かデータベース名が小文字になってる事象が発生しました。</p>\n<p><code>my.ini</code>の<b>[mysqld]</b>に</p>\n<pre><code>lower_case_table_names=0</code></pre>\n<p>を追加すれば良いとのこと。</p>\n<p>あとは再起動。</p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[MySQL] 既存のテーブルからテーブル定義を取得する","path":"20121014022732.html"},"next":{"title":"[MySQL] CREATE DATABASE で文字コードを指定する","path":"20121014022405.html"}},{"title":"[MySQL] CREATE DATABASE で文字コードを指定する","path":"20121014022405.html","permalink":"https://b.0218.jp/20121014022405.html","date":"2012-10-14T02:24:05.000Z","updated":"2014-06-20T10:33:20.000Z","thumbnail":"","content":"<p>おざなりにデータベース作ってると文字コードがアレな感じで内容が???????とかになっちゃって<br>泡吹きながら白目剥いちゃう事態に陥っちゃうので、データベースを作る時はちゃんと文字コードを指定します。</p>\n<pre><code class=\"sql\">CREATE DATABASE データベース名 DEFAULT CHARACTER SET utf8;</code></pre>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[MySQL] テーブル名が小文字になってしまうので大文字にしたい","path":"20121014022533.html"},"next":{"title":"x86 x64 の違いとその理由","path":"20121006155011.html"}},{"title":"x86 x64 の違いとその理由","path":"20121006155011.html","permalink":"https://b.0218.jp/20121006155011.html","date":"2012-10-06T15:50:11.000Z","updated":"2014-06-20T10:33:21.000Z","thumbnail":"","content":"<p>Windows の更新プログラムをダウンロードするときに<br>「x86 パッケージ」「x64 パッケージ」なんて用語を目にすることがあります。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>違い</h2>\nこれらはそれぞれ\n<ul>\n  <li>「x86 パッケージ」: 32 bit版用</li>\n  <li>「x64 パッケージ」: 64 bit版用</li>\n</ul>\nという事を示しています。\n\n<h2>理由</h2>\nそれでは、それぞれどういう理由で x86・x64 と付けられているのでしょうか。\n64bitがx64であれば、32bitであるx86はx32と表記されるのではないかと考えてしまいがちです。\n\n<p>それにはきちんとした理由がありまして、Yahoo!知恵袋によると…</p>\n<blockquote><b>ベストアンサー</b>\n「x86」の「86」は、現在の主流CPUの祖先に当たるインテル16bit CPU「8086」の下2桁「86」です。\n「8086」にはじまるCPUのアーキテクチャ（基本設計）を「x86アーキテクチャ」といいます。\nWindowsは、x86アーキテクチャのCPUの発展（高性能化）とともに発展してきました。\n\n<p>「x64」は、本来は「x86-64」と表記されるべきなのですが、「x64」と略記されることが多いです。<br>「x86-64」は、「x86 アーキテクチャ」を 64bit に拡張したものです。</p>\n<div align=\"right\">引用元:『<a href=\"http://goo.gl/zd2u0p\" target=\"_blank\">x64,x86の違いは知っているのですが... - Yahoo!知恵袋</a>』より</div></blockquote>\nのようなのです。\n\n<p>理由は CPU の歴史によるものなのですね。</p>\n","excerpt":"違い / 理由","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[],"prev":{"title":"[MySQL] CREATE DATABASE で文字コードを指定する","path":"20121014022405.html"},"next":{"title":"[Windows7] ダイヤルアップやVPNの設定の削除方法","path":"20121002232459.html"}},{"title":"[Windows7] ダイヤルアップやVPNの設定の削除方法","path":"20121002232459.html","permalink":"https://b.0218.jp/20121002232459.html","date":"2012-10-02T23:24:59.000Z","updated":"2014-10-20T00:43:35.000Z","thumbnail":"","content":"<p>[ネットワークと共有センター](コントロール パネルすべてのコントロール パネル項目ネットワークと共有センター)を開き、<br>画面左の[アダプター設定の変更](コントロール パネルネットワークとインターネットネットワーク接続)を開く。<br>⇒ そこで確認や削除が可能</p>\n","excerpt":"","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Windows 7","slug":"Windows-7","path":"tags/Windows-7/"}],"prev":{"title":"x86 x64 の違いとその理由","path":"20121006155011.html"},"next":{"title":"[XAMPP] MySQLへコマンドプロンプトからログインする方法","path":"20121002212622.html"}},{"title":"[XAMPP] MySQLへコマンドプロンプトからログインする方法","path":"20121002212622.html","permalink":"https://b.0218.jp/20121002212622.html","date":"2012-10-02T21:26:22.000Z","updated":"2016-11-09T13:35:50.000Z","thumbnail":"","content":"<div class=\"more js-separate\"></div>\n\n\n<h2>環境</h2><ul>\n<li>Windows 7</li>\n<li>XAMPP をインストール</li>\n</ul>\n<h2>問題</h2><p>手癖でコマンドプロンプトから MySQL へログイン。</p>\n<pre><code>C:\\Users\\hogehoge &gt;mysql -u root -p\n'mysql' は、内部コマンドまたは外部コマンド、\n操作可能なプログラムまたはバッチ ファイルとして認識されていません。</code></pre>\n<h2>解決</h2><p>カレンドディレクトリに MySQL がいないので、XAMPP をインストールした場所へ移動する。(MySQL がある場所)</p>\n<pre><code>C:\\Users\\hogehoge &gt;cd C:\\xampp\\mysql\\bin\nC:\\xampp\\mysql\\bin &gt;mysql -u root -p</code></pre>\n","excerpt":"環境 / 問題 / 解決","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[Windows7] ダイヤルアップやVPNの設定の削除方法","path":"20121002232459.html"},"next":{"title":"[WordPress] プラグインを手動で無効にする方法","path":"20120924105502.html"}},{"title":"[WordPress] プラグインを手動で無効にする方法","path":"20120924105502.html","permalink":"https://b.0218.jp/20120924105502.html","date":"2012-09-24T10:55:02.000Z","updated":"2014-06-20T10:33:29.000Z","thumbnail":"","content":"<p>色々とプラグインを追加していると、何かの拍子に管理画面やトップページが真っ白画面になってしまう事があります。<br>でも原因のプラグインを無効化しようにも肝心の管理画面を操作できない…と言った場合は、直接 DB を弄るしかありません。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>以下の SQL を使用します。</p>\n<pre><code class=\"sql\">SELECT * FROM `wp_options` WHERE `option_name` = 'active_plugins';</code></pre>\n<p>表示されたレコードの<code>option_value</code>の値を編集します。</p>\n","excerpt":"","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[XAMPP] MySQLへコマンドプロンプトからログインする方法","path":"20121002212622.html"},"next":{"title":"[Wacom] ペンタブが認識しない時の対処方法","path":"20120917193032.html"}},{"title":"[Wacom] ペンタブが認識しない時の対処方法","path":"20120917193032.html","permalink":"https://b.0218.jp/20120917193032.html","date":"2012-09-17T19:30:32.000Z","updated":"2016-02-25T19:36:24.000Z","thumbnail":"https://images-na.ssl-images-amazon.com/images/I/51PmLW9jRDL._SL1000_.jpg","content":"<p>原因はわからないが、急にペンタブが使えなくなることがある。<br>状態はカーソルが動かないだとか筆圧だけが反応しないだとか色々。</p>\n<p>手っ取り早い解決方法としては、OS の再起動で解決する。(しない場合もあるが、次の起動時には直っている)<br>ただ、作業途中に再起動をするとなるとかなりの手間がかかる。</p>\n<p>そこで、再起動をせずに、このペンタブを認識しない事象を解決する方法をメモしておく。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>症状</h2>\n<ul>\n  <li>「タブレットドライバは動作していません。」が表示された。</li>\n  <li>カーソルは動くが筆圧が感知しない。</li>\n</ul>\n\n<p>状況に応じて、以下も確認しておく。</p>\n<ul>\n  <li><a href=\"https://b.0218.jp/20160125102338.html\">[Wacom] 「タブレットドライバが見つかりません」で筆圧が効かない時の対処方法</a></li>\n  <li><a href=\"https://b.0218.jp/20160225125546.html\">[Wacom] ペンタブが動作しない時、事前に確認しておくこと (Windows)</a></li>\n</ul>\n\n<h2>環境</h2>\n実際に確認した環境は以下。\n<ul>\n <li>Windows Vista</li>\n <li>Windows 7</li>\n <li>Windows 8.1</li>\n</ul>\nWindows間であれば違いはないと思う。\n\n<p>確認したのは普通のペンタブ。</p>\n<h2>解決方法</h2>\n認識されないのはサービスが上手く動いていないからと推測。Wacomのサービスを再起動することで、OS自体を再起動せずに解決させる手段をとる。\n\n<p class=\"c-alert\">以下の「サービスを再起動させる」方法を簡単に行うソフトをリリースしました。\nよく分からない場合は、ワンクリックで操作が済むので、<a href=\"https://b.0218.jp/20151024010830.html\">こちら</a>をお使いください。</p>\n\n<p>閑話休題</p>\n<h3>事前にやること</h3>\n<h4>ペイントソフトを閉じる</h4>\n最終的にペイントソフトはペンタブの再認識の為に起動し直す必要がある。予め開いているペイントソフトは閉じた方が良い。\n\n<h4>ペンタブを取り外す</h4>\nUSBポートに繋げたペンタブを取り外す。\n取り外さなくとも成功する場合もあるが、懸念材料は予め取り除いておく。\n\n<h4>プロセスを終了させる</h4>\nタスクマネージャから以下のプロセスを終了させる。(タスクの終了)\n<ul>\n<li>Wacom_Tablet.exe\n</li><li>Wacom_TabletUser.exe\n</li><li>Wacom_Host.exe\n</li></ul>\n上記があったり無かったりするかもしれないが、先頭に「Wacom」と名の付くものは終了させる。\n\n<p>プロセスの終了に失敗する場合は、管理者権限でタスクマネージャーを開くと良い。</p>\n<h3>サービスの再起動</h3>\nペンタブのサービスを再起動する。\n\n<p>まずは、「サービス」を管理するウィンドウを開く。<br>(コントロールパネル -&gt; 管理ツール -&gt; <strong>サービス</strong> の順番で起動)<br>ちなみにタスクマネージャーの[サービス]タブの右下のボタンからでも開くことができる。</p>\n<p>以下のいずれかのサービスがあると思う。</p>\n<ol>\n  <li>TabletServiceWacom (古いタブレット?)</li>\n  <li>Wacom Professional Service</li>\n</ol>\n今どきなら「Wacom Professional Service」だと思う。それを選択して「サービスの再起動」を実行する。(上記になくても「Wacom」という名称が付いているはず)\n\n<p>サービスの再起動が終わったら、ペイントソフトを起動してペンタブが効いているか確認を行う。</p>\n<h3>コマンドプロンプトから再起動させる方法</h3>\n管理者権限でコマンドプロンプトを起動する。\nスタート -&gt; すべてのプログラム -&gt; アクセサリ -&gt; <strong>コマンド プロンプト</strong>の手順で起動 (右クリックで「管理者として実行」)\n\n<p>コマンドプロンプトで以下を順番に入力する</p>\n<ol>\n  <li>net stop \"Wacom Professional Service\"</li>\n  <li>net start \"Wacom Professional Service\"</li>\n</ol>\n以下は実行結果が表示される。\n<pre class=\"cmd\">C:\\windows\\system32&gt;net stop \"Wacom Professional Service\"\n\n<p>Wacom Professional Service サービスは正常に停止されました。</p>\n<p>C:\\windows\\system32&gt;net start “Wacom Professional Service”<br>Wacom Professional Service サービスを開始します.<br>Wacom Professional Service サービスは正常に開始されました。</p>\n<p>C:\\windows\\system32&gt;</p></pre><p></p>\n<h3>ドライバーの問題</h3>\n古いペンタブから新調して、新たに使い始めた時に古いペンタブ時代のドライバー(非互換)が残っていると、うまく認識されない場合も考えられる。\nその場合は、Wacomのドライバーを削除して入れなおした方が良いと思う。\n\n<hr>\n\n<div class=\"amazlet-box\" style=\"margin-bottom: 0px;\">\n<div class=\"amazlet-image\" style=\"float: left; margin: 0px 12px 1px 0px;\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B00RZ6JEAE/chafuso-22/ref=nosim/\" target=\"_blank\" name=\"amazletlink\"><img style=\"border: none;\" src=\"https://images-na.ssl-images-amazon.com/images/I/51PmLW9jRDL._SL1000_.jpg\" alt=\"ワコム ペンタブレット Intuos Comic マンガ・イラスト制作用モデル Sサイズ 【新型番】2015年1月モデル CTH-480/S3\"></a></div>\n<div class=\"amazlet-info\" style=\"line-height: 120%; margin-bottom: 10px;\">\n<div class=\"amazlet-name\" style=\"margin-bottom: 10px; line-height: 120%;\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B00RZ6JEAE/chafuso-22/ref=nosim/\" target=\"_blank\" name=\"amazletlink\">ワコム ペンタブレット Intuos Comic マンガ・イラスト制作用モデル Sサイズ 【新型番】2015年1月モデル CTH-480/S3</a>\n<div class=\"amazlet-powered-date\" style=\"font-size: 80%; margin-top: 5px; line-height: 120%;\">posted with <a title=\"amazlet\" href=\"http://www.amazlet.com/\" target=\"_blank\">amazlet</a> at 16.01.11</div>\n</div>\n<div class=\"amazlet-detail\">ワコム (2015-01-23)\n売り上げランキング: 160</div>\n<div class=\"amazlet-sub-info\" style=\"float: left;\">\n<div class=\"amazlet-link\" style=\"margin-top: 5px;\"><a href=\"http://www.amazon.co.jp/exec/obidos/ASIN/B00RZ6JEAE/chafuso-22/ref=nosim/\" target=\"_blank\" name=\"amazletlink\">Amazon.co.jpで詳細を見る</a></div>\n</div>\n</div>\n<div class=\"amazlet-footer\" style=\"clear: left;\"></div>\n</div>\n","excerpt":"症状 / 環境 / 解決方法","categories":[{"name":"ガジェット","slug":"ガジェット","path":"categories/%E3%82%AC%E3%82%B8%E3%82%A7%E3%83%83%E3%83%88/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"},{"name":"Wacom","slug":"Wacom","path":"tags/Wacom/"},{"name":"ペンタブ","slug":"ペンタブ","path":"tags/%E3%83%9A%E3%83%B3%E3%82%BF%E3%83%96/"}],"prev":{"title":"[WordPress] プラグインを手動で無効にする方法","path":"20120924105502.html"},"next":{"title":"[WordPress] 特定の文字を置換する方法","path":"20120917024422.html"}},{"title":"[WordPress] 特定の文字を置換する方法","path":"20120917024422.html","permalink":"https://b.0218.jp/20120917024422.html","date":"2012-09-17T02:44:22.000Z","updated":"2014-06-20T10:33:33.000Z","thumbnail":"","content":"<p>例えば、WordPress で記事内で使い続けていたタグを後から変更したい時って困りますよね。<br>記事数が数えるぐらいなら 1 つずつ書き換えても良いですが、それが膨大な量となると難しいです。<br>SQL で値を変更したいと思います。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>記事内の本文(内の文字)を置換する</h2>\n実行するSQLは以下です。\n<pre class=\"sql\"><code>\nUPDATE\n    wp_posts\nSET\n    post_content = REPLACE (post_content, '置換前', '置換後');\n</code></pre>\n文字列を置換する「REPLACE」を使用します。\n<pre class=\"sql\"><code>REPLACE(列名,'置換前','置換後')</code></pre>\n\n<p>WordPress の記事の内容を変更する場合は、<br>テーブルは<code>wp_posts</code>で、カラムは<code>post_content</code>を指定してあげます。<br>条件は適当に指定してあげてください。</p>\n<hr>\n<h2>記事のタイトルを置換する方法</h2>\n追記です。\n<pre class=\"sql\"><code>\nUPDATE\n    wp_posts\nSET\n    post_title = replace (post_title, '置換前', '置換後')\n</code></pre>\n","excerpt":"記事内の本文(内の文字)を置換する / 記事のタイトルを置換する方法","categories":[{"name":"WordPress","slug":"WordPress","path":"categories/WordPress/"}],"tags":[{"name":"WordPress","slug":"WordPress","path":"tags/WordPress/"},{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[Wacom] ペンタブが認識しない時の対処方法","path":"20120917193032.html"},"next":{"title":"[Firefox] プロファイルの変更方法","path":"20120917020953.html"}},{"title":"[Firefox] プロファイルの変更方法","path":"20120917020953.html","permalink":"https://b.0218.jp/20120917020953.html","date":"2012-09-17T02:09:53.000Z","updated":"2015-02-28T23:38:59.000Z","thumbnail":"","content":"<p>まず、プロファイルの場所ですが、<code>%APPDATA%MozillaFirefoxProfiles</code>で探せばいけますが、一番簡単な方法は、<code>メニューバー</code>の<code>ヘルプ</code>の<code>トラブルシューティング情報</code>をクリックするとトラブルシューティング情報タブが開きます。そこの「(プロファイル)フォルダを開く」ボタンを押下するとプロファイルフォルダが開きます。</p>\n<p>といっても、これでは簡単にプロファイルをどうこうできないので「プロファイルマネージャー」を起動します。</p>\n<ol>\n<li>Firefoxを終了しておきます</li>\n<li>「ファイル名を指定して実行」に<code>firefox.exe -p</code>を入力します</li>\n</ol>\nすると、プロファイルマネージャーが実行されます。\n\n<p>プロファイルマネージャーでは</p>\n<ul>\n<li>新しいプロファイルを作成</li>\n<li>プロファイル名を変更</li>\n<li>プロファイルを削除</li>\n</ul>\nが選択できます。\n\n<p>またオプションとして以下が選択できます。</p>\n<ul>\n<li>オフライン作業</li>\n<li>今後このプロファイルを使用する</li>\n</ul>\n","excerpt":"","categories":[{"name":"Browser","slug":"Browser","path":"categories/Browser/"}],"tags":[{"name":"Firefox","slug":"Firefox","path":"tags/Firefox/"}],"prev":{"title":"[WordPress] 特定の文字を置換する方法","path":"20120917024422.html"},"next":{"title":"[Java] jspの配列をJavaScriptへ","path":"20120524163857.html"}},{"title":"[Java] jspの配列をJavaScriptへ","path":"20120524163857.html","permalink":"https://b.0218.jp/20120524163857.html","date":"2012-05-24T16:38:57.000Z","updated":"2014-06-20T10:33:37.000Z","thumbnail":"","content":"<p>Servlet から持ってきた配列を javascript の配列に流す</p>\n<pre><code class=\"jsp\">&lt;% String[] array = (String[])request.getAttribute(\"array\"); %&gt;</code></pre>\n<pre><code class=\"js\">var jsArray = [&lt;% for (int i = 0; i &lt; array.length; i++ ) {\n                if ( i != 0 ) {\n                    out.print(\",\");\n                }\n                    out.print(\"\"\" + array[i] + \"\"\");\n                }\n              %&gt;];</code></pre>\n<p>以上。</p>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"}],"prev":{"title":"[Firefox] プロファイルの変更方法","path":"20120917020953.html"},"next":{"title":"[JavaScript] 先頭の0を削除する方法(ゼロサプレス)","path":"20120517140219.html"}},{"title":"[JavaScript] 先頭の0を削除する方法(ゼロサプレス)","path":"20120517140219.html","permalink":"https://b.0218.jp/20120517140219.html","date":"2012-05-17T14:02:19.000Z","updated":"2016-01-12T16:05:09.000Z","thumbnail":"","content":"<p>先頭の 0 だけ削除したいとき(0 を取り除く方法)。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>コード</h2>\n<pre class=\"javascript\"><code>var str = '00000010';\ndocument.write( parseInt(str, 10) );\n// ⇒10</code></pre>\n\n<p>冒頭の<code>'00000010'</code>は<b>文字列型</b>だが、JavaScript の場合は<code>parseInt()</code>に渡すと出来るだけ数字を維持したまま<b>数値型</b>に変換してくれる。<br>単純に<code>parseInt()</code>に渡すだけで 0 を取り除いた数値にしてくれる。</p>\n<p>もっと複雑な文字列の場合は文字列操作をする必要があるが、このような単純な数値の場合は<code>parseInt()</code>で事足りる。</p>\n","excerpt":"コード","categories":[{"name":"JavaScript","slug":"JavaScript","path":"categories/JavaScript/"}],"tags":[],"prev":{"title":"[Java] jspの配列をJavaScriptへ","path":"20120524163857.html"},"next":{"title":"[Excel] シートを並び替えるマクロ","path":"20120516130045.html"}},{"title":"[Excel] シートを並び替えるマクロ","path":"20120516130045.html","permalink":"https://b.0218.jp/20120516130045.html","date":"2012-05-16T13:00:45.000Z","updated":"2014-06-20T10:33:40.000Z","thumbnail":"","content":"<h2>コード</h2><pre><code>Sub SortSheets()\n\n  Dim intLoopA As Integer\n  Dim intLoopB As Integer\n\n  For intLoopA = 1 To Sheets.Count\n    For intLoopB = 1 To Sheets.Count - 1\n      If Sheets(intLoopB).Name &gt; Sheets(intLoopB + 1).Name Then\n        Sheets(intLoopB).Move after:=Sheets(intLoopB + 1)\n      End If\n    Next intLoopB\n  Next intLoopA\n\nEnd Sub</code></pre>\n","excerpt":"コード","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"Excel","slug":"Excel","path":"tags/Excel/"}],"prev":{"title":"[JavaScript] 先頭の0を削除する方法(ゼロサプレス)","path":"20120517140219.html"},"next":{"title":"[MySQL] 同じカラム合計値を複数条件で別々に","path":"20120512030810.html"}},{"title":"[MySQL] 同じカラム合計値を複数条件で別々に","path":"20120512030810.html","permalink":"https://b.0218.jp/20120512030810.html","date":"2012-05-12T03:08:10.000Z","updated":"2014-06-20T10:33:42.000Z","thumbnail":"","content":"<pre><code class=\"sql\">SELECT SUM(CASE WHEN Jouhou = 'A' THEN 1 ELSE 0 END)as 'A',\n       SUM(CASE WHEN Jouhou = 'B' THEN 1 ELSE 0 END)as 'B',\n       SUM(CASE WHEN Jouhou IS NULL THEN 1 ELSE 0 END)as 'null'\nFROM   DBTable</code></pre>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"MySQL","slug":"MySQL","path":"tags/MySQL/"}],"prev":{"title":"[Excel] シートを並び替えるマクロ","path":"20120516130045.html"},"next":{"title":"[Java] パーセント(小数点以下表示)","path":"20120512025624.html"}},{"title":"[Java] パーセント(小数点以下表示)","path":"20120512025624.html","permalink":"https://b.0218.jp/20120512025624.html","date":"2012-05-12T02:56:24.000Z","updated":"2014-06-20T10:33:43.000Z","thumbnail":"","content":"<p>Java でのパーセント表示です。<br>メモ書きで何故 String なのかは忘れた。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<pre><code class=\"java\">int cntA = 63;\nint sucA = 2;\nString Prcnt = String.format(\"%.2f\",( (double)sucA / (double)cntA * 100) );\n// 0.0317460317\n// ⇒ 3.17%</code></pre>\n","excerpt":"","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"Java","slug":"Java","path":"tags/Java/"}],"prev":{"title":"[MySQL] 同じカラム合計値を複数条件で別々に","path":"20120512030810.html"},"next":{"title":"[NTT] リモートサポートサービス解約方法","path":"20120326011652.html"}},{"title":"[NTT] リモートサポートサービス解約方法","path":"20120326011652.html","permalink":"https://b.0218.jp/20120326011652.html","date":"2012-03-26T01:16:52.000Z","updated":"2014-06-20T10:33:45.000Z","thumbnail":"","content":"<p>フレッツのリモートサポートについて、知人の契約を解約する機会があったので調べてみた。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>重要事項確認書に以下の文があった。</p>\n<blockquote>ウィルスクリア、リモートサポートは2か月後無料後、自動更新となりますので、設定終了後ご不用であれば、0120-116-116 もしくは<strong>Web上にて</strong>解約してください。</blockquote>\n<strong>Web上にて</strong>と書いてあったので、Web上で解約できるものだと思っていたのが、解約した人のブログの記事を見る限り電話で解約した模様。\n\n<p>フレッツの「よくあるご質問」を見ると、<br>( <a href=\"http://flets.com/faq/detail/661.html\">http://flets.com/faq/detail/661.html</a> )</p>\n<blockquote>Q：サービスを解約する場合にはどうしたらよいのか教えてください。\nA：専用コールセンタまたは0120-116116に対して、その旨お伝えください。\n<small>※お客さまとの電話応対時においては、ご注文・ご意見・ご要望・お問い合わせ内容などの正確な把握、今後のサービス向上のために、通話を録音させていただく場合があります。</small></blockquote>\n解約は 0120-116-116 に電話しよう。\n","excerpt":"","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"トラブル","slug":"トラブル","path":"tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB/"}],"prev":{"title":"[Java] パーセント(小数点以下表示)","path":"20120512025624.html"},"next":{"title":"[HTML] title属性内などで改行する方法","path":"20100501032903.html"}},{"title":"[HTML] title属性内などで改行する方法","path":"20100501032903.html","permalink":"https://b.0218.jp/20100501032903.html","date":"2010-05-01T03:29:03.000Z","updated":"2010-05-01T03:29:03.000Z","thumbnail":"","content":"<p>以前使っていた PC では”改行”に登録してたのですが(以下略)<br>これまた覚え書きで…。</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p>title 属性内で改行しようと、<code><br></code>と html タグをそのまま打ち込んでも改行されずに<code><br></code>と表示されてしまいます。</p>\n<h2>コード</h2>\nタグ内で改行をしたい場合は、以下の<strong>改行コード</strong>を使用します。\n<pre><code>\r\n</code></pre>\n\n<h2>サンプル</h2>\nマウスオーバーしてtitle属性を表示してみてください。\n<img alt=\"ケロロ軍曹より\n「ケロロ軍曹」\" title=\"ケロロ軍曹より\n「ケロロ軍曹」\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABZCAMAAACT3iMQAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFNUExURf///////vv7+khcJUpeJwAAAJBxFI3APdzMZsLCwv3+/Y7CPUtfJxQWCgoNBhkgDS45F/j39kBTIMu6WuDQZ9na2DxLHzNBGebm5Iu+PCYyE0VWJKeopcbGxSEqEOvr6r6+vXKbMs3NzNfHYzZHG3Bybh8fHeDg3m6WL+/w7tPT0i0sKrW1tH+tOE1mJYW2OWiOLVFuI6abTIm7O/P08lk/FDY3Ma2trGKELWZqXVRUUMGzWHijM7KlUl59KkJCPiohBomPc1h0Knx+dqChn5ubmkE6HpCHQ19eXoJ6O5eWkoyMh3VvO254VUpKSWxTEtDAXlBgN7utVnuKYJCQjqyTNISEg7K0p19oTbylQysoGn9mGEMvC5p9H1JRJkxUO2R7QWtiM11cKsTHuI+jb626l5XJSrYuLeTi06LWX8vUr6Kig7LleM8zM420UuAAEl0AAAmeSURBVFjD7ZlXe9rKFoaFJMAIBKIKhGgC0XsHU4zpzTa4xnZckuy0vff5/5dnRoCRsMA4ydV5zrrI44zll29Wm6UBQf5v/6OmUCgIYH+YShCoEVg+b0TRP8Um8h5rVHPNXsfb/Pj653ePJ/8H0EZrhew9TOrzM7/fXK8Pn2/J6XeP8fegqKdEzS0HYrP4+7dB1oP+xv490WJ/DTWb/Uuy+SGmifzy/kPNnn8t098r1M9W/znrte2/JthTus2K9n82L/z7rfeyABRz+V9wgL0ilnpw0L//9u+3gmjJ0v/b8+6cCD1OpKGqP9x/KxTq4qXDvv2dGWCtZqVUoG54erBc858dzueHh4fDyru4KNczH7w2APWb5/N5vT+0uQ1MMpNpvIeLumSpIMXm2QnlZgLJ43AuV0s8PSXKlb3jRnDFQznoYX1I0Wm1VquG5iv+lUc7TzS7b55Zi3U5aPYTk8ktkMAcpqjwbDXm2i8dPNXsK6b/sP6JSb8wgSVuwKMRAvGcxKL7cNHxs+W10gc6/PXrVxE23ALe6npDSKjZtO7RsaO3Z5uByn6iwlrHj3/+EclNA6wxqKxaEe528GY6KIzVvhR6lh0yDcj7+uOH2AlT4C69Uln1IFeG1ltchZeSUud9KrMU6RBR1akZgeRJpVJ5hVqDw9YbDTjfzG44NZBK+IDVEmqJaU0RhCgCrJ5DqpPh9e6wScXWJ3Qm4TuvVCrT83OfTyI38xlBeIBVDtD4rXmyM82Iwd06DfxZZzLnO+eti+bLT32pjVSwBgGWDOVv++ZJaBc29nGdAH06rE7z62igV2WH2LmgvEYxwI0TTpslu8u9xtsX7NmETjnSbYX4txWfyLkY3EXpJNjkFDOb/2DyeUeFHalWjboeyGnTQiMxcl6NZ9GEZzmpFxDEPgL0WaB+YJ7Yt9fCkWrVu+oNde0R1r21exKMtb1CSMYiubnZqroUM3oIjo+/tzUdBXek+rDKrYw66QVr3ACGWxnTwAe4jCho6fNlN8ibTKeg58m7QUEghPVIdbmKGJZ4hH9yolxYEfrB+CgKmrbcuuYi+XyEzSQLH89k3UCgChR02iPVKmZ+Z7oC1qPKlY3gYzfiHNOmMud/AXtKZAqqS/9BtpV/jYX/xtdqLbryOVx5wTbhE5WUtNZyNVCAai3AQu8Nr1/LBXmgaa9DdjBJTyXYIMS2N2p4SU8CLHCDf/KqR0Y63avHW3JdDv0w7NRW/QpbhfHh5bEYwMJ91s/RjXiNKIah3UeXL9hhGQPPoKuQKVm4pUe1LDZwqhLkHjzbpYOxq6jT4aaj+/Ux1scw+Iw3uKDG4CxnTWplsW6IBd61PH+XYCMnNhzHqcLpui/OqbIQge7gJEbGKiXYFdo+WbUp8m6BNU+lnaHr1uE4Rt5drs8GP5W4EaZNO8desMJP3mOHLDZMqgSsZaiRTlwxExAbOLo8G65nwodaoxWS1OBUNmBqdfJIwF7O29KIjaFY3F0w+0WHwzCTO26JpgtuKu8CtZopLLBTaX55YtCzOHknnREZtTb99HMxHls7oy9hrTw1oRciprrrSHOWJSHVRF5KZw432LPjPx2AzY+/PDW2eAD0HP2CehORZIH9hIJY6v6DdEDswU2nR8LJmdBug4LT8h5ST59dL+dIJBQKca4g9IHOcLoxJz6nwR/VruBzM8dWKkiv+wKwVnw9xXEuDTAB6yRVG9g+7K4JHmZKcofYY/JiNB53PWsHaBZGCrVwv4nNmgAsNW21Wue+HWINvJFACYViE+slA7AWTjexcwpqrJUbjfR2qrYRDC1et19jaZAH+rtN7KFpsXXtdg+AI8199arJLrFBBvgAVMoW7FahuZpDm2nat2A1MbdOZ7h/hTUzjh1crc/55eeXpE3mYFxQXSekTgdcq/qwgTWU07mtm09+ikURLyM31C3VjvWYDrhWdbmJxZNbakt7/KlwOybsg47ccLDExkmbTmiZUi/MDaABHYdloOkpOx6xdivPyk5eS6ym6QY1ptqUOweRxLFkObXh4VTyb6/RY0dKfFx+kFlhr/RYAPbMj5K35ywNWwWua6TFYG34/BpWlKfNercMtSusN0Zj1NFG0Pw9gw22YSD4uOxb9RptpsXB+eaiHd86yy2pnWaQxJwUeS+WawHvjG4AhmQMzxw3wilQF7nZdQhCr+Ka7a+PS61FitEzOowmj04/iErXidtoyuAOOHWQDTQ3yuGZ14jY+UHJteslZIHtAqm0HrQbm5ssnK1e7ns0rmMwUyBAuQ0Gg5u22WwBxnbBXVRvyje7b2oW1TAAEccYAzwgaKb3Keu3WCzZHoXhOjc4OTETQ1Jf2M64W9UHm+2bWcDkO0d2XoZFBWyTAXt0QrmAEbA9PDz0ejbaiWNORsgFmndFjPnQoHox6rA4psPCU2Tn9V1e4I4MBieOC3KxgA4zgd0GTJjO9vS54xYOuTZUcMKzoOezsIeGp2+8NQpcb7cKOq5TaOYMI6SqzkTdsFY0BOsM11Wt7KA4iAtxACuYr/L2ZR98uDS6NeEUZJgCBsZpo26uXVYwA6MxsA28US4GYxclzRp78/Ylmn3RxNzgfICexGyUQR8s8pw19LkzEhxeTpF8Z5niFwJ29vaVBxqBjujoTXhAD7XhTpueb/PtSpsfVIvQJ2VtYOASY9NJu+LtuxlB8IlBh7ndi2LVd+PxElsqldgxCVaSuXBxhb2CnmqUvcTbXAT1uIBcWuc0BAS5+vi6WYANYDVHcbXC6qGza6N9sAjh0WgGwI8mYbwxrbGuAUyosrbMLxdKegz04FwF2QeLECFNvAgmMcG5gaB3hRV8iWfUqaIYm3TM9rymQqOaUtCACQ3W3XS9YOMkXEuoTVdLr8BnsFSG2/P2K+/SsEESNitMf/VC1biKQlmpa7HV4Q/bRK3W3vtqGeywqYcWW/tAo+GFA03toNjl4b/4GJNn7xtbsOUS2x114iIqCL0TppgjXAWe4VygLwFsGpw8e99YRhfb1EitSgkp5nBajUbUGOHhxxyDaeZi//tVjYx1QOwx4AXfeDFkN6FXUkwwqNnXDUZZbnEpF48IuRoK0qCxV+32vb98kOeOodyMw1FbXNwQUbLKRt/1/QCBWmW4YPIDwXc4ktwyZyLC2aB4BxhF8/aoS4ot6Wlw7uYcqcflNcSixN6DFb5vWllkqb2rpGH0HatTAWr99a91CPgJwrHEK0ERNNTpk5cX1fxvfKmzFJ+3cxWQrSYDGVesP/EPfA1HoF29gc+jsMsKMgkF8keMsHJLgW/L/C/He4Y5y9C7qAAAAABJRU5ErkJggg==\">\n","excerpt":"コード / サンプル","categories":[{"name":"Dev","slug":"Dev","path":"categories/Dev/"}],"tags":[{"name":"HTML","slug":"HTML","path":"tags/HTML/"}],"prev":{"title":"[NTT] リモートサポートサービス解約方法","path":"20120326011652.html"},"next":{"title":"[iTunes] ファイルを移動する際、再生回数やレートなどの情報を保持する方法","path":"20091209024411.html"}},{"title":"[iTunes] ファイルを移動する際、再生回数やレートなどの情報を保持する方法","path":"20091209024411.html","permalink":"https://b.0218.jp/20091209024411.html","date":"2009-12-09T02:44:11.000Z","updated":"2009-12-09T02:44:11.000Z","thumbnail":"","content":"<p>ファイルパス以外の情報をそのまま維持する。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>初めに</h2>\niTunes のバージョンが 10 の時に書いた記事だったが、バージョン 12 でも同様の方法で確認が取れたので記事をブラッシュアップした。\n\n<h2>前提</h2>\n既に iTunes で管理している音楽ファイルを外付けメディアなど別の場所に移動する。また、レートや再生回数などの情報は保持したままファイルパスを変更したい。\n\n<hr>\n\n<h2>ファイル数が少ない場合の方法</h2>\niTunes はリンク切れのファイルは選択すると「元のファイルを探しますか」という確認のダイアログが表示され、リンク切れを解消することができる。<span class=\"text-muted\">(そういうファイルは先頭に「！マーク」が付く)</span>\nファイル数が数個であれば、ダイアログに則ってリンク切れを解消するのが安全である。\n\n<p>ファイル数が膨大な場合、時間がかかるのでオススメはしないが、PC 初心者でも簡単に変更ができるのではないかと思う。</p>\n<hr>\n\n<h2>iTunes Music Library.xml に記述されたファイルパスを置換する</h2>\nPC初心者にはハードルが高いかもしれないが、こちらは iTunes のデータを編集する方法である。\n\n<h3>iTunes ライブラリの場所を確認する</h3>\nデフォルトでは以下のパスに[iTunes]のディレクトりが存在する。\n<table>\n<tbody><tr><th>Mac OS X</th><td>/Users/[ユーザ名]/Music</td></tr>\n<tr><th>Windows 7/8.1</th><td>C:\\Users\\[ユーザ名]\\Music</td></tr>\n</tbody></table>\n\n<h3>バックアップ</h3>\n以下のファイルは念のためバックアップする。\n<ul>\n<li>iTunes Library.itl</li>\n<li>iTunes Music Library.xml</li>\n</ul>\nこれから先で失敗した場合でも、上記のファイルを元に戻せば、元通りになるので編集前にバックアップしておくこと。\n\n<h3>iTunes Library.xml を編集する</h3>\n例えば、Windows なら以下のようなパスに <b>iTunes Library.xml</b> があるので編集する。\n<pre>C:\\Users\\[ユーザ名]\\Music\\iTunes\\iTunes Music Library.xml</pre>\n\n<p>以下のような記述を確認する</p>\n<pre><key>Location</key><string>file://localhost/<b>C:/Users/[ユーザ名]/Music/iTunes/iTunes%20Media/</b>hoge.mp3</string></pre>\n\n<p>以下のパスのようにファイルを移動する場合は、ファイル名までのパスを置換すれば良い。</p>\n<pre>C:/Users/[ユーザ名]/Music/iTunes/iTunes%20Media/\n↓\nD:/Music/</pre>\n\n<p>ちなみに、この置換前のパスは iTunes のデフォルトなのであしからず。</p>\n<h4>file://localhost/</h4>\n昔の iTunes にはなかったような覚えがあるので、これについては環境によって対応すること。\n(元々ない場合はつけない、ある場合はつける)\n\n<h3>iTunes Library.itl を削除する</h3>\nこのライブラリを元に <b>iTunes Music Library.xml</b> は生成されるので、<b>iTunes Music Library.xml</b> を書き換えても <b>iTunes Library.itl</b> がそのまま残っていると、 iTunes 起動時に元に戻ってしまうのを防ぐため、削除しておく。\n\n<h3>ライブラリをインポートする</h3>\niTunes を起動し、<span style=\"background-color: #eeeeee;\">[ファイル] -&gt; [ライブラリ] -&gt; [プレイリストを読み込み] (Windows は [プレイリストをインポート])</span>の手順で、編集した <b>iTunes Music Library.xml</b> をインポートする。\n楽曲が再生できれば成功。\n\n<p>ただし、<strong>追加日はインポートした時間になる</strong>ので注意。</p>\n","excerpt":"初めに / 前提 / ファイル数が少ない場合の方法 / iTunes Music Library.xml に記述されたファイルパスを置換する","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"iTunes","slug":"iTunes","path":"tags/iTunes/"}],"prev":{"title":"[HTML] title属性内などで改行する方法","path":"20100501032903.html"},"next":{"title":"劇場版 名探偵コナンの犯人と動機","path":"20090126083044.html"}},{"title":"劇場版 名探偵コナンの犯人と動機","path":"20090126083044.html","permalink":"https://b.0218.jp/20090126083044.html","date":"2009-01-26T08:30:44.000Z","updated":"2017-04-10T01:55:27.000Z","thumbnail":"","content":"<p>久々に劇場版を見漁ってました。<br>そして、色々と思ったのが犯人の動機です。</p>\n<p>犯罪の動機って、実際些細なことなんでしょうけど、<br>劇場版ならもっと感情移入できるような動機の方が私は好ましいです。</p>\n<p>と、言うことで。<span class=\"muted\">(どういうことだ)</span><br>とりあえず、軽く劇場版の犯人とその動機をまとめてみました。</p>\n\n<div class=\"more js-separate\"></div>\n\n<h2>「劇場版 名探偵コナン」の<strong>犯人と動機</strong></h2>\n\n<table class=\"table table-bordered table-movie-list\" style=\"\">\n<thead><tr><th></th><th></th>\n<th>犯人</th>\n<th>動機</th></tr>\n</thead>\n<tbody>\n<tr>\n<th>第1作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E6%99%82%E8%A8%88%E3%81%98%E3%81%8B%E3%81%91%E3%81%AE%E6%91%A9%E5%A4%A9%E6%A5%BC\">時計じかけの摩天楼</a></th>\n<td>森谷帝二</td>\n<td>やっぱ若いころに作った作品は駄目だな～。爆破するわ。</td>\n</tr>\n<tr>\n<th>第2作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_14%E7%95%AA%E7%9B%AE%E3%81%AE%E6%A8%99%E7%9A%84\">14番目の標的</a></th>\n<td>沢木公平</td>\n<td>ソムリエ馬鹿にするな。お前らの所為で(色々な仕打ちで)味覚障害になった！殺す！</td>\n</tr>\n<tr>\n<th>第3作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E4%B8%96%E7%B4%80%E6%9C%AB%E3%81%AE%E9%AD%94%E8%A1%93%E5%B8%AB\">世紀末の魔術師</a></th>\n<td>浦思青蘭</td>\n<td>先祖を馬鹿にするな、殺す！あとロマノフ王朝の財宝欲しい。</td>\n</tr>\n<tr>\n<th>第4作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E7%9E%B3%E3%81%AE%E4%B8%AD%E3%81%AE%E6%9A%97%E6%AE%BA%E8%80%85\">瞳の中の暗殺者</a></th>\n<td>風戸京介</td>\n<td>わざと商売道具(黄金の左腕)ダメにしたな、殺す / ←再捜査すんな殺す</td>\n</tr>\n<tr>\n<th>第5作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E5%A4%A9%E5%9B%BD%E3%81%B8%E3%81%AE%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E3%83%80%E3%82%A6%E3%83%B3\">天国へのカウントダウン</a></th>\n<td>如月峰水</td>\n<td>せっかく富士山見える位置に家買ったのに目の前にビル建てやがって…殺す。</td>\n</tr>\n<tr>\n<th>第6作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E3%83%99%E3%82%A4%E3%82%AB%E3%83%BC%E8%A1%97%E3%81%AE%E4%BA%A1%E9%9C%8A\">ベイカー街の亡霊</a></th>\n<td>トマス・シンドラー</td>\n<td>「切り裂きジャック」の子孫だとバレたくない…殺す。</td>\n</tr>\n<tr>\n<th>第7作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E8%BF%B7%E5%AE%AE%E3%81%AE%E5%8D%81%E5%AD%97%E8%B7%AF\">迷宮の十字路</a></th>\n<td>西条大河</td>\n<td>「義経になりたかったんや！」「もう道場として使われへんようになるんや！」</td>\n</tr>\n<tr>\n<th>第8作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E9%8A%80%E7%BF%BC%E3%81%AE%E5%A5%87%E8%A1%93%E5%B8%AB\">銀翼の奇術師</a></th>\n<td>酒井なつき</td>\n<td>人の夢つぶしがやって…殺す。\n(パイロットが巻き添えくって飛行機が落ちる)</td>\n</tr>\n<tr>\n<th rowspan=\"2\">第9作</th>\n<th rowspan=\"2\"><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E6%B0%B4%E5%B9%B3%E7%B7%9A%E4%B8%8A%E3%81%AE%E9%99%B0%E8%AC%80\">水平線上の陰謀</a></th>\n<td>日下ひろなり</td>\n<td>親の復讐</td>\n</tr>\n<tr>\n<td>秋吉美波子</td>\n<td>親の復讐　→　そして爆破へ</td>\n</tr>\n<tr>\n<th rowspan=\"2\">第10作</th>\n<th rowspan=\"2\"><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E6%8E%A2%E5%81%B5%E3%81%9F%E3%81%A1%E3%81%AE%E9%8E%AE%E9%AD%82%E6%AD%8C\">探偵たちの鎮魂歌</a></th>\n<td>伊東末彦</td>\n<td>西尾ふざけんな！殺す！←殺せてない</td>\n</tr>\n<tr>\n<td>清水麗子</td>\n<td>西尾と伊東うぜぇ、殺しておくか。</td>\n</tr>\n<tr>\n<th>第11作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E7%B4%BA%E7%A2%A7%E3%81%AE%E6%A3%BA\">紺碧の棺</a></th>\n<td>岩永城児</td>\n<td>財宝欲しいなー。邪魔な奴は殺すー。</td>\n</tr>\n<tr>\n<th>第12作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E6%88%A6%E6%85%84%E3%81%AE%E6%A5%BD%E8%AD%9C\">戦慄の楽譜</a></th>\n<td>譜和匠</td>\n<td>息子殺したやつ殺す / あ゛?まだまだ現役なんだけど? ←実際無理だった</td>\n</tr>\n<tr>\n<th>第13作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E6%BC%86%E9%BB%92%E3%81%AE%E8%BF%BD%E8%B7%A1%E8%80%85\">漆黒の追跡者</a></th>\n<td>本上和樹</td>\n<td>火事の時に妹をエレベータから降ろしたな！(勘違い)殺す！\nあと、そこに連れて行った彼氏も同罪だ！</td>\n</tr>\n<tr>\n<th>第14作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E5%A4%A9%E7%A9%BA%E3%81%AE%E9%9B%A3%E7%A0%B4%E8%88%B9\">天空の難破船</a></th>\n<td>藤岡隆道</td>\n<td>仏像欲しい！仏像欲しい！仏像欲しい！仏像欲しい！仏像欲しい！</td>\n</tr>\n<tr>\n<th>第15作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E6%B2%88%E9%BB%99%E3%81%AE15%E5%88%86\">沈黙の15分</a></th>\n<td>武藤岳彦</td>\n<td>ガキに殺人の証拠を見られた…殺す！　あれ、でも昏睡状態になったからいっか…\n(10年後)目を覚ました！殺す！</td>\n</tr>\n<tr>\n<th>第16作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_11%E4%BA%BA%E7%9B%AE%E3%81%AE%E3%82%B9%E3%83%88%E3%83%A9%E3%82%A4%E3%82%AB%E3%83%BC\">11人目のストライカー</a></th>\n<td>中岡一雅</td>\n<td>知史(仲の良かった子供)を乗せた救急車を毛利小五郎が停めた！？スタジアム爆破してやる！！</td>\n</tr>\n<tr>\n<th rowspan=\"2\">第17作</th>\n<th rowspan=\"2\"><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E7%B5%B6%E6%B5%B7%E3%81%AE%E6%8E%A2%E5%81%B5\">絶海の探偵</a></th>\n<td>倉田正明</td>\n<td>怪しげな被害者(内通者)を追いかけたら崖から転落(事故)した。→隠ぺい工作</td>\n</tr>\n<tr>\n<td>勇気の父</td>\n<td>通称：エックス(某国のスパイ)　(蘭を海に突き落とす)</td>\n</tr>\n<tr>\n<th>第18作</th>\n<th><a href=\"http://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E7%95%B0%E6%AC%A1%E5%85%83%E3%81%AE%E7%8B%99%E6%92%83%E6%89%8B\">異次元の狙撃手</a></th>\n<td>ケビン・ヨシノ</td>\n<td>恩人に変わって復讐をするため</td>\n</tr>\n<tr>\n<th>第19作</th>\n<th><a href=\"https://ja.wikipedia.org/wiki/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3_%E6%A5%AD%E7%81%AB%E3%81%AE%E5%90%91%E6%97%A5%E8%91%B5\">業火の向日葵</a></th>\n<td>宮台 なつみ</td>\n<td>この「ひまわり」はマジ無いわ…</td>\n</tr>\n<tr><th>第20作</th>\n<th><a href=\"https://ja.wikipedia.org/wiki/名探偵コナン_純黒の悪夢\">純黒の悪夢</a></th>\n<td>-</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n\n<p class=\"hide\">こうやって見ると、どうしようもない動機の数々ですね(笑)\nしかも、近年になるにつれて酷いのは気せいでしょうか…。\nやはり、不評というか好評を博さない原因は「動機」にもあるのかもしれないですね…。\n『14番目の標的』で、目暮警部に「そんなことで」と言わしめた、沢木さんの動機って他の劇場版の犯人の動機と比べたら、案外まともというか、まだマシ(って言っちゃダメだけど)な気もしますよ(ﾟｰﾟ;A\nアクションに重点を置くなら殺人は別にいらない気もするし。\n殺人のないシリーズもあるんだから、無理に人は殺さなくてもいいとは思うんですけどね。どんなトリックよりもストーリーが良ければ良いと思うんですよね。\nもうキャラは確立してるわけですし…。\nもっと特定のキャラにスポットを当てるとか。</p>\n\n<h2>2chの書き込みより引用</h2>\n<blockquote>110: <span style=\"color: green;\">以下、名無しにかわりましてVIPがお送りします</span> 2013/12/26 10:06:52 ID:GIfiTQjZ0\n時計：若いころの作品が左右対称じゃなくて気に入らなかったから\n１４：ソムリエを馬鹿にされたから\n世紀末：ラスプーチン馬鹿にされたから\n暗殺者：外科医の道を閉ざされたから\n天国：富士山が真っ二つにされたから\nベイカ：ー：切り裂きジャックの子孫とばれたくなかったから\n十字路：義経になりたかったから\n銀翼：こき使われたから\n水平線：親の仇\n鎮魂歌：愛\n他は誰か埋めて\n\n<p>120: <span style=\"color: green;\">以下、名無しにかわりまして VIP がお送りします</span> 2013/12/26 10:13:26 ID:vN9etXAp0<br><span style=\"color: mediumblue;\">&gt;&gt;110</span><br>十字路って盗品の分前を独り占めしたかったとかじゃなかったっけ</p>\n<p>126: <span style=\"color: green;\">以下、名無しにかわりまして VIP がお送りします</span> 2013/12/26 10:17:14 ID:+njVKtHh0<br><span style=\"color: mediumblue;\">&gt;&gt;110</span><br>世紀末：お宝欲しさ<br>銀翼：出世の道を絶たされたから<br>紺碧：お宝欲しさ<br>戦慄：裏切られたと勘違いして<br>漆黒：彼女が氏んだ原因に激おこ<br>天空：仏像盗むため<br>沈黙：金強盗独り占めだったり目撃者だったり<br>11 人目：子供が氏んだ理由を勘違いして<br>絶海：スパイ＆なんか勝手に氏んじゃったけど怖くて</p>\n<p>132: <span style=\"color: green;\">以下、名無しにかわりまして VIP がお送りします</span> 2013/12/26 10:26:14 ID:PP4arqVJ0<br><span style=\"color: mediumblue;\">&gt;&gt;126</span><br>漆黒は彼女じゃなくて妹</p></blockquote><p></p>\n","excerpt":"「劇場版 名探偵コナン」の犯人と動機 / 2chの書き込みより引用","categories":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"categories/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"}],"tags":[{"name":"名探偵コナン","slug":"名探偵コナン","path":"tags/%E5%90%8D%E6%8E%A2%E5%81%B5%E3%82%B3%E3%83%8A%E3%83%B3/"},{"name":"劇場版","slug":"劇場版","path":"tags/%E5%8A%87%E5%A0%B4%E7%89%88/"},{"name":"考察","slug":"考察","path":"tags/%E8%80%83%E5%AF%9F/"}],"prev":{"title":"[iTunes] ファイルを移動する際、再生回数やレートなどの情報を保持する方法","path":"20091209024411.html"},"next":{"title":"[Windows Vista] Visual Style","path":"20090123151240.html"}},{"title":"[Windows Vista] Visual Style","path":"20090123151240.html","permalink":"https://b.0218.jp/20090123151240.html","date":"2009-01-23T15:12:40.000Z","updated":"2014-10-20T00:43:43.000Z","thumbnail":"","content":"<p><strong>Windows Vista</strong><br>Vista は XP の Visual Style とは違うので、先の記事で紹介した方法では、Visual Style は適応されません。</p>\n<p>Vista も XP 同様、<strong>uxtheme.dll</strong>などのファイルを置き換えることで Visual Style を適応できるようにすることができますが、これもまた、先と同じ理由で私はお勧めはしません。</p>\n<p>海外のソフトで、Vista の Visual Style を変更する「<a href=\"http://www.google.co.jp/search?q=VistaGlazz\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">VistaGlazz</a>」や「<a href=\"http://www.google.co.jp/search?q=Vista+Visual+Master\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">Vista Visual Master</a>」というソフトがあります。<br>以前使ってみたのですが、それよりも良いソフトがあったので、そちらを紹介します。</p>\n<p><strong>StyleSelector：</strong><br>先の Styler 同様、日本人の方が開発された Visual Style を変更するソフトです。</p>\n<p>他にも、通常右側にあるウインドウのキャプションボタン(最小化/最大化/閉じる)を<br>左側に配置するソフトウェア(leftsider)や Vista の”デザインの設定”よりも多くの部分のフォントを変更することができるフォント変更ツール(FontSelector)などがあります。</p>\n<p>サイトは hsiw software</p>\n<p><strong>Vista 用の Visual Style の入手先：</strong><br>XP 用の Visual Style とは違うので気を付けてください。</p>\n<p><strong>海外：</strong><br><a href=\"http://browse.deviantart.com/customization/skins/vistautil/visstyles/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">deviantART: Visual Styles Gallery(Vista)</a><br>カテゴリから Visual Style 以外にもガジェットなどを探すことができます。</p>\n<p>自己責任でお願いします。</p>\n","excerpt":"","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Visual Style","slug":"Visual-Style","path":"tags/Visual-Style/"},{"name":"Windows Vista","slug":"Windows-Vista","path":"tags/Windows-Vista/"}],"prev":{"title":"劇場版 名探偵コナンの犯人と動機","path":"20090126083044.html"},"next":{"title":"[Windows XP] Visual Style","path":"20090123143650.html"}},{"title":"[Windows XP] Visual Style","path":"20090123143650.html","permalink":"https://b.0218.jp/20090123143650.html","date":"2009-01-23T14:36:50.000Z","updated":"2014-10-20T00:43:52.000Z","thumbnail":"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/intermediary/f/36981e54-029e-49fa-b457-bdaa99cb263f/d6xrh1-6f2cc1a7-5c62-4c29-a703-a3e49e4672a5.jpg","content":"<p><b><big>Windows XP</big></b><br><a href=\"http://hiro-style.deviantart.com/art/2004-10-23-11652949\"><img src=\"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/intermediary/f/36981e54-029e-49fa-b457-bdaa99cb263f/d6xrh1-6f2cc1a7-5c62-4c29-a703-a3e49e4672a5.jpg\" alt=\"\"></a><br>上の画像は、私が以前使っていた Windows XP の画像です。(2004 年 10 月 23 日)<br>一応、マック風を意識してます(ﾟｰﾟ;A<br><a href=\"http://hiro-style.deviantart.com/gallery/\">2005/10/14 までの XP のスクリーンショットは<b>こちら</b></a></p>\n<p>XP はパッチやソフトを使うことによって Visual Style を変更することができます。<br>当時はパッチを当ててなど色々とメンドクサイ設定をしなければならなかったり、<br>簡単に Visual Style を変更するソフトは有料だったりと、<br>あまり敷居の低いものではなかったのですが、<br>今は色々と便利なソフトが出ているようです。</p>\n<p><b>uxtheme.dll</b>というファイルをパッチ当てをするのは、<br>不具合が出たりと、初心者には危険なので飛ばします。<br>(無印や SP1,SP2 で色々とややこしいので)<br>パッチを当てれば、画面のプロパティのデザインでソフトを起動することなく変更することができます。<br>ソフトを使っての変更と大差ないので、そこら辺は自己責任で。</p>\n<p>軽く紹介します。<br>詳しく知りたい方は検索してください(笑)</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<p><strong>Styler：</strong><br>この手のソフトは海外のソフトが多く、<br>日本語の環境では不具合があったりするのですが、<br>Styler というソフトは日本人の方が開発したものです。(もちろん日本語)<br>私が XP を使っていたころはシェアだったのですが、<br>開発が終了し、フリーになったようです。</p>\n<p>Styler は、Visual Style の変更だけではなく、<br>ツールバーも変更することができます。<br>(ツールバーは別途スキンが必要になります)</p>\n<p>ダウンロード：<br><a href=\"http://an3b9.hp.infoseek.co.jp/\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">http://an3b9.hp.infoseek.co.jp/</a><br><a href=\"http://www7.plala.or.jp/ta2027/dl/Styler1401.zip\" target=\"_blank\" rel=\"noopener external nofollow noreferrer\">http://www7.plala.or.jp/ta2027/dl/Styler1401.zip</a></p>\n<p><strong>XP 用の Visual Style の入手先：</strong><br>簡単に紹介します。ググった方が早いですし。</p>\n<p><b>国内：</b><br><a href=\"http://aoq.blog30.fc2.com/\">RESOURCE</a><br>上記の Styler のカテゴリからツールバーの同梱された Visual Style を探すことができます。他にも、カスタマイズツールのスキンやアイコン、壁紙などが紹介されています。(紹介先は以下の deviantART が多いです)</p>\n<p><b>海外：</b><br><a href=\"http://browse.deviantart.com/customization/skins/windows/visualstyle/\">deviantART: Visual Styles Gallery</a><br>カテゴリから Visual Style 以外にも Styler など様々なスキンを探すことができます。</p>\n<p>自己責任でお願いします。&lt;(_ _)&gt;</p>\n","excerpt":"","categories":[{"name":"Windows","slug":"Windows","path":"categories/Windows/"}],"tags":[{"name":"Visual Style","slug":"Visual-Style","path":"tags/Visual-Style/"},{"name":"Windows XP","slug":"Windows-XP","path":"tags/Windows-XP/"}],"prev":{"title":"[Windows Vista] Visual Style","path":"20090123151240.html"},"next":{"title":"中国で人気の顔文字 冏","path":"20090116190448.html"}},{"title":"中国で人気の顔文字 冏","path":"20090116190448.html","permalink":"https://b.0218.jp/20090116190448.html","date":"2009-01-16T19:04:48.000Z","updated":"2009-01-16T19:04:48.000Z","thumbnail":"","content":"<blockquote><b>人気の顔文字「冏」は“落ち込んだ状態”　冏冏・・</b>\n　ここ最近、中国のウェブサイトで「冏」の文字に出会う確立が非常に高い。発音は「jiong」。ほとんど使われない字だったが、形が困った顔に見えることから、落ち込んだ状態を表す顔文字として急速に普及している。\n\n<p>顔文字の元祖といえば日本……と思っていたが、1 文字ですべてを表現できるだけ「冏」のほうが便利かもしれない。最近では地元紙でも用例の紹介を見かけることも多く、ネット限定だった表現が少しずつ市民権を得始めているようだ。本格的にネット社会に移行しつつあることの表れかもしれない。</p>\n<p>試しに調べてみたら「きょう、けい」の読みで日本語にも「冏」は存在することが判明。何のメリットもないが、日本でも流行らせようと密かに計画中だ。賛同してくれる方はぜひ。</p>\n<p style=\"text-align: right;\"><a href=\"http://headlines.yahoo.co.jp/hl?a=20090116-00000104-nna-int\">参照元</a></p></blockquote>\n\n<p>気になったのでピックアップ。<br>「うわぁ、やっちゃった…冏」<br>こんな感じで使うのかしら?<br>…正直、日本では流行らないだろうなぁ。<br>…(‘A`)</p>\n","excerpt":"","categories":[{"name":"雑記","slug":"雑記","path":"categories/%E9%9B%91%E8%A8%98/"}],"tags":[{"name":"ニュース","slug":"ニュース","path":"tags/%E3%83%8B%E3%83%A5%E3%83%BC%E3%82%B9/"}],"prev":{"title":"[Windows XP] Visual Style","path":"20090123143650.html"},"next":{"title":"[iTunes] 「パーフェクト」イコライザ設定","path":"20061101025558.html"}},{"title":"[iTunes] 「パーフェクト」イコライザ設定","path":"20061101025558.html","permalink":"https://b.0218.jp/20061101025558.html","date":"2006-11-01T02:55:58.000Z","updated":"2006-11-01T02:55:58.000Z","thumbnail":"https://hiro0218.github.io/blog/images/Perfect-Equalizer.jpg","content":"<h2>概要</h2><p>アコースティックやポップス、R&amp;B など音楽によって様々な設定ができる「イコライザ(EQ)」<br>iTunes において”パーフェクト”な設定があるのはご存知でしょうか。<br>その名も「iTunes パーフェクトイコライザ セッティング」が以下です。<br>(ちなみに iTunes じゃなくてもパーフェクトに使えます)</p>\n\n<div class=\"more js-separate\"></div>\n\n\n<h2>方法</h2><p>『<a href=\"http://hints.macworld.com/article.php?story=20040902070807431\" rel=\"nofollow\">A ‘perfect’ iTunes equalizer setting</a>』より</p>\n<figure>\n  <img alt=\"パーフェクトイコライザ\" src=\"https://hiro0218.github.io/blog/images/Perfect-Equalizer.jpg\">\n</figure>\n\n<pre><code>db +3, +6, +9, +7, +6, +5, +7, +9, +11, +8 db</code></pre>\n<p>イコライザの設定を画像と同じように調節をする。</p>\n<h2>iTunes イコライザを使用する手順</h2><ol>\n<li>iTunes で、「表示」メニュー -&gt;「イコライザを表示」を選択</li>\n<li>スライダーをドラッグして周波数設定を調整</li>\n<li>「プリセットを作成」を選択してプリセットに名前を付ける</li>\n</ol>\n","excerpt":"概要 / 方法 / iTunes イコライザを使用する手順","categories":[{"name":"ソフトウェア","slug":"ソフトウェア","path":"categories/%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2/"}],"tags":[{"name":"iTunes","slug":"iTunes","path":"tags/iTunes/"},{"name":"イコライザ","slug":"イコライザ","path":"tags/%E3%82%A4%E3%82%B3%E3%83%A9%E3%82%A4%E3%82%B6/"}],"prev":{"title":"中国で人気の顔文字 冏","path":"20090116190448.html"},"next":{}}]